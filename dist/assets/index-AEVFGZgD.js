var FA=Object.defineProperty;var $A=(e,t,r)=>t in e?FA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var qe=(e,t,r)=>$A(e,typeof t!="symbol"?t+"":t,r);function UA(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hk={exports:{}},gv={},Yk={exports:{}},jt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pp=Symbol.for("react.element"),zA=Symbol.for("react.portal"),BA=Symbol.for("react.fragment"),WA=Symbol.for("react.strict_mode"),HA=Symbol.for("react.profiler"),YA=Symbol.for("react.provider"),VA=Symbol.for("react.context"),qA=Symbol.for("react.forward_ref"),GA=Symbol.for("react.suspense"),KA=Symbol.for("react.memo"),XA=Symbol.for("react.lazy"),rj=Symbol.iterator;function QA(e){return e===null||typeof e!="object"?null:(e=rj&&e[rj]||e["@@iterator"],typeof e=="function"?e:null)}var Vk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qk=Object.assign,Gk={};function Id(e,t,r){this.props=e,this.context=t,this.refs=Gk,this.updater=r||Vk}Id.prototype.isReactComponent={};Id.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Id.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Kk(){}Kk.prototype=Id.prototype;function z2(e,t,r){this.props=e,this.context=t,this.refs=Gk,this.updater=r||Vk}var B2=z2.prototype=new Kk;B2.constructor=z2;qk(B2,Id.prototype);B2.isPureReactComponent=!0;var nj=Array.isArray,Xk=Object.prototype.hasOwnProperty,W2={current:null},Qk={key:!0,ref:!0,__self:!0,__source:!0};function Jk(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Xk.call(t,n)&&!Qk.hasOwnProperty(n)&&(a[n]=t[n]);var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)a[n]===void 0&&(a[n]=c[n]);return{$$typeof:pp,type:e,key:s,ref:o,props:a,_owner:W2.current}}function JA(e,t){return{$$typeof:pp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function H2(e){return typeof e=="object"&&e!==null&&e.$$typeof===pp}function ZA(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var aj=/\/+/g;function Oy(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ZA(""+e.key):t.toString(36)}function j0(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case pp:case zA:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Oy(o,0):n,nj(a)?(r="",e!=null&&(r=e.replace(aj,"$&/")+"/"),j0(a,t,r,"",function(u){return u})):a!=null&&(H2(a)&&(a=JA(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(aj,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",nj(e))for(var c=0;c<e.length;c++){s=e[c];var l=n+Oy(s,c);o+=j0(s,t,r,l,a)}else if(l=QA(e),typeof l=="function")for(e=l.call(e),c=0;!(s=e.next()).done;)s=s.value,l=n+Oy(s,c++),o+=j0(s,t,r,l,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Tm(e,t,r){if(e==null)return e;var n=[],a=0;return j0(e,n,"","",function(s){return t.call(r,s,a++)}),n}function eL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ea={current:null},S0={transition:null},tL={ReactCurrentDispatcher:ea,ReactCurrentBatchConfig:S0,ReactCurrentOwner:W2};function Zk(){throw Error("act(...) is not supported in production builds of React.")}jt.Children={map:Tm,forEach:function(e,t,r){Tm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tm(e,function(){t++}),t},toArray:function(e){return Tm(e,function(t){return t})||[]},only:function(e){if(!H2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};jt.Component=Id;jt.Fragment=BA;jt.Profiler=HA;jt.PureComponent=z2;jt.StrictMode=WA;jt.Suspense=GA;jt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tL;jt.act=Zk;jt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qk({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=W2.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)Xk.call(t,l)&&!Qk.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:pp,type:e.type,key:a,ref:s,props:n,_owner:o}};jt.createContext=function(e){return e={$$typeof:VA,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:YA,_context:e},e.Consumer=e};jt.createElement=Jk;jt.createFactory=function(e){var t=Jk.bind(null,e);return t.type=e,t};jt.createRef=function(){return{current:null}};jt.forwardRef=function(e){return{$$typeof:qA,render:e}};jt.isValidElement=H2;jt.lazy=function(e){return{$$typeof:XA,_payload:{_status:-1,_result:e},_init:eL}};jt.memo=function(e,t){return{$$typeof:KA,type:e,compare:t===void 0?null:t}};jt.startTransition=function(e){var t=S0.transition;S0.transition={};try{e()}finally{S0.transition=t}};jt.unstable_act=Zk;jt.useCallback=function(e,t){return ea.current.useCallback(e,t)};jt.useContext=function(e){return ea.current.useContext(e)};jt.useDebugValue=function(){};jt.useDeferredValue=function(e){return ea.current.useDeferredValue(e)};jt.useEffect=function(e,t){return ea.current.useEffect(e,t)};jt.useId=function(){return ea.current.useId()};jt.useImperativeHandle=function(e,t,r){return ea.current.useImperativeHandle(e,t,r)};jt.useInsertionEffect=function(e,t){return ea.current.useInsertionEffect(e,t)};jt.useLayoutEffect=function(e,t){return ea.current.useLayoutEffect(e,t)};jt.useMemo=function(e,t){return ea.current.useMemo(e,t)};jt.useReducer=function(e,t,r){return ea.current.useReducer(e,t,r)};jt.useRef=function(e){return ea.current.useRef(e)};jt.useState=function(e){return ea.current.useState(e)};jt.useSyncExternalStore=function(e,t,r){return ea.current.useSyncExternalStore(e,t,r)};jt.useTransition=function(){return ea.current.useTransition()};jt.version="18.3.1";Yk.exports=jt;var O=Yk.exports;const re=wa(O),sg=UA({__proto__:null,default:re},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rL=O,nL=Symbol.for("react.element"),aL=Symbol.for("react.fragment"),sL=Object.prototype.hasOwnProperty,iL=rL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oL={key:!0,ref:!0,__self:!0,__source:!0};function eC(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)sL.call(t,n)&&!oL.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:nL,type:e,key:s,ref:o,props:a,_owner:iL.current}}gv.Fragment=aL;gv.jsx=eC;gv.jsxs=eC;Hk.exports=gv;var i=Hk.exports,tC={exports:{}},Ra={},rC={exports:{}},nC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,ae){var le=V.length;V.push(ae);e:for(;0<le;){var oe=le-1>>>1,M=V[oe];if(0<a(M,ae))V[oe]=ae,V[le]=M,le=oe;else break e}}function r(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var ae=V[0],le=V.pop();if(le!==ae){V[0]=le;e:for(var oe=0,M=V.length,Y=M>>>1;oe<Y;){var Q=2*(oe+1)-1,G=V[Q],$=Q+1,X=V[$];if(0>a(G,le))$<M&&0>a(X,G)?(V[oe]=X,V[$]=le,oe=$):(V[oe]=G,V[Q]=le,oe=Q);else if($<M&&0>a(X,le))V[oe]=X,V[$]=le,oe=$;else break e}}return ae}function a(V,ae){var le=V.sortIndex-ae.sortIndex;return le!==0?le:V.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var l=[],u=[],d=1,f=null,p=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(V){for(var ae=r(u);ae!==null;){if(ae.callback===null)n(u);else if(ae.startTime<=V)n(u),ae.sortIndex=ae.expirationTime,t(l,ae);else break;ae=r(u)}}function j(V){if(v=!1,S(V),!y)if(r(l)!==null)y=!0,z(P);else{var ae=r(u);ae!==null&&H(j,ae.startTime-V)}}function P(V,ae){y=!1,v&&(v=!1,g(D),D=-1),m=!0;var le=p;try{for(S(ae),f=r(l);f!==null&&(!(f.expirationTime>ae)||V&&!E());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,p=f.priorityLevel;var M=oe(f.expirationTime<=ae);ae=e.unstable_now(),typeof M=="function"?f.callback=M:f===r(l)&&n(l),S(ae)}else n(l);f=r(l)}if(f!==null)var Y=!0;else{var Q=r(u);Q!==null&&H(j,Q.startTime-ae),Y=!1}return Y}finally{f=null,p=le,m=!1}}var I=!1,k=null,D=-1,R=5,A=-1;function E(){return!(e.unstable_now()-A<R)}function _(){if(k!==null){var V=e.unstable_now();A=V;var ae=!0;try{ae=k(!0,V)}finally{ae?F():(I=!1,k=null)}}else I=!1}var F;if(typeof x=="function")F=function(){x(_)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,U=L.port2;L.port1.onmessage=_,F=function(){U.postMessage(null)}}else F=function(){w(_,0)};function z(V){k=V,I||(I=!0,F())}function H(V,ae){D=w(function(){V(e.unstable_now())},ae)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,z(P))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(V){switch(p){case 1:case 2:case 3:var ae=3;break;default:ae=p}var le=p;p=ae;try{return V()}finally{p=le}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,ae){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var le=p;p=V;try{return ae()}finally{p=le}},e.unstable_scheduleCallback=function(V,ae,le){var oe=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?oe+le:oe):le=oe,V){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,V={id:d++,callback:ae,priorityLevel:V,startTime:le,expirationTime:M,sortIndex:-1},le>oe?(V.sortIndex=le,t(u,V),r(l)===null&&V===r(u)&&(v?(g(D),D=-1):v=!0,H(j,le-oe))):(V.sortIndex=M,t(l,V),y||m||(y=!0,z(P))),V},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(V){var ae=p;return function(){var le=p;p=ae;try{return V.apply(this,arguments)}finally{p=le}}}})(nC);rC.exports=nC;var lL=rC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cL=O,Oa=lL;function Ee(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aC=new Set,kh={};function zc(e,t){pd(e,t),pd(e+"Capture",t)}function pd(e,t){for(kh[e]=t,e=0;e<t.length;e++)aC.add(t[e])}var bo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J1=Object.prototype.hasOwnProperty,uL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sj={},ij={};function dL(e){return J1.call(ij,e)?!0:J1.call(sj,e)?!1:uL.test(e)?ij[e]=!0:(sj[e]=!0,!1)}function fL(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hL(e,t,r,n){if(t===null||typeof t>"u"||fL(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ta(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){kn[e]=new ta(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];kn[t]=new ta(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){kn[e]=new ta(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){kn[e]=new ta(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){kn[e]=new ta(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){kn[e]=new ta(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){kn[e]=new ta(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){kn[e]=new ta(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){kn[e]=new ta(e,5,!1,e.toLowerCase(),null,!1,!1)});var Y2=/[\-:]([a-z])/g;function V2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Y2,V2);kn[t]=new ta(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Y2,V2);kn[t]=new ta(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Y2,V2);kn[t]=new ta(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){kn[e]=new ta(e,1,!1,e.toLowerCase(),null,!1,!1)});kn.xlinkHref=new ta("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){kn[e]=new ta(e,1,!1,e.toLowerCase(),null,!0,!0)});function q2(e,t,r,n){var a=kn.hasOwnProperty(t)?kn[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hL(t,r,a,n)&&(r=null),n||a===null?dL(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Po=cL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Om=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),Fu=Symbol.for("react.fragment"),G2=Symbol.for("react.strict_mode"),Z1=Symbol.for("react.profiler"),sC=Symbol.for("react.provider"),iC=Symbol.for("react.context"),K2=Symbol.for("react.forward_ref"),eb=Symbol.for("react.suspense"),tb=Symbol.for("react.suspense_list"),X2=Symbol.for("react.memo"),rl=Symbol.for("react.lazy"),oC=Symbol.for("react.offscreen"),oj=Symbol.iterator;function Tf(e){return e===null||typeof e!="object"?null:(e=oj&&e[oj]||e["@@iterator"],typeof e=="function"?e:null)}var jr=Object.assign,Iy;function ah(e){if(Iy===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Iy=t&&t[1]||""}return`
`+Iy+e}var Ry=!1;function Fy(e,t){if(!e||Ry)return"";Ry=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,c=s.length-1;1<=o&&0<=c&&a[o]!==s[c];)c--;for(;1<=o&&0<=c;o--,c--)if(a[o]!==s[c]){if(o!==1||c!==1)do if(o--,c--,0>c||a[o]!==s[c]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=c);break}}}finally{Ry=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ah(e):""}function pL(e){switch(e.tag){case 5:return ah(e.type);case 16:return ah("Lazy");case 13:return ah("Suspense");case 19:return ah("SuspenseList");case 0:case 2:case 15:return e=Fy(e.type,!1),e;case 11:return e=Fy(e.type.render,!1),e;case 1:return e=Fy(e.type,!0),e;default:return""}}function rb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Fu:return"Fragment";case Ru:return"Portal";case Z1:return"Profiler";case G2:return"StrictMode";case eb:return"Suspense";case tb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iC:return(e.displayName||"Context")+".Consumer";case sC:return(e._context.displayName||"Context")+".Provider";case K2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X2:return t=e.displayName||null,t!==null?t:rb(e.type)||"Memo";case rl:t=e._payload,e=e._init;try{return rb(e(t))}catch{}}return null}function mL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rb(t);case 8:return t===G2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function lC(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gL(e){var t=lC(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Im(e){e._valueTracker||(e._valueTracker=gL(e))}function cC(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=lC(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ig(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function nb(e,t){var r=t.checked;return jr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function uC(e,t){t=t.checked,t!=null&&q2(e,"checked",t,!1)}function ab(e,t){uC(e,t);var r=jl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?sb(e,t.type,r):t.hasOwnProperty("defaultValue")&&sb(e,t.type,jl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sb(e,t,r){(t!=="number"||ig(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sh=Array.isArray;function Qu(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jl(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ib(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ee(91));return jr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Ee(92));if(sh(r)){if(1<r.length)throw Error(Ee(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jl(r)}}function dC(e,t){var r=jl(t.value),n=jl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function fC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ob(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?fC(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Rm,hC=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Rm=Rm||document.createElement("div"),Rm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Rm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ch(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vL=["Webkit","ms","Moz","O"];Object.keys(dh).forEach(function(e){vL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dh[t]=dh[e]})});function pC(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dh.hasOwnProperty(e)&&dh[e]?(""+t).trim():t+"px"}function mC(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=pC(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var xL=jr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lb(e,t){if(t){if(xL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ee(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ee(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ee(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ee(62))}}function cb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ub=null;function Q2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var db=null,Ju=null,Zu=null;function fj(e){if(e=vp(e)){if(typeof db!="function")throw Error(Ee(280));var t=e.stateNode;t&&(t=wv(t),db(e.stateNode,e.type,t))}}function gC(e){Ju?Zu?Zu.push(e):Zu=[e]:Ju=e}function vC(){if(Ju){var e=Ju,t=Zu;if(Zu=Ju=null,fj(e),t)for(e=0;e<t.length;e++)fj(t[e])}}function xC(e,t){return e(t)}function yC(){}var $y=!1;function bC(e,t,r){if($y)return e(t,r);$y=!0;try{return xC(e,t,r)}finally{$y=!1,(Ju!==null||Zu!==null)&&(yC(),vC())}}function Dh(e,t){var r=e.stateNode;if(r===null)return null;var n=wv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Ee(231,t,typeof r));return r}var fb=!1;if(bo)try{var Of={};Object.defineProperty(Of,"passive",{get:function(){fb=!0}}),window.addEventListener("test",Of,Of),window.removeEventListener("test",Of,Of)}catch{fb=!1}function yL(e,t,r,n,a,s,o,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var fh=!1,og=null,lg=!1,hb=null,bL={onError:function(e){fh=!0,og=e}};function wL(e,t,r,n,a,s,o,c,l){fh=!1,og=null,yL.apply(bL,arguments)}function NL(e,t,r,n,a,s,o,c,l){if(wL.apply(this,arguments),fh){if(fh){var u=og;fh=!1,og=null}else throw Error(Ee(198));lg||(lg=!0,hb=u)}}function Bc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function wC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hj(e){if(Bc(e)!==e)throw Error(Ee(188))}function jL(e){var t=e.alternate;if(!t){if(t=Bc(e),t===null)throw Error(Ee(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return hj(a),e;if(s===n)return hj(a),t;s=s.sibling}throw Error(Ee(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,c=a.child;c;){if(c===r){o=!0,r=a,n=s;break}if(c===n){o=!0,n=a,r=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===r){o=!0,r=s,n=a;break}if(c===n){o=!0,n=s,r=a;break}c=c.sibling}if(!o)throw Error(Ee(189))}}if(r.alternate!==n)throw Error(Ee(190))}if(r.tag!==3)throw Error(Ee(188));return r.stateNode.current===r?e:t}function NC(e){return e=jL(e),e!==null?jC(e):null}function jC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=jC(e);if(t!==null)return t;e=e.sibling}return null}var SC=Oa.unstable_scheduleCallback,pj=Oa.unstable_cancelCallback,SL=Oa.unstable_shouldYield,kL=Oa.unstable_requestPaint,Rr=Oa.unstable_now,CL=Oa.unstable_getCurrentPriorityLevel,J2=Oa.unstable_ImmediatePriority,kC=Oa.unstable_UserBlockingPriority,cg=Oa.unstable_NormalPriority,DL=Oa.unstable_LowPriority,CC=Oa.unstable_IdlePriority,vv=null,wi=null;function _L(e){if(wi&&typeof wi.onCommitFiberRoot=="function")try{wi.onCommitFiberRoot(vv,e,void 0,(e.current.flags&128)===128)}catch{}}var Is=Math.clz32?Math.clz32:ML,PL=Math.log,EL=Math.LN2;function ML(e){return e>>>=0,e===0?32:31-(PL(e)/EL|0)|0}var Fm=64,$m=4194304;function ih(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ug(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var c=o&~a;c!==0?n=ih(c):(s&=o,s!==0&&(n=ih(s)))}else o=r&~a,o!==0?n=ih(o):s!==0&&(n=ih(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Is(t),a=1<<r,n|=e[r],t&=~a;return n}function AL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LL(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Is(s),c=1<<o,l=a[o];l===-1?(!(c&r)||c&n)&&(a[o]=AL(c,t)):l<=t&&(e.expiredLanes|=c),s&=~c}}function pb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function DC(){var e=Fm;return Fm<<=1,!(Fm&4194240)&&(Fm=64),e}function Uy(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Is(t),e[t]=r}function TL(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Is(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Z2(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Is(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Gt=0;function _C(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var PC,ew,EC,MC,AC,mb=!1,Um=[],fl=null,hl=null,pl=null,_h=new Map,Ph=new Map,al=[],OL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mj(e,t){switch(e){case"focusin":case"focusout":fl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":pl=null;break;case"pointerover":case"pointerout":_h.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ph.delete(t.pointerId)}}function If(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=vp(t),t!==null&&ew(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function IL(e,t,r,n,a){switch(t){case"focusin":return fl=If(fl,e,t,r,n,a),!0;case"dragenter":return hl=If(hl,e,t,r,n,a),!0;case"mouseover":return pl=If(pl,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return _h.set(s,If(_h.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Ph.set(s,If(Ph.get(s)||null,e,t,r,n,a)),!0}return!1}function LC(e){var t=ic(e.target);if(t!==null){var r=Bc(t);if(r!==null){if(t=r.tag,t===13){if(t=wC(r),t!==null){e.blockedOn=t,AC(e.priority,function(){EC(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function k0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=gb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);ub=n,r.target.dispatchEvent(n),ub=null}else return t=vp(r),t!==null&&ew(t),e.blockedOn=r,!1;t.shift()}return!0}function gj(e,t,r){k0(e)&&r.delete(t)}function RL(){mb=!1,fl!==null&&k0(fl)&&(fl=null),hl!==null&&k0(hl)&&(hl=null),pl!==null&&k0(pl)&&(pl=null),_h.forEach(gj),Ph.forEach(gj)}function Rf(e,t){e.blockedOn===t&&(e.blockedOn=null,mb||(mb=!0,Oa.unstable_scheduleCallback(Oa.unstable_NormalPriority,RL)))}function Eh(e){function t(a){return Rf(a,e)}if(0<Um.length){Rf(Um[0],e);for(var r=1;r<Um.length;r++){var n=Um[r];n.blockedOn===e&&(n.blockedOn=null)}}for(fl!==null&&Rf(fl,e),hl!==null&&Rf(hl,e),pl!==null&&Rf(pl,e),_h.forEach(t),Ph.forEach(t),r=0;r<al.length;r++)n=al[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<al.length&&(r=al[0],r.blockedOn===null);)LC(r),r.blockedOn===null&&al.shift()}var ed=Po.ReactCurrentBatchConfig,dg=!0;function FL(e,t,r,n){var a=Gt,s=ed.transition;ed.transition=null;try{Gt=1,tw(e,t,r,n)}finally{Gt=a,ed.transition=s}}function $L(e,t,r,n){var a=Gt,s=ed.transition;ed.transition=null;try{Gt=4,tw(e,t,r,n)}finally{Gt=a,ed.transition=s}}function tw(e,t,r,n){if(dg){var a=gb(e,t,r,n);if(a===null)Xy(e,t,n,fg,r),mj(e,n);else if(IL(a,e,t,r,n))n.stopPropagation();else if(mj(e,n),t&4&&-1<OL.indexOf(e)){for(;a!==null;){var s=vp(a);if(s!==null&&PC(s),s=gb(e,t,r,n),s===null&&Xy(e,t,n,fg,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else Xy(e,t,n,null,r)}}var fg=null;function gb(e,t,r,n){if(fg=null,e=Q2(n),e=ic(e),e!==null)if(t=Bc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=wC(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return fg=e,null}function TC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CL()){case J2:return 1;case kC:return 4;case cg:case DL:return 16;case CC:return 536870912;default:return 16}default:return 16}}var il=null,rw=null,C0=null;function OC(){if(C0)return C0;var e,t=rw,r=t.length,n,a="value"in il?il.value:il.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return C0=a.slice(e,1<n?1-n:void 0)}function D0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zm(){return!0}function vj(){return!1}function Fa(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zm:vj,this.isPropagationStopped=vj,this}return jr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zm)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zm)},persist:function(){},isPersistent:zm}),t}var Rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nw=Fa(Rd),gp=jr({},Rd,{view:0,detail:0}),UL=Fa(gp),zy,By,Ff,xv=jr({},gp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:aw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ff&&(Ff&&e.type==="mousemove"?(zy=e.screenX-Ff.screenX,By=e.screenY-Ff.screenY):By=zy=0,Ff=e),zy)},movementY:function(e){return"movementY"in e?e.movementY:By}}),xj=Fa(xv),zL=jr({},xv,{dataTransfer:0}),BL=Fa(zL),WL=jr({},gp,{relatedTarget:0}),Wy=Fa(WL),HL=jr({},Rd,{animationName:0,elapsedTime:0,pseudoElement:0}),YL=Fa(HL),VL=jr({},Rd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qL=Fa(VL),GL=jr({},Rd,{data:0}),yj=Fa(GL),KL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JL(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=QL[e])?!!t[e]:!1}function aw(){return JL}var ZL=jr({},gp,{key:function(e){if(e.key){var t=KL[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=D0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?XL[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:aw,charCode:function(e){return e.type==="keypress"?D0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?D0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eT=Fa(ZL),tT=jr({},xv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bj=Fa(tT),rT=jr({},gp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:aw}),nT=Fa(rT),aT=jr({},Rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),sT=Fa(aT),iT=jr({},xv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oT=Fa(iT),lT=[9,13,27,32],sw=bo&&"CompositionEvent"in window,hh=null;bo&&"documentMode"in document&&(hh=document.documentMode);var cT=bo&&"TextEvent"in window&&!hh,IC=bo&&(!sw||hh&&8<hh&&11>=hh),wj=" ",Nj=!1;function RC(e,t){switch(e){case"keyup":return lT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $u=!1;function uT(e,t){switch(e){case"compositionend":return FC(t);case"keypress":return t.which!==32?null:(Nj=!0,wj);case"textInput":return e=t.data,e===wj&&Nj?null:e;default:return null}}function dT(e,t){if($u)return e==="compositionend"||!sw&&RC(e,t)?(e=OC(),C0=rw=il=null,$u=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IC&&t.locale!=="ko"?null:t.data;default:return null}}var fT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fT[e.type]:t==="textarea"}function $C(e,t,r,n){gC(n),t=hg(t,"onChange"),0<t.length&&(r=new nw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ph=null,Mh=null;function hT(e){XC(e,0)}function yv(e){var t=Bu(e);if(cC(t))return e}function pT(e,t){if(e==="change")return t}var UC=!1;if(bo){var Hy;if(bo){var Yy="oninput"in document;if(!Yy){var Sj=document.createElement("div");Sj.setAttribute("oninput","return;"),Yy=typeof Sj.oninput=="function"}Hy=Yy}else Hy=!1;UC=Hy&&(!document.documentMode||9<document.documentMode)}function kj(){ph&&(ph.detachEvent("onpropertychange",zC),Mh=ph=null)}function zC(e){if(e.propertyName==="value"&&yv(Mh)){var t=[];$C(t,Mh,e,Q2(e)),bC(hT,t)}}function mT(e,t,r){e==="focusin"?(kj(),ph=t,Mh=r,ph.attachEvent("onpropertychange",zC)):e==="focusout"&&kj()}function gT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yv(Mh)}function vT(e,t){if(e==="click")return yv(t)}function xT(e,t){if(e==="input"||e==="change")return yv(t)}function yT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Us=typeof Object.is=="function"?Object.is:yT;function Ah(e,t){if(Us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!J1.call(t,a)||!Us(e[a],t[a]))return!1}return!0}function Cj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dj(e,t){var r=Cj(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Cj(r)}}function BC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?BC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function WC(){for(var e=window,t=ig();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ig(e.document)}return t}function iw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function bT(e){var t=WC(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&BC(r.ownerDocument.documentElement,r)){if(n!==null&&iw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=Dj(r,s);var o=Dj(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wT=bo&&"documentMode"in document&&11>=document.documentMode,Uu=null,vb=null,mh=null,xb=!1;function _j(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xb||Uu==null||Uu!==ig(n)||(n=Uu,"selectionStart"in n&&iw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),mh&&Ah(mh,n)||(mh=n,n=hg(vb,"onSelect"),0<n.length&&(t=new nw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Uu)))}function Bm(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zu={animationend:Bm("Animation","AnimationEnd"),animationiteration:Bm("Animation","AnimationIteration"),animationstart:Bm("Animation","AnimationStart"),transitionend:Bm("Transition","TransitionEnd")},Vy={},HC={};bo&&(HC=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function bv(e){if(Vy[e])return Vy[e];if(!zu[e])return e;var t=zu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in HC)return Vy[e]=t[r];return e}var YC=bv("animationend"),VC=bv("animationiteration"),qC=bv("animationstart"),GC=bv("transitionend"),KC=new Map,Pj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ml(e,t){KC.set(e,t),zc(t,[e])}for(var qy=0;qy<Pj.length;qy++){var Gy=Pj[qy],NT=Gy.toLowerCase(),jT=Gy[0].toUpperCase()+Gy.slice(1);Ml(NT,"on"+jT)}Ml(YC,"onAnimationEnd");Ml(VC,"onAnimationIteration");Ml(qC,"onAnimationStart");Ml("dblclick","onDoubleClick");Ml("focusin","onFocus");Ml("focusout","onBlur");Ml(GC,"onTransitionEnd");pd("onMouseEnter",["mouseout","mouseover"]);pd("onMouseLeave",["mouseout","mouseover"]);pd("onPointerEnter",["pointerout","pointerover"]);pd("onPointerLeave",["pointerout","pointerover"]);zc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zc("onBeforeInput",["compositionend","keypress","textInput","paste"]);zc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ST=new Set("cancel close invalid load scroll toggle".split(" ").concat(oh));function Ej(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,NL(n,t,void 0,e),e.currentTarget=null}function XC(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var c=n[o],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==s&&a.isPropagationStopped())break e;Ej(a,c,u),s=l}else for(o=0;o<n.length;o++){if(c=n[o],l=c.instance,u=c.currentTarget,c=c.listener,l!==s&&a.isPropagationStopped())break e;Ej(a,c,u),s=l}}}if(lg)throw e=hb,lg=!1,hb=null,e}function lr(e,t){var r=t[jb];r===void 0&&(r=t[jb]=new Set);var n=e+"__bubble";r.has(n)||(QC(t,e,2,!1),r.add(n))}function Ky(e,t,r){var n=0;t&&(n|=4),QC(r,e,n,t)}var Wm="_reactListening"+Math.random().toString(36).slice(2);function Lh(e){if(!e[Wm]){e[Wm]=!0,aC.forEach(function(r){r!=="selectionchange"&&(ST.has(r)||Ky(r,!1,e),Ky(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wm]||(t[Wm]=!0,Ky("selectionchange",!1,t))}}function QC(e,t,r,n){switch(TC(t)){case 1:var a=FL;break;case 4:a=$L;break;default:a=tw}r=a.bind(null,t,r,e),a=void 0,!fb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Xy(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var c=n.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;c!==null;){if(o=ic(c),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}c=c.parentNode}}n=n.return}bC(function(){var u=s,d=Q2(r),f=[];e:{var p=KC.get(e);if(p!==void 0){var m=nw,y=e;switch(e){case"keypress":if(D0(r)===0)break e;case"keydown":case"keyup":m=eT;break;case"focusin":y="focus",m=Wy;break;case"focusout":y="blur",m=Wy;break;case"beforeblur":case"afterblur":m=Wy;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=xj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=BL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=nT;break;case YC:case VC:case qC:m=YL;break;case GC:m=sT;break;case"scroll":m=UL;break;case"wheel":m=oT;break;case"copy":case"cut":case"paste":m=qL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=bj}var v=(t&4)!==0,w=!v&&e==="scroll",g=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,S;x!==null;){S=x;var j=S.stateNode;if(S.tag===5&&j!==null&&(S=j,g!==null&&(j=Dh(x,g),j!=null&&v.push(Th(x,j,S)))),w)break;x=x.return}0<v.length&&(p=new m(p,y,null,r,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&r!==ub&&(y=r.relatedTarget||r.fromElement)&&(ic(y)||y[wo]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?ic(y):null,y!==null&&(w=Bc(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=xj,j="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=bj,j="onPointerLeave",g="onPointerEnter",x="pointer"),w=m==null?p:Bu(m),S=y==null?p:Bu(y),p=new v(j,x+"leave",m,r,d),p.target=w,p.relatedTarget=S,j=null,ic(d)===u&&(v=new v(g,x+"enter",y,r,d),v.target=S,v.relatedTarget=w,j=v),w=j,m&&y)t:{for(v=m,g=y,x=0,S=v;S;S=Su(S))x++;for(S=0,j=g;j;j=Su(j))S++;for(;0<x-S;)v=Su(v),x--;for(;0<S-x;)g=Su(g),S--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=Su(v),g=Su(g)}v=null}else v=null;m!==null&&Mj(f,p,m,v,!1),y!==null&&w!==null&&Mj(f,w,y,v,!0)}}e:{if(p=u?Bu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var P=pT;else if(jj(p))if(UC)P=xT;else{P=gT;var I=mT}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(P=vT);if(P&&(P=P(e,u))){$C(f,P,r,d);break e}I&&I(e,p,u),e==="focusout"&&(I=p._wrapperState)&&I.controlled&&p.type==="number"&&sb(p,"number",p.value)}switch(I=u?Bu(u):window,e){case"focusin":(jj(I)||I.contentEditable==="true")&&(Uu=I,vb=u,mh=null);break;case"focusout":mh=vb=Uu=null;break;case"mousedown":xb=!0;break;case"contextmenu":case"mouseup":case"dragend":xb=!1,_j(f,r,d);break;case"selectionchange":if(wT)break;case"keydown":case"keyup":_j(f,r,d)}var k;if(sw)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else $u?RC(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(IC&&r.locale!=="ko"&&($u||D!=="onCompositionStart"?D==="onCompositionEnd"&&$u&&(k=OC()):(il=d,rw="value"in il?il.value:il.textContent,$u=!0)),I=hg(u,D),0<I.length&&(D=new yj(D,e,null,r,d),f.push({event:D,listeners:I}),k?D.data=k:(k=FC(r),k!==null&&(D.data=k)))),(k=cT?uT(e,r):dT(e,r))&&(u=hg(u,"onBeforeInput"),0<u.length&&(d=new yj("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}XC(f,t)})}function Th(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hg(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Dh(e,r),s!=null&&n.unshift(Th(e,s,a)),s=Dh(e,t),s!=null&&n.push(Th(e,s,a))),e=e.return}return n}function Su(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Mj(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var c=r,l=c.alternate,u=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&u!==null&&(c=u,a?(l=Dh(r,s),l!=null&&o.unshift(Th(r,l,c))):a||(l=Dh(r,s),l!=null&&o.push(Th(r,l,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var kT=/\r\n?/g,CT=/\u0000|\uFFFD/g;function Aj(e){return(typeof e=="string"?e:""+e).replace(kT,`
`).replace(CT,"")}function Hm(e,t,r){if(t=Aj(t),Aj(e)!==t&&r)throw Error(Ee(425))}function pg(){}var yb=null,bb=null;function wb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nb=typeof setTimeout=="function"?setTimeout:void 0,DT=typeof clearTimeout=="function"?clearTimeout:void 0,Lj=typeof Promise=="function"?Promise:void 0,_T=typeof queueMicrotask=="function"?queueMicrotask:typeof Lj<"u"?function(e){return Lj.resolve(null).then(e).catch(PT)}:Nb;function PT(e){setTimeout(function(){throw e})}function Qy(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Eh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Eh(t)}function ml(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Fd=Math.random().toString(36).slice(2),hi="__reactFiber$"+Fd,Oh="__reactProps$"+Fd,wo="__reactContainer$"+Fd,jb="__reactEvents$"+Fd,ET="__reactListeners$"+Fd,MT="__reactHandles$"+Fd;function ic(e){var t=e[hi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wo]||r[hi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Tj(e);e!==null;){if(r=e[hi])return r;e=Tj(e)}return t}e=r,r=e.parentNode}return null}function vp(e){return e=e[hi]||e[wo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ee(33))}function wv(e){return e[Oh]||null}var Sb=[],Wu=-1;function Al(e){return{current:e}}function fr(e){0>Wu||(e.current=Sb[Wu],Sb[Wu]=null,Wu--)}function ir(e,t){Wu++,Sb[Wu]=e.current,e.current=t}var Sl={},Wn=Al(Sl),ha=Al(!1),jc=Sl;function md(e,t){var r=e.type.contextTypes;if(!r)return Sl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pa(e){return e=e.childContextTypes,e!=null}function mg(){fr(ha),fr(Wn)}function Oj(e,t,r){if(Wn.current!==Sl)throw Error(Ee(168));ir(Wn,t),ir(ha,r)}function JC(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Ee(108,mL(e)||"Unknown",a));return jr({},r,n)}function gg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sl,jc=Wn.current,ir(Wn,e),ir(ha,ha.current),!0}function Ij(e,t,r){var n=e.stateNode;if(!n)throw Error(Ee(169));r?(e=JC(e,t,jc),n.__reactInternalMemoizedMergedChildContext=e,fr(ha),fr(Wn),ir(Wn,e)):fr(ha),ir(ha,r)}var so=null,Nv=!1,Jy=!1;function ZC(e){so===null?so=[e]:so.push(e)}function AT(e){Nv=!0,ZC(e)}function Ll(){if(!Jy&&so!==null){Jy=!0;var e=0,t=Gt;try{var r=so;for(Gt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}so=null,Nv=!1}catch(a){throw so!==null&&(so=so.slice(e+1)),SC(J2,Ll),a}finally{Gt=t,Jy=!1}}return null}var Hu=[],Yu=0,vg=null,xg=0,Za=[],es=0,Sc=null,io=1,oo="";function Zl(e,t){Hu[Yu++]=xg,Hu[Yu++]=vg,vg=e,xg=t}function eD(e,t,r){Za[es++]=io,Za[es++]=oo,Za[es++]=Sc,Sc=e;var n=io;e=oo;var a=32-Is(n)-1;n&=~(1<<a),r+=1;var s=32-Is(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,io=1<<32-Is(t)+a|r<<a|n,oo=s+e}else io=1<<s|r<<a|n,oo=e}function ow(e){e.return!==null&&(Zl(e,1),eD(e,1,0))}function lw(e){for(;e===vg;)vg=Hu[--Yu],Hu[Yu]=null,xg=Hu[--Yu],Hu[Yu]=null;for(;e===Sc;)Sc=Za[--es],Za[es]=null,oo=Za[--es],Za[es]=null,io=Za[--es],Za[es]=null}var Aa=null,Ea=null,vr=!1,Ls=null;function tD(e,t){var r=as(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Rj(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Aa=e,Ea=ml(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Aa=e,Ea=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sc!==null?{id:io,overflow:oo}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=as(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Aa=e,Ea=null,!0):!1;default:return!1}}function kb(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cb(e){if(vr){var t=Ea;if(t){var r=t;if(!Rj(e,t)){if(kb(e))throw Error(Ee(418));t=ml(r.nextSibling);var n=Aa;t&&Rj(e,t)?tD(n,r):(e.flags=e.flags&-4097|2,vr=!1,Aa=e)}}else{if(kb(e))throw Error(Ee(418));e.flags=e.flags&-4097|2,vr=!1,Aa=e}}}function Fj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Aa=e}function Ym(e){if(e!==Aa)return!1;if(!vr)return Fj(e),vr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wb(e.type,e.memoizedProps)),t&&(t=Ea)){if(kb(e))throw rD(),Error(Ee(418));for(;t;)tD(e,t),t=ml(t.nextSibling)}if(Fj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ee(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ea=ml(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ea=null}}else Ea=Aa?ml(e.stateNode.nextSibling):null;return!0}function rD(){for(var e=Ea;e;)e=ml(e.nextSibling)}function gd(){Ea=Aa=null,vr=!1}function cw(e){Ls===null?Ls=[e]:Ls.push(e)}var LT=Po.ReactCurrentBatchConfig;function $f(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ee(309));var n=r.stateNode}if(!n)throw Error(Ee(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var c=a.refs;o===null?delete c[s]:c[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Ee(284));if(!r._owner)throw Error(Ee(290,e))}return e}function Vm(e,t){throw e=Object.prototype.toString.call(t),Error(Ee(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $j(e){var t=e._init;return t(e._payload)}function nD(e){function t(g,x){if(e){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=yl(g,x),g.index=0,g.sibling=null,g}function s(g,x,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=2,x):S):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function c(g,x,S,j){return x===null||x.tag!==6?(x=s1(S,g.mode,j),x.return=g,x):(x=a(x,S),x.return=g,x)}function l(g,x,S,j){var P=S.type;return P===Fu?d(g,x,S.props.children,j,S.key):x!==null&&(x.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===rl&&$j(P)===x.type)?(j=a(x,S.props),j.ref=$f(g,x,S),j.return=g,j):(j=T0(S.type,S.key,S.props,null,g.mode,j),j.ref=$f(g,x,S),j.return=g,j)}function u(g,x,S,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=i1(S,g.mode,j),x.return=g,x):(x=a(x,S.children||[]),x.return=g,x)}function d(g,x,S,j,P){return x===null||x.tag!==7?(x=hc(S,g.mode,j,P),x.return=g,x):(x=a(x,S),x.return=g,x)}function f(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=s1(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Om:return S=T0(x.type,x.key,x.props,null,g.mode,S),S.ref=$f(g,null,x),S.return=g,S;case Ru:return x=i1(x,g.mode,S),x.return=g,x;case rl:var j=x._init;return f(g,j(x._payload),S)}if(sh(x)||Tf(x))return x=hc(x,g.mode,S,null),x.return=g,x;Vm(g,x)}return null}function p(g,x,S,j){var P=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return P!==null?null:c(g,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Om:return S.key===P?l(g,x,S,j):null;case Ru:return S.key===P?u(g,x,S,j):null;case rl:return P=S._init,p(g,x,P(S._payload),j)}if(sh(S)||Tf(S))return P!==null?null:d(g,x,S,j,null);Vm(g,S)}return null}function m(g,x,S,j,P){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(S)||null,c(x,g,""+j,P);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Om:return g=g.get(j.key===null?S:j.key)||null,l(x,g,j,P);case Ru:return g=g.get(j.key===null?S:j.key)||null,u(x,g,j,P);case rl:var I=j._init;return m(g,x,S,I(j._payload),P)}if(sh(j)||Tf(j))return g=g.get(S)||null,d(x,g,j,P,null);Vm(x,j)}return null}function y(g,x,S,j){for(var P=null,I=null,k=x,D=x=0,R=null;k!==null&&D<S.length;D++){k.index>D?(R=k,k=null):R=k.sibling;var A=p(g,k,S[D],j);if(A===null){k===null&&(k=R);break}e&&k&&A.alternate===null&&t(g,k),x=s(A,x,D),I===null?P=A:I.sibling=A,I=A,k=R}if(D===S.length)return r(g,k),vr&&Zl(g,D),P;if(k===null){for(;D<S.length;D++)k=f(g,S[D],j),k!==null&&(x=s(k,x,D),I===null?P=k:I.sibling=k,I=k);return vr&&Zl(g,D),P}for(k=n(g,k);D<S.length;D++)R=m(k,g,D,S[D],j),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?D:R.key),x=s(R,x,D),I===null?P=R:I.sibling=R,I=R);return e&&k.forEach(function(E){return t(g,E)}),vr&&Zl(g,D),P}function v(g,x,S,j){var P=Tf(S);if(typeof P!="function")throw Error(Ee(150));if(S=P.call(S),S==null)throw Error(Ee(151));for(var I=P=null,k=x,D=x=0,R=null,A=S.next();k!==null&&!A.done;D++,A=S.next()){k.index>D?(R=k,k=null):R=k.sibling;var E=p(g,k,A.value,j);if(E===null){k===null&&(k=R);break}e&&k&&E.alternate===null&&t(g,k),x=s(E,x,D),I===null?P=E:I.sibling=E,I=E,k=R}if(A.done)return r(g,k),vr&&Zl(g,D),P;if(k===null){for(;!A.done;D++,A=S.next())A=f(g,A.value,j),A!==null&&(x=s(A,x,D),I===null?P=A:I.sibling=A,I=A);return vr&&Zl(g,D),P}for(k=n(g,k);!A.done;D++,A=S.next())A=m(k,g,D,A.value,j),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?D:A.key),x=s(A,x,D),I===null?P=A:I.sibling=A,I=A);return e&&k.forEach(function(_){return t(g,_)}),vr&&Zl(g,D),P}function w(g,x,S,j){if(typeof S=="object"&&S!==null&&S.type===Fu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Om:e:{for(var P=S.key,I=x;I!==null;){if(I.key===P){if(P=S.type,P===Fu){if(I.tag===7){r(g,I.sibling),x=a(I,S.props.children),x.return=g,g=x;break e}}else if(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===rl&&$j(P)===I.type){r(g,I.sibling),x=a(I,S.props),x.ref=$f(g,I,S),x.return=g,g=x;break e}r(g,I);break}else t(g,I);I=I.sibling}S.type===Fu?(x=hc(S.props.children,g.mode,j,S.key),x.return=g,g=x):(j=T0(S.type,S.key,S.props,null,g.mode,j),j.ref=$f(g,x,S),j.return=g,g=j)}return o(g);case Ru:e:{for(I=S.key;x!==null;){if(x.key===I)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(g,x.sibling),x=a(x,S.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=i1(S,g.mode,j),x.return=g,g=x}return o(g);case rl:return I=S._init,w(g,x,I(S._payload),j)}if(sh(S))return y(g,x,S,j);if(Tf(S))return v(g,x,S,j);Vm(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,S),x.return=g,g=x):(r(g,x),x=s1(S,g.mode,j),x.return=g,g=x),o(g)):r(g,x)}return w}var vd=nD(!0),aD=nD(!1),yg=Al(null),bg=null,Vu=null,uw=null;function dw(){uw=Vu=bg=null}function fw(e){var t=yg.current;fr(yg),e._currentValue=t}function Db(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function td(e,t){bg=e,uw=Vu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fa=!0),e.firstContext=null)}function os(e){var t=e._currentValue;if(uw!==e)if(e={context:e,memoizedValue:t,next:null},Vu===null){if(bg===null)throw Error(Ee(308));Vu=e,bg.dependencies={lanes:0,firstContext:e}}else Vu=Vu.next=e;return t}var oc=null;function hw(e){oc===null?oc=[e]:oc.push(e)}function sD(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,hw(t)):(r.next=a.next,a.next=r),t.interleaved=r,No(e,n)}function No(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var nl=!1;function pw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iD(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,At&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,No(e,r)}return a=n.interleaved,a===null?(t.next=t,hw(n)):(t.next=a.next,a.next=t),n.interleaved=t,No(e,r)}function _0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Z2(e,r)}}function Uj(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function wg(e,t,r,n){var a=e.updateQueue;nl=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var l=c,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==o&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=a.baseState;o=0,d=u=l=null,c=s;do{var p=c.lane,m=c.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,v=c;switch(p=t,m=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=jr({},f,p);break e;case 2:nl=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[c]:p.push(c))}else m={eventTime:m,lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=p;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;p=c,c=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Cc|=o,e.lanes=o,e.memoizedState=f}}function zj(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Ee(191,a));a.call(n)}}}var xp={},Ni=Al(xp),Ih=Al(xp),Rh=Al(xp);function lc(e){if(e===xp)throw Error(Ee(174));return e}function mw(e,t){switch(ir(Rh,t),ir(Ih,e),ir(Ni,xp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ob(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ob(t,e)}fr(Ni),ir(Ni,t)}function xd(){fr(Ni),fr(Ih),fr(Rh)}function oD(e){lc(Rh.current);var t=lc(Ni.current),r=ob(t,e.type);t!==r&&(ir(Ih,e),ir(Ni,r))}function gw(e){Ih.current===e&&(fr(Ni),fr(Ih))}var br=Al(0);function Ng(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zy=[];function vw(){for(var e=0;e<Zy.length;e++)Zy[e]._workInProgressVersionPrimary=null;Zy.length=0}var P0=Po.ReactCurrentDispatcher,e1=Po.ReactCurrentBatchConfig,kc=0,Nr=null,rn=null,dn=null,jg=!1,gh=!1,Fh=0,TT=0;function Mn(){throw Error(Ee(321))}function xw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Us(e[r],t[r]))return!1;return!0}function yw(e,t,r,n,a,s){if(kc=s,Nr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,P0.current=e===null||e.memoizedState===null?FT:$T,e=r(n,a),gh){s=0;do{if(gh=!1,Fh=0,25<=s)throw Error(Ee(301));s+=1,dn=rn=null,t.updateQueue=null,P0.current=UT,e=r(n,a)}while(gh)}if(P0.current=Sg,t=rn!==null&&rn.next!==null,kc=0,dn=rn=Nr=null,jg=!1,t)throw Error(Ee(300));return e}function bw(){var e=Fh!==0;return Fh=0,e}function oi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?Nr.memoizedState=dn=e:dn=dn.next=e,dn}function ls(){if(rn===null){var e=Nr.alternate;e=e!==null?e.memoizedState:null}else e=rn.next;var t=dn===null?Nr.memoizedState:dn.next;if(t!==null)dn=t,rn=e;else{if(e===null)throw Error(Ee(310));rn=e,e={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},dn===null?Nr.memoizedState=dn=e:dn=dn.next=e}return dn}function $h(e,t){return typeof t=="function"?t(e):t}function t1(e){var t=ls(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var n=rn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var c=o=null,l=null,u=s;do{var d=u.lane;if((kc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=f,o=n):l=l.next=f,Nr.lanes|=d,Cc|=d}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=c,Us(n,t.memoizedState)||(fa=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Nr.lanes|=s,Cc|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function r1(e){var t=ls(),r=t.queue;if(r===null)throw Error(Ee(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Us(s,t.memoizedState)||(fa=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function lD(){}function cD(e,t){var r=Nr,n=ls(),a=t(),s=!Us(n.memoizedState,a);if(s&&(n.memoizedState=a,fa=!0),n=n.queue,ww(fD.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||dn!==null&&dn.memoizedState.tag&1){if(r.flags|=2048,Uh(9,dD.bind(null,r,n,a,t),void 0,null),hn===null)throw Error(Ee(349));kc&30||uD(r,t,a)}return a}function uD(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dD(e,t,r,n){t.value=r,t.getSnapshot=n,hD(t)&&pD(e)}function fD(e,t,r){return r(function(){hD(t)&&pD(e)})}function hD(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Us(e,r)}catch{return!0}}function pD(e){var t=No(e,1);t!==null&&Rs(t,e,1,-1)}function Bj(e){var t=oi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$h,lastRenderedState:e},t.queue=e,e=e.dispatch=RT.bind(null,Nr,e),[t.memoizedState,e]}function Uh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Nr.updateQueue,t===null?(t={lastEffect:null,stores:null},Nr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function mD(){return ls().memoizedState}function E0(e,t,r,n){var a=oi();Nr.flags|=e,a.memoizedState=Uh(1|t,r,void 0,n===void 0?null:n)}function jv(e,t,r,n){var a=ls();n=n===void 0?null:n;var s=void 0;if(rn!==null){var o=rn.memoizedState;if(s=o.destroy,n!==null&&xw(n,o.deps)){a.memoizedState=Uh(t,r,s,n);return}}Nr.flags|=e,a.memoizedState=Uh(1|t,r,s,n)}function Wj(e,t){return E0(8390656,8,e,t)}function ww(e,t){return jv(2048,8,e,t)}function gD(e,t){return jv(4,2,e,t)}function vD(e,t){return jv(4,4,e,t)}function xD(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function yD(e,t,r){return r=r!=null?r.concat([e]):null,jv(4,4,xD.bind(null,t,e),r)}function Nw(){}function bD(e,t){var r=ls();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wD(e,t){var r=ls();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&xw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ND(e,t,r){return kc&21?(Us(r,t)||(r=DC(),Nr.lanes|=r,Cc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fa=!0),e.memoizedState=r)}function OT(e,t){var r=Gt;Gt=r!==0&&4>r?r:4,e(!0);var n=e1.transition;e1.transition={};try{e(!1),t()}finally{Gt=r,e1.transition=n}}function jD(){return ls().memoizedState}function IT(e,t,r){var n=xl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},SD(e))kD(t,r);else if(r=sD(e,t,r,n),r!==null){var a=Jn();Rs(r,e,n,a),CD(r,t,n)}}function RT(e,t,r){var n=xl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(SD(e))kD(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,c=s(o,r);if(a.hasEagerState=!0,a.eagerState=c,Us(c,o)){var l=t.interleaved;l===null?(a.next=a,hw(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=sD(e,t,a,n),r!==null&&(a=Jn(),Rs(r,e,n,a),CD(r,t,n))}}function SD(e){var t=e.alternate;return e===Nr||t!==null&&t===Nr}function kD(e,t){gh=jg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function CD(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Z2(e,r)}}var Sg={readContext:os,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useInsertionEffect:Mn,useLayoutEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useMutableSource:Mn,useSyncExternalStore:Mn,useId:Mn,unstable_isNewReconciler:!1},FT={readContext:os,useCallback:function(e,t){return oi().memoizedState=[e,t===void 0?null:t],e},useContext:os,useEffect:Wj,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,E0(4194308,4,xD.bind(null,t,e),r)},useLayoutEffect:function(e,t){return E0(4194308,4,e,t)},useInsertionEffect:function(e,t){return E0(4,2,e,t)},useMemo:function(e,t){var r=oi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=oi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=IT.bind(null,Nr,e),[n.memoizedState,e]},useRef:function(e){var t=oi();return e={current:e},t.memoizedState=e},useState:Bj,useDebugValue:Nw,useDeferredValue:function(e){return oi().memoizedState=e},useTransition:function(){var e=Bj(!1),t=e[0];return e=OT.bind(null,e[1]),oi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Nr,a=oi();if(vr){if(r===void 0)throw Error(Ee(407));r=r()}else{if(r=t(),hn===null)throw Error(Ee(349));kc&30||uD(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,Wj(fD.bind(null,n,s,e),[e]),n.flags|=2048,Uh(9,dD.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=oi(),t=hn.identifierPrefix;if(vr){var r=oo,n=io;r=(n&~(1<<32-Is(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Fh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=TT++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$T={readContext:os,useCallback:bD,useContext:os,useEffect:ww,useImperativeHandle:yD,useInsertionEffect:gD,useLayoutEffect:vD,useMemo:wD,useReducer:t1,useRef:mD,useState:function(){return t1($h)},useDebugValue:Nw,useDeferredValue:function(e){var t=ls();return ND(t,rn.memoizedState,e)},useTransition:function(){var e=t1($h)[0],t=ls().memoizedState;return[e,t]},useMutableSource:lD,useSyncExternalStore:cD,useId:jD,unstable_isNewReconciler:!1},UT={readContext:os,useCallback:bD,useContext:os,useEffect:ww,useImperativeHandle:yD,useInsertionEffect:gD,useLayoutEffect:vD,useMemo:wD,useReducer:r1,useRef:mD,useState:function(){return r1($h)},useDebugValue:Nw,useDeferredValue:function(e){var t=ls();return rn===null?t.memoizedState=e:ND(t,rn.memoizedState,e)},useTransition:function(){var e=r1($h)[0],t=ls().memoizedState;return[e,t]},useMutableSource:lD,useSyncExternalStore:cD,useId:jD,unstable_isNewReconciler:!1};function Es(e,t){if(e&&e.defaultProps){t=jr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function _b(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:jr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sv={isMounted:function(e){return(e=e._reactInternals)?Bc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Jn(),a=xl(e),s=uo(n,a);s.payload=t,r!=null&&(s.callback=r),t=gl(e,s,a),t!==null&&(Rs(t,e,a,n),_0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Jn(),a=xl(e),s=uo(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=gl(e,s,a),t!==null&&(Rs(t,e,a,n),_0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Jn(),n=xl(e),a=uo(r,n);a.tag=2,t!=null&&(a.callback=t),t=gl(e,a,n),t!==null&&(Rs(t,e,n,r),_0(t,e,n))}};function Hj(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Ah(r,n)||!Ah(a,s):!0}function DD(e,t,r){var n=!1,a=Sl,s=t.contextType;return typeof s=="object"&&s!==null?s=os(s):(a=pa(t)?jc:Wn.current,n=t.contextTypes,s=(n=n!=null)?md(e,a):Sl),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function Yj(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sv.enqueueReplaceState(t,t.state,null)}function Pb(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},pw(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=os(s):(s=pa(t)?jc:Wn.current,a.context=md(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(_b(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sv.enqueueReplaceState(a,a.state,null),wg(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function yd(e,t){try{var r="",n=t;do r+=pL(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function n1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Eb(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var zT=typeof WeakMap=="function"?WeakMap:Map;function _D(e,t,r){r=uo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cg||(Cg=!0,Ub=n),Eb(e,t)},r}function PD(e,t,r){r=uo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){Eb(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Eb(e,t),typeof n!="function"&&(vl===null?vl=new Set([this]):vl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Vj(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new zT;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=tO.bind(null,e,t,r),t.then(e,e))}function qj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gj(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=uo(-1,1),t.tag=2,gl(r,t,1))),r.lanes|=1),e)}var BT=Po.ReactCurrentOwner,fa=!1;function Kn(e,t,r,n){t.child=e===null?aD(t,null,r,n):vd(t,e.child,r,n)}function Kj(e,t,r,n,a){r=r.render;var s=t.ref;return td(t,a),n=yw(e,t,r,n,s,a),r=bw(),e!==null&&!fa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jo(e,t,a)):(vr&&r&&ow(t),t.flags|=1,Kn(e,t,n,a),t.child)}function Xj(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!Ew(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,ED(e,t,s,n,a)):(e=T0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ah,r(o,n)&&e.ref===t.ref)return jo(e,t,a)}return t.flags|=1,e=yl(s,n),e.ref=t.ref,e.return=t,t.child=e}function ED(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Ah(s,n)&&e.ref===t.ref)if(fa=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(fa=!0);else return t.lanes=e.lanes,jo(e,t,a)}return Mb(e,t,r,n,a)}function MD(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ir(Gu,_a),_a|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ir(Gu,_a),_a|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ir(Gu,_a),_a|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,ir(Gu,_a),_a|=n;return Kn(e,t,a,r),t.child}function AD(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Mb(e,t,r,n,a){var s=pa(r)?jc:Wn.current;return s=md(t,s),td(t,a),r=yw(e,t,r,n,s,a),n=bw(),e!==null&&!fa?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,jo(e,t,a)):(vr&&n&&ow(t),t.flags|=1,Kn(e,t,r,a),t.child)}function Qj(e,t,r,n,a){if(pa(r)){var s=!0;gg(t)}else s=!1;if(td(t,a),t.stateNode===null)M0(e,t),DD(t,r,n),Pb(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=os(u):(u=pa(r)?jc:Wn.current,u=md(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==n||l!==u)&&Yj(t,o,n,u),nl=!1;var p=t.memoizedState;o.state=p,wg(t,n,o,a),l=t.memoizedState,c!==n||p!==l||ha.current||nl?(typeof d=="function"&&(_b(t,r,d,n),l=t.memoizedState),(c=nl||Hj(t,r,c,n,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,iD(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Es(t.type,c),o.props=u,f=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=os(l):(l=pa(r)?jc:Wn.current,l=md(t,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==f||p!==l)&&Yj(t,o,n,l),nl=!1,p=t.memoizedState,o.state=p,wg(t,n,o,a);var y=t.memoizedState;c!==f||p!==y||ha.current||nl?(typeof m=="function"&&(_b(t,r,m,n),y=t.memoizedState),(u=nl||Hj(t,r,u,n,p,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Ab(e,t,r,n,s,a)}function Ab(e,t,r,n,a,s){AD(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&Ij(t,r,!1),jo(e,t,s);n=t.stateNode,BT.current=t;var c=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=vd(t,e.child,null,s),t.child=vd(t,null,c,s)):Kn(e,t,c,s),t.memoizedState=n.state,a&&Ij(t,r,!0),t.child}function LD(e){var t=e.stateNode;t.pendingContext?Oj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oj(e,t.context,!1),mw(e,t.containerInfo)}function Jj(e,t,r,n,a){return gd(),cw(a),t.flags|=256,Kn(e,t,r,n),t.child}var Lb={dehydrated:null,treeContext:null,retryLane:0};function Tb(e){return{baseLanes:e,cachePool:null,transitions:null}}function TD(e,t,r){var n=t.pendingProps,a=br.current,s=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ir(br,a&1),e===null)return Cb(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dv(o,n,0,null),e=hc(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Tb(r),t.memoizedState=Lb,e):jw(t,o));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return WT(e,t,o,n,c,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,c=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=yl(a,l),n.subtreeFlags=a.subtreeFlags&14680064),c!==null?s=yl(c,s):(s=hc(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?Tb(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=Lb,n}return s=e.child,e=s.sibling,n=yl(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jw(e,t){return t=Dv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qm(e,t,r,n){return n!==null&&cw(n),vd(t,e.child,null,r),e=jw(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WT(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=n1(Error(Ee(422))),qm(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Dv({mode:"visible",children:n.children},a,0,null),s=hc(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&vd(t,e.child,null,o),t.child.memoizedState=Tb(o),t.memoizedState=Lb,s);if(!(t.mode&1))return qm(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var c=n.dgst;return n=c,s=Error(Ee(419)),n=n1(s,n,void 0),qm(e,t,o,n)}if(c=(o&e.childLanes)!==0,fa||c){if(n=hn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,No(e,a),Rs(n,e,a,-1))}return Pw(),n=n1(Error(Ee(421))),qm(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=rO.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ea=ml(a.nextSibling),Aa=t,vr=!0,Ls=null,e!==null&&(Za[es++]=io,Za[es++]=oo,Za[es++]=Sc,io=e.id,oo=e.overflow,Sc=t),t=jw(t,n.children),t.flags|=4096,t)}function Zj(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Db(e.return,t,r)}function a1(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function OD(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Kn(e,t,n.children,r),n=br.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zj(e,r,t);else if(e.tag===19)Zj(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ir(br,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ng(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),a1(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ng(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}a1(t,!0,r,null,s);break;case"together":a1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function M0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Cc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ee(153));if(t.child!==null){for(e=t.child,r=yl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function HT(e,t,r){switch(t.tag){case 3:LD(t),gd();break;case 5:oD(t);break;case 1:pa(t.type)&&gg(t);break;case 4:mw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ir(yg,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ir(br,br.current&1),t.flags|=128,null):r&t.child.childLanes?TD(e,t,r):(ir(br,br.current&1),e=jo(e,t,r),e!==null?e.sibling:null);ir(br,br.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return OD(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ir(br,br.current),n)break;return null;case 22:case 23:return t.lanes=0,MD(e,t,r)}return jo(e,t,r)}var ID,Ob,RD,FD;ID=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ob=function(){};RD=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,lc(Ni.current);var s=null;switch(r){case"input":a=nb(e,a),n=nb(e,n),s=[];break;case"select":a=jr({},a,{value:void 0}),n=jr({},n,{value:void 0}),s=[];break;case"textarea":a=ib(e,a),n=ib(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pg)}lb(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var c=a[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(c=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lr("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};FD=function(e,t,r,n){r!==n&&(t.flags|=4)};function Uf(e,t){if(!vr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function An(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function YT(e,t,r){var n=t.pendingProps;switch(lw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(t),null;case 1:return pa(t.type)&&mg(),An(t),null;case 3:return n=t.stateNode,xd(),fr(ha),fr(Wn),vw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ym(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ls!==null&&(Wb(Ls),Ls=null))),Ob(e,t),An(t),null;case 5:gw(t);var a=lc(Rh.current);if(r=t.type,e!==null&&t.stateNode!=null)RD(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Ee(166));return An(t),null}if(e=lc(Ni.current),Ym(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[hi]=t,n[Oh]=s,e=(t.mode&1)!==0,r){case"dialog":lr("cancel",n),lr("close",n);break;case"iframe":case"object":case"embed":lr("load",n);break;case"video":case"audio":for(a=0;a<oh.length;a++)lr(oh[a],n);break;case"source":lr("error",n);break;case"img":case"image":case"link":lr("error",n),lr("load",n);break;case"details":lr("toggle",n);break;case"input":lj(n,s),lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},lr("invalid",n);break;case"textarea":uj(n,s),lr("invalid",n)}lb(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var c=s[o];o==="children"?typeof c=="string"?n.textContent!==c&&(s.suppressHydrationWarning!==!0&&Hm(n.textContent,c,e),a=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Hm(n.textContent,c,e),a=["children",""+c]):kh.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&lr("scroll",n)}switch(r){case"input":Im(n),cj(n,s,!0);break;case"textarea":Im(n),dj(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=pg)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=fC(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[hi]=t,e[Oh]=n,ID(e,t,!1,!1),t.stateNode=e;e:{switch(o=cb(r,n),r){case"dialog":lr("cancel",e),lr("close",e),a=n;break;case"iframe":case"object":case"embed":lr("load",e),a=n;break;case"video":case"audio":for(a=0;a<oh.length;a++)lr(oh[a],e);a=n;break;case"source":lr("error",e),a=n;break;case"img":case"image":case"link":lr("error",e),lr("load",e),a=n;break;case"details":lr("toggle",e),a=n;break;case"input":lj(e,n),a=nb(e,n),lr("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=jr({},n,{value:void 0}),lr("invalid",e);break;case"textarea":uj(e,n),a=ib(e,n),lr("invalid",e);break;default:a=n}lb(r,a),c=a;for(s in c)if(c.hasOwnProperty(s)){var l=c[s];s==="style"?mC(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hC(e,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Ch(e,l):typeof l=="number"&&Ch(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(kh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&lr("scroll",e):l!=null&&q2(e,s,l,o))}switch(r){case"input":Im(e),cj(e,n,!1);break;case"textarea":Im(e),dj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jl(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Qu(e,!!n.multiple,s,!1):n.defaultValue!=null&&Qu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return An(t),null;case 6:if(e&&t.stateNode!=null)FD(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Ee(166));if(r=lc(Rh.current),lc(Ni.current),Ym(t)){if(n=t.stateNode,r=t.memoizedProps,n[hi]=t,(s=n.nodeValue!==r)&&(e=Aa,e!==null))switch(e.tag){case 3:Hm(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hm(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hi]=t,t.stateNode=n}return An(t),null;case 13:if(fr(br),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vr&&Ea!==null&&t.mode&1&&!(t.flags&128))rD(),gd(),t.flags|=98560,s=!1;else if(s=Ym(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Ee(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ee(317));s[hi]=t}else gd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;An(t),s=!1}else Ls!==null&&(Wb(Ls),Ls=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||br.current&1?nn===0&&(nn=3):Pw())),t.updateQueue!==null&&(t.flags|=4),An(t),null);case 4:return xd(),Ob(e,t),e===null&&Lh(t.stateNode.containerInfo),An(t),null;case 10:return fw(t.type._context),An(t),null;case 17:return pa(t.type)&&mg(),An(t),null;case 19:if(fr(br),s=t.memoizedState,s===null)return An(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Uf(s,!1);else{if(nn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ng(e),o!==null){for(t.flags|=128,Uf(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ir(br,br.current&1|2),t.child}e=e.sibling}s.tail!==null&&Rr()>bd&&(t.flags|=128,n=!0,Uf(s,!1),t.lanes=4194304)}else{if(!n)if(e=Ng(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Uf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!vr)return An(t),null}else 2*Rr()-s.renderingStartTime>bd&&r!==1073741824&&(t.flags|=128,n=!0,Uf(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Rr(),t.sibling=null,r=br.current,ir(br,n?r&1|2:r&1),t):(An(t),null);case 22:case 23:return _w(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?_a&1073741824&&(An(t),t.subtreeFlags&6&&(t.flags|=8192)):An(t),null;case 24:return null;case 25:return null}throw Error(Ee(156,t.tag))}function VT(e,t){switch(lw(t),t.tag){case 1:return pa(t.type)&&mg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xd(),fr(ha),fr(Wn),vw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gw(t),null;case 13:if(fr(br),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ee(340));gd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fr(br),null;case 4:return xd(),null;case 10:return fw(t.type._context),null;case 22:case 23:return _w(),null;case 24:return null;default:return null}}var Gm=!1,$n=!1,qT=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function qu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pr(e,t,n)}else r.current=null}function Ib(e,t,r){try{r()}catch(n){Pr(e,t,n)}}var eS=!1;function GT(e,t){if(yb=dg,e=WC(),iw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,c=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(c=o+a),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===r&&++u===a&&(c=o),p===s&&++d===n&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bb={focusedElem:e,selectionRange:r},dg=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){t=Ke;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Es(t.type,v),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ee(163))}}catch(j){Pr(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return y=eS,eS=!1,y}function vh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&Ib(t,r,s)}a=a.next}while(a!==n)}}function kv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Rb(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function $D(e){var t=e.alternate;t!==null&&(e.alternate=null,$D(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[hi],delete t[Oh],delete t[jb],delete t[ET],delete t[MT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function UD(e){return e.tag===5||e.tag===3||e.tag===4}function tS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||UD(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fb(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pg));else if(n!==4&&(e=e.child,e!==null))for(Fb(e,t,r),e=e.sibling;e!==null;)Fb(e,t,r),e=e.sibling}function $b(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($b(e,t,r),e=e.sibling;e!==null;)$b(e,t,r),e=e.sibling}var bn=null,As=!1;function Xo(e,t,r){for(r=r.child;r!==null;)zD(e,t,r),r=r.sibling}function zD(e,t,r){if(wi&&typeof wi.onCommitFiberUnmount=="function")try{wi.onCommitFiberUnmount(vv,r)}catch{}switch(r.tag){case 5:$n||qu(r,t);case 6:var n=bn,a=As;bn=null,Xo(e,t,r),bn=n,As=a,bn!==null&&(As?(e=bn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):bn.removeChild(r.stateNode));break;case 18:bn!==null&&(As?(e=bn,r=r.stateNode,e.nodeType===8?Qy(e.parentNode,r):e.nodeType===1&&Qy(e,r),Eh(e)):Qy(bn,r.stateNode));break;case 4:n=bn,a=As,bn=r.stateNode.containerInfo,As=!0,Xo(e,t,r),bn=n,As=a;break;case 0:case 11:case 14:case 15:if(!$n&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ib(r,t,o),a=a.next}while(a!==n)}Xo(e,t,r);break;case 1:if(!$n&&(qu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){Pr(r,t,c)}Xo(e,t,r);break;case 21:Xo(e,t,r);break;case 22:r.mode&1?($n=(n=$n)||r.memoizedState!==null,Xo(e,t,r),$n=n):Xo(e,t,r);break;default:Xo(e,t,r)}}function rS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new qT),t.forEach(function(n){var a=nO.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Cs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:bn=c.stateNode,As=!1;break e;case 3:bn=c.stateNode.containerInfo,As=!0;break e;case 4:bn=c.stateNode.containerInfo,As=!0;break e}c=c.return}if(bn===null)throw Error(Ee(160));zD(s,o,a),bn=null,As=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Pr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)BD(t,e),t=t.sibling}function BD(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Cs(t,e),si(e),n&4){try{vh(3,e,e.return),kv(3,e)}catch(v){Pr(e,e.return,v)}try{vh(5,e,e.return)}catch(v){Pr(e,e.return,v)}}break;case 1:Cs(t,e),si(e),n&512&&r!==null&&qu(r,r.return);break;case 5:if(Cs(t,e),si(e),n&512&&r!==null&&qu(r,r.return),e.flags&32){var a=e.stateNode;try{Ch(a,"")}catch(v){Pr(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&uC(a,s),cb(c,o);var u=cb(c,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?mC(a,f):d==="dangerouslySetInnerHTML"?hC(a,f):d==="children"?Ch(a,f):q2(a,d,f,u)}switch(c){case"input":ab(a,s);break;case"textarea":dC(a,s);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Qu(a,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Qu(a,!!s.multiple,s.defaultValue,!0):Qu(a,!!s.multiple,s.multiple?[]:"",!1))}a[Oh]=s}catch(v){Pr(e,e.return,v)}}break;case 6:if(Cs(t,e),si(e),n&4){if(e.stateNode===null)throw Error(Ee(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){Pr(e,e.return,v)}}break;case 3:if(Cs(t,e),si(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(v){Pr(e,e.return,v)}break;case 4:Cs(t,e),si(e);break;case 13:Cs(t,e),si(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Cw=Rr())),n&4&&rS(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?($n=(u=$n)||d,Cs(t,e),$n=u):Cs(t,e),si(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Ke=e,d=e.child;d!==null;){for(f=Ke=d;Ke!==null;){switch(p=Ke,m=p.child,p.tag){case 0:case 11:case 14:case 15:vh(4,p,p.return);break;case 1:qu(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Pr(n,r,v)}}break;case 5:qu(p,p.return);break;case 22:if(p.memoizedState!==null){aS(f);continue}}m!==null?(m.return=p,Ke=m):aS(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=pC("display",o))}catch(v){Pr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Pr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cs(t,e),si(e),n&4&&rS(e);break;case 21:break;default:Cs(t,e),si(e)}}function si(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(UD(r)){var n=r;break e}r=r.return}throw Error(Ee(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Ch(a,""),n.flags&=-33);var s=tS(e);$b(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,c=tS(e);Fb(e,c,o);break;default:throw Error(Ee(161))}}catch(l){Pr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KT(e,t,r){Ke=e,WD(e)}function WD(e,t,r){for(var n=(e.mode&1)!==0;Ke!==null;){var a=Ke,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||Gm;if(!o){var c=a.alternate,l=c!==null&&c.memoizedState!==null||$n;c=Gm;var u=$n;if(Gm=o,($n=l)&&!u)for(Ke=a;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?sS(a):l!==null?(l.return=o,Ke=l):sS(a);for(;s!==null;)Ke=s,WD(s),s=s.sibling;Ke=a,Gm=c,$n=u}nS(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Ke=s):nS(e)}}function nS(e){for(;Ke!==null;){var t=Ke;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$n||kv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!$n)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Es(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&zj(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zj(t,o,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Eh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ee(163))}$n||t.flags&512&&Rb(t)}catch(p){Pr(t,t.return,p)}}if(t===e){Ke=null;break}if(r=t.sibling,r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function aS(e){for(;Ke!==null;){var t=Ke;if(t===e){Ke=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Ke=r;break}Ke=t.return}}function sS(e){for(;Ke!==null;){var t=Ke;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kv(4,t)}catch(l){Pr(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Pr(t,a,l)}}var s=t.return;try{Rb(t)}catch(l){Pr(t,s,l)}break;case 5:var o=t.return;try{Rb(t)}catch(l){Pr(t,o,l)}}}catch(l){Pr(t,t.return,l)}if(t===e){Ke=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Ke=c;break}Ke=t.return}}var XT=Math.ceil,kg=Po.ReactCurrentDispatcher,Sw=Po.ReactCurrentOwner,ss=Po.ReactCurrentBatchConfig,At=0,hn=null,Xr=null,jn=0,_a=0,Gu=Al(0),nn=0,zh=null,Cc=0,Cv=0,kw=0,xh=null,da=null,Cw=0,bd=1/0,no=null,Cg=!1,Ub=null,vl=null,Km=!1,ol=null,Dg=0,yh=0,zb=null,A0=-1,L0=0;function Jn(){return At&6?Rr():A0!==-1?A0:A0=Rr()}function xl(e){return e.mode&1?At&2&&jn!==0?jn&-jn:LT.transition!==null?(L0===0&&(L0=DC()),L0):(e=Gt,e!==0||(e=window.event,e=e===void 0?16:TC(e.type)),e):1}function Rs(e,t,r,n){if(50<yh)throw yh=0,zb=null,Error(Ee(185));mp(e,r,n),(!(At&2)||e!==hn)&&(e===hn&&(!(At&2)&&(Cv|=r),nn===4&&sl(e,jn)),ma(e,n),r===1&&At===0&&!(t.mode&1)&&(bd=Rr()+500,Nv&&Ll()))}function ma(e,t){var r=e.callbackNode;LL(e,t);var n=ug(e,e===hn?jn:0);if(n===0)r!==null&&pj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pj(r),t===1)e.tag===0?AT(iS.bind(null,e)):ZC(iS.bind(null,e)),_T(function(){!(At&6)&&Ll()}),r=null;else{switch(_C(n)){case 1:r=J2;break;case 4:r=kC;break;case 16:r=cg;break;case 536870912:r=CC;break;default:r=cg}r=QD(r,HD.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function HD(e,t){if(A0=-1,L0=0,At&6)throw Error(Ee(327));var r=e.callbackNode;if(rd()&&e.callbackNode!==r)return null;var n=ug(e,e===hn?jn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_g(e,n);else{t=n;var a=At;At|=2;var s=VD();(hn!==e||jn!==t)&&(no=null,bd=Rr()+500,fc(e,t));do try{ZT();break}catch(c){YD(e,c)}while(!0);dw(),kg.current=s,At=a,Xr!==null?t=0:(hn=null,jn=0,t=nn)}if(t!==0){if(t===2&&(a=pb(e),a!==0&&(n=a,t=Bb(e,a))),t===1)throw r=zh,fc(e,0),sl(e,n),ma(e,Rr()),r;if(t===6)sl(e,n);else{if(a=e.current.alternate,!(n&30)&&!QT(a)&&(t=_g(e,n),t===2&&(s=pb(e),s!==0&&(n=s,t=Bb(e,s))),t===1))throw r=zh,fc(e,0),sl(e,n),ma(e,Rr()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Ee(345));case 2:ec(e,da,no);break;case 3:if(sl(e,n),(n&130023424)===n&&(t=Cw+500-Rr(),10<t)){if(ug(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Jn(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Nb(ec.bind(null,e,da,no),t);break}ec(e,da,no);break;case 4:if(sl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Is(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Rr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XT(n/1960))-n,10<n){e.timeoutHandle=Nb(ec.bind(null,e,da,no),n);break}ec(e,da,no);break;case 5:ec(e,da,no);break;default:throw Error(Ee(329))}}}return ma(e,Rr()),e.callbackNode===r?HD.bind(null,e):null}function Bb(e,t){var r=xh;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),e=_g(e,t),e!==2&&(t=da,da=r,t!==null&&Wb(t)),e}function Wb(e){da===null?da=e:da.push.apply(da,e)}function QT(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Us(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function sl(e,t){for(t&=~kw,t&=~Cv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Is(t),n=1<<r;e[r]=-1,t&=~n}}function iS(e){if(At&6)throw Error(Ee(327));rd();var t=ug(e,0);if(!(t&1))return ma(e,Rr()),null;var r=_g(e,t);if(e.tag!==0&&r===2){var n=pb(e);n!==0&&(t=n,r=Bb(e,n))}if(r===1)throw r=zh,fc(e,0),sl(e,t),ma(e,Rr()),r;if(r===6)throw Error(Ee(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ec(e,da,no),ma(e,Rr()),null}function Dw(e,t){var r=At;At|=1;try{return e(t)}finally{At=r,At===0&&(bd=Rr()+500,Nv&&Ll())}}function Dc(e){ol!==null&&ol.tag===0&&!(At&6)&&rd();var t=At;At|=1;var r=ss.transition,n=Gt;try{if(ss.transition=null,Gt=1,e)return e()}finally{Gt=n,ss.transition=r,At=t,!(At&6)&&Ll()}}function _w(){_a=Gu.current,fr(Gu)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,DT(r)),Xr!==null)for(r=Xr.return;r!==null;){var n=r;switch(lw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mg();break;case 3:xd(),fr(ha),fr(Wn),vw();break;case 5:gw(n);break;case 4:xd();break;case 13:fr(br);break;case 19:fr(br);break;case 10:fw(n.type._context);break;case 22:case 23:_w()}r=r.return}if(hn=e,Xr=e=yl(e.current,null),jn=_a=t,nn=0,zh=null,kw=Cv=Cc=0,da=xh=null,oc!==null){for(t=0;t<oc.length;t++)if(r=oc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}oc=null}return e}function YD(e,t){do{var r=Xr;try{if(dw(),P0.current=Sg,jg){for(var n=Nr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}jg=!1}if(kc=0,dn=rn=Nr=null,gh=!1,Fh=0,Sw.current=null,r===null||r.return===null){nn=1,zh=t,Xr=null;break}e:{var s=e,o=r.return,c=r,l=t;if(t=jn,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=c,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qj(o);if(m!==null){m.flags&=-257,Gj(m,o,c,s,t),m.mode&1&&Vj(s,u,t),t=m,l=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(l),t.updateQueue=v}else y.add(l);break e}else{if(!(t&1)){Vj(s,u,t),Pw();break e}l=Error(Ee(426))}}else if(vr&&c.mode&1){var w=qj(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Gj(w,o,c,s,t),cw(yd(l,c));break e}}s=l=yd(l,c),nn!==4&&(nn=2),xh===null?xh=[s]:xh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=_D(s,l,t);Uj(s,g);break e;case 1:c=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(vl===null||!vl.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=PD(s,c,t);Uj(s,j);break e}}s=s.return}while(s!==null)}GD(r)}catch(P){t=P,Xr===r&&r!==null&&(Xr=r=r.return);continue}break}while(!0)}function VD(){var e=kg.current;return kg.current=Sg,e===null?Sg:e}function Pw(){(nn===0||nn===3||nn===2)&&(nn=4),hn===null||!(Cc&268435455)&&!(Cv&268435455)||sl(hn,jn)}function _g(e,t){var r=At;At|=2;var n=VD();(hn!==e||jn!==t)&&(no=null,fc(e,t));do try{JT();break}catch(a){YD(e,a)}while(!0);if(dw(),At=r,kg.current=n,Xr!==null)throw Error(Ee(261));return hn=null,jn=0,nn}function JT(){for(;Xr!==null;)qD(Xr)}function ZT(){for(;Xr!==null&&!SL();)qD(Xr)}function qD(e){var t=XD(e.alternate,e,_a);e.memoizedProps=e.pendingProps,t===null?GD(e):Xr=t,Sw.current=null}function GD(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=VT(r,t),r!==null){r.flags&=32767,Xr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{nn=6,Xr=null;return}}else if(r=YT(r,t,_a),r!==null){Xr=r;return}if(t=t.sibling,t!==null){Xr=t;return}Xr=t=e}while(t!==null);nn===0&&(nn=5)}function ec(e,t,r){var n=Gt,a=ss.transition;try{ss.transition=null,Gt=1,eO(e,t,r,n)}finally{ss.transition=a,Gt=n}return null}function eO(e,t,r,n){do rd();while(ol!==null);if(At&6)throw Error(Ee(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Ee(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(TL(e,s),e===hn&&(Xr=hn=null,jn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Km||(Km=!0,QD(cg,function(){return rd(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ss.transition,ss.transition=null;var o=Gt;Gt=1;var c=At;At|=4,Sw.current=null,GT(e,r),BD(r,e),bT(bb),dg=!!yb,bb=yb=null,e.current=r,KT(r),kL(),At=c,Gt=o,ss.transition=s}else e.current=r;if(Km&&(Km=!1,ol=e,Dg=a),s=e.pendingLanes,s===0&&(vl=null),_L(r.stateNode),ma(e,Rr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Cg)throw Cg=!1,e=Ub,Ub=null,e;return Dg&1&&e.tag!==0&&rd(),s=e.pendingLanes,s&1?e===zb?yh++:(yh=0,zb=e):yh=0,Ll(),null}function rd(){if(ol!==null){var e=_C(Dg),t=ss.transition,r=Gt;try{if(ss.transition=null,Gt=16>e?16:e,ol===null)var n=!1;else{if(e=ol,ol=null,Dg=0,At&6)throw Error(Ee(331));var a=At;for(At|=4,Ke=e.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var c=s.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(Ke=u;Ke!==null;){var d=Ke;switch(d.tag){case 0:case 11:case 15:vh(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ke=f;else for(;Ke!==null;){d=Ke;var p=d.sibling,m=d.return;if($D(d),d===u){Ke=null;break}if(p!==null){p.return=m,Ke=p;break}Ke=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vh(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Ke=g;break e}Ke=s.return}}var x=e.current;for(Ke=x;Ke!==null;){o=Ke;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Ke=S;else e:for(o=x;Ke!==null;){if(c=Ke,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:kv(9,c)}}catch(P){Pr(c,c.return,P)}if(c===o){Ke=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,Ke=j;break e}Ke=c.return}}if(At=a,Ll(),wi&&typeof wi.onPostCommitFiberRoot=="function")try{wi.onPostCommitFiberRoot(vv,e)}catch{}n=!0}return n}finally{Gt=r,ss.transition=t}}return!1}function oS(e,t,r){t=yd(r,t),t=_D(e,t,1),e=gl(e,t,1),t=Jn(),e!==null&&(mp(e,1,t),ma(e,t))}function Pr(e,t,r){if(e.tag===3)oS(e,e,r);else for(;t!==null;){if(t.tag===3){oS(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(vl===null||!vl.has(n))){e=yd(r,e),e=PD(t,e,1),t=gl(t,e,1),e=Jn(),t!==null&&(mp(t,1,e),ma(t,e));break}}t=t.return}}function tO(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Jn(),e.pingedLanes|=e.suspendedLanes&r,hn===e&&(jn&r)===r&&(nn===4||nn===3&&(jn&130023424)===jn&&500>Rr()-Cw?fc(e,0):kw|=r),ma(e,t)}function KD(e,t){t===0&&(e.mode&1?(t=$m,$m<<=1,!($m&130023424)&&($m=4194304)):t=1);var r=Jn();e=No(e,t),e!==null&&(mp(e,t,r),ma(e,r))}function rO(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),KD(e,r)}function nO(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Ee(314))}n!==null&&n.delete(t),KD(e,r)}var XD;XD=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ha.current)fa=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fa=!1,HT(e,t,r);fa=!!(e.flags&131072)}else fa=!1,vr&&t.flags&1048576&&eD(t,xg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;M0(e,t),e=t.pendingProps;var a=md(t,Wn.current);td(t,r),a=yw(null,t,n,e,a,r);var s=bw();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pa(n)?(s=!0,gg(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,pw(t),a.updater=Sv,t.stateNode=a,a._reactInternals=t,Pb(t,n,e,r),t=Ab(null,t,n,!0,s,r)):(t.tag=0,vr&&s&&ow(t),Kn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(M0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=sO(n),e=Es(n,e),a){case 0:t=Mb(null,t,n,e,r);break e;case 1:t=Qj(null,t,n,e,r);break e;case 11:t=Kj(null,t,n,e,r);break e;case 14:t=Xj(null,t,n,Es(n.type,e),r);break e}throw Error(Ee(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Es(n,a),Mb(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Es(n,a),Qj(e,t,n,a,r);case 3:e:{if(LD(t),e===null)throw Error(Ee(387));n=t.pendingProps,s=t.memoizedState,a=s.element,iD(e,t),wg(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=yd(Error(Ee(423)),t),t=Jj(e,t,n,r,a);break e}else if(n!==a){a=yd(Error(Ee(424)),t),t=Jj(e,t,n,r,a);break e}else for(Ea=ml(t.stateNode.containerInfo.firstChild),Aa=t,vr=!0,Ls=null,r=aD(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(gd(),n===a){t=jo(e,t,r);break e}Kn(e,t,n,r)}t=t.child}return t;case 5:return oD(t),e===null&&Cb(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,wb(n,a)?o=null:s!==null&&wb(n,s)&&(t.flags|=32),AD(e,t),Kn(e,t,o,r),t.child;case 6:return e===null&&Cb(t),null;case 13:return TD(e,t,r);case 4:return mw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=vd(t,null,n,r):Kn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Es(n,a),Kj(e,t,n,a,r);case 7:return Kn(e,t,t.pendingProps,r),t.child;case 8:return Kn(e,t,t.pendingProps.children,r),t.child;case 12:return Kn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,ir(yg,n._currentValue),n._currentValue=o,s!==null)if(Us(s.value,o)){if(s.children===a.children&&!ha.current){t=jo(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){o=s.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=uo(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Db(s.return,r,t),c.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ee(341));o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Db(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,td(t,r),a=os(a),n=n(a),t.flags|=1,Kn(e,t,n,r),t.child;case 14:return n=t.type,a=Es(n,t.pendingProps),a=Es(n.type,a),Xj(e,t,n,a,r);case 15:return ED(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Es(n,a),M0(e,t),t.tag=1,pa(n)?(e=!0,gg(t)):e=!1,td(t,r),DD(t,n,a),Pb(t,n,a,r),Ab(null,t,n,!0,e,r);case 19:return OD(e,t,r);case 22:return MD(e,t,r)}throw Error(Ee(156,t.tag))};function QD(e,t){return SC(e,t)}function aO(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(e,t,r,n){return new aO(e,t,r,n)}function Ew(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sO(e){if(typeof e=="function")return Ew(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K2)return 11;if(e===X2)return 14}return 2}function yl(e,t){var r=e.alternate;return r===null?(r=as(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function T0(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")Ew(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Fu:return hc(r.children,a,s,t);case G2:o=8,a|=8;break;case Z1:return e=as(12,r,t,a|2),e.elementType=Z1,e.lanes=s,e;case eb:return e=as(13,r,t,a),e.elementType=eb,e.lanes=s,e;case tb:return e=as(19,r,t,a),e.elementType=tb,e.lanes=s,e;case oC:return Dv(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sC:o=10;break e;case iC:o=9;break e;case K2:o=11;break e;case X2:o=14;break e;case rl:o=16,n=null;break e}throw Error(Ee(130,e==null?e:typeof e,""))}return t=as(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function hc(e,t,r,n){return e=as(7,e,n,t),e.lanes=r,e}function Dv(e,t,r,n){return e=as(22,e,n,t),e.elementType=oC,e.lanes=r,e.stateNode={isHidden:!1},e}function s1(e,t,r){return e=as(6,e,null,t),e.lanes=r,e}function i1(e,t,r){return t=as(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function iO(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uy(0),this.expirationTimes=Uy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uy(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Mw(e,t,r,n,a,s,o,c,l){return e=new iO(e,t,r,c,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=as(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pw(s),e}function oO(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function JD(e){if(!e)return Sl;e=e._reactInternals;e:{if(Bc(e)!==e||e.tag!==1)throw Error(Ee(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ee(171))}if(e.tag===1){var r=e.type;if(pa(r))return JC(e,r,t)}return t}function ZD(e,t,r,n,a,s,o,c,l){return e=Mw(r,n,!0,e,a,s,o,c,l),e.context=JD(null),r=e.current,n=Jn(),a=xl(r),s=uo(n,a),s.callback=t??null,gl(r,s,a),e.current.lanes=a,mp(e,a,n),ma(e,n),e}function _v(e,t,r,n){var a=t.current,s=Jn(),o=xl(a);return r=JD(r),t.context===null?t.context=r:t.pendingContext=r,t=uo(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=gl(a,t,o),e!==null&&(Rs(e,a,o,s),_0(e,a,o)),o}function Pg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Aw(e,t){lS(e,t),(e=e.alternate)&&lS(e,t)}function lO(){return null}var e6=typeof reportError=="function"?reportError:function(e){console.error(e)};function Lw(e){this._internalRoot=e}Pv.prototype.render=Lw.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ee(409));_v(e,t,null,null)};Pv.prototype.unmount=Lw.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dc(function(){_v(null,e,null,null)}),t[wo]=null}};function Pv(e){this._internalRoot=e}Pv.prototype.unstable_scheduleHydration=function(e){if(e){var t=MC();e={blockedOn:null,target:e,priority:t};for(var r=0;r<al.length&&t!==0&&t<al[r].priority;r++);al.splice(r,0,e),r===0&&LC(e)}};function Tw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cS(){}function cO(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Pg(o);s.call(u)}}var o=ZD(t,n,e,0,null,!1,!1,"",cS);return e._reactRootContainer=o,e[wo]=o.current,Lh(e.nodeType===8?e.parentNode:e),Dc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var c=n;n=function(){var u=Pg(l);c.call(u)}}var l=Mw(e,0,!1,null,null,!1,!1,"",cS);return e._reactRootContainer=l,e[wo]=l.current,Lh(e.nodeType===8?e.parentNode:e),Dc(function(){_v(t,l,r,n)}),l}function Mv(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var c=a;a=function(){var l=Pg(o);c.call(l)}}_v(t,o,e,a)}else o=cO(r,t,e,a,n);return Pg(o)}PC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ih(t.pendingLanes);r!==0&&(Z2(t,r|1),ma(t,Rr()),!(At&6)&&(bd=Rr()+500,Ll()))}break;case 13:Dc(function(){var n=No(e,1);if(n!==null){var a=Jn();Rs(n,e,1,a)}}),Aw(e,1)}};ew=function(e){if(e.tag===13){var t=No(e,134217728);if(t!==null){var r=Jn();Rs(t,e,134217728,r)}Aw(e,134217728)}};EC=function(e){if(e.tag===13){var t=xl(e),r=No(e,t);if(r!==null){var n=Jn();Rs(r,e,t,n)}Aw(e,t)}};MC=function(){return Gt};AC=function(e,t){var r=Gt;try{return Gt=e,t()}finally{Gt=r}};db=function(e,t,r){switch(t){case"input":if(ab(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=wv(n);if(!a)throw Error(Ee(90));cC(n),ab(n,a)}}}break;case"textarea":dC(e,r);break;case"select":t=r.value,t!=null&&Qu(e,!!r.multiple,t,!1)}};xC=Dw;yC=Dc;var uO={usingClientEntryPoint:!1,Events:[vp,Bu,wv,gC,vC,Dw]},zf={findFiberByHostInstance:ic,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dO={bundleType:zf.bundleType,version:zf.version,rendererPackageName:zf.rendererPackageName,rendererConfig:zf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Po.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=NC(e),e===null?null:e.stateNode},findFiberByHostInstance:zf.findFiberByHostInstance||lO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xm.isDisabled&&Xm.supportsFiber)try{vv=Xm.inject(dO),wi=Xm}catch{}}Ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uO;Ra.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tw(t))throw Error(Ee(200));return oO(e,t,null,r)};Ra.createRoot=function(e,t){if(!Tw(e))throw Error(Ee(299));var r=!1,n="",a=e6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Mw(e,1,!1,null,null,r,!1,n,a),e[wo]=t.current,Lh(e.nodeType===8?e.parentNode:e),new Lw(t)};Ra.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ee(188)):(e=Object.keys(e).join(","),Error(Ee(268,e)));return e=NC(t),e=e===null?null:e.stateNode,e};Ra.flushSync=function(e){return Dc(e)};Ra.hydrate=function(e,t,r){if(!Ev(t))throw Error(Ee(200));return Mv(null,e,t,!0,r)};Ra.hydrateRoot=function(e,t,r){if(!Tw(e))throw Error(Ee(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=e6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ZD(t,null,e,1,r??null,a,!1,s,o),e[wo]=t.current,Lh(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Pv(t)};Ra.render=function(e,t,r){if(!Ev(t))throw Error(Ee(200));return Mv(null,e,t,!1,r)};Ra.unmountComponentAtNode=function(e){if(!Ev(e))throw Error(Ee(40));return e._reactRootContainer?(Dc(function(){Mv(null,null,e,!1,function(){e._reactRootContainer=null,e[wo]=null})}),!0):!1};Ra.unstable_batchedUpdates=Dw;Ra.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ev(r))throw Error(Ee(200));if(e==null||e._reactInternals===void 0)throw Error(Ee(38));return Mv(e,t,r,!1,n)};Ra.version="18.3.1-next-f1338f8080-20240426";function t6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t6)}catch(e){console.error(e)}}t6(),tC.exports=Ra;var Av=tC.exports;const Ow=wa(Av);var r6,uS=Av;r6=uS.createRoot,uS.hydrateRoot;var Iw={};Object.defineProperty(Iw,"__esModule",{value:!0});Iw.parse=xO;Iw.serialize=yO;const fO=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,hO=/^[\u0021-\u003A\u003C-\u007E]*$/,pO=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,mO=/^[\u0020-\u003A\u003D-\u007E]*$/,gO=Object.prototype.toString,vO=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function xO(e,t){const r=new vO,n=e.length;if(n<2)return r;const a=(t==null?void 0:t.decode)||bO;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const c=e.indexOf(";",s),l=c===-1?n:c;if(o>l){s=e.lastIndexOf(";",o-1)+1;continue}const u=dS(e,s,o),d=fS(e,o,u),f=e.slice(u,d);if(r[f]===void 0){let p=dS(e,o+1,l),m=fS(e,l,p);const y=a(e.slice(p,m));r[f]=y}s=l+1}while(s<n);return r}function dS(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function fS(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function yO(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!fO.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=n(t);if(!hO.test(a))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+a;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!pO.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!mO.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!wO(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function bO(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function wO(e){return gO.call(e)==="[object Date]"}var hS="popstate";function NO(e={}){function t(n,a){let{pathname:s,search:o,hash:c}=n.location;return Hb("",{pathname:s,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Bh(a)}return SO(t,r,null,e)}function sn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jO(){return Math.random().toString(36).substring(2,10)}function pS(e,t){return{usr:e.state,key:e.key,idx:t}}function Hb(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?yp(t):t,state:r,key:t&&t.key||n||jO()}}function Bh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function yp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function SO(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,c="POP",l=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){c="POP";let w=d(),g=w==null?null:w-u;u=w,l&&l({action:c,location:v.location,delta:g})}function p(w,g){c="PUSH";let x=Hb(v.location,w,g);u=d()+1;let S=pS(x,u),j=v.createHref(x);try{o.pushState(S,"",j)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(j)}s&&l&&l({action:c,location:v.location,delta:1})}function m(w,g){c="REPLACE";let x=Hb(v.location,w,g);u=d();let S=pS(x,u),j=v.createHref(x);o.replaceState(S,"",j),s&&l&&l({action:c,location:v.location,delta:0})}function y(w){return kO(w)}let v={get action(){return c},get location(){return e(a,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(hS,f),l=w,()=>{a.removeEventListener(hS,f),l=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(w){return o.go(w)}};return v}function kO(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),sn(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Bh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function n6(e,t,r="/"){return CO(e,t,r,!1)}function CO(e,t,r,n){let a=typeof t=="string"?yp(t):t,s=So(a.pathname||"/",r);if(s==null)return null;let o=a6(e);DO(o);let c=null;for(let l=0;c==null&&l<o.length;++l){let u=FO(s);c=IO(o[l],u,n)}return c}function a6(e,t=[],r=[],n=""){let a=(s,o,c)=>{let l={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(sn(l.relativePath.startsWith(n),`Absolute route path "${l.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(n.length));let u=fo([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(sn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),a6(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:TO(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))a(s,o);else for(let l of s6(s.path))a(s,o,l)}),t}function s6(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=s6(n.join("/")),c=[];return c.push(...o.map(l=>l===""?s:[s,l].join("/"))),a&&c.push(...o),c.map(l=>e.startsWith("/")&&l===""?"/":l)}function DO(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:OO(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var _O=/^:[\w-]+$/,PO=3,EO=2,MO=1,AO=10,LO=-2,mS=e=>e==="*";function TO(e,t){let r=e.split("/"),n=r.length;return r.some(mS)&&(n+=LO),t&&(n+=EO),r.filter(a=>!mS(a)).reduce((a,s)=>a+(_O.test(s)?PO:s===""?MO:AO),n)}function OO(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function IO(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",o=[];for(let c=0;c<n.length;++c){let l=n[c],u=c===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=Eg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Eg({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:fo([s,f.pathname]),pathnameBase:BO(fo([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=fo([s,f.pathnameBase]))}return o}function Eg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=RO(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},p)=>{if(d==="*"){let y=c[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=c[p];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function RO(e,t=!1,r=!0){Mi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,l)=>(n.push({paramName:c,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function FO(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function So(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function $O(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?yp(e):e;return{pathname:r?r.startsWith("/")?r:UO(r,t):t,search:WO(n),hash:HO(a)}}function UO(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function o1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zO(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function i6(e){let t=zO(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function o6(e,t,r,n=!1){let a;typeof e=="string"?a=yp(e):(a={...e},sn(!a.pathname||!a.pathname.includes("?"),o1("?","pathname","search",a)),sn(!a.pathname||!a.pathname.includes("#"),o1("#","pathname","hash",a)),sn(!a.search||!a.search.includes("#"),o1("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,c;if(o==null)c=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;a.pathname=p.join("/")}c=f>=0?t[f]:"/"}let l=$O(a,c),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var fo=e=>e.join("/").replace(/\/\/+/g,"/"),BO=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),WO=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HO=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function YO(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var l6=["POST","PUT","PATCH","DELETE"];new Set(l6);var VO=["GET",...l6];new Set(VO);var $d=O.createContext(null);$d.displayName="DataRouter";var Lv=O.createContext(null);Lv.displayName="DataRouterState";var c6=O.createContext({isTransitioning:!1});c6.displayName="ViewTransition";var qO=O.createContext(new Map);qO.displayName="Fetchers";var GO=O.createContext(null);GO.displayName="Await";var Oi=O.createContext(null);Oi.displayName="Navigation";var Tv=O.createContext(null);Tv.displayName="Location";var Eo=O.createContext({outlet:null,matches:[],isDataRoute:!1});Eo.displayName="Route";var Rw=O.createContext(null);Rw.displayName="RouteError";function KO(e,{relative:t}={}){sn(bp(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=O.useContext(Oi),{hash:a,pathname:s,search:o}=wp(e,{relative:t}),c=s;return r!=="/"&&(c=s==="/"?r:fo([r,s])),n.createHref({pathname:c,search:o,hash:a})}function bp(){return O.useContext(Tv)!=null}function Wc(){return sn(bp(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(Tv).location}var u6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function d6(e){O.useContext(Oi).static||O.useLayoutEffect(e)}function XO(){let{isDataRoute:e}=O.useContext(Eo);return e?c8():QO()}function QO(){sn(bp(),"useNavigate() may be used only in the context of a <Router> component.");let e=O.useContext($d),{basename:t,navigator:r}=O.useContext(Oi),{matches:n}=O.useContext(Eo),{pathname:a}=Wc(),s=JSON.stringify(i6(n)),o=O.useRef(!1);return d6(()=>{o.current=!0}),O.useCallback((l,u={})=>{if(Mi(o.current,u6),!o.current)return;if(typeof l=="number"){r.go(l);return}let d=o6(l,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:fo([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}O.createContext(null);function wp(e,{relative:t}={}){let{matches:r}=O.useContext(Eo),{pathname:n}=Wc(),a=JSON.stringify(i6(r));return O.useMemo(()=>o6(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function JO(e,t,r,n){sn(bp(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Oi),{matches:s}=O.useContext(Eo),o=s[s.length-1],c=o?o.params:{},l=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let g=d&&d.path||"";f6(l,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=Wc(),p;p=f;let m=p.pathname||"/",y=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=n6(e,{pathname:y});return Mi(d||v!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Mi(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),n8(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:fo([u,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:fo([u,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n)}function ZO(){let e=l8(),t=YO(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:s},"ErrorBoundary")," or"," ",O.createElement("code",{style:s},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:a},r):null,o)}var e8=O.createElement(ZO,null),t8=class extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?O.createElement(Eo.Provider,{value:this.props.routeContext},O.createElement(Rw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function r8({routeContext:e,match:t,children:r}){let n=O.useContext($d);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),O.createElement(Eo.Provider,{value:e},r)}function n8(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let l=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);sn(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,l+1))}let o=!1,c=-1;if(r)for(let l=0;l<a.length;l++){let u=a[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(c=l),u.route.id){let{loaderData:d,errors:f}=r,p=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||p){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((l,u,d)=>{let f,p=!1,m=null,y=null;r&&(f=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||e8,o&&(c<0&&d===0?(f6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):c===d&&(p=!0,y=u.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,d+1)),w=()=>{let g;return f?g=m:p?g=y:u.route.Component?g=O.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=l,O.createElement(r8,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:r!=null},children:g})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?O.createElement(t8,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}function Fw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function a8(e){let t=O.useContext($d);return sn(t,Fw(e)),t}function s8(e){let t=O.useContext(Lv);return sn(t,Fw(e)),t}function i8(e){let t=O.useContext(Eo);return sn(t,Fw(e)),t}function $w(e){let t=i8(e),r=t.matches[t.matches.length-1];return sn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function o8(){return $w("useRouteId")}function l8(){var n;let e=O.useContext(Rw),t=s8("useRouteError"),r=$w("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function c8(){let{router:e}=a8("useNavigate"),t=$w("useNavigate"),r=O.useRef(!1);return d6(()=>{r.current=!0}),O.useCallback(async(a,s={})=>{Mi(r.current,u6),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var gS={};function f6(e,t,r){!t&&!gS[e]&&(gS[e]=!0,Mi(!1,r))}O.memo(u8);function u8({routes:e,future:t,state:r}){return JO(e,void 0,r,t)}function d8({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){sn(!bp(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=yp(r));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:p="default"}=r,m=O.useMemo(()=>{let y=So(l,o);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:p},navigationType:n}},[o,l,u,d,f,p,n]);return Mi(m!=null,`<Router basename="${o}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:O.createElement(Oi.Provider,{value:c},O.createElement(Tv.Provider,{children:t,value:m}))}var O0="get",I0="application/x-www-form-urlencoded";function Ov(e){return e!=null&&typeof e.tagName=="string"}function f8(e){return Ov(e)&&e.tagName.toLowerCase()==="button"}function h8(e){return Ov(e)&&e.tagName.toLowerCase()==="form"}function p8(e){return Ov(e)&&e.tagName.toLowerCase()==="input"}function m8(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function g8(e,t){return e.button===0&&(!t||t==="_self")&&!m8(e)}var Qm=null;function v8(){if(Qm===null)try{new FormData(document.createElement("form"),0),Qm=!1}catch{Qm=!0}return Qm}var x8=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function l1(e){return e!=null&&!x8.has(e)?(Mi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${I0}"`),null):e}function y8(e,t){let r,n,a,s,o;if(h8(e)){let c=e.getAttribute("action");n=c?So(c,t):null,r=e.getAttribute("method")||O0,a=l1(e.getAttribute("enctype"))||I0,s=new FormData(e)}else if(f8(e)||p8(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||c.getAttribute("action");if(n=l?So(l,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||O0,a=l1(e.getAttribute("formenctype"))||l1(c.getAttribute("enctype"))||I0,s=new FormData(c,e),!v8()){let{name:u,type:d,value:f}=e;if(d==="image"){let p=u?`${u}.`:"";s.append(`${p}x`,"0"),s.append(`${p}y`,"0")}else u&&s.append(u,f)}}else{if(Ov(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=O0,n=null,a=I0,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}function Uw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function b8(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function w8(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function N8(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await b8(s,r);return o.links?o.links():[]}return[]}));return C8(n.flat(1).filter(w8).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function vS(e,t,r,n,a,s){let o=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,c=(l,u)=>{var d;return r[u].pathname!==l.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return s==="assets"?t.filter((l,u)=>o(l,u)||c(l,u)):s==="data"?t.filter((l,u)=>{var f;let d=n.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(o(l,u)||c(l,u))return!0;if(l.route.shouldRevalidate){let p=l.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function j8(e,t,{includeHydrateFallback:r}={}){return S8(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function S8(e){return[...new Set(e)]}function k8(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function C8(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(k8(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var D8=new Set([100,101,204,205]);function _8(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&So(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function h6(){let e=O.useContext($d);return Uw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function P8(){let e=O.useContext(Lv);return Uw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var zw=O.createContext(void 0);zw.displayName="FrameworkContext";function p6(){let e=O.useContext(zw);return Uw(e,"You must render this element inside a <HydratedRouter> element"),e}function E8(e,t){let r=O.useContext(zw),[n,a]=O.useState(!1),[s,o]=O.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,p=O.useRef(null);O.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=g=>{g.forEach(x=>{o(x.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return p.current&&w.observe(p.current),()=>{w.disconnect()}}},[e]),O.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{a(!0)},y=()=>{a(!1),o(!1)};return r?e!=="intent"?[s,p,{}]:[s,p,{onFocus:Bf(c,m),onBlur:Bf(l,y),onMouseEnter:Bf(u,m),onMouseLeave:Bf(d,y),onTouchStart:Bf(f,m)}]:[!1,p,{}]}function Bf(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function M8({page:e,...t}){let{router:r}=h6(),n=O.useMemo(()=>n6(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?O.createElement(L8,{page:e,matches:n,...t}):null}function A8(e){let{manifest:t,routeModules:r}=p6(),[n,a]=O.useState([]);return O.useEffect(()=>{let s=!1;return N8(e,t,r).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,r]),n}function L8({page:e,matches:t,...r}){let n=Wc(),{manifest:a,routeModules:s}=p6(),{basename:o}=h6(),{loaderData:c,matches:l}=P8(),u=O.useMemo(()=>vS(e,t,l,a,n,"data"),[e,t,l,a,n]),d=O.useMemo(()=>vS(e,t,l,a,n,"assets"),[e,t,l,a,n]),f=O.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,v=!1;if(t.forEach(g=>{var S;let x=a.routes[g.route.id];!x||!x.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in c&&((S=s[g.route.id])!=null&&S.shouldRevalidate)||x.hasClientLoader?v=!0:y.add(g.route.id))}),y.size===0)return[];let w=_8(e,o);return v&&y.size>0&&w.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[o,c,n,a,u,t,e,s]),p=O.useMemo(()=>j8(d,a),[d,a]),m=A8(d);return O.createElement(O.Fragment,null,f.map(y=>O.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),p.map(y=>O.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:v})=>O.createElement("link",{key:y,...v})))}function T8(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var m6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m6&&(window.__reactRouterVersion="7.6.3")}catch{}function O8({basename:e,children:t,window:r}){let n=O.useRef();n.current==null&&(n.current=NO({window:r,v5Compat:!0}));let a=n.current,[s,o]=O.useState({action:a.action,location:a.location}),c=O.useCallback(l=>{O.startTransition(()=>o(l))},[o]);return O.useLayoutEffect(()=>a.listen(c),[a,c]),O.createElement(d8,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var g6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v6=O.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:c,target:l,to:u,preventScrollReset:d,viewTransition:f,...p},m){let{basename:y}=O.useContext(Oi),v=typeof u=="string"&&g6.test(u),w,g=!1;if(typeof u=="string"&&v&&(w=u,m6))try{let R=new URL(window.location.href),A=u.startsWith("//")?new URL(R.protocol+u):new URL(u),E=So(A.pathname,y);A.origin===R.origin&&E!=null?u=E+A.search+A.hash:g=!0}catch{Mi(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=KO(u,{relative:a}),[S,j,P]=E8(n,p),I=$8(u,{replace:o,state:c,target:l,preventScrollReset:d,relative:a,viewTransition:f});function k(R){t&&t(R),R.defaultPrevented||I(R)}let D=O.createElement("a",{...p,...P,href:w||x,onClick:g||s?t:k,ref:T8(m,j),target:l,"data-discover":!v&&r==="render"?"true":void 0});return S&&!v?O.createElement(O.Fragment,null,D,O.createElement(M8,{page:x})):D});v6.displayName="Link";var I8=O.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:c,children:l,...u},d){let f=wp(o,{relative:u.relative}),p=Wc(),m=O.useContext(Lv),{navigator:y,basename:v}=O.useContext(Oi),w=m!=null&&H8(f)&&c===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(x=x.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&v&&(S=So(S,v)||S);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let P=x===g||!a&&x.startsWith(g)&&x.charAt(j)==="/",I=S!=null&&(S===g||!a&&S.startsWith(g)&&S.charAt(g.length)==="/"),k={isActive:P,isPending:I,isTransitioning:w},D=P?t:void 0,R;typeof n=="function"?R=n(k):R=[n,P?"active":null,I?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let A=typeof s=="function"?s(k):s;return O.createElement(v6,{...u,"aria-current":D,className:R,ref:d,style:A,to:o,viewTransition:c},typeof l=="function"?l(k):l)});I8.displayName="NavLink";var R8=O.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:o=O0,action:c,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,...p},m)=>{let y=B8(),v=W8(c,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",g=typeof c=="string"&&g6.test(c),x=S=>{if(l&&l(S),S.defaultPrevented)return;S.preventDefault();let j=S.nativeEvent.submitter,P=(j==null?void 0:j.getAttribute("formmethod"))||o;y(j||S.currentTarget,{fetcherKey:t,method:P,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return O.createElement("form",{ref:m,method:w,action:v,onSubmit:n?l:x,...p,"data-discover":!g&&e==="render"?"true":void 0})});R8.displayName="Form";function F8(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x6(e){let t=O.useContext($d);return sn(t,F8(e)),t}function $8(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let c=XO(),l=Wc(),u=wp(e,{relative:s});return O.useCallback(d=>{if(g8(d,t)){d.preventDefault();let f=r!==void 0?r:Bh(l)===Bh(u);c(e,{replace:f,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[l,c,u,r,n,t,e,a,s,o])}var U8=0,z8=()=>`__${String(++U8)}__`;function B8(){let{router:e}=x6("useSubmit"),{basename:t}=O.useContext(Oi),r=o8();return O.useCallback(async(n,a={})=>{let{action:s,method:o,encType:c,formData:l,body:u}=y8(n,t);if(a.navigate===!1){let d=a.fetcherKey||z8();await e.fetch(d,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||o,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||o,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function W8(e,{relative:t}={}){let{basename:r}=O.useContext(Oi),n=O.useContext(Eo);sn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...wp(e||".",{relative:t})},o=Wc();if(e==null){s.search=o.search;let c=new URLSearchParams(s.search),l=c.getAll("index");if(l.some(d=>d==="")){c.delete("index"),l.filter(f=>f).forEach(f=>c.append("index",f));let d=c.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:fo([r,s.pathname])),Bh(s)}function H8(e,t={}){let r=O.useContext(c6);sn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=x6("useViewTransitionState"),a=wp(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=So(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=So(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Eg(a.pathname,o)!=null||Eg(a.pathname,s)!=null}[...D8];class Y8{constructor(){this.baseUrl="/api/auth",this.users=[],this.loadUsers()}loadUsers(){const t=localStorage.getItem("auth-users");if(t)try{this.users=JSON.parse(t)}catch(r){console.error("Error loading auth users:",r),this.users=this.getDefaultUsers(),this.saveUsers()}else this.users=this.getDefaultUsers(),this.saveUsers()}saveUsers(){localStorage.setItem("auth-users",JSON.stringify(this.users))}getDefaultUsers(){return[{id:"1",email:"admin@techsolutions.com",password:"admin123",name:"Administrador Sistema",role:"admin"},{id:"2",email:"usuario@techsolutions.com",password:"user123",name:"Usuario Demo",role:"user"}]}async signIn(t){await new Promise(a=>setTimeout(a,1e3));const r=this.users.find(a=>a.email.toLowerCase()===t.email.toLowerCase()&&a.password===t.password);if(!r)throw console.log("Available users:",this.users.map(a=>({email:a.email,password:a.password}))),console.log("Attempted login:",t),new Error("Credenciales invlidas. Verifica tu correo y contrasea.");return{user:{id:r.id,email:r.email,name:r.name,role:r.role,avatar:r.avatar||void 0},token:`mock_token_${r.id}_${Date.now()}`,refreshToken:`mock_refresh_${r.id}_${Date.now()}`}}async signOut(t){await new Promise(r=>setTimeout(r,500)),console.log("Token invalidated on server:",t)}async refreshToken(t){return await new Promise(r=>setTimeout(r,500)),{token:`refreshed_token_${Date.now()}`}}async getCurrentUser(t){await new Promise(a=>setTimeout(a,300));const r=t.split("_")[2],n=this.users.find(a=>a.id===r);if(!n)throw new Error("Token invlido");return{id:n.id,email:n.email,name:n.name,role:n.role,avatar:n.avatar||void 0}}async addUser(t){const r=this.users.find(a=>a.email.toLowerCase()===t.email.toLowerCase());if(r)return console.log("User already exists, updating:",t.email),r.name=t.name,r.role=t.role,r.password=t.password,t.avatar&&(r.avatar=t.avatar),this.saveUsers(),r;const n={...t,id:t.id||Date.now().toString()};return this.users.push(n),this.saveUsers(),console.log("New auth user created:",n.email,"password:",n.password),n}async updateUser(t,r){const n=this.users.findIndex(a=>a.id===t);if(n===-1)throw new Error("Usuario no encontrado");return this.users[n]={...this.users[n],...r},this.saveUsers(),this.users[n]}async removeUser(t){this.users=this.users.filter(r=>r.id!==t),this.saveUsers()}async changePassword(t,r){const n=this.users.findIndex(a=>a.id===t);n!==-1&&(this.users[n].password=r,this.saveUsers(),console.log("Password changed for user:",this.users[n].email,"new password:",r))}validateEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}validatePassword(t){return t.length>=6}getAllUsers(){return[...this.users]}}const Xa=new Y8,y6=O.createContext(void 0),Tl=()=>{const e=O.useContext(y6);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},b6=({children:e})=>{const[t,r]=O.useState({user:null,token:null,isAuthenticated:!1,isLoading:!0,error:null});O.useEffect(()=>{(async()=>{try{const c=localStorage.getItem("auth_token"),l=localStorage.getItem("auth_user");if(c&&l){const u=await Xa.getCurrentUser(c);r({user:u,token:c,isAuthenticated:!0,isLoading:!1,error:null})}else r(u=>({...u,isLoading:!1}))}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_refresh_token"),r({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}})()},[]);const n=async o=>{r(c=>({...c,isLoading:!0,error:null}));try{if(!Xa.validateEmail(o.email))throw new Error("Por favor ingresa un correo electrnico vlido");if(!Xa.validatePassword(o.password))throw new Error("La contrasea debe tener al menos 6 caracteres");const c=await Xa.signIn(o);localStorage.setItem("auth_token",c.token),localStorage.setItem("auth_user",JSON.stringify(c.user)),localStorage.setItem("auth_refresh_token",c.refreshToken),r({user:c.user,token:c.token,isAuthenticated:!0,isLoading:!1,error:null})}catch(c){throw r(l=>({...l,isLoading:!1,error:c instanceof Error?c.message:"Error desconocido al iniciar sesin"})),c}},a=async()=>{r(o=>({...o,isLoading:!0}));try{t.token&&await Xa.signOut(t.token)}catch(o){console.error("Error al cerrar sesin en el servidor:",o)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_refresh_token"),r({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null}),window.location.href="/login"}},s=()=>{r(o=>({...o,error:null}))};return i.jsx(y6.Provider,{value:{...t,login:n,logout:a,clearError:s},children:e})};class V8{constructor(){this.users=[],this.initialized=!1,this.loadUsers()}loadUsers(){if(this.initialized)return;const t=localStorage.getItem("crm-users");if(t)try{const r=JSON.parse(t);this.users=r.map(n=>({...n,fechaRegistro:new Date(n.fechaRegistro),fechaActualizacion:n.fechaActualizacion?new Date(n.fechaActualizacion):void 0,ultimoAcceso:n.ultimoAcceso?new Date(n.ultimoAcceso):void 0,historialActividad:n.historialActividad.map(a=>({...a,fecha:new Date(a.fecha)}))}))}catch(r){console.error("Error loading users:",r),this.users=this.getDefaultUsers()}else this.users=this.getDefaultUsers();this.initialized=!0,this.saveUsers()}saveUsers(){localStorage.setItem("crm-users",JSON.stringify(this.users))}getDefaultUsers(){return[{id:"1",nombre:"Administrador",apellido:"Sistema",email:"admin@techsolutions.com",telefono:"+52 55 1234 5678",rol:"admin",estado:"active",departamento:"Administracin",cargo:"Administrador del Sistema",fechaRegistro:new Date("2024-01-01"),ultimoAcceso:new Date,permisos:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","delete","approve"]},{modulo:"products",acciones:["view","create","edit","delete"]},{modulo:"users",acciones:["view","create","edit","delete","invite"]},{modulo:"reports",acciones:["view","export"]},{modulo:"settings",acciones:["view","edit"]}],configuracion:{idioma:"es",timezone:"America/Mexico_City",notificaciones:{email:!0,push:!0,sms:!1},tema:"light"},estadisticas:{prospectosManagedos:25,cotizacionesCreadas:15,ventasCerradas:8,tasaConversion:32,tiempoPromedioRespuesta:2.5},historialActividad:[{id:"1",fecha:new Date,accion:"Inicio de sesin",modulo:"auth",detalles:"Usuario inici sesin en el sistema",ip:"192.168.1.100"}]},{id:"2",nombre:"Usuario",apellido:"Demo",email:"usuario@techsolutions.com",telefono:"+52 55 8765 4321",rol:"agent",estado:"active",departamento:"Ventas",cargo:"Ejecutivo de Ventas",fechaRegistro:new Date("2024-01-15"),ultimoAcceso:new Date(Date.now()-864e5),permisos:[{modulo:"prospects",acciones:["view","create","edit"]},{modulo:"quotes",acciones:["view","create","edit"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}],configuracion:{idioma:"es",timezone:"America/Mexico_City",notificaciones:{email:!0,push:!0,sms:!1},tema:"light"},estadisticas:{prospectosManagedos:12,cotizacionesCreadas:8,ventasCerradas:3,tasaConversion:25,tiempoPromedioRespuesta:3.2},historialActividad:[{id:"1",fecha:new Date(Date.now()-864e5),accion:"Cre prospecto",modulo:"prospects",detalles:"Cre nuevo prospecto: Mara Garca",ip:"192.168.1.101"}]}]}async getAllUsers(){return await new Promise(t=>setTimeout(t,300)),[...this.users]}async getUserById(t){return await new Promise(r=>setTimeout(r,200)),this.users.find(r=>r.id===t)||null}async createUser(t){if(console.log("UserService: createUser called with:",t),await new Promise(a=>setTimeout(a,500)),this.users.some(a=>a.email.toLowerCase()===t.email.toLowerCase()))throw new Error("Ya existe un usuario con este correo electrnico");const r={...t,id:Date.now().toString(),fechaRegistro:new Date,historialActividad:[{id:"1",fecha:new Date,accion:"Usuario creado",modulo:"users",detalles:"Usuario creado en el sistema"}]};console.log("UserService: Creating new user:",r),this.users.unshift(r),this.saveUsers();const n="temp123";try{console.log("UserService: Adding user to auth service with default password"),await Xa.addUser({id:r.id,email:r.email,password:n,name:`${r.nombre} ${r.apellido}`,role:r.rol==="admin"?"admin":"user"}),console.log(`UserService: Usuario creado exitosamente: ${r.email} con contrasea: ${n}`)}catch(a){throw console.error("UserService: Error adding user to auth service:",a),this.users=this.users.filter(s=>s.id!==r.id),this.saveUsers(),new Error("Error al crear las credenciales de acceso del usuario")}return console.log("UserService: User created successfully:",r),r}async createUserWithPassword(t,r){console.log("UserService: createUserWithPassword called with:",t,"password provided:",!!r);const n=await this.createUser(t),a=r||"temp123";try{console.log("UserService: Adding user to auth service with custom password"),await Xa.addUser({id:n.id,email:n.email,password:a,name:`${n.nombre} ${n.apellido}`,role:n.rol==="admin"?"admin":"user"}),console.log(`UserService: Usuario creado exitosamente: ${n.email} con contrasea: ${a}`)}catch(s){throw console.error("UserService: Error adding user to auth service:",s),this.users=this.users.filter(o=>o.id!==n.id),this.saveUsers(),new Error("Error al crear las credenciales de acceso del usuario")}return n}async updateUser(t,r){console.log("UserService: updateUser called with:",{id:t,updates:r}),await new Promise(s=>setTimeout(s,400));const n=this.users.findIndex(s=>s.id===t);if(n===-1)throw new Error("Usuario no encontrado");if(r.email&&r.email!==this.users[n].email&&this.users.some(s=>s.email.toLowerCase()===r.email.toLowerCase()&&s.id!==t))throw new Error("Ya existe un usuario con este correo electrnico");const a={...this.users[n],...r,fechaActualizacion:new Date};if(this.users[n]=a,this.saveUsers(),r.email||r.nombre||r.apellido||r.rol)try{await Xa.updateUser(t,{email:a.email,name:`${a.nombre} ${a.apellido}`,role:a.rol==="admin"?"admin":"user"})}catch(s){console.error("Error updating user in auth service:",s)}return console.log("UserService: User updated successfully:",a),a}async deleteUser(t){await new Promise(a=>setTimeout(a,300));const r=this.users.findIndex(a=>a.id===t);if(r===-1)throw new Error("Usuario no encontrado");if(this.users[r].rol==="admin"&&this.users.filter(s=>s.rol==="admin"&&s.id!==t).length===0)throw new Error("No se puede eliminar el ltimo administrador del sistema");this.users.splice(r,1),this.saveUsers();try{await Xa.removeUser(t)}catch(a){console.error("Error removing user from auth service:",a)}}async changeUserStatus(t,r){await new Promise(a=>setTimeout(a,200));const n=await this.updateUser(t,{estado:r});return this.addActivityLog(t,{accion:`Estado cambiado a ${r}`,modulo:"users",detalles:`El estado del usuario fue cambiado a ${r}`}),n}async changePassword(t,r,n){await new Promise(a=>setTimeout(a,400));try{await Xa.changePassword(t,n),this.addActivityLog(t,{accion:"Contrasea cambiada",modulo:"security",detalles:"El usuario cambi su contrasea"})}catch(a){throw console.error("Error changing password:",a),new Error("Error al cambiar la contrasea")}}async addActivityLog(t,r){const n=this.users.findIndex(s=>s.id===t);if(n===-1)return;const a={...r,id:Date.now().toString(),fecha:new Date};this.users[n].historialActividad.unshift(a),this.saveUsers()}async importUsers(t){await new Promise(a=>setTimeout(a,1e3));const r=[],n=[];for(const a of t)try{if(this.users.some(o=>o.email.toLowerCase()===a.email.toLowerCase())){n.push(`Email duplicado: ${a.email}`);continue}const s=await this.createUser({...a,estado:"pending",permisos:this.getDefaultPermissions(a.rol),configuracion:{idioma:"es",timezone:"America/Mexico_City",notificaciones:{email:!0,push:!0,sms:!1},tema:"light"},estadisticas:{prospectosManagedos:0,cotizacionesCreadas:0,ventasCerradas:0,tasaConversion:0,tiempoPromedioRespuesta:0}});r.push(s)}catch(s){n.push(`Error creando usuario ${a.email}: ${s}`)}return n.length>0&&console.warn("Errores durante la importacin:",n),r}async exportUsers(){return await new Promise(n=>setTimeout(n,500)),[["nombre","apellido","email","telefono","rol","estado","departamento","cargo","fechaRegistro","ultimoAcceso","prospectosManagedos","cotizacionesCreadas","ventasCerradas"].join(","),...this.users.map(n=>[n.nombre,n.apellido,n.email,n.telefono||"",n.rol,n.estado,n.departamento||"",n.cargo||"",n.fechaRegistro.toISOString().split("T")[0],n.ultimoAcceso?n.ultimoAcceso.toISOString().split("T")[0]:"",n.estadisticas.prospectosManagedos,n.estadisticas.cotizacionesCreadas,n.estadisticas.ventasCerradas].join(","))].join(`
`)}getDefaultPermissions(t){const r={admin:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","delete","approve"]},{modulo:"products",acciones:["view","create","edit","delete"]},{modulo:"users",acciones:["view","create","edit","delete","invite"]},{modulo:"reports",acciones:["view","export"]},{modulo:"settings",acciones:["view","edit"]}],manager:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","approve"]},{modulo:"products",acciones:["view","create","edit"]},{modulo:"users",acciones:["view","invite"]},{modulo:"reports",acciones:["view","export"]},{modulo:"settings",acciones:["view"]}],agent:[{modulo:"prospects",acciones:["view","create","edit"]},{modulo:"quotes",acciones:["view","create","edit"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}],viewer:[{modulo:"prospects",acciones:["view"]},{modulo:"quotes",acciones:["view"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}]};return r[t]||r.viewer}async getUserProspects(t){return await new Promise(r=>setTimeout(r,200)),[]}async assignProspectToUser(t,r){await new Promise(n=>setTimeout(n,300)),this.addActivityLog(r,{accion:"Prospecto asignado",modulo:"prospects",detalles:`Se asign el prospecto ${t} al usuario`})}async updateLastAccess(t){const r=this.users.findIndex(n=>n.id===t);r!==-1&&(this.users[r].ultimoAcceso=new Date,this.saveUsers())}async setUserPassword(t,r){try{await Xa.changePassword(t,r),this.addActivityLog(t,{accion:"Contrasea establecida",modulo:"security",detalles:"Se estableci la contrasea inicial del usuario"})}catch(n){throw console.error("Error setting user password:",n),new Error("Error al establecer la contrasea del usuario")}}async debugAuthUsers(){return Xa.getAllUsers()}}const Ds=new V8,w6=O.createContext(void 0),Ud=()=>{const e=O.useContext(w6);if(!e)throw new Error("useUsers must be used within a UserProvider");return e},N6=({children:e})=>{const{user:t}=Tl(),[r,n]=O.useState([]),[a,s]=O.useState(!1),[o,c]=O.useState(null),[l,u]=O.useState(null),[d,f]=O.useState({search:"",role:"all",status:"all",sortBy:"fechaRegistro",sortOrder:"desc"}),[p,m]=O.useState({page:1,limit:10,total:0});O.useEffect(()=>{y()},[]);const y=async()=>{s(!0),c(null);try{const A=await Ds.getAllUsers();n(A),m(E=>({...E,total:A.length}))}catch(A){c(A instanceof Error?A.message:"Error cargando usuarios")}finally{s(!1)}},v=async(A,E)=>{console.log("UserContext: createUser called with:",A,"password provided:",!!E),s(!0),c(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para crear usuarios");console.log("UserContext: Calling userService.createUser");const _=E?await Ds.createUserWithPassword(A,E):await Ds.createUser(A);return console.log("UserContext: User created successfully:",_),n(F=>[_,...F]),m(F=>({...F,total:F.total+1})),_}catch(_){const F=_ instanceof Error?_.message:"Error creando usuario";throw console.error("UserContext: Error creating user:",F),c(F),new Error(F)}finally{s(!1)}},w=async(A,E)=>{s(!0),c(null);try{if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.id)!==A)throw new Error("No tienes permisos para editar este usuario");const _=await Ds.updateUser(A,E);return n(F=>F.map(L=>L.id===A?_:L)),(l==null?void 0:l.id)===A&&u(_),_}catch(_){const F=_ instanceof Error?_.message:"Error actualizando usuario";throw c(F),new Error(F)}finally{s(!1)}},g=async A=>{s(!0),c(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para eliminar usuarios");if((t==null?void 0:t.id)===A)throw new Error("No puedes eliminar tu propia cuenta");await Ds.deleteUser(A),n(E=>E.filter(_=>_.id!==A)),m(E=>({...E,total:E.total-1})),(l==null?void 0:l.id)===A&&u(null)}catch(E){const _=E instanceof Error?E.message:"Error eliminando usuario";throw c(_),new Error(_)}finally{s(!1)}},x=async(A,E)=>{s(!0),c(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para cambiar el estado de usuarios");if((t==null?void 0:t.id)===A)throw new Error("No puedes cambiar tu propio estado");const _=await Ds.changeUserStatus(A,E);n(F=>F.map(L=>L.id===A?_:L)),(l==null?void 0:l.id)===A&&u(_)}catch(_){const F=_ instanceof Error?_.message:"Error cambiando estado del usuario";throw c(F),new Error(F)}finally{s(!1)}},S=async(A,E)=>{s(!0),c(null);try{if((t==null?void 0:t.id)!==A&&(t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para cambiar esta contrasea");await Ds.changePassword(A,E.currentPassword,E.newPassword),await Ds.addActivityLog(A,{accion:"Contrasea cambiada",modulo:"security",detalles:"El usuario cambi su contrasea"});const _=await Ds.getUserById(A);_&&(n(F=>F.map(L=>L.id===A?_:L)),(l==null?void 0:l.id)===A&&u(_))}catch(_){const F=_ instanceof Error?_.message:"Error cambiando contrasea";throw c(F),new Error(F)}finally{s(!1)}},j=async A=>{s(!0),c(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para importar usuarios");const E=await Ds.importUsers(A);return n(_=>[...E,..._]),m(_=>({..._,total:_.total+E.length})),E}catch(E){const _=E instanceof Error?E.message:"Error importando usuarios";throw c(_),new Error(_)}finally{s(!1)}},P=async()=>{s(!0),c(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para exportar usuarios");return await Ds.exportUsers()}catch(A){const E=A instanceof Error?A.message:"Error exportando usuarios";throw c(E),new Error(E)}finally{s(!1)}},I=A=>{u(A)},k=A=>{f(E=>({...E,...A})),m(E=>({...E,page:1}))},D=A=>{m(E=>({...E,...A}))},R=()=>{c(null)};return i.jsx(w6.Provider,{value:{users:r,loading:a,error:o,filters:d,pagination:p,selectedUser:l,loadUsers:y,createUser:v,updateUser:w,deleteUser:g,changeUserStatus:x,changePassword:S,selectUser:I,setFilters:k,setPagination:D,importUsers:j,exportUsers:P,clearError:R},children:e})},xS=[{id:"1",nombre:"Chatbot WhatsApp Bsico",precio:2500,descripcion:"Chatbot automatizado para WhatsApp con respuestas bsicas, configuracin inicial y soporte por 30 das",categoria:"Chatbots",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"2",nombre:"Chatbot WhatsApp Premium",precio:5e3,descripcion:"Chatbot avanzado con IA, integraciones mltiples, analytics y soporte premium por 90 das",categoria:"Chatbots",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"3",nombre:"Automatizacin de Ventas",precio:3500,descripcion:"Sistema completo de automatizacin de procesos de venta con CRM integrado",categoria:"Automatizacin",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"4",nombre:"CRM Personalizado",precio:7500,descripcion:"Sistema CRM desarrollado a medida para tu negocio con mdulos especficos",categoria:"Software",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"5",nombre:"Marketing Digital",precio:2e3,descripcion:"Campaas de marketing digital y gestin de redes sociales por mes",categoria:"Marketing",unidadMedida:"Mes",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"6",nombre:"Consultora Estratgica",precio:1500,descripcion:"Sesin de consultora estratgica para optimizacin de procesos digitales",categoria:"Consultora",unidadMedida:"Hora",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"7",nombre:"Integracin API",precio:4e3,descripcion:"Desarrollo e integracin de APIs personalizadas para conectar sistemas",categoria:"Desarrollo",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"8",nombre:"Mantenimiento Mensual",precio:800,descripcion:"Servicio de mantenimiento y soporte tcnico mensual para sistemas implementados",categoria:"Soporte",unidadMedida:"Mes",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")}],yS=[{id:"1",nombre:"Paquete Chatbot Completo",descripcion:"Plantilla para chatbot con implementacin y soporte",items:[{nombre:"Chatbot WhatsApp Premium",descripcion:"Chatbot avanzado con IA y integraciones mltiples",cantidad:1,precioUnitario:5e3,descuento:0,tipoDescuento:"porcentaje",subtotal:5e3},{nombre:"Consultora Estratgica",descripcion:"Anlisis y planificacin de la estrategia de automatizacin",cantidad:4,precioUnitario:1500,descuento:10,tipoDescuento:"porcentaje",subtotal:5400}],condicionesPago:"50% anticipo, 50% contra entrega",notasAdicionales:"Incluye capacitacin del equipo y documentacin completa",terminosCondiciones:"Garanta de 90 das en funcionamiento. Soporte tcnico incluido.",metodosPago:["Transferencia bancaria","PayPal","Stripe"],fechaCreacion:new Date("2024-01-15"),creadoPor:"Admin"},{id:"2",nombre:"Paquete Marketing + Automatizacin",descripcion:"Solucin integral de marketing y automatizacin",items:[{nombre:"Marketing Digital",descripcion:"Gestin completa de redes sociales y campaas",cantidad:3,precioUnitario:2e3,descuento:15,tipoDescuento:"porcentaje",subtotal:5100},{nombre:"Automatizacin de Ventas",descripcion:"Sistema de automatizacin de procesos de venta",cantidad:1,precioUnitario:3500,descuento:0,tipoDescuento:"porcentaje",subtotal:3500}],condicionesPago:"30% anticipo, 70% en 2 pagos mensuales",notasAdicionales:"Incluye reportes mensuales y optimizacin continua",terminosCondiciones:"Contrato mnimo de 3 meses. Cancelacin con 30 das de anticipacin.",metodosPago:["Transferencia bancaria","Tarjeta de crdito"],fechaCreacion:new Date("2024-01-20"),creadoPor:"Admin"}],q8={nombre:"TechSolutions Pro",direccion:"Av. Tecnologa 123, Col. Innovacin, Ciudad de Mxico, CP 01234",telefono:"+52 55 1234 5678",correo:"contacto@techsolutions.com",sitioWeb:"www.techsolutions.com",rfc:"TSP123456789",regimenFiscal:"Rgimen General de Ley Personas Morales",iva:16,condicionesPagoDefault:"50% anticipo, 50% contra entrega",terminosCondicionesDefault:"Garanta de 30 das. Soporte tcnico incluido por 90 das.",metodosPagoDefault:["Transferencia bancaria","PayPal","Stripe","Tarjeta de crdito"],recordatoriosAutomaticos:!0,diasRecordatorio:7};class G8{constructor(){this.prospects=[],this.initialized=!1,this.loadProspects()}loadProspects(){if(this.initialized)return;const t=localStorage.getItem("crm-prospects");if(t)try{const r=JSON.parse(t);this.prospects=r.map(n=>({...n,fechaContacto:new Date(n.fechaContacto),ultimoSeguimiento:n.ultimoSeguimiento?new Date(n.ultimoSeguimiento):void 0,seguimientos:n.seguimientos.map(a=>({...a,fecha:new Date(a.fecha)})),cotizaciones:n.cotizaciones.map(a=>({...a,fecha:new Date(a.fecha)}))}))}catch(r){console.error("Error loading prospects:",r),this.prospects=this.getDefaultProspects()}else this.prospects=this.getDefaultProspects();this.initialized=!0,this.saveProspects()}saveProspects(){localStorage.setItem("crm-prospects",JSON.stringify(this.prospects))}getDefaultProspects(){return[{id:"1",nombre:"Mara Garca",telefono:"+52 55 1234 5678",correo:"maria.garcia@empresa.com",plataforma:"WhatsApp",servicioInteres:"Chatbot WhatsApp",fechaContacto:new Date("2024-01-15"),estado:"Nuevo",responsable:"1",assignedTo:"1",notasInternas:"Interesada en automatizacin de atencin al cliente",seguimientos:[],cotizaciones:[]},{id:"2",nombre:"Carlos Lpez",telefono:"+52 55 8765 4321",correo:"carlos.lopez@startup.com",plataforma:"Instagram",servicioInteres:"CRM personalizado",fechaContacto:new Date("2024-01-20"),estado:"Contactado",responsable:"2",assignedTo:"2",notasInternas:"Startup en crecimiento, necesita gestin de leads",seguimientos:[{id:"1",fecha:new Date("2024-01-21"),usuario:"Usuario Demo",nota:"Primera llamada realizada, muy interesado en el producto"}],cotizaciones:[],ultimoSeguimiento:new Date("2024-01-21")}]}async getAllProspects(){return await new Promise(t=>setTimeout(t,300)),[...this.prospects]}async getProspectById(t){return await new Promise(r=>setTimeout(r,200)),this.prospects.find(r=>r.id===t)||null}async createProspect(t){await new Promise(n=>setTimeout(n,500));const r={...t,id:Date.now().toString(),seguimientos:[],cotizaciones:[],assignedTo:t.responsable};return this.prospects.unshift(r),this.saveProspects(),r}async updateProspect(t,r){await new Promise(s=>setTimeout(s,400));const n=this.prospects.findIndex(s=>s.id===t);if(n===-1)throw new Error("Prospecto no encontrado");r.responsable&&(r.assignedTo=r.responsable);const a={...this.prospects[n],...r};return this.prospects[n]=a,this.saveProspects(),a}async deleteProspect(t){await new Promise(r=>setTimeout(r,300)),this.prospects=this.prospects.filter(r=>r.id!==t),this.saveProspects()}async assignProspectToUser(t,r){await new Promise(a=>setTimeout(a,300));const n=this.prospects.findIndex(a=>a.id===t);if(n===-1)throw new Error("Prospecto no encontrado");return this.prospects[n].assignedTo=r,this.prospects[n].responsable=r,this.saveProspects(),this.prospects[n]}async getProspectsByUser(t){return await new Promise(r=>setTimeout(r,200)),this.prospects.filter(r=>r.assignedTo===t)}async addFollowUp(t,r,n="current-user"){await new Promise(o=>setTimeout(o,300));const a=this.prospects.findIndex(o=>o.id===t);if(a===-1)throw new Error("Prospecto no encontrado");const s={id:Date.now().toString(),fecha:new Date,usuario:"Usuario Actual",nota:r};return this.prospects[a].seguimientos.unshift(s),this.prospects[a].ultimoSeguimiento=new Date,this.saveProspects(),this.prospects[a]}async getProspectsStats(){await new Promise(a=>setTimeout(a,200));const t={total:this.prospects.length,byStatus:{},byPlatform:{},byUser:{}},r=["Nuevo","Contactado","En seguimiento","Cotizado","Venta cerrada","Perdido"],n=["WhatsApp","Instagram","Facebook"];return r.forEach(a=>t.byStatus[a]=0),n.forEach(a=>t.byPlatform[a]=0),this.prospects.forEach(a=>{t.byStatus[a.estado]++,t.byPlatform[a.plataforma]++;const s=a.assignedTo||"unassigned";t.byUser[s]=(t.byUser[s]||0)+1}),t}}const ku=new G8,j6=O.createContext(void 0),ra=()=>{const e=O.useContext(j6);if(!e)throw new Error("useCRM must be used within a CRMProvider");return e},S6=({children:e})=>{const[t,r]=O.useState([]),[n,a]=O.useState([]),[s,o]=O.useState([]),[c,l]=O.useState([]),[u,d]=O.useState(q8),[f,p]=O.useState(null),[m,y]=O.useState(!1);O.useEffect(()=>{v()},[]);const v=async()=>{y(!0);try{const $=await ku.getAllProspects();r($),w(),g(),x(),S()}catch($){console.error("Error loading CRM data:",$)}finally{y(!1)}},w=()=>{const $=localStorage.getItem("crm-products");if($){const X=JSON.parse($);if(Array.isArray(X)){const Z=X.map(te=>({...te,fechaCreacion:new Date(te.fechaCreacion),fechaActualizacion:new Date(te.fechaActualizacion)}));a(Z)}else a(xS)}else a(xS)},g=()=>{const $=localStorage.getItem("crm-quotes");if($){const X=JSON.parse($);if(Array.isArray(X)){const Z=X.map(te=>({...te,fecha:new Date(te.fecha),vigencia:new Date(te.vigencia),fechaCreacion:new Date(te.fechaCreacion),fechaActualizacion:new Date(te.fechaActualizacion),historialCambios:Array.isArray(te.historialCambios)?te.historialCambios.map(fe=>({...fe,fecha:new Date(fe.fecha)})):[]}));o(Z)}}},x=()=>{const $=localStorage.getItem("crm-quote-templates");if($){const X=JSON.parse($);if(Array.isArray(X)){const Z=X.map(te=>({...te,fechaCreacion:new Date(te.fechaCreacion)}));l(Z)}else l(yS)}else l(yS)},S=()=>{const $=localStorage.getItem("crm-company-settings");$&&d(JSON.parse($))};O.useEffect(()=>{n.length>0&&localStorage.setItem("crm-products",JSON.stringify(n))},[n]),O.useEffect(()=>{s.length>0&&localStorage.setItem("crm-quotes",JSON.stringify(s))},[s]),O.useEffect(()=>{c.length>0&&localStorage.setItem("crm-quote-templates",JSON.stringify(c))},[c]),O.useEffect(()=>{localStorage.setItem("crm-company-settings",JSON.stringify(u))},[u]);const j=async $=>{try{const X=await ku.createProspect($);r(Z=>[X,...Z])}catch(X){throw console.error("Error creating prospect:",X),X}},P=async($,X)=>{try{const Z=await ku.updateProspect($,X);r(te=>te.map(fe=>fe.id===$?Z:fe)),(f==null?void 0:f.id)===$&&p(Z)}catch(Z){throw console.error("Error updating prospect:",Z),Z}},I=async $=>{try{await ku.deleteProspect($),r(X=>X.filter(Z=>Z.id!==$)),(f==null?void 0:f.id)===$&&p(null)}catch(X){throw console.error("Error deleting prospect:",X),X}},k=async($,X)=>{try{const Z=await ku.addFollowUp($,X);r(te=>te.map(fe=>fe.id===$?Z:fe)),(f==null?void 0:f.id)===$&&p(Z)}catch(Z){throw console.error("Error adding follow-up:",Z),Z}},D=async($,X)=>{try{const Z=await ku.assignProspectToUser($,X);r(te=>te.map(fe=>fe.id===$?Z:fe)),(f==null?void 0:f.id)===$&&p(Z)}catch(Z){throw console.error("Error assigning prospect:",Z),Z}},R=$=>t.filter(X=>X.responsable===$),A=$=>{p($)},E=()=>{const $=new Date().getFullYear(),te=[...s,...t.flatMap(fe=>fe.cotizaciones)].filter(fe=>fe.numero.includes($.toString())).length+1;return`COT-${$}-${te.toString().padStart(3,"0")}`},_=($,X,Z,te)=>{const fe=$.reduce((ye,se)=>ye+se.subtotal,0);let xe=0;Z==="porcentaje"?xe=fe*(X/100):xe=X;const ke=fe-xe,Pe=ke*(te/100),Je=ke+Pe;return{subtotal:fe,total:Je}},F=$=>{const X={...$,id:Date.now().toString(),numero:E(),fechaCreacion:new Date,fechaActualizacion:new Date,historialCambios:[{id:Date.now().toString(),fecha:new Date,accion:"Cotizacin creada",usuario:$.creadoPor,detalles:"Cotizacin creada inicialmente"}]};o(Z=>[X,...Z]),r(Z=>Z.map(te=>te.id===$.prospectId?{...te,cotizaciones:[X,...te.cotizaciones]}:te)),(f==null?void 0:f.id)===$.prospectId&&p(Z=>Z?{...Z,cotizaciones:[X,...Z.cotizaciones]}:null)},L=($,X)=>{const Z={...X,fechaActualizacion:new Date};o(te=>te.map(fe=>fe.id===$?{...fe,...Z}:fe)),r(te=>te.map(fe=>({...fe,cotizaciones:fe.cotizaciones.map(xe=>xe.id===$?{...xe,...Z}:xe)}))),f&&p(te=>te?{...te,cotizaciones:te.cotizaciones.map(fe=>fe.id===$?{...fe,...Z}:fe)}:null)},U=$=>{o(X=>X.filter(Z=>Z.id!==$)),r(X=>X.map(Z=>({...Z,cotizaciones:Z.cotizaciones.filter(te=>te.id!==$)}))),f&&p(X=>X?{...X,cotizaciones:X.cotizaciones.filter(Z=>Z.id!==$)}:null)},z=$=>{const X={...$,id:Date.now().toString(),fechaCreacion:new Date,fechaActualizacion:new Date};a(Z=>[X,...Z])},H=($,X)=>{a(Z=>Z.map(te=>te.id===$?{...te,...X,fechaActualizacion:new Date}:te))},V=$=>{a(X=>X.filter(Z=>Z.id!==$))},ae=$=>{const X={...$,id:Date.now().toString(),fechaCreacion:new Date};l(Z=>[X,...Z])},le=($,X)=>{l(Z=>Z.map(te=>te.id===$?{...te,...X}:te))},oe=$=>{l(X=>X.filter(Z=>Z.id!==$))},M=$=>{d(X=>({...X,...$}))},Y=$=>{const X={nombre:$.nombre,telefono:$.telefono,correo:$.correo||"",plataforma:$.plataforma,servicioInteres:$.servicio_interes,fechaContacto:new Date($.fecha_contacto),estado:"Nuevo",notasInternas:`Prospecto ingresado automticamente desde ${$.plataforma}`,responsable:"1"};j(X)},Q=[...s,...t.flatMap($=>$.cotizaciones)],G={totalProspectos:t.length,prospectosPorPlataforma:t.reduce(($,X)=>($[X.plataforma]=($[X.plataforma]||0)+1,$),{}),prospectosPorEstado:t.reduce(($,X)=>($[X.estado]=($[X.estado]||0)+1,$),{}),cotizacionesGeneradas:Q.length,ventasCerradas:t.filter($=>$.estado==="Venta cerrada").length,tasaConversion:t.length>0?t.filter($=>$.estado==="Venta cerrada").length/t.length*100:0,cotizacionesPorEstado:Q.reduce(($,X)=>($[X.estado]=($[X.estado]||0)+1,$),{}),valorTotalCotizaciones:Q.reduce(($,X)=>$+X.total,0),tasaAceptacion:Q.length>0?Q.filter($=>$.estado==="Aceptada").length/Q.length*100:0};return i.jsx(j6.Provider,{value:{prospects:t,products:n,quotes:s,quoteTemplates:c,companySettings:u,selectedProspect:f,dashboardMetrics:G,loading:m,addProspect:j,updateProspect:P,selectProspect:A,addFollowUp:k,deleteProspect:I,assignProspectToUser:D,getProspectsByUser:R,addQuote:F,updateQuote:L,deleteQuote:U,generateQuoteNumber:E,calculateQuoteTotal:_,addProduct:z,updateProduct:H,deleteProduct:V,addQuoteTemplate:ae,updateQuoteTemplate:le,deleteQuoteTemplate:oe,updateCompanySettings:M,processWebhook:Y},children:e})},K8="881256214969-q8nmabf0mvm26pgaqskc9qh23rpkk9m8.apps.googleusercontent.com",X8="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",Q8="https://your-app.vercel.app/api/auth/callback";class J8{constructor(){this.tokens=null,this.credentials={client_id:K8,client_secret:X8,redirect_uris:[Q8],project_id:"crm-innomind",auth_uri:"https://accounts.google.com/o/oauth2/auth",token_uri:"https://oauth2.googleapis.com/token"},this.loadTokensFromStorage()}loadTokensFromStorage(){const t=localStorage.getItem("google_tokens");if(t)try{this.tokens=JSON.parse(t)}catch{console.error("Error parsing stored tokens"),localStorage.removeItem("google_tokens")}}saveTokensToStorage(t){this.tokens=t,localStorage.setItem("google_tokens",JSON.stringify(t))}getAuthUrl(){const t=["https://www.googleapis.com/auth/calendar","https://www.googleapis.com/auth/calendar.events","https://www.googleapis.com/auth/userinfo.email","https://www.googleapis.com/auth/userinfo.profile"].join(" "),r=new URLSearchParams({client_id:this.credentials.client_id,redirect_uri:this.credentials.redirect_uris[0],scope:t,response_type:"code",access_type:"offline",prompt:"consent"});return`${this.credentials.auth_uri}?${r.toString()}`}async exchangeCodeForTokens(t){const r=await fetch(this.credentials.token_uri,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:this.credentials.client_id,client_secret:this.credentials.client_secret,code:t,grant_type:"authorization_code",redirect_uri:this.credentials.redirect_uris[0]})});if(!r.ok)throw new Error(`Token exchange failed: ${r.statusText}`);const n=await r.json();return this.saveTokensToStorage(n),n}async refreshAccessToken(){var a;if(!((a=this.tokens)!=null&&a.refresh_token))throw new Error("No refresh token available");const t=await fetch(this.credentials.token_uri,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({client_id:this.credentials.client_id,client_secret:this.credentials.client_secret,refresh_token:this.tokens.refresh_token,grant_type:"refresh_token"})});if(!t.ok)throw new Error(`Token refresh failed: ${t.statusText}`);const r=await t.json(),n={...this.tokens,access_token:r.access_token,expiry_date:Date.now()+r.expires_in*1e3};return this.saveTokensToStorage(n),n}async getValidAccessToken(){if(!this.tokens)throw new Error("No tokens available. Authenticate first.");return this.tokens.expiry_date&&Date.now()>this.tokens.expiry_date-3e5&&await this.refreshAccessToken(),this.tokens.access_token}isAuthenticated(){var t;return!!((t=this.tokens)!=null&&t.access_token)}logout(){this.tokens=null,localStorage.removeItem("google_tokens")}getTokens(){return this.tokens}}const bh=new J8;class Z8{constructor(){this.baseUrl="https://www.googleapis.com/calendar/v3"}async makeAuthenticatedRequest(t,r={}){const a={Authorization:`Bearer ${await bh.getValidAccessToken()}`,"Content-Type":"application/json",...r.headers};return fetch(t,{...r,headers:a})}async getCalendars(){try{const t=await this.makeAuthenticatedRequest(`${this.baseUrl}/users/me/calendarList`);if(!t.ok)throw new Error(`Failed to fetch calendars: ${t.statusText}`);return(await t.json()).items||[]}catch(t){throw console.error("Error fetching calendars:",t),t}}async getEvents(t="primary",r,n){try{const a=new URLSearchParams({singleEvents:"true",orderBy:"startTime"});r&&a.append("timeMin",r.toISOString()),n&&a.append("timeMax",n.toISOString());const s=await this.makeAuthenticatedRequest(`${this.baseUrl}/calendars/${encodeURIComponent(t)}/events?${a.toString()}`);if(!s.ok)throw new Error(`Failed to fetch events: ${s.statusText}`);const o=await s.json();return this.convertGoogleEventsToCalendarEvents(o.items||[])}catch(a){throw console.error("Error fetching events:",a),a}}async createEvent(t,r="primary"){try{const n=this.convertCalendarEventToGoogleEvent(t),a=await this.makeAuthenticatedRequest(`${this.baseUrl}/calendars/${encodeURIComponent(r)}/events`,{method:"POST",body:JSON.stringify(n)});if(!a.ok)throw new Error(`Failed to create event: ${a.statusText}`);const s=await a.json();return this.convertGoogleEventToCalendarEvent(s)}catch(n){throw console.error("Error creating event:",n),n}}async updateEvent(t,r,n="primary"){try{const a=this.convertCalendarEventToGoogleEvent(r),s=await this.makeAuthenticatedRequest(`${this.baseUrl}/calendars/${encodeURIComponent(n)}/events/${t}`,{method:"PUT",body:JSON.stringify(a)});if(!s.ok)throw new Error(`Failed to update event: ${s.statusText}`);const o=await s.json();return this.convertGoogleEventToCalendarEvent(o)}catch(a){throw console.error("Error updating event:",a),a}}async deleteEvent(t,r="primary"){try{const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/calendars/${encodeURIComponent(r)}/events/${t}`,{method:"DELETE"});if(!n.ok)throw new Error(`Failed to delete event: ${n.statusText}`)}catch(n){throw console.error("Error deleting event:",n),n}}async createMeetLink(t){var r,n,a;try{const s={...this.convertCalendarEventToGoogleEvent(t),conferenceData:{createRequest:{requestId:`meet-${Date.now()}`,conferenceSolutionKey:{type:"hangoutsMeet"}}}},o=await this.makeAuthenticatedRequest(`${this.baseUrl}/calendars/primary/events?conferenceDataVersion=1`,{method:"POST",body:JSON.stringify(s)});if(!o.ok)throw new Error(`Failed to create event with Meet link: ${o.statusText}`);return((a=(n=(r=(await o.json()).conferenceData)==null?void 0:r.entryPoints)==null?void 0:n[0])==null?void 0:a.uri)||""}catch(s){throw console.error("Error creating Meet link:",s),s}}convertGoogleEventsToCalendarEvents(t){return t.map(r=>this.convertGoogleEventToCalendarEvent(r))}convertGoogleEventToCalendarEvent(t){var s,o,c,l,u,d,f,p,m,y;const r=(s=t.start)!=null&&s.dateTime?new Date(t.start.dateTime):new Date(((o=t.start)==null?void 0:o.date)||new Date),n=(c=t.end)!=null&&c.dateTime?new Date(t.end.dateTime):new Date(((l=t.end)==null?void 0:l.date)||new Date),a=(t.attendees||[]).map(v=>({id:v.email,email:v.email,name:v.displayName,status:v.responseStatus||"needsAction",isOptional:v.optional||!1}));return{id:t.id,title:t.summary||"Untitled Event",description:t.description||"",start:r,end:n,location:t.location||"",meetLink:((f=(d=(u=t.conferenceData)==null?void 0:u.entryPoints)==null?void 0:d[0])==null?void 0:f.uri)||"",attendees:a,category:{id:"default",name:"Default",color:t.colorId||"#3174ad"},color:t.colorId||"#3174ad",reminders:(((p=t.reminders)==null?void 0:p.overrides)||[]).map(v=>({id:`${v.method}-${v.minutes}`,method:v.method,minutes:v.minutes,enabled:!0})),isRecurring:!!t.recurrence,recurrenceRule:((m=t.recurrence)==null?void 0:m[0])||"",googleEventId:t.id,createdBy:((y=t.creator)==null?void 0:y.email)||"unknown",createdAt:new Date(t.created),updatedAt:new Date(t.updated),status:t.status||"confirmed",visibility:t.visibility||"public"}}convertCalendarEventToGoogleEvent(t){var n,a;const r={summary:t.title,description:t.description,location:t.location,start:{dateTime:(n=t.start)==null?void 0:n.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone},end:{dateTime:(a=t.end)==null?void 0:a.toISOString(),timeZone:Intl.DateTimeFormat().resolvedOptions().timeZone}};return t.attendees&&t.attendees.length>0&&(r.attendees=t.attendees.map(s=>({email:s.email,displayName:s.name,optional:s.isOptional}))),t.reminders&&t.reminders.length>0&&(r.reminders={useDefault:!1,overrides:t.reminders.filter(s=>s.enabled).map(s=>({method:s.method==="whatsapp"?"popup":s.method,minutes:s.minutes}))}),t.recurrenceRule&&(r.recurrence=[t.recurrenceRule]),r}}const Wf=new Z8,k6=O.createContext(void 0),Iv=()=>{const e=O.useContext(k6);if(!e)throw new Error("useCalendar must be used within a CalendarProvider");return e},e7=[{id:"1",name:"Reunin de trabajo",color:"#3174ad",description:"Reuniones profesionales y de trabajo"},{id:"2",name:"Llamada con cliente",color:"#28a745",description:"Llamadas y reuniones con clientes"},{id:"3",name:"Seguimiento",color:"#ffc107",description:"Seguimientos y revisiones"},{id:"4",name:"Presentacin",color:"#dc3545",description:"Presentaciones y demos"},{id:"5",name:"Personal",color:"#6f42c1",description:"Eventos personales"}],t7={defaultView:"month",workingHours:{start:"09:00",end:"18:00"},timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,defaultReminders:[{id:"1",method:"popup",minutes:15,enabled:!0},{id:"2",method:"email",minutes:60,enabled:!0}],autoCreateMeetLinks:!0,syncWithGoogle:!1,notificationsEnabled:!0},C6=({children:e})=>{const[t,r]=O.useState([]),[n,a]=O.useState(e7),[s,o]=O.useState(t7),[c,l]=O.useState(!1),[u,d]=O.useState(!1),[f,p]=O.useState(null);O.useEffect(()=>{const A=localStorage.getItem("calendar-events"),E=localStorage.getItem("calendar-categories"),_=localStorage.getItem("calendar-settings");if(A)try{const L=JSON.parse(A).map(U=>({...U,start:new Date(U.start),end:new Date(U.end),createdAt:new Date(U.createdAt),updatedAt:new Date(U.updatedAt)}));r(L)}catch(F){console.error("Error parsing saved events:",F)}if(E)try{a(JSON.parse(E))}catch(F){console.error("Error parsing saved categories:",F)}if(_)try{o(JSON.parse(_))}catch(F){console.error("Error parsing saved settings:",F)}l(bh.isAuthenticated())},[]),O.useEffect(()=>{localStorage.setItem("calendar-events",JSON.stringify(t))},[t]),O.useEffect(()=>{localStorage.setItem("calendar-categories",JSON.stringify(n))},[n]),O.useEffect(()=>{localStorage.setItem("calendar-settings",JSON.stringify(s))},[s]);const m=async A=>{var E;d(!0),p(null);try{const _={id:Date.now().toString(),title:A.title||"Untitled Event",description:A.description||"",start:A.start||new Date,end:A.end||new Date(Date.now()+36e5),location:A.location||"",meetLink:A.meetLink||"",attendees:A.attendees||[],category:A.category||n[0],color:A.color||((E=A.category)==null?void 0:E.color)||"#3174ad",reminders:A.reminders||s.defaultReminders,isRecurring:A.isRecurring||!1,recurrenceRule:A.recurrenceRule||"",createdBy:"current-user",createdAt:new Date,updatedAt:new Date,status:A.status||"confirmed",visibility:A.visibility||"public"};if(s.autoCreateMeetLinks&&!_.meetLink&&c)try{const F=await Wf.createMeetLink(_);_.meetLink=F}catch(F){console.warn("Failed to create Meet link:",F)}if(c&&s.syncWithGoogle)try{const F=await Wf.createEvent(_);_.googleEventId=F.googleEventId}catch(F){console.warn("Failed to sync with Google Calendar:",F)}return r(F=>[_,...F]),_}catch(_){throw p(_ instanceof Error?_.message:"Failed to create event"),_}finally{d(!1)}},y=async(A,E)=>{d(!0),p(null);try{const _=t.find(L=>L.id===A);if(!_)throw new Error("Event not found");const F={..._,...E,updatedAt:new Date};if(c&&s.syncWithGoogle&&_.googleEventId)try{await Wf.updateEvent(_.googleEventId,F)}catch(L){console.warn("Failed to sync update with Google Calendar:",L)}return r(L=>L.map(U=>U.id===A?F:U)),F}catch(_){throw p(_ instanceof Error?_.message:"Failed to update event"),_}finally{d(!1)}},v=async A=>{d(!0),p(null);try{const E=t.find(_=>_.id===A);if(!E)throw new Error("Event not found");if(c&&s.syncWithGoogle&&E.googleEventId)try{await Wf.deleteEvent(E.googleEventId)}catch(_){console.warn("Failed to sync deletion with Google Calendar:",_)}r(_=>_.filter(F=>F.id!==A))}catch(E){throw p(E instanceof Error?E.message:"Failed to delete event"),E}finally{d(!1)}},w=A=>t.find(E=>E.id===A),g=()=>{const A=bh.getAuthUrl();window.location.href=A},x=()=>{bh.logout(),l(!1),o(A=>({...A,syncWithGoogle:!1}))},S=async()=>{if(!c)throw new Error("Not connected to Google");d(!0),p(null);try{const A=new Date,E=new Date(A.getFullYear(),A.getMonth()-1,A.getDate()),_=new Date(A.getFullYear(),A.getMonth()+1,A.getDate()),F=await Wf.getEvents("primary",E,_),L=[...t];F.forEach(U=>{const z=L.findIndex(H=>H.googleEventId===U.googleEventId);z>=0?L[z]={...L[z],...U,updatedAt:new Date}:L.push({...U,id:Date.now().toString()+Math.random().toString(36).substr(2,9)})}),r(L)}catch(A){throw p(A instanceof Error?A.message:"Failed to sync with Google"),A}finally{d(!1)}},j=A=>{const E={...A,id:Date.now().toString()};a(_=>[..._,E])},P=(A,E)=>{a(_=>_.map(F=>F.id===A?{...F,...E}:F))},I=A=>{a(E=>E.filter(_=>_.id!==A))},k=A=>{o(E=>({...E,...A}))},D=(A,E)=>t.filter(_=>{const F=new Date(_.start),L=new Date(_.end);return F>=A&&F<=E||L>=A&&L<=E||F<=A&&L>=E}),R=(A=5)=>{const E=new Date;return t.filter(_=>new Date(_.start)>E).sort((_,F)=>new Date(_.start).getTime()-new Date(F.start).getTime()).slice(0,A)};return i.jsx(k6.Provider,{value:{events:t,categories:n,settings:s,isGoogleConnected:c,isLoading:u,error:f,addEvent:m,updateEvent:y,deleteEvent:v,getEvent:w,connectToGoogle:g,disconnectFromGoogle:x,syncWithGoogle:S,addCategory:j,updateCategory:P,deleteCategory:I,updateSettings:k,getEventsForDateRange:D,getUpcomingEvents:R},children:e})},bS=[{id:"1",companyName:"TechStart Solutions",contactPerson:"Mara Gonzlez",email:"maria@techstart.com",phone:"+52 55 1234 5678",address:"Av. Reforma 123, CDMX",website:"www.techstart.com",industry:"Technology",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),status:"active",notes:"Cliente premium con mltiples proyectos"},{id:"2",companyName:"Retail Express",contactPerson:"Carlos Mendoza",email:"carlos@retailexpress.com",phone:"+52 55 2345 6789",address:"Polanco 456, CDMX",website:"www.retailexpress.com",industry:"Retail",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20"),status:"active",notes:"Cadena de tiendas en expansin"},{id:"3",companyName:"HealthCare Plus",contactPerson:"Ana Rodrguez",email:"ana@healthcareplus.com",phone:"+52 55 3456 7890",address:"Santa Fe 789, CDMX",website:"www.healthcareplus.com",industry:"Healthcare",createdAt:new Date("2024-02-01"),updatedAt:new Date("2024-02-01"),status:"prospect",notes:"Interesados en automatizacin de citas"}],wS=[{id:"1",clientId:"1",name:"Chatbot de Atencin al Cliente",description:"Desarrollo de chatbot inteligente para WhatsApp con IA para atencin 24/7",type:"chatbot",status:"in-progress",priority:"high",startDate:new Date("2024-01-20"),endDate:new Date("2024-03-15"),estimatedHours:120,actualHours:85,budget:8e3,totalValue:12e3,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-30"),assignedTo:["Ana Lpez","Luis Martn"],projectManager:"Ana Lpez",milestones:[{id:"1",title:"Anlisis de Requerimientos",description:"Definicin completa de funcionalidades y flujos",dueDate:new Date("2024-02-01"),completedDate:new Date("2024-01-30"),status:"completed",progress:100,dependencies:[],assignedTo:"Ana Lpez"},{id:"2",title:"Desarrollo del Bot",description:"Programacin de lgica y respuestas del chatbot",dueDate:new Date("2024-02-20"),status:"in-progress",progress:70,dependencies:["1"],assignedTo:"Luis Martn"},{id:"3",title:"Integracin con WhatsApp",description:"Conexin con API de WhatsApp Business",dueDate:new Date("2024-03-01"),status:"pending",progress:0,dependencies:["2"],assignedTo:"Luis Martn"},{id:"4",title:"Pruebas y Lanzamiento",description:"Testing completo y puesta en produccin",dueDate:new Date("2024-03-15"),status:"pending",progress:0,dependencies:["3"],assignedTo:"Ana Lpez"}],notes:[{id:"1",content:"Cliente muy satisfecho con el progreso. Solicita demo intermedia.",type:"update",createdBy:"Ana Lpez",createdAt:new Date("2024-01-28"),isImportant:!0,attachments:[]},{id:"2",content:"Sugerencia: Agregar funcin de escalamiento a humano para casos complejos.",type:"improvement",createdBy:"Luis Martn",createdAt:new Date("2024-01-25"),isImportant:!1,attachments:[]}],documents:[{id:"1",name:"Especificaciones Tcnicas v2.0",type:"specification",url:"/documents/specs-chatbot-v2.pdf",size:2048e3,uploadedBy:"Ana Lpez",uploadedAt:new Date("2024-01-22"),version:"2.0",description:"Especificaciones tcnicas actualizadas del chatbot"}],paymentSchedule:[{id:"1",description:"Anticipo 50%",amount:6e3,dueDate:new Date("2024-01-25"),paidDate:new Date("2024-01-24"),status:"paid",invoiceNumber:"INV-2024-001",paymentMethod:"Transferencia",notes:"Pago recibido puntualmente"},{id:"2",description:"Pago final 50%",amount:6e3,dueDate:new Date("2024-03-20"),status:"pending",notes:"Pago contra entrega del proyecto"}],meetings:[{id:"1",title:"Kickoff Meeting",description:"Reunin inicial del proyecto",type:"kickoff",scheduledDate:new Date("2024-01-20T10:00:00"),duration:60,attendees:["Mara Gonzlez","Ana Lpez","Luis Martn"],meetLink:"https://meet.google.com/abc-defg-hij",status:"completed",notes:"Excelente inicio, todos los requerimientos claros"},{id:"2",title:"Demo Intermedia",description:"Presentacin del progreso del chatbot",type:"demo",scheduledDate:new Date("2024-02-15T15:00:00"),duration:45,attendees:["Mara Gonzlez","Ana Lpez"],meetLink:"https://meet.google.com/xyz-uvwx-yz",status:"scheduled",notes:""}],expenses:[{id:"1",description:"Licencia WhatsApp Business API",category:"license",amount:500,date:new Date("2024-01-22"),vendor:"Meta",billable:!0,approved:!0,approvedBy:"Ana Lpez"},{id:"2",description:"Servidor de desarrollo",category:"hosting",amount:200,date:new Date("2024-01-25"),vendor:"AWS",billable:!1,approved:!0,approvedBy:"Ana Lpez"}]},{id:"2",clientId:"2",name:"Sistema de Inventario Web",description:"Aplicacin web para gestin de inventario en tiempo real",type:"app",status:"planning",priority:"medium",startDate:new Date("2024-02-15"),endDate:new Date("2024-05-30"),estimatedHours:200,actualHours:0,budget:15e3,totalValue:25e3,createdAt:new Date("2024-02-01"),updatedAt:new Date("2024-02-01"),assignedTo:["Carmen Rodrguez","Roberto Hernndez"],projectManager:"Carmen Rodrguez",milestones:[{id:"5",title:"Anlisis de Requerimientos",description:"Levantamiento de requerimientos del sistema",dueDate:new Date("2024-02-28"),status:"in-progress",progress:30,dependencies:[],assignedTo:"Carmen Rodrguez"}],notes:[],documents:[],paymentSchedule:[{id:"3",description:"Anticipo 40%",amount:1e4,dueDate:new Date("2024-02-20"),status:"pending",notes:"Pago para iniciar desarrollo"}],meetings:[],expenses:[]}],NS=[{id:"1",number:"INV-2024-001",clientId:"1",projectId:"1",issueDate:new Date("2024-01-20"),dueDate:new Date("2024-01-25"),paidDate:new Date("2024-01-24"),amount:6e3,tax:960,total:6960,status:"paid",items:[{id:"1",description:"Desarrollo Chatbot WhatsApp - Anticipo 50%",quantity:1,rate:6e3,amount:6e3}],notes:"Anticipo para inicio del proyecto",paymentTerms:"5 das"}],D6=O.createContext(void 0),Ol=()=>{const e=O.useContext(D6);if(!e)throw new Error("useProjects must be used within a ProjectProvider");return e},_6=({children:e})=>{const[t,r]=O.useState([]),[n,a]=O.useState([]),[s,o]=O.useState([]);O.useEffect(()=>{const G=localStorage.getItem("project-clients"),$=localStorage.getItem("project-projects"),X=localStorage.getItem("project-invoices");if(G)try{const te=JSON.parse(G).map(fe=>({...fe,createdAt:new Date(fe.createdAt),updatedAt:new Date(fe.updatedAt)}));r(te)}catch(Z){console.error("Error parsing saved clients:",Z),r(bS)}else r(bS);if($)try{const te=JSON.parse($).map(fe=>({...fe,startDate:new Date(fe.startDate),endDate:new Date(fe.endDate),createdAt:new Date(fe.createdAt),updatedAt:new Date(fe.updatedAt),milestones:fe.milestones.map(xe=>({...xe,dueDate:new Date(xe.dueDate),completedDate:xe.completedDate?new Date(xe.completedDate):void 0})),notes:fe.notes.map(xe=>({...xe,createdAt:new Date(xe.createdAt)})),paymentSchedule:fe.paymentSchedule.map(xe=>({...xe,dueDate:new Date(xe.dueDate),paidDate:xe.paidDate?new Date(xe.paidDate):void 0})),meetings:fe.meetings.map(xe=>({...xe,scheduledDate:new Date(xe.scheduledDate)})),expenses:fe.expenses.map(xe=>({...xe,date:new Date(xe.date)}))}));a(te)}catch(Z){console.error("Error parsing saved projects:",Z),a(wS)}else a(wS);if(X)try{const te=JSON.parse(X).map(fe=>({...fe,issueDate:new Date(fe.issueDate),dueDate:new Date(fe.dueDate),paidDate:fe.paidDate?new Date(fe.paidDate):void 0}));o(te)}catch(Z){console.error("Error parsing saved invoices:",Z),o(NS)}else o(NS)},[]),O.useEffect(()=>{t.length>0&&localStorage.setItem("project-clients",JSON.stringify(t))},[t]),O.useEffect(()=>{n.length>0&&localStorage.setItem("project-projects",JSON.stringify(n))},[n]),O.useEffect(()=>{s.length>0&&localStorage.setItem("project-invoices",JSON.stringify(s))},[s]);const c=G=>{const $={...G,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date};r(X=>[$,...X])},l=(G,$)=>{r(X=>X.map(Z=>Z.id===G?{...Z,...$,updatedAt:new Date}:Z))},u=G=>{r($=>$.filter(X=>X.id!==G)),a($=>$.filter(X=>X.clientId!==G))},d=G=>t.find($=>$.id===G),f=G=>{const $={...G,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date};a(X=>[$,...X])},p=(G,$)=>{a(X=>X.map(Z=>Z.id===G?{...Z,...$,updatedAt:new Date}:Z))},m=G=>{a($=>$.filter(X=>X.id!==G))},y=G=>n.find($=>$.id===G),v=G=>n.filter($=>$.clientId===G),w=(G,$)=>{const X={...$,id:Date.now().toString()};a(Z=>Z.map(te=>te.id===G?{...te,milestones:[...te.milestones,X],updatedAt:new Date}:te))},g=(G,$,X)=>{a(Z=>Z.map(te=>te.id===G?{...te,milestones:te.milestones.map(fe=>fe.id===$?{...fe,...X}:fe),updatedAt:new Date}:te))},x=(G,$)=>{a(X=>X.map(Z=>Z.id===G?{...Z,milestones:Z.milestones.filter(te=>te.id!==$),updatedAt:new Date}:Z))},S=(G,$)=>{const X={...$,id:Date.now().toString(),createdAt:new Date};a(Z=>Z.map(te=>te.id===G?{...te,notes:[X,...te.notes],updatedAt:new Date}:te))},j=(G,$,X)=>{a(Z=>Z.map(te=>te.id===G?{...te,notes:te.notes.map(fe=>fe.id===$?{...fe,...X}:fe),updatedAt:new Date}:te))},P=(G,$)=>{a(X=>X.map(Z=>Z.id===G?{...Z,notes:Z.notes.filter(te=>te.id!==$),updatedAt:new Date}:Z))},I=(G,$)=>{const X={...$,id:Date.now().toString()};a(Z=>Z.map(te=>te.id===G?{...te,paymentSchedule:[...te.paymentSchedule,X],updatedAt:new Date}:te))},k=(G,$,X)=>{a(Z=>Z.map(te=>te.id===G?{...te,paymentSchedule:te.paymentSchedule.map(fe=>fe.id===$?{...fe,...X}:fe),updatedAt:new Date}:te))},D=(G,$)=>{a(X=>X.map(Z=>Z.id===G?{...Z,paymentSchedule:Z.paymentSchedule.filter(te=>te.id!==$),updatedAt:new Date}:Z))},R=(G,$)=>{const X={...$,id:Date.now().toString()};a(Z=>Z.map(te=>te.id===G?{...te,meetings:[...te.meetings,X],updatedAt:new Date}:te))},A=(G,$,X)=>{a(Z=>Z.map(te=>te.id===G?{...te,meetings:te.meetings.map(fe=>fe.id===$?{...fe,...X}:fe),updatedAt:new Date}:te))},E=(G,$)=>{a(X=>X.map(Z=>Z.id===G?{...Z,meetings:Z.meetings.filter(te=>te.id!==$),updatedAt:new Date}:Z))},_=(G,$)=>{const X={...$,id:Date.now().toString()};a(Z=>Z.map(te=>te.id===G?{...te,expenses:[...te.expenses,X],updatedAt:new Date}:te))},F=(G,$,X)=>{a(Z=>Z.map(te=>te.id===G?{...te,expenses:te.expenses.map(fe=>fe.id===$?{...fe,...X}:fe),updatedAt:new Date}:te))},L=(G,$)=>{a(X=>X.map(Z=>Z.id===G?{...Z,expenses:Z.expenses.filter(te=>te.id!==$),updatedAt:new Date}:Z))},U=G=>{const $={...G,id:Date.now().toString()};o(X=>[$,...X])},z=(G,$)=>{o(X=>X.map(Z=>Z.id===G?{...Z,...$}:Z))},H=G=>{o($=>$.filter(X=>X.id!==G))},V=(G,$)=>{const X=y(G),Z=X?d(X.clientId):void 0,te=X==null?void 0:X.paymentSchedule.find(xe=>xe.id===$);if(!X||!Z||!te)throw new Error("Project, client, or payment not found");const fe={id:Date.now().toString(),number:`INV-${new Date().getFullYear()}-${(s.length+1).toString().padStart(4,"0")}`,clientId:Z.id,projectId:X.id,issueDate:new Date,dueDate:te.dueDate,amount:te.amount,tax:te.amount*.16,total:te.amount*1.16,status:"draft",items:[{id:"1",description:te.description,quantity:1,rate:te.amount,amount:te.amount}],notes:te.notes,paymentTerms:"30 days"};return U(fe),fe},ae=()=>{const G=new Date,$=G.getMonth(),X=G.getFullYear(),Z=Math.floor($/3),te=n.reduce((se,Qe)=>se+Qe.totalValue,0),fe=n.filter(se=>se.createdAt.getMonth()===$&&se.createdAt.getFullYear()===X).reduce((se,Qe)=>se+Qe.totalValue,0),xe=n.filter(se=>Math.floor(se.createdAt.getMonth()/3)===Z&&se.createdAt.getFullYear()===X).reduce((se,Qe)=>se+Qe.totalValue,0),ke=n.filter(se=>se.createdAt.getFullYear()===X).reduce((se,Qe)=>se+Qe.totalValue,0),Pe=n.reduce((se,Qe)=>{const Ve=d(Qe.clientId),_e=(Ve==null?void 0:Ve.companyName)||"Unknown";return se[_e]=(se[_e]||0)+Qe.totalValue,se},{}),Je=n.reduce((se,Qe)=>(se[Qe.name]=Qe.totalValue,se),{}),ye=n.reduce((se,Qe)=>se+Qe.expenses.reduce((Ve,_e)=>Ve+_e.amount,0),0);return{totalRevenue:te,monthlyRevenue:fe,quarterlyRevenue:xe,yearlyRevenue:ke,revenueByClient:Pe,revenueByProject:Je,averageProjectValue:n.length>0?te/n.length:0,totalProjects:n.length,activeProjects:n.filter(se=>se.status==="in-progress").length,completedProjects:n.filter(se=>se.status==="completed").length,profitMargin:te>0?(te-ye)/te*100:0}},le=G=>{const $=y(G);if(!$)return[];const X=$.expenses.reduce((fe,xe)=>(fe[xe.category]=(fe[xe.category]||0)+xe.amount,fe),{}),Z=["license","subscription","hosting","tools","travel","other"],te=$.budget/Z.length;return Z.map(fe=>({id:`${G}-${fe}`,projectId:G,category:fe,allocated:te,spent:X[fe]||0,remaining:te-(X[fe]||0),lastUpdated:new Date}))},oe=(G,$)=>{const X=n.filter(te=>te.createdAt>=$.start&&te.createdAt<=$.end);let Z={};switch(G){case"profit-loss":const te=X.reduce((ke,Pe)=>ke+Pe.totalValue,0),fe=X.reduce((ke,Pe)=>ke+Pe.expenses.reduce((Je,ye)=>Je+ye.amount,0),0);Z={revenue:te,expenses:fe,profit:te-fe,profitMargin:te>0?(te-fe)/te*100:0};break;case"cash-flow":const xe=X.flatMap(ke=>ke.paymentSchedule).filter(ke=>ke.paidDate&&ke.paidDate>=$.start&&ke.paidDate<=$.end);Z={inflow:xe.reduce((ke,Pe)=>ke+Pe.amount,0),outflow:fe,netFlow:xe.reduce((ke,Pe)=>ke+Pe.amount,0)-fe};break;case"revenue":Z={totalRevenue:X.reduce((ke,Pe)=>ke+Pe.totalValue,0),projectCount:X.length,averageProjectValue:X.length>0?X.reduce((ke,Pe)=>ke+Pe.totalValue,0)/X.length:0};break;default:Z={}}return{id:Date.now().toString(),type:G,period:$,data:Z,generatedAt:new Date,generatedBy:"System"}},M=(G=7)=>{const $=new Date;return $.setDate($.getDate()+G),n.flatMap(X=>X.paymentSchedule).filter(X=>X.status==="pending"&&X.dueDate<=$).sort((X,Z)=>X.dueDate.getTime()-Z.dueDate.getTime())},Y=(G=7)=>{const $=new Date;return $.setDate($.getDate()+G),n.flatMap(X=>X.meetings).filter(X=>X.status==="scheduled"&&X.scheduledDate<=$).sort((X,Z)=>X.scheduledDate.getTime()-Z.scheduledDate.getTime())},Q=()=>{const G=new Date;return n.flatMap($=>$.milestones).filter($=>$.status!=="completed"&&$.dueDate<G).sort(($,X)=>$.dueDate.getTime()-X.dueDate.getTime())};return i.jsx(D6.Provider,{value:{clients:t,addClient:c,updateClient:l,deleteClient:u,getClient:d,projects:n,addProject:f,updateProject:p,deleteProject:m,getProject:y,getProjectsByClient:v,addMilestone:w,updateMilestone:g,deleteMilestone:x,addNote:S,updateNote:j,deleteNote:P,addPayment:I,updatePayment:k,deletePayment:D,addMeeting:R,updateMeeting:A,deleteMeeting:E,addExpense:_,updateExpense:F,deleteExpense:L,invoices:s,addInvoice:U,updateInvoice:z,deleteInvoice:H,generateInvoice:V,getSalesMetrics:ae,getProjectBudgets:le,generateFinancialReport:oe,getUpcomingPayments:M,getUpcomingMeetings:Y,getOverdueTasks:Q},children:e})},r7=[{id:"1",type:"income",category:"Software License",amount:5e3,description:"Monthly software license payment - Client ABC",date:"2024-01-15",clientId:"client-1",projectId:"project-1",status:"completed",paymentMethod:"Bank Transfer",reference:"REF001",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",type:"expense",category:"Development Tools",amount:1200,description:"Monthly development tools subscription",date:"2024-01-10",status:"completed",paymentMethod:"Credit Card",reference:"EXP001",createdAt:"2024-01-10T09:00:00Z",updatedAt:"2024-01-10T09:00:00Z"},{id:"3",type:"income",category:"Consulting",amount:8e3,description:"Web development consulting - Client XYZ",date:"2024-01-20",clientId:"client-2",projectId:"project-2",status:"completed",paymentMethod:"PayPal",reference:"REF002",createdAt:"2024-01-20T14:30:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"4",type:"expense",category:"Marketing",amount:2500,description:"Digital marketing campaign",date:"2024-01-25",status:"completed",paymentMethod:"Bank Transfer",reference:"EXP002",createdAt:"2024-01-25T11:15:00Z",updatedAt:"2024-01-25T11:15:00Z"},{id:"5",type:"payment",category:"Invoice Payment",amount:15e3,description:"Payment for project delivery - Client DEF",date:"2024-01-30",clientId:"client-3",projectId:"project-3",invoiceId:"invoice-1",status:"pending",paymentMethod:"Bank Transfer",reference:"PAY001",createdAt:"2024-01-30T16:45:00Z",updatedAt:"2024-01-30T16:45:00Z"}],n7=[{id:"invoice-1",number:"INV-2024-001",clientId:"client-1",projectId:"project-1",amount:1e4,tax:1e3,total:11e3,status:"paid",dueDate:"2024-02-15",issueDate:"2024-01-15",items:[{id:"item-1",description:"Web Application Development",quantity:1,unitPrice:8e3,total:8e3},{id:"item-2",description:"Project Management",quantity:20,unitPrice:100,total:2e3}],notes:"Payment terms: 30 days",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"invoice-2",number:"INV-2024-002",clientId:"client-2",projectId:"project-2",amount:15e3,tax:1500,total:16500,status:"sent",dueDate:"2024-02-20",issueDate:"2024-01-20",items:[{id:"item-3",description:"Mobile App Development",quantity:1,unitPrice:12e3,total:12e3},{id:"item-4",description:"UI/UX Design",quantity:1,unitPrice:3e3,total:3e3}],notes:"Payment terms: 30 days",createdAt:"2024-01-20T14:30:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"invoice-3",number:"INV-2024-003",clientId:"client-3",amount:7500,tax:750,total:8250,status:"overdue",dueDate:"2024-01-25",issueDate:"2023-12-25",items:[{id:"item-5",description:"E-commerce Platform Setup",quantity:1,unitPrice:7500,total:7500}],notes:"Payment overdue - please remit payment immediately",createdAt:"2023-12-25T09:00:00Z",updatedAt:"2024-01-30T17:00:00Z"}],a7=[{id:"budget-1",name:"Q1 2024 Development Budget",projectId:"project-1",totalBudget:5e4,spent:32e3,remaining:18e3,categories:[{id:"cat-1",name:"Development",allocated:3e4,spent:2e4,remaining:1e4},{id:"cat-2",name:"Marketing",allocated:15e3,spent:8e3,remaining:7e3},{id:"cat-3",name:"Operations",allocated:5e3,spent:4e3,remaining:1e3}],period:"quarterly",startDate:"2024-01-01",endDate:"2024-03-31",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-30T12:00:00Z"},{id:"budget-2",name:"Annual Marketing Budget 2024",totalBudget:25e3,spent:5e3,remaining:2e4,categories:[{id:"cat-4",name:"Digital Advertising",allocated:15e3,spent:3e3,remaining:12e3},{id:"cat-5",name:"Content Creation",allocated:7e3,spent:1500,remaining:5500},{id:"cat-6",name:"Events",allocated:3e3,spent:500,remaining:2500}],period:"yearly",startDate:"2024-01-01",endDate:"2024-12-31",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-30T12:00:00Z"}],s7=[{id:"alert-1",type:"overdue",title:"Overdue Invoice",message:"Invoice INV-2024-003 is overdue by 5 days",priority:"high",relatedId:"invoice-3",relatedType:"invoice",createdAt:"2024-01-30T09:00:00Z",read:!1},{id:"alert-2",type:"upcoming",title:"Payment Due Soon",message:"Invoice INV-2024-002 is due in 3 days",priority:"medium",relatedId:"invoice-2",relatedType:"invoice",createdAt:"2024-01-30T10:00:00Z",read:!1},{id:"alert-3",type:"budget_exceeded",title:"Budget Alert",message:"Operations budget is 80% utilized",priority:"medium",relatedId:"budget-1",relatedType:"budget",createdAt:"2024-01-30T11:00:00Z",read:!0}],i7={transactions:[],invoices:[],budgets:[],alerts:[],metrics:{totalRevenue:0,totalExpenses:0,netProfit:0,pendingPayments:0,overdueInvoices:0,monthlyGrowth:0,averageROI:0,cashFlowTrend:"stable"},roiData:[],cashFlowData:[],loading:!1,error:null},o7=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_TRANSACTIONS":return{...e,transactions:t.payload};case"ADD_TRANSACTION":return{...e,transactions:[...e.transactions,t.payload]};case"UPDATE_TRANSACTION":return{...e,transactions:e.transactions.map(r=>r.id===t.payload.id?{...r,...t.payload.updates}:r)};case"DELETE_TRANSACTION":return{...e,transactions:e.transactions.filter(r=>r.id!==t.payload)};case"SET_INVOICES":return{...e,invoices:t.payload};case"ADD_INVOICE":return{...e,invoices:[...e.invoices,t.payload]};case"UPDATE_INVOICE":return{...e,invoices:e.invoices.map(r=>r.id===t.payload.id?{...r,...t.payload.updates}:r)};case"DELETE_INVOICE":return{...e,invoices:e.invoices.filter(r=>r.id!==t.payload)};case"SET_BUDGETS":return{...e,budgets:t.payload};case"ADD_BUDGET":return{...e,budgets:[...e.budgets,t.payload]};case"UPDATE_BUDGET":return{...e,budgets:e.budgets.map(r=>r.id===t.payload.id?{...r,...t.payload.updates}:r)};case"DELETE_BUDGET":return{...e,budgets:e.budgets.filter(r=>r.id!==t.payload)};case"SET_ALERTS":return{...e,alerts:t.payload};case"MARK_ALERT_READ":return{...e,alerts:e.alerts.map(r=>r.id===t.payload?{...r,read:!0}:r)};case"UPDATE_METRICS":return{...e,metrics:t.payload};case"SET_ROI_DATA":return{...e,roiData:t.payload};case"SET_CASHFLOW_DATA":return{...e,cashFlowData:t.payload};default:return e}},P6=O.createContext(void 0),Mo=()=>{const e=O.useContext(P6);if(!e)throw new Error("useFinance must be used within a FinanceProvider");return e},Bw=({children:e})=>{const[t,r]=O.useReducer(o7,i7);O.useEffect(()=>{(()=>{const g=new Date,x=g.getMonth(),S=g.getFullYear(),j=t.transactions.filter(U=>U.type==="income"&&U.status==="completed").reduce((U,z)=>U+z.amount,0),P=t.transactions.filter(U=>U.type==="expense"&&U.status==="completed").reduce((U,z)=>U+z.amount,0),I=j-P,k=t.transactions.filter(U=>U.status==="pending").reduce((U,z)=>U+z.amount,0),D=t.invoices.filter(U=>U.status==="overdue").length,R=t.transactions.filter(U=>{const z=new Date(U.date);return U.type==="income"&&U.status==="completed"&&z.getMonth()===x-1&&z.getFullYear()===S}).reduce((U,z)=>U+z.amount,0),A=t.transactions.filter(U=>{const z=new Date(U.date);return U.type==="income"&&U.status==="completed"&&z.getMonth()===x&&z.getFullYear()===S}).reduce((U,z)=>U+z.amount,0),E=R>0?(A-R)/R*100:0,_=t.roiData.length>0?t.roiData.reduce((U,z)=>U+z.roiPercentage,0)/t.roiData.length:0,F=I>0?"positive":I<0?"negative":"stable";r({type:"UPDATE_METRICS",payload:{totalRevenue:j,totalExpenses:P,netProfit:I,pendingPayments:k,overdueInvoices:D,monthlyGrowth:E,averageROI:_,cashFlowTrend:F}})})()},[t.transactions,t.invoices,t.roiData]),O.useEffect(()=>{r({type:"SET_TRANSACTIONS",payload:r7}),r({type:"SET_INVOICES",payload:n7}),r({type:"SET_BUDGETS",payload:a7}),r({type:"SET_ALERTS",payload:s7})},[]);const n=w=>{const g={...w,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r({type:"ADD_TRANSACTION",payload:g})},a=(w,g)=>{r({type:"UPDATE_TRANSACTION",payload:{id:w,updates:{...g,updatedAt:new Date().toISOString()}}})},s=w=>{r({type:"DELETE_TRANSACTION",payload:w})},o=w=>{const g={...w,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r({type:"ADD_INVOICE",payload:g})},c=(w,g)=>{r({type:"UPDATE_INVOICE",payload:{id:w,updates:{...g,updatedAt:new Date().toISOString()}}})},l=w=>{r({type:"DELETE_INVOICE",payload:w})},u=w=>{const g={...w,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r({type:"ADD_BUDGET",payload:g})},d=(w,g)=>{r({type:"UPDATE_BUDGET",payload:{id:w,updates:{...g,updatedAt:new Date().toISOString()}}})},f=w=>{r({type:"DELETE_BUDGET",payload:w})},p=w=>{r({type:"MARK_ALERT_READ",payload:w})},m=(w,g)=>{console.log(`Exporting ${w} report in ${g} format`)},y=w=>t.roiData.find(g=>g.projectId===w)||null,v=(w,g)=>t.cashFlowData.filter(x=>x.date>=w&&x.date<=g);return i.jsx(P6.Provider,{value:{...t,addTransaction:n,updateTransaction:a,deleteTransaction:s,addInvoice:o,updateInvoice:c,deleteInvoice:l,addBudget:u,updateBudget:d,deleteBudget:f,markAlertAsRead:p,exportReport:m,calculateROI:y,generateCashFlowData:v},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ue=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:c="",children:l,...u},d)=>O.createElement("svg",{ref:d,...l7,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${c7(e)}`,c].join(" "),...u},[...t.map(([f,p])=>O.createElement(f,p)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=Ue("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=Ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=Ue("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M6=Ue("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=Ue("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=Ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=Ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=Ue("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=Ue("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pn=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=Ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Ue("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=Ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=Ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=Ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=Ue("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=Ue("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=Ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L6=Ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=Ue("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Ue("FolderSync",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=Ue("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=Ue("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O6=Ue("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=Ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=Ue("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=Ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D7=Ue("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=Ue("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Ue("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=Ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ko=Ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=Ue("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=Ue("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=Ue("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=Ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=Ue("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=Ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=Ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=Ue("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=Ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L7=Ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=Ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=Ue("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=Ue("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=Ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=Ue("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=Ue("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),R7=()=>{const[e,t]=O.useState(""),[r,n]=O.useState(""),[a,s]=O.useState(!1),[o,c]=O.useState(!1),{login:l,isLoading:u,error:d,clearError:f}=Tl();O.useEffect(()=>{d&&f()},[e,r,f]);const p=async m=>{m.preventDefault();try{await l({email:e,password:r}),window.location.href="/dashboard"}catch(y){console.error("Error en login:",y)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-600 rounded-full flex items-center justify-center mb-4",children:i.jsx(SS,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Iniciar Sesin"}),i.jsx("p",{className:"text-gray-600",children:"Accede a tu cuenta de CRM TechSolutions"})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:p,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrnico"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ai,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:m=>t(m.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"tu@email.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contrasea"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(k7,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:m=>n(m.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Tu contrasea"}),i.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:a?i.jsx(Ag,{className:"h-5 w-5"}):i.jsx(ya,{className:"h-5 w-5"})})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:m=>c(m.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Recordarme"})]}),i.jsx("div",{className:"text-sm",children:i.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Olvidaste tu contrasea?"})})]}),d&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[i.jsx(Pa,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error de Autenticacin"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:d})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:u||!e||!r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Iniciando sesin..."})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(SS,{className:"h-4 w-4"}),i.jsx("span",{children:"Entrar"})]})})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["No tienes una cuenta?"," ",i.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Contacta al administrador"})]})})]})]})})},F7=({children:e})=>{const{isAuthenticated:t,isLoading:r}=Tl();return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Verificando autenticacin..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(R7,{})},$7="/assets/Innomind%20logo-r6reBaAf.png",U7=({activeView:e,onViewChange:t})=>{const{user:r}=Tl(),n=(r==null?void 0:r.role)==="admin",a=[{id:"dashboard",label:"Panel",icon:O6},{id:"prospects",label:"Prospectos",icon:Zn},{id:"kanban",label:"Embudo",icon:$v},{id:"quotes",label:"Cotizaciones",icon:Br},{id:"projects",label:"Proyectos",icon:b7},{id:"finance",label:"Finanzas",icon:ki},{id:"calendar",label:"Calendario",icon:Sn},...n?[{id:"users",label:"Usuarios",icon:T7}]:[],{id:"webhook",label:"Webhook",icon:I7},{id:"settings",label:"Configuracin",icon:pc}];return i.jsxs("div",{className:"bg-white w-64 shadow-sm border-r border-gray-200 flex flex-col",children:[i.jsxs("div",{className:"flex items-center p-6",children:[i.jsx("img",{src:$7,alt:"Innomind CRM",className:"h-14 w-auto mr-3"}),i.jsx("h1",{className:"text-xl font-kollektiv text-blue-900",children:"Innomind CRM"})]}),i.jsx("nav",{className:"flex-1 px-4 pb-4",children:i.jsx("ul",{className:"space-y-2",children:a.map(s=>{const o=s.icon;return i.jsx("li",{children:i.jsxs("button",{onClick:()=>t(s.id),className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${e===s.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[i.jsx(o,{className:"h-5 w-5 mr-3"}),s.label]})},s.id)})})})]})},z7=({title:e,onNavigate:t})=>{const{prospects:r}=ra(),{user:n,logout:a}=Tl(),[s,o]=O.useState(!1),[c,l]=O.useState(!1),[u,d]=O.useState(""),[f,p]=O.useState([]),[m,y]=O.useState(!1),[v,w]=O.useState(!1),[g,x]=O.useState(null),S=O.useRef(null),j=O.useRef(null),[P,I]=O.useState([{id:"1",title:"Nuevo prospecto",message:"Carlos Garca se registr desde WhatsApp",time:"Hace 5 minutos",unread:!0,type:"prospect",relatedId:"1",relatedData:{prospectId:"1",name:"Carlos Garca"}},{id:"2",title:"Cotizacin vencida",message:"La cotizacin COT-2024-003 ha vencido",time:"Hace 2 horas",unread:!0,type:"quote",relatedId:"1",relatedData:{quoteId:"1",quoteNumber:"COT-2024-003"}},{id:"3",title:"Seguimiento pendiente",message:"Mara Rodrguez necesita seguimiento",time:"Hace 1 da",unread:!1,type:"followup",relatedId:"2",relatedData:{prospectId:"2",name:"Mara Rodrguez"}},{id:"4",title:"Nueva cotizacin creada",message:"Se cre la cotizacin COT-2024-004 para Laura Gonzlez",time:"Hace 3 horas",unread:!0,type:"quote",relatedId:"2",relatedData:{quoteId:"2",quoteNumber:"COT-2024-004",prospectId:"4"}}]),k=P.filter(M=>M.unread).length;O.useEffect(()=>{const Y=setTimeout(async()=>{if(!u.trim()){p([]),y(!1),x(null);return}if(u.length<2){p([]),y(!1),x(null);return}w(!0),x(null);try{await new Promise($=>setTimeout($,300));const G=r.filter($=>{const X=u.toLowerCase();return $.nombre.toLowerCase().includes(X)||$.correo.toLowerCase().includes(X)||$.telefono.includes(u)||$.id.toLowerCase().includes(X)||$.servicioInteres.toLowerCase().includes(X)}).slice(0,10).map($=>({id:$.id,nombre:$.nombre,telefono:$.telefono,correo:$.correo,plataforma:$.plataforma,servicioInteres:$.servicioInteres,estado:$.estado}));p(G),y(!0)}catch{x("Error al buscar prospectos. Intenta nuevamente."),p([]),y(!0)}finally{w(!1)}},300);return()=>clearTimeout(Y)},[u,r]),O.useEffect(()=>{const M=Y=>{j.current&&!j.current.contains(Y.target)&&y(!1)};return document.addEventListener("mousedown",M),()=>document.removeEventListener("mousedown",M)},[]);const D=(M,Y)=>{if(!Y.trim())return M;const Q=new RegExp(`(${Y.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return M.split(Q).map(($,X)=>Q.test($)?i.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-1 rounded",children:$},X):$)},R=M=>{d(""),y(!1),p([]),t&&t("prospects",{prospectId:M.id,showDetail:!0})},A=()=>{var M;d(""),p([]),y(!1),x(null),(M=S.current)==null||M.focus()},E=()=>{o(!s),l(!1),y(!1)},_=()=>{l(!c),o(!1),y(!1)},F=M=>{M.target===M.currentTarget&&(o(!1),l(!1))},L=async()=>{try{await a()}catch(M){console.error("Error al cerrar sesin:",M)}},U=M=>{var Y;if(I(Q=>Q.map(G=>G.id===M.id?{...G,unread:!1}:G)),o(!1),t)switch(M.type){case"prospect":t("prospects",{prospectId:M.relatedId,showDetail:!0});break;case"quote":t("quotes",{quoteId:M.relatedId,showDetail:!0,prospectId:(Y=M.relatedData)==null?void 0:Y.prospectId});break;case"followup":t("prospects",{prospectId:M.relatedId,showDetail:!0,highlightFollowup:!0});break;case"system":t("dashboard");break;default:t("dashboard")}},z=()=>{I(M=>M.map(Y=>({...Y,unread:!1})))},H=M=>{switch(M){case"prospect":return"";case"quote":return"";case"followup":return"";case"system":return"";default:return""}},V=M=>({WhatsApp:"",Instagram:"",Facebook:""})[M]||"",ae=M=>({Nuevo:"text-blue-600",Contactado:"text-yellow-600","En seguimiento":"text-orange-600",Cotizado:"text-purple-600","Venta cerrada":"text-green-600",Perdido:"text-red-600"})[M]||"text-gray-600",le=M=>M.split(" ").map(Y=>Y.charAt(0)).join("").toUpperCase().slice(0,2),oe=(n==null?void 0:n.role)==="admin";return i.jsxs(i.Fragment,{children:[i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4 relative z-40",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:e}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",ref:j,children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{ref:S,type:"text",placeholder:"Buscar prospectos...",value:u,onChange:M=>d(M.target.value),onFocus:()=>{f.length>0&&y(!0)},className:"pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64 transition-all duration-200"}),u&&i.jsx("button",{onClick:A,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(zs,{className:"h-4 w-4"})}),v&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),m&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50 max-h-96 overflow-y-auto",children:g?i.jsxs("div",{className:"px-4 py-3 text-center",children:[i.jsxs("div",{className:"text-red-600 text-sm mb-2",children:[" ",g]}),i.jsx("button",{onClick:()=>d(u),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Reintentar"})]}):f.length===0&&u.length>=2?i.jsxs("div",{className:"px-4 py-3 text-center text-gray-500 text-sm",children:[i.jsx("div",{className:"mb-2",children:""}),i.jsx("div",{children:"No se encontraron prospectos"}),i.jsx("div",{className:"text-xs mt-1",children:"Intenta con otros trminos de bsqueda"})]}):u.length<2&&u.length>0?i.jsxs("div",{className:"px-4 py-3 text-center text-gray-500 text-sm",children:[i.jsx("div",{className:"mb-2",children:""}),i.jsx("div",{children:"Escribe al menos 2 caracteres para buscar"})]}):i.jsxs(i.Fragment,{children:[f.length>0&&i.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:i.jsxs("div",{className:"text-xs text-gray-500",children:[f.length," resultado",f.length!==1?"s":""," encontrado",f.length!==1?"s":"",f.length===10&&" (mximo 10)"]})}),f.map(M=>i.jsx("div",{onClick:()=>R(M),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors border-l-4 border-transparent hover:border-blue-400",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("span",{className:"text-lg mr-2",children:V(M.plataforma)}),i.jsx("div",{className:"font-medium text-gray-900 text-sm",children:D(M.nombre,u)})]}),i.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[" ",D(M.correo,u)]}),i.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[" ",D(M.telefono,u)]}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:D(M.servicioInteres,u)})]}),i.jsxs("div",{className:"ml-3 text-right",children:[i.jsx("div",{className:`text-xs font-medium ${ae(M.estado)}`,children:M.estado}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["ID: ",M.id]})]})]})},M.id)),f.length>0&&i.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:i.jsx("button",{onClick:()=>{y(!1),t&&t("prospects")},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Ver todos los prospectos "})})]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:E,className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",children:[i.jsx(Wh,{className:"h-6 w-6"}),k>0&&i.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:k})]}),s&&i.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[i.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notificaciones"}),k>0&&i.jsx("button",{onClick:z,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Marcar todas como ledas"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:P.map(M=>i.jsx("div",{onClick:()=>U(M),className:`px-4 py-3 hover:bg-gray-50 cursor-pointer border-l-4 transition-colors ${M.unread?"border-blue-500 bg-blue-50":"border-transparent"}`,children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("span",{className:"text-lg mr-2",children:H(M.type)}),i.jsx("p",{className:`text-sm font-medium ${M.unread?"text-gray-900":"text-gray-700"}`,children:M.title})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.message}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.time})]}),M.unread&&i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1 ml-2"})]})},M.id))}),i.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:i.jsx("button",{onClick:()=>t&&t("dashboard"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Ver todas las notificaciones"})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:_,className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center",children:n!=null&&n.avatar?i.jsx("img",{src:n.avatar,alt:n.name,className:"h-8 w-8 rounded-full object-cover"}):i.jsx("span",{className:"text-white text-sm font-medium",children:n?le(n.name):"U"})}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:(n==null?void 0:n.name)||"Usuario"})]}),c&&i.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:n==null?void 0:n.name}),i.jsx("p",{className:"text-sm text-gray-500",children:n==null?void 0:n.email}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1 capitalize",children:["Rol: ",(n==null?void 0:n.role)==="admin"?"Administrador":"Usuario"]})]}),i.jsxs("div",{className:"py-1",children:[i.jsxs("button",{onClick:()=>{l(!1),t&&t("settings",{tab:"users"})},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsx(m7,{className:"h-4 w-4 mr-3"}),"Mi Perfil"]}),oe&&i.jsxs("button",{onClick:()=>{l(!1),t&&t("users")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsx(Pc,{className:"h-4 w-4 mr-3"}),"Gestin de Usuarios"]}),i.jsxs("button",{onClick:()=>{l(!1),t&&t("settings")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsx(pc,{className:"h-4 w-4 mr-3"}),"Configuracin"]}),i.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsx(Ai,{className:"h-4 w-4 mr-3"}),"Soporte"]})]}),i.jsx("div",{className:"border-t border-gray-100 py-1",children:i.jsxs("button",{onClick:L,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[i.jsx(C7,{className:"h-4 w-4 mr-3"}),"Cerrar Sesin"]})})]})]})]})]})}),(s||c)&&i.jsx("div",{className:"fixed inset-0 z-30",onClick:F})]})},Jm=({title:e,value:t,icon:r,color:n,trend:a,onClick:s,clickable:o=!1})=>{const c={blue:"bg-blue-500 text-blue-500 bg-blue-50",green:"bg-green-500 text-green-500 bg-green-50",yellow:"bg-yellow-500 text-yellow-500 bg-yellow-50",red:"bg-red-500 text-red-500 bg-red-50",purple:"bg-purple-500 text-purple-500 bg-purple-50"},[l,u,d]=c[n].split(" "),f=`bg-white rounded-xl shadow-sm border border-gray-200 p-6 transition-all duration-200 ${o?"hover:shadow-md hover:scale-105 cursor-pointer hover:border-blue-300":"hover:shadow-md"}`,p=()=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),a&&i.jsxs("div",{className:"flex items-center mt-2",children:[i.jsxs("span",{className:`text-sm font-medium ${a.isPositive?"text-green-600":"text-red-600"}`,children:[a.isPositive?"+":"",a.value,"%"]}),i.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs ltimo mes"})]})]}),i.jsx("div",{className:`${d} p-3 rounded-lg`,children:i.jsx(r,{className:`h-8 w-8 ${u}`})})]});return o&&s?i.jsx("div",{className:f,onClick:s,children:i.jsx(p,{})}):i.jsx("div",{className:f,children:i.jsx(p,{})})},DS=({onNavigate:e})=>{const{dashboardMetrics:t}=ra(),r=()=>{e&&e("prospects")},n=()=>{e&&e("quotes")},a=()=>{e&&e("kanban")};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Jm,{title:"Total Prospectos",value:t.totalProspectos,icon:Zn,color:"blue",trend:{value:12,isPositive:!0},clickable:!0,onClick:r}),i.jsx(Jm,{title:"Cotizaciones Generadas",value:t.cotizacionesGeneradas,icon:Br,color:"green",trend:{value:8,isPositive:!0},clickable:!0,onClick:n}),i.jsx(Jm,{title:"Ventas Cerradas",value:t.ventasCerradas,icon:Fs,color:"purple",trend:{value:15,isPositive:!0},clickable:!0,onClick:a}),i.jsx(Jm,{title:"Tasa de Conversin",value:`${t.tasaConversion.toFixed(1)}%`,icon:Fs,color:"yellow",trend:{value:3,isPositive:!0}})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Prospectos por Plataforma"}),i.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Ver todos"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Hc,{className:"h-5 w-5 text-green-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"WhatsApp"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900 mr-2",children:t.prospectosPorPlataforma.WhatsApp||0}),i.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${(t.prospectosPorPlataforma.WhatsApp||0)/t.totalProspectos*100}%`}})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(N7,{className:"h-5 w-5 text-pink-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Instagram"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900 mr-2",children:t.prospectosPorPlataforma.Instagram||0}),i.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${(t.prospectosPorPlataforma.Instagram||0)/t.totalProspectos*100}%`}})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(x7,{className:"h-5 w-5 text-blue-600 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Facebook"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900 mr-2",children:t.prospectosPorPlataforma.Facebook||0}),i.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(t.prospectosPorPlataforma.Facebook||0)/t.totalProspectos*100}%`}})})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Prospectos por Estado"}),i.jsx("button",{onClick:a,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Ver embudo"})]}),i.jsx("div",{className:"space-y-3",children:Object.entries(t.prospectosPorEstado).map(([s,o])=>{const c={Nuevo:"bg-blue-500",Contactado:"bg-yellow-500","En seguimiento":"bg-orange-500",Cotizado:"bg-purple-500","Venta cerrada":"bg-green-500",Perdido:"bg-red-500"};return i.jsxs("div",{className:"flex items-center justify-between hover:bg-gray-50 p-2 rounded-lg transition-colors cursor-pointer",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${c[s]} mr-2`}),i.jsx("span",{className:"text-gray-700",children:s})]}),i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:o})]},s)})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Acciones Rpidas"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("button",{onClick:r,className:"flex items-center justify-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors group",children:[i.jsx(Zn,{className:"h-6 w-6 text-blue-600 mr-3 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"font-medium text-blue-700",children:"Gestionar Prospectos"})]}),i.jsxs("button",{onClick:n,className:"flex items-center justify-center p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors group",children:[i.jsx(Br,{className:"h-6 w-6 text-green-600 mr-3 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"font-medium text-green-700",children:"Nueva Cotizacin"})]}),i.jsxs("button",{onClick:a,className:"flex items-center justify-center p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors group",children:[i.jsx(Fs,{className:"h-6 w-6 text-purple-600 mr-3 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"font-medium text-purple-700",children:"Ver Embudo"})]})]})]})]})};function wt(e){"@babel/helpers - typeof";return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wt(e)}function Ec(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function na(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ri(e){na(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||wt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function B7(e,t){na(2,arguments);var r=Ri(e).getTime(),n=Ec(t);return new Date(r+n)}var W7={};function Uv(){return W7}function H7(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function Y7(e){return na(1,arguments),e instanceof Date||wt(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function V7(e){if(na(1,arguments),!Y7(e)&&typeof e!="number")return!1;var t=Ri(e);return!isNaN(Number(t))}function q7(e,t){na(2,arguments);var r=Ec(t);return B7(e,-r)}var G7=864e5;function K7(e){na(1,arguments);var t=Ri(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/G7)+1}function Tg(e){na(1,arguments);var t=1,r=Ri(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function I6(e){na(1,arguments);var t=Ri(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Tg(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=Tg(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function X7(e){na(1,arguments);var t=I6(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Tg(r);return n}var Q7=6048e5;function J7(e){na(1,arguments);var t=Ri(e),r=Tg(t).getTime()-X7(t).getTime();return Math.round(r/Q7)+1}function Og(e,t){var r,n,a,s,o,c,l,u;na(1,arguments);var d=Uv(),f=Ec((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=Ri(e),m=p.getUTCDay(),y=(m<f?7:0)+m-f;return p.setUTCDate(p.getUTCDate()-y),p.setUTCHours(0,0,0,0),p}function R6(e,t){var r,n,a,s,o,c,l,u;na(1,arguments);var d=Ri(e),f=d.getUTCFullYear(),p=Uv(),m=Ec((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:p.firstWeekContainsDate)!==null&&n!==void 0?n:(l=p.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,m),y.setUTCHours(0,0,0,0);var v=Og(y,t),w=new Date(0);w.setUTCFullYear(f,0,m),w.setUTCHours(0,0,0,0);var g=Og(w,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=g.getTime()?f:f-1}function Z7(e,t){var r,n,a,s,o,c,l,u;na(1,arguments);var d=Uv(),f=Ec((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(c=o.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(l=d.locale)===null||l===void 0||(u=l.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=R6(e,t),m=new Date(0);m.setUTCFullYear(p,0,f),m.setUTCHours(0,0,0,0);var y=Og(m,t);return y}var eI=6048e5;function tI(e,t){na(1,arguments);var r=Ri(e),n=Og(r,t).getTime()-Z7(r,t).getTime();return Math.round(n/eI)+1}function Vt(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Qo={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Vt(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Vt(n+1,2)},d:function(t,r){return Vt(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Vt(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Vt(t.getUTCHours(),r.length)},m:function(t,r){return Vt(t.getUTCMinutes(),r.length)},s:function(t,r){return Vt(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return Vt(s,r.length)}},Cu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},rI={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return Qo.y(t,r)},Y:function(t,r,n,a){var s=R6(t,a),o=s>0?s:1-s;if(r==="YY"){var c=o%100;return Vt(c,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Vt(o,r.length)},R:function(t,r){var n=I6(t);return Vt(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Vt(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Vt(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Vt(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Qo.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Vt(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=tI(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):Vt(s,r.length)},I:function(t,r,n){var a=J7(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Vt(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Qo.d(t,r)},D:function(t,r,n){var a=K7(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Vt(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Vt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Vt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return Vt(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=Cu.noon:a===0?s=Cu.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=Cu.evening:a>=12?s=Cu.afternoon:a>=4?s=Cu.morning:s=Cu.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Qo.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Qo.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Vt(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Vt(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Qo.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Qo.s(t,r)},S:function(t,r){return Qo.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return PS(o);case"XXXX":case"XX":return tc(o);case"XXXXX":case"XXX":default:return tc(o,":")}},x:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"x":return PS(o);case"xxxx":case"xx":return tc(o);case"xxxxx":case"xxx":default:return tc(o,":")}},O:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+_S(o,":");case"OOOO":default:return"GMT"+tc(o,":")}},z:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+_S(o,":");case"zzzz":default:return"GMT"+tc(o,":")}},t:function(t,r,n,a){var s=a._originalDate||t,o=Math.floor(s.getTime()/1e3);return Vt(o,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,o=s.getTime();return Vt(o,r.length)}};function _S(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var o=t;return r+String(a)+o+Vt(s,2)}function PS(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Vt(Math.abs(e)/60,2)}return tc(e,t)}function tc(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=Vt(Math.floor(a/60),2),o=Vt(a%60,2);return n+s+r+o}var ES=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},F6=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},nI=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return ES(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",ES(a,r)).replace("{{time}}",F6(s,r))},aI={p:F6,P:nI},sI=["D","DD"],iI=["YY","YYYY"];function oI(e){return sI.indexOf(e)!==-1}function lI(e){return iI.indexOf(e)!==-1}function MS(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var cI={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uI=function(t,r,n){var a,s=cI[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function nd(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var dI={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fI={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hI={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pI={date:nd({formats:dI,defaultWidth:"full"}),time:nd({formats:fI,defaultWidth:"full"}),dateTime:nd({formats:hI,defaultWidth:"full"})},mI={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gI=function(t,r,n,a){return mI[t]};function pi(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{var c=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[c]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var vI={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xI={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yI={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bI={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NI={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jI=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},SI={ordinalNumber:jI,era:pi({values:vI,defaultWidth:"wide"}),quarter:pi({values:xI,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:pi({values:yI,defaultWidth:"wide"}),day:pi({values:bI,defaultWidth:"wide"}),dayPeriod:pi({values:wI,defaultWidth:"wide",formattingValues:NI,defaultFormattingWidth:"wide"})};function mi(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var o=s[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?CI(c,function(f){return f.test(o)}):kI(c,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function kI(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function CI(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function $6(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;var c=t.slice(a.length);return{value:o,rest:c}}}var DI=/^(\d+)(th|st|nd|rd)?/i,_I=/\d+/i,PI={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},EI={any:[/^b/i,/^(a|c)/i]},MI={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},AI={any:[/1/i,/2/i,/3/i,/4/i]},LI={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},TI={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OI={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},II={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},RI={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},FI={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$I={ordinalNumber:$6({matchPattern:DI,parsePattern:_I,valueCallback:function(t){return parseInt(t,10)}}),era:mi({matchPatterns:PI,defaultMatchWidth:"wide",parsePatterns:EI,defaultParseWidth:"any"}),quarter:mi({matchPatterns:MI,defaultMatchWidth:"wide",parsePatterns:AI,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:mi({matchPatterns:LI,defaultMatchWidth:"wide",parsePatterns:TI,defaultParseWidth:"any"}),day:mi({matchPatterns:OI,defaultMatchWidth:"wide",parsePatterns:II,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:RI,defaultMatchWidth:"any",parsePatterns:FI,defaultParseWidth:"any"})},UI={code:"en-US",formatDistance:uI,formatLong:pI,formatRelative:gI,localize:SI,match:$I,options:{weekStartsOn:0,firstWeekContainsDate:1}},zI=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BI=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WI=/^'([^]*?)'?$/,HI=/''/g,YI=/[a-zA-Z]/;function st(e,t,r){var n,a,s,o,c,l,u,d,f,p,m,y,v,w,g,x,S,j;na(2,arguments);var P=String(t),I=Uv(),k=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:I.locale)!==null&&n!==void 0?n:UI,D=Ec((s=(o=(c=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&c!==void 0?c:I.firstWeekContainsDate)!==null&&o!==void 0?o:(f=I.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var R=Ec((m=(y=(v=(w=r==null?void 0:r.weekStartsOn)!==null&&w!==void 0?w:r==null||(g=r.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&v!==void 0?v:I.weekStartsOn)!==null&&y!==void 0?y:(S=I.locale)===null||S===void 0||(j=S.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&m!==void 0?m:0);if(!(R>=0&&R<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var A=Ri(e);if(!V7(A))throw new RangeError("Invalid time value");var E=H7(A),_=q7(A,E),F={firstWeekContainsDate:D,weekStartsOn:R,locale:k,_originalDate:A},L=P.match(BI).map(function(U){var z=U[0];if(z==="p"||z==="P"){var H=aI[z];return H(U,k.formatLong)}return U}).join("").match(zI).map(function(U){if(U==="''")return"'";var z=U[0];if(z==="'")return VI(U);var H=rI[z];if(H)return!(r!=null&&r.useAdditionalWeekYearTokens)&&lI(U)&&MS(U,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&oI(U)&&MS(U,t,String(e)),H(_,U,k.localize,F);if(z.match(YI))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return U}).join("");return L}function VI(e){var t=e.match(WI);return t?t[1].replace(HI,"'"):e}function qb(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Yw(e,t){if(e){if(typeof e=="string")return qb(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qb(e,t):void 0}}function qI(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ig(e,t){return Ig=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Ig(e,t)}function Dn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ig(e,t)}function wd(e){return wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wd(e)}function Vw(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vw=function(){return!!e})()}function U6(e,t){if(t&&(wt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qI(e)}function GI(e){var t=Vw();return function(){var r,n=wd(e);if(t){var a=wd(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return U6(this,r)}}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KI(e,t){if(wt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z6(e){var t=KI(e,"string");return wt(t)=="symbol"?t:t+""}function AS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z6(n.key),n)}}function Zr(e,t,r){return t&&AS(e.prototype,t),r&&AS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ts(e,t,r){return(t=z6(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const XI=({onClose:e,onSuccess:t})=>{const{addProspect:r}=ra(),{users:n}=Ud(),[a,s]=O.useState(!1),[o,c]=O.useState({}),[l,u]=O.useState({nombre:"",empresa:"",cargo:"",telefono:"",correo:"",origen:"",telefonoSecundario:"",direccion:"",industria:"",tamanoEmpresa:"",notasAdicionales:"",nivelInteres:"Medio",responsable:"Usuario Actual",estado:"Nuevo",fechaProximoSeguimiento:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],plataforma:"WhatsApp",servicioInteres:""}),d=["Referido","Sitio web","Redes sociales","WhatsApp","Instagram","Facebook","LinkedIn","Google Ads","Email marketing","Evento/Feria","Llamada en fro","Otro"],f=["Tecnologa","Retail/Comercio","Servicios financieros","Salud","Educacin","Manufactura","Construccin","Turismo/Hospitalidad","Alimentaria","Automotriz","Inmobiliaria","Consultora","Marketing/Publicidad","Logstica/Transporte","Otro"],p=["Startup (1-10 empleados)","Pequea (11-50 empleados)","Mediana (51-200 empleados)","Grande (201-1000 empleados)","Corporativo (1000+ empleados)"],m=()=>{const g={};if(l.nombre.trim()||(g.nombre="El nombre completo es requerido"),l.empresa.trim()||(g.empresa="La empresa/organizacin es requerida"),l.cargo.trim()||(g.cargo="El cargo/puesto es requerido"),l.telefono.trim()?/^[\+]?[0-9\s\-\(\)]+$/.test(l.telefono)||(g.telefono="El formato del telfono no es vlido"):g.telefono="El telfono principal es requerido",l.correo.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.correo)||(g.correo="El formato del correo no es vlido"):g.correo="El correo electrnico es requerido",l.origen||(g.origen="El origen del prospecto es requerido"),l.servicioInteres.trim()||(g.servicioInteres="El servicio de inters es requerido"),l.telefonoSecundario&&!/^[\+]?[0-9\s\-\(\)]+$/.test(l.telefonoSecundario)&&(g.telefonoSecundario="El formato del telfono secundario no es vlido"),l.fechaProximoSeguimiento){const x=new Date(l.fechaProximoSeguimiento),S=new Date;S.setHours(0,0,0,0),x<S&&(g.fechaProximoSeguimiento="La fecha de seguimiento no puede ser anterior a hoy")}return c(g),Object.keys(g).length===0},y=(g,x)=>{u(S=>({...S,[g]:x})),o[g]&&c(S=>({...S,[g]:""}))},v=async g=>{if(g.preventDefault(),!!m()){s(!0);try{await new Promise(S=>setTimeout(S,1e3));const x={nombre:l.nombre.trim(),telefono:l.telefono.trim(),correo:l.correo.trim(),plataforma:l.plataforma,servicioInteres:l.servicioInteres.trim(),fechaContacto:new Date,estado:l.estado,notasInternas:`
Empresa: ${l.empresa}
Cargo: ${l.cargo}
Origen: ${l.origen}
${l.telefonoSecundario?`Telfono secundario: ${l.telefonoSecundario}`:""}
${l.direccion?`Direccin: ${l.direccion}`:""}
${l.industria?`Industria: ${l.industria}`:""}
${l.tamanoEmpresa?`Tamao empresa: ${l.tamanoEmpresa}`:""}
Nivel de inters: ${l.nivelInteres}
${l.notasAdicionales?`Notas adicionales: ${l.notasAdicionales}`:""}
        `.trim(),responsable:l.responsable};r(x),alert(" Prospecto creado exitosamente"),t&&t(),e()}catch(x){console.error("Error al crear prospecto:",x),alert(" Error al crear el prospecto. Intenta nuevamente.")}finally{s(!1)}}},w=g=>o[g]?i.jsxs("div",{className:"flex items-center mt-1 text-red-600 text-sm",children:[i.jsx(Pa,{className:"h-4 w-4 mr-1"}),o[g]]}):null;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl max-h-screen overflow-y-auto m-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Crear Nuevo Prospecto"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Registra un nuevo prospecto en el sistema CRM"})]}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(zs,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:v,className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx(Pc,{className:"h-5 w-5 mr-2 text-blue-600"}),"Informacin Obligatoria"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),i.jsx("input",{type:"text",value:l.nombre,onChange:g=>y("nombre",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.nombre?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Juan Carlos Prez"}),w("nombre")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa/Organizacin *"}),i.jsxs("div",{className:"relative",children:[i.jsx(M6,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",value:l.empresa,onChange:g=>y("empresa",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.empresa?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: TechCorp S.A."})]}),w("empresa")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo/Puesto *"}),i.jsx("input",{type:"text",value:l.cargo,onChange:g=>y("cargo",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.cargo?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Gerente de Marketing"}),w("cargo")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono principal *"}),i.jsxs("div",{className:"relative",children:[i.jsx(ko,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"tel",value:l.telefono,onChange:g=>y("telefono",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.telefono?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"+52 55 1234 5678"})]}),w("telefono")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrnico *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ai,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"email",value:l.correo,onChange:g=>y("correo",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.correo?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"juan@empresa.com"})]}),w("correo")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origen del prospecto *"}),i.jsxs("select",{value:l.origen,onChange:g=>y("origen",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.origen?"border-red-300 bg-red-50":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Seleccionar origen"}),d.map(g=>i.jsx("option",{value:g,children:g},g))]}),w("origen")]})]})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx($v,{className:"h-5 w-5 mr-2 text-green-600"}),"Informacin Opcional"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono secundario"}),i.jsxs("div",{className:"relative",children:[i.jsx(ko,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"tel",value:l.telefonoSecundario,onChange:g=>y("telefonoSecundario",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.telefonoSecundario?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"+52 55 8765 4321"})]}),w("telefonoSecundario")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industria/Sector"}),i.jsxs("select",{value:l.industria,onChange:g=>y("industria",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar industria"}),f.map(g=>i.jsx("option",{value:g,children:g},g))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tamao de empresa"}),i.jsxs("select",{value:l.tamanoEmpresa,onChange:g=>y("tamanoEmpresa",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar tamao"}),p.map(g=>i.jsx("option",{value:g,children:g},g))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nivel de inters"}),i.jsxs("select",{value:l.nivelInteres,onChange:g=>y("nivelInteres",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"Alto",children:" Alto"}),i.jsx("option",{value:"Medio",children:" Medio"}),i.jsx("option",{value:"Bajo",children:" Bajo"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Direccin"}),i.jsxs("div",{className:"relative",children:[i.jsx(Rv,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),i.jsx("textarea",{value:l.direccion,onChange:g=>y("direccion",g.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Direccin completa de la empresa"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),i.jsx("textarea",{value:l.notasAdicionales,onChange:g=>y("notasAdicionales",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informacin adicional relevante sobre el prospecto..."})]})]})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx(Zn,{className:"h-5 w-5 mr-2 text-purple-600"}),"Asignacin y Configuracin"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendedor/Ejecutivo responsable"}),i.jsxs("select",{value:l.responsable,onChange:g=>y("responsable",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar responsable"}),n.map(g=>i.jsxs("option",{value:g.id,children:[g.nombre," ",g.apellido," - ",g.email]},g.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Etapa del pipeline"}),i.jsxs("select",{value:l.estado,onChange:g=>y("estado",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"Nuevo",children:" Nuevo"}),i.jsx("option",{value:"Contactado",children:" Contactado"}),i.jsx("option",{value:"En seguimiento",children:" En seguimiento"}),i.jsx("option",{value:"Cotizado",children:" Cotizado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plataforma de contacto"}),i.jsxs("select",{value:l.plataforma,onChange:g=>y("plataforma",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"WhatsApp",children:" WhatsApp"}),i.jsx("option",{value:"Instagram",children:" Instagram"}),i.jsx("option",{value:"Facebook",children:" Facebook"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de prximo seguimiento"}),i.jsxs("div",{className:"relative",children:[i.jsx(Sn,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"date",value:l.fechaProximoSeguimiento,onChange:g=>y("fechaProximoSeguimiento",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.fechaProximoSeguimiento?"border-red-300 bg-red-50":"border-gray-300"}`})]}),w("fechaProximoSeguimiento")]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servicio de inters *"}),i.jsx("input",{type:"text",value:l.servicioInteres,onChange:g=>y("servicioInteres",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.servicioInteres?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Chatbot WhatsApp, CRM personalizado, Marketing digital..."}),w("servicioInteres")]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors font-medium",disabled:a,children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(zd,{className:"h-4 w-4"}),"Crear Prospecto"]})})]})]})]})})},QI=({navigationParams:e})=>{const{prospects:t,selectProspect:r,deleteProspect:n}=ra(),{users:a}=Ud(),[s,o]=O.useState(""),[c,l]=O.useState("all"),[u,d]=O.useState("all"),[f,p]=O.useState("all"),[m,y]=O.useState(!1),[v,w]=O.useState(null);O.useEffect(()=>{if(e!=null&&e.prospectId&&(e!=null&&e.showDetail)){const I=t.find(k=>k.id===e.prospectId);I&&(r(I),e.highlightFollowup&&(w(I.id),setTimeout(()=>w(null),3e3)))}},[e,t,r]);const g=t.filter(I=>{const k=I.nombre.toLowerCase().includes(s.toLowerCase())||I.telefono.includes(s)||I.correo.toLowerCase().includes(s.toLowerCase()),D=c==="all"||I.estado===c,R=u==="all"||I.plataforma===u,A=f==="all"||I.responsable===f;return k&&D&&R&&A}),x=I=>({Nuevo:"bg-blue-100 text-blue-800",Contactado:"bg-yellow-100 text-yellow-800","En seguimiento":"bg-orange-100 text-orange-800",Cotizado:"bg-purple-100 text-purple-800","Venta cerrada":"bg-green-100 text-green-800",Perdido:"bg-red-100 text-red-800"})[I],S=I=>({WhatsApp:"",Instagram:"",Facebook:""})[I],j=I=>{const k=I.replace(/[^\d+]/g,"");window.open(`https://wa.me/${k}`,"_blank")},P=()=>{console.log("Prospecto creado exitosamente")};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar por nombre, telfono o correo...",value:s,onChange:I=>o(I.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:c,onChange:I=>l(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"Nuevo",children:"Nuevo"}),i.jsx("option",{value:"Contactado",children:"Contactado"}),i.jsx("option",{value:"En seguimiento",children:"En seguimiento"}),i.jsx("option",{value:"Cotizado",children:"Cotizado"}),i.jsx("option",{value:"Venta cerrada",children:"Venta cerrada"}),i.jsx("option",{value:"Perdido",children:"Perdido"})]}),i.jsxs("select",{value:u,onChange:I=>d(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todas las plataformas"}),i.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),i.jsx("option",{value:"Instagram",children:"Instagram"}),i.jsx("option",{value:"Facebook",children:"Facebook"})]}),i.jsxs("select",{value:f,onChange:I=>p(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los usuarios"}),a.map(I=>i.jsxs("option",{value:I.id,children:[I.nombre," ",I.apellido]},I.id))]}),i.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Agregar Prospecto"]})]})]}),(e==null?void 0:e.highlightFollowup)&&v&&i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"text-orange-500 text-lg",children:""})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Seguimiento pendiente"}),i.jsx("p",{className:"text-sm text-orange-700",children:'Este prospecto necesita seguimiento. Haz clic en "Ver detalles" para gestionar.'})]})]})}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",g.length," de ",t.length," prospectos"]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prospecto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plataforma"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltimo Seguimiento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(I=>i.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${v===I.id?"bg-orange-50 border-l-4 border-orange-400":""}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.nombre}),i.jsx("div",{className:"text-sm text-gray-500",children:I.servicioInteres})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-900",children:I.telefono}),i.jsx("div",{className:"text-sm text-gray-500",children:I.correo})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"mr-2",children:S(I.plataforma)}),i.jsx("span",{className:"text-sm text-gray-900",children:I.plataforma})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(I.estado)}`,children:I.estado})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.ultimoSeguimiento?st(I.ultimoSeguimiento,"dd/MM/yyyy"):"Sin seguimiento"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>r(I),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Ver detalles",children:i.jsx(ya,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>j(I.telefono),className:"text-green-600 hover:text-green-900 transition-colors",title:"Abrir WhatsApp",children:i.jsx(Hc,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>window.open(`tel:${I.telefono}`),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Llamar",children:i.jsx(ko,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>window.open(`mailto:${I.correo}`),className:"text-purple-600 hover:text-purple-900 transition-colors",title:"Enviar email",children:i.jsx(Ai,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>n(I.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar",children:i.jsx(Qr,{className:"h-4 w-4"})})]})})]},I.id))})]})})}),g.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ya,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron prospectos"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros o agregar un nuevo prospecto."}),i.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar Primer Prospecto"})]}),m&&i.jsx(XI,{onClose:()=>y(!1),onSuccess:P})]})},JI=()=>{const{selectedProspect:e,selectProspect:t,updateProspect:r,addFollowUp:n}=ra(),{users:a}=Ud(),[s,o]=O.useState(""),[c,l]=O.useState(!1);if(!e)return null;const u=()=>{s.trim()&&(n(e.id,s.trim()),o(""))},d=y=>{r(e.id,{estado:y}),l(!1)},f=y=>({Nuevo:"bg-blue-100 text-blue-800 border-blue-200",Contactado:"bg-yellow-100 text-yellow-800 border-yellow-200","En seguimiento":"bg-orange-100 text-orange-800 border-orange-200",Cotizado:"bg-purple-100 text-purple-800 border-purple-200","Venta cerrada":"bg-green-100 text-green-800 border-green-200",Perdido:"bg-red-100 text-red-800 border-red-200"})[y],p=()=>{const y=e.telefono.replace(/[^\d+]/g,"");window.open(`https://wa.me/${y}`,"_blank")},m=y=>{const v=a.find(w=>w.id===y);return v?`${v.nombre} ${v.apellido}`:y};return i.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("button",{onClick:()=>t(null),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Np,{className:"h-5 w-5 mr-2"}),"Volver a la lista"]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.nombre}),i.jsx("p",{className:"text-gray-600",children:e.servicioInteres})]}),i.jsx("div",{className:"flex items-center space-x-2",children:c?i.jsxs("select",{value:e.estado,onChange:y=>d(y.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",autoFocus:!0,onBlur:()=>l(!1),children:[i.jsx("option",{value:"Nuevo",children:"Nuevo"}),i.jsx("option",{value:"Contactado",children:"Contactado"}),i.jsx("option",{value:"En seguimiento",children:"En seguimiento"}),i.jsx("option",{value:"Cotizado",children:"Cotizado"}),i.jsx("option",{value:"Venta cerrada",children:"Venta cerrada"}),i.jsx("option",{value:"Perdido",children:"Perdido"})]}):i.jsxs("button",{onClick:()=>l(!0),className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border cursor-pointer hover:opacity-80 transition-opacity ${f(e.estado)}`,children:[e.estado,i.jsx(Hn,{className:"h-3 w-3 ml-1"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(ko,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:e.telefono})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Ai,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:e.correo||"No proporcionado"})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Sn,{className:"h-5 w-5 mr-2"}),i.jsxs("span",{children:["Contacto: ",st(e.fechaContacto,"dd/MM/yyyy")]})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Pc,{className:"h-5 w-5 mr-2"}),i.jsxs("span",{children:["Responsable: ",m(e.responsable)]})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:p,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[i.jsx(Hc,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),i.jsxs("button",{onClick:()=>window.open(`tel:${e.telefono}`),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(ko,{className:"h-4 w-4 mr-2"}),"Llamar"]}),i.jsxs("button",{onClick:()=>window.open(`mailto:${e.correo}`),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:[i.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Email"]})]})]}),e.notasInternas&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Notas Internas"}),i.jsx("p",{className:"text-gray-600",children:e.notasInternas})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Timeline de Seguimiento"}),i.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[i.jsx("textarea",{value:s,onChange:y=>o(y.target.value),placeholder:"Agregar nueva nota de seguimiento...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsxs("button",{onClick:u,disabled:!s.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(or,{className:"h-4 w-4 mr-2"}),"Agregar Seguimiento"]})})]}),i.jsx("div",{className:"space-y-4",children:e.seguimientos.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(pn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay seguimientos registrados"})]}):e.seguimientos.map((y,v)=>i.jsxs("div",{className:"flex",children:[i.jsxs("div",{className:"flex flex-col items-center mr-4",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),v<e.seguimientos.length-1&&i.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-2"})]}),i.jsxs("div",{className:"flex-1 pb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:y.usuario}),i.jsx("span",{className:"text-sm text-gray-500",children:st(y.fecha,"dd/MM/yyyy HH:mm")})]}),i.jsx("p",{className:"text-gray-700",children:y.nota})]})]},y.id))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Resumen"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Plataforma:"}),i.jsx("span",{className:"font-medium",children:e.plataforma})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Seguimientos:"}),i.jsx("span",{className:"font-medium",children:e.seguimientos.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Cotizaciones:"}),i.jsx("span",{className:"font-medium",children:e.cotizaciones.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"ltimo contacto:"}),i.jsx("span",{className:"font-medium",children:e.ultimoSeguimiento?st(e.ultimoSeguimiento,"dd/MM"):"Nunca"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Cotizaciones"}),i.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:i.jsx(or,{className:"h-5 w-5"})})]}),e.cotizaciones.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(Br,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No hay cotizaciones"})]}):i.jsx("div",{className:"space-y-3",children:e.cotizaciones.map(y=>i.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:["$",y.total.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${y.estado==="Aceptada"?"bg-green-100 text-green-800":y.estado==="Rechazada"?"bg-red-100 text-red-800":y.estado==="Enviada"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:y.estado})]}),i.jsx("p",{className:"text-xs text-gray-500",children:st(y.fecha,"dd/MM/yyyy")})]},y.id))})]})]})]})]})},ZI=()=>{const{prospects:e,updateProspect:t,selectProspect:r}=ra(),[n,a]=O.useState(null),s=["Nuevo","Contactado","En seguimiento","Cotizado","Venta cerrada","Perdido"],o=v=>({Nuevo:"bg-blue-50 border-blue-200",Contactado:"bg-yellow-50 border-yellow-200","En seguimiento":"bg-orange-50 border-orange-200",Cotizado:"bg-purple-50 border-purple-200","Venta cerrada":"bg-green-50 border-green-200",Perdido:"bg-red-50 border-red-200"})[v],c=v=>({Nuevo:"bg-blue-600",Contactado:"bg-yellow-600","En seguimiento":"bg-orange-600",Cotizado:"bg-purple-600","Venta cerrada":"bg-green-600",Perdido:"bg-red-600"})[v],l=v=>e.filter(w=>w.estado===v),u=(v,w)=>{a(w),v.dataTransfer.effectAllowed="move"},d=v=>{v.preventDefault(),v.dataTransfer.dropEffect="move"},f=(v,w)=>{v.preventDefault(),n&&n.estado!==w&&t(n.id,{estado:w}),a(null)},p=()=>{a(null)},m=v=>{const w=v.replace(/[^\d+]/g,"");window.open(`https://wa.me/${w}`,"_blank")},y=v=>({WhatsApp:"",Instagram:"",Facebook:""})[v]||"";return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Embudo de Ventas"}),i.jsx("p",{className:"text-gray-600",children:"Arrastra los prospectos entre las columnas para cambiar su estado"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 overflow-x-auto min-h-[600px]",children:s.map(v=>{const w=l(v);return i.jsxs("div",{className:`flex flex-col min-w-80 rounded-lg border-2 ${o(v)} transition-colors duration-200`,onDragOver:d,onDrop:g=>f(g,v),children:[i.jsx("div",{className:`${c(v)} text-white p-4 rounded-t-lg`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-sm",children:v}),i.jsx("span",{className:"bg-white bg-opacity-20 text-xs px-2 py-1 rounded-full",children:w.length})]})}),i.jsxs("div",{className:"flex-1 p-3 space-y-3 min-h-32",children:[w.map(g=>i.jsxs("div",{draggable:!0,onDragStart:x=>u(x,g),onDragEnd:p,className:`bg-white rounded-lg p-4 shadow-sm border border-gray-200 cursor-move hover:shadow-md transition-shadow duration-200 ${(n==null?void 0:n.id)===g.id?"opacity-50 transform rotate-2":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:g.nombre}),i.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:g.servicioInteres})]}),i.jsx("span",{className:"text-lg ml-2",children:y(g.plataforma)})]}),i.jsxs("div",{className:"space-y-1 mb-3",children:[i.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[i.jsx(ko,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"truncate",children:g.telefono})]}),g.correo&&i.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[i.jsx(Ai,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"truncate",children:g.correo})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Pc,{className:"h-3 w-3 mr-1"}),i.jsx("span",{children:g.responsable.split(" ")[0]})]}),i.jsx("span",{children:st(g.fechaContacto,"dd/MM")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:()=>r(g),className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded transition-colors",children:"Ver detalles"}),i.jsxs("button",{onClick:()=>m(g.telefono),className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded transition-colors flex items-center",children:[i.jsx(Hc,{className:"h-3 w-3 mr-1"}),"WhatsApp"]})]}),i.jsx("div",{className:"flex justify-between mt-2 pt-2 border-t border-gray-100",children:i.jsxs("div",{className:"flex space-x-2",children:[g.seguimientos.length>0&&i.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800",children:[g.seguimientos.length," seguimientos"]}),g.cotizaciones.length>0&&i.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-purple-100 text-purple-800",children:[g.cotizaciones.length," cotizaciones"]})]})})]},g.id)),w.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center",children:i.jsx(Pc,{className:"h-6 w-6"})}),i.jsx("p",{className:"text-sm",children:"No hay prospectos en esta etapa"})]})]})]},v)})}),i.jsxs("div",{className:"mt-8 bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen del Embudo"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:s.map(v=>{const w=l(v).length,g=e.length>0?w/e.length*100:0;return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto mb-2 rounded-full ${c(v)} flex items-center justify-center`,children:i.jsx("span",{className:"text-white font-bold",children:w})}),i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:v}),i.jsxs("p",{className:"text-xs text-gray-500",children:[g.toFixed(1),"%"]})]},v)})})]})]})},eR=()=>{const{processWebhook:e}=ra(),[t,r]=O.useState({nombre:"",telefono:"",correo:"",plataforma:"WhatsApp",servicio_interes:"",fecha_contacto:new Date().toISOString()}),[n,a]=O.useState(!1),[s,o]=O.useState(null),[c,l]=O.useState(!1),u=async m=>{m.preventDefault(),a(!0),o(null);try{await new Promise(y=>setTimeout(y,1e3)),e(t),o({success:!0,message:"Prospecto agregado exitosamente al CRM"}),r({nombre:"",telefono:"",correo:"",plataforma:"WhatsApp",servicio_interes:"",fecha_contacto:new Date().toISOString()})}catch{o({success:!1,message:"Error al procesar el webhook"})}finally{a(!1)}},d=m=>{const{name:y,value:v}=m.target;r(w=>({...w,[y]:v}))},f=`// Ejemplo de configuracin para ManyChat
const webhookData = {
  "nombre": "{{user_full_name}}",
  "telefono": "{{user_phone}}",
  "correo": "{{user_email}}",
  "plataforma": "WhatsApp",
  "servicio_interes": "{{user_input}}",
  "fecha_contacto": "{{datetime}}"
};

// URL del Webhook
POST https://tu-dominio.com/api/webhook

// Headers requeridos
Content-Type: application/json
Authorization: Bearer tu-token-secreto`,p=()=>{navigator.clipboard.writeText(f)};return i.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Probador de Webhook"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Simula datos que llegaran desde tu chatbot para probar la integracin"}),i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:()=>l(!c),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[i.jsx(g7,{className:"h-4 w-4 mr-2"}),c?"Ocultar cdigo":"Ver cdigo de ejemplo"]})}),c&&i.jsxs("div",{className:"mb-6 bg-gray-900 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Configuracin para ManyChat/Webhook"}),i.jsx("button",{onClick:p,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Mg,{className:"h-4 w-4"})})]}),i.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:i.jsx("code",{children:f})})]}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),i.jsx("input",{type:"text",id:"nombre",name:"nombre",value:t.nombre,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Juan Prez"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono *"}),i.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:t.telefono,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: +521234567890"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"correo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrnico"}),i.jsx("input",{type:"email",id:"correo",name:"correo",value:t.correo,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: juan@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"plataforma",className:"block text-sm font-medium text-gray-700 mb-1",children:"Plataforma *"}),i.jsxs("select",{id:"plataforma",name:"plataforma",value:t.plataforma,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),i.jsx("option",{value:"Instagram",children:"Instagram"}),i.jsx("option",{value:"Facebook",children:"Facebook"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"servicio_interes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Servicio de inters *"}),i.jsx("textarea",{id:"servicio_interes",name:"servicio_interes",value:t.servicio_interes,onChange:d,required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Chatbot para WhatsApp, Automatizacin de ventas, etc."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fecha_contacto",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de contacto"}),i.jsx("input",{type:"datetime-local",id:"fecha_contacto",name:"fecha_contacto",value:t.fecha_contacto.slice(0,16),onChange:m=>r(y=>({...y,fecha_contacto:new Date(m.target.value).toISOString()})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Procesando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Enviar Datos de Prueba"]})})]}),s&&i.jsxs("div",{className:`mt-4 p-4 rounded-lg flex items-center ${s.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.success?i.jsx(Si,{className:"h-5 w-5 text-green-600 mr-2"}):i.jsx(Pa,{className:"h-5 w-5 text-red-600 mr-2"}),i.jsx("span",{className:s.success?"text-green-800":"text-red-800",children:s.message})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Instrucciones de Integracin"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"1. Configuracin en ManyChat"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[i.jsx("li",{children:' Ve a la seccin "Automations" en ManyChat'}),i.jsx("li",{children:" Crea un nuevo flujo o edita uno existente"}),i.jsx("li",{children:' Agrega una accin "External Request"'}),i.jsx("li",{children:" Configura la URL del webhook (proporcionada por tu desarrollador)"}),i.jsx("li",{children:" Usa el mtodo POST y agrega los campos mostrados arriba"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"2. Variables de ManyChat"}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"Usa estas variables en tu configuracin:"}),i.jsxs("ul",{className:"text-gray-600 space-y-1",children:[i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user_full_name}}"})," - Nombre del usuario"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user_phone}}"})," - Telfono del usuario"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user_email}}"})," - Email del usuario"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user_input}}"})," - Respuesta del usuario"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{datetime}}"})," - Fecha y hora actual"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"3. Seguridad"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Asegrate de que tu webhook est protegido con autenticacin y validacin de origen para evitar spam o datos maliciosos."})]})]})]})]})},tR=({onUserSelect:e,onUserEdit:t,onUserCreate:r,onImportExport:n})=>{const{user:a}=Tl(),{users:s,loading:o,error:c,filters:l,pagination:u,setFilters:d,setPagination:f,deleteUser:p,changeUserStatus:m,clearError:y}=Ud(),[v,w]=O.useState([]),g=(a==null?void 0:a.role)==="admin",x=O.useMemo(()=>{let L=s.filter(U=>{const z=U.nombre.toLowerCase().includes(l.search.toLowerCase())||U.apellido.toLowerCase().includes(l.search.toLowerCase())||U.email.toLowerCase().includes(l.search.toLowerCase())||U.departamento&&U.departamento.toLowerCase().includes(l.search.toLowerCase()),H=l.role==="all"||U.rol===l.role,V=l.status==="all"||U.estado===l.status;return z&&H&&V});return L.sort((U,z)=>{let H,V;switch(l.sortBy){case"nombre":H=`${U.nombre} ${U.apellido}`,V=`${z.nombre} ${z.apellido}`;break;case"fechaRegistro":H=U.fechaRegistro,V=z.fechaRegistro;break;case"ultimoAcceso":H=U.ultimoAcceso||new Date(0),V=z.ultimoAcceso||new Date(0);break;default:return 0}return l.sortOrder==="asc"?H>V?1:-1:H<V?1:-1}),L},[s,l]),S=O.useMemo(()=>{const L=(u.page-1)*u.limit,U=L+u.limit;return x.slice(L,U)},[x,u]),j=Math.ceil(x.length/u.limit),P=L=>({admin:"bg-red-100 text-red-800",manager:"bg-purple-100 text-purple-800",agent:"bg-blue-100 text-blue-800",viewer:"bg-gray-100 text-gray-800"})[L],I=L=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",suspended:"bg-red-100 text-red-800"})[L],k=L=>{const z={admin:_c,manager:Zn,agent:u1,viewer:ya}[L];return i.jsx(z,{className:"h-4 w-4"})},D=L=>{w(U=>U.includes(L)?U.filter(z=>z!==L):[...U,L])},R=()=>{v.length===S.length?w([]):w(S.map(L=>L.id))},A=async L=>{try{await Promise.all(v.map(U=>m(U,L))),w([])}catch(U){console.error("Error changing user status:",U)}},E=async L=>{if(window.confirm("Ests seguro de que deseas eliminar este usuario?"))try{await p(L)}catch(U){console.error("Error deleting user:",U)}},_=async(L,U)=>{const z=U==="active"?"inactive":"active";try{await m(L,z)}catch(H){console.error("Error changing user status:",H)}},F={total:s.length,active:s.filter(L=>L.estado==="active").length,pending:s.filter(L=>L.estado==="pending").length,admins:s.filter(L=>L.rol==="admin").length};return o?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Usuarios"}),i.jsx("p",{className:"text-gray-600",children:"Administra usuarios, roles y permisos del sistema"})]}),g&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:n,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(R0,{className:"h-4 w-4"}),"Importar/Exportar"]}),i.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nuevo Usuario"]})]})]}),c&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-red-600 mr-3",children:""}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),i.jsx("p",{className:"text-sm text-red-700",children:c})]})]}),i.jsx("button",{onClick:y,className:"text-red-600 hover:text-red-800",children:""})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Usuarios"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.total})]}),i.jsx(Zn,{className:"h-8 w-8 text-blue-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Usuarios Activos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.active})]}),i.jsx(u1,{className:"h-8 w-8 text-green-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.pending})]}),i.jsx(pn,{className:"h-8 w-8 text-yellow-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Administradores"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.admins})]}),i.jsx(_c,{className:"h-8 w-8 text-red-500"})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o departamento...",value:l.search,onChange:L=>d({search:L.target.value}),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:l.role,onChange:L=>d({role:L.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los roles"}),i.jsx("option",{value:"admin",children:"Administrador"}),i.jsx("option",{value:"manager",children:"Manager"}),i.jsx("option",{value:"agent",children:"Agente"}),i.jsx("option",{value:"viewer",children:"Visualizador"})]}),i.jsxs("select",{value:l.status,onChange:L=>d({status:L.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"active",children:"Activo"}),i.jsx("option",{value:"inactive",children:"Inactivo"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"suspended",children:"Suspendido"})]}),i.jsxs("select",{value:`${l.sortBy}-${l.sortOrder}`,onChange:L=>{const[U,z]=L.target.value.split("-");d({sortBy:U,sortOrder:z})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"fechaRegistro-desc",children:"Ms recientes"}),i.jsx("option",{value:"fechaRegistro-asc",children:"Ms antiguos"}),i.jsx("option",{value:"nombre-asc",children:"Nombre A-Z"}),i.jsx("option",{value:"nombre-desc",children:"Nombre Z-A"}),i.jsx("option",{value:"ultimoAcceso-desc",children:"ltimo acceso"})]})]})]}),v.length>0&&g&&i.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[v.length," usuario(s) seleccionado(s)"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>A("active"),className:"text-sm bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition-colors",children:"Activar"}),i.jsx("button",{onClick:()=>A("inactive"),className:"text-sm bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 transition-colors",children:"Desactivar"}),i.jsx("button",{onClick:()=>w([]),className:"text-sm text-gray-600 hover:text-gray-800",children:"Cancelar"})]})]})})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[i.jsxs("span",{children:["Mostrando ",S.length," de ",x.length," usuarios"]}),j>1&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>f({page:u.page-1}),disabled:u.page===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:i.jsx(h7,{className:"h-4 w-4"})}),i.jsxs("span",{className:"px-3 py-1",children:["Pgina ",u.page," de ",j]}),i.jsx("button",{onClick:()=>f({page:u.page+1}),disabled:u.page===j,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:i.jsx(p7,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[g&&i.jsx("th",{className:"px-6 py-3 text-left",children:i.jsx("input",{type:"checkbox",checked:v.length===S.length&&S.length>0,onChange:R,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ltimo Acceso"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estadsticas"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(L=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g&&i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("input",{type:"checkbox",checked:v.includes(L.id),onChange:()=>D(L.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:L.avatar?i.jsx("img",{className:"h-10 w-10 rounded-full",src:L.avatar,alt:""}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[L.nombre.charAt(0),L.apellido.charAt(0)]})})}),i.jsxs("div",{className:"ml-4",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[L.nombre," ",L.apellido]}),i.jsx("div",{className:"text-sm text-gray-500",children:L.email}),L.departamento&&i.jsx("div",{className:"text-xs text-gray-400",children:L.departamento})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full gap-1 ${P(L.rol)}`,children:[k(L.rol),L.rol]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${I(L.estado)}`,children:L.estado})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:L.ultimoAcceso?i.jsxs("div",{children:[i.jsx("div",{children:st(L.ultimoAcceso,"dd/MM/yyyy")}),i.jsx("div",{className:"text-xs",children:st(L.ultimoAcceso,"HH:mm")})]}):"Nunca"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(E6,{className:"h-3 w-3"}),i.jsxs("span",{children:[L.estadisticas.prospectosManagedos," prospectos"]})]}),i.jsxs("div",{className:"text-xs text-gray-400",children:[L.estadisticas.cotizacionesCreadas," cotizaciones"]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>e(L.id),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Ver perfil",children:i.jsx(ya,{className:"h-4 w-4"})}),(g||(a==null?void 0:a.id)===L.id)&&i.jsx("button",{onClick:()=>t(L.id),className:"text-green-600 hover:text-green-900 transition-colors",title:"Editar usuario",children:i.jsx(Hn,{className:"h-4 w-4"})}),g&&(a==null?void 0:a.id)!==L.id&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>_(L.id,L.estado),className:`transition-colors ${L.estado==="active"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:L.estado==="active"?"Desactivar":"Activar",children:L.estado==="active"?i.jsx(O7,{className:"h-4 w-4"}):i.jsx(u1,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>E(L.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar usuario",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]})})]},L.id))})]})})}),x.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Zn,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron usuarios"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros o crear nuevos usuarios."}),g&&i.jsx("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Crear Primer Usuario"})]})]})},rR=({userId:e,onClose:t,onEdit:r})=>{const{user:n}=Tl(),{users:a}=Ud(),{getProspectsByUser:s}=ra(),[o,c]=O.useState(null),[l,u]=O.useState([]);if(O.useEffect(()=>{const v=a.find(g=>g.id===e);c(v||null);const w=v?s(v.id):[];u(w)},[e,a,s]),!o)return i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Usuario no encontrado"}),i.jsx("button",{onClick:t,className:"text-blue-600 hover:text-blue-800",children:"Volver a la lista"})]})});const d=(n==null?void 0:n.id)===o.id,f=(n==null?void 0:n.role)==="admin"||d,p=v=>({admin:"bg-red-100 text-red-800",manager:"bg-purple-100 text-purple-800",agent:"bg-blue-100 text-blue-800",viewer:"bg-gray-100 text-gray-800"})[v]||"bg-gray-100 text-gray-800",m=v=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",suspended:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",y=v=>v.includes("login")||v.includes("sesin")?i.jsx(E6,{className:"h-4 w-4 text-green-500"}):v.includes("create")||v.includes("cre")?i.jsx(Br,{className:"h-4 w-4 text-blue-500"}):v.includes("update")||v.includes("actualiz")?i.jsx(Hn,{className:"h-4 w-4 text-orange-500"}):v.includes("delete")||v.includes("elimin")?i.jsx(Zn,{className:"h-4 w-4 text-red-500"}):i.jsx(pn,{className:"h-4 w-4 text-gray-500"});return i.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:[i.jsx(Np,{className:"h-5 w-5 mr-2"}),"Volver"]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Perfil de Usuario"}),i.jsx("p",{className:"text-gray-600",children:d?"Tu perfil personal":`Perfil de ${o.nombre} ${o.apellido}`})]})]}),f&&i.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"Editar Perfil"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Informacin Personal"}),i.jsxs("div",{className:"flex items-start space-x-6 mb-6",children:[i.jsx("div",{className:"relative",children:o.avatar?i.jsx("img",{className:"h-20 w-20 rounded-full",src:o.avatar,alt:""}):i.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-300 flex items-center justify-center",children:i.jsxs("span",{className:"text-xl font-medium text-gray-700",children:[o.nombre.charAt(0),o.apellido.charAt(0)]})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(o.rol)}`,children:o.rol}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(o.estado)}`,children:o.estado})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Miembro desde ",st(o.fechaRegistro,"dd/MM/yyyy")]}),o.ultimoAcceso&&i.jsxs("p",{className:"text-sm text-gray-500",children:["ltimo acceso: ",st(o.ultimoAcceso,"dd/MM/yyyy HH:mm")]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo"}),i.jsxs("p",{className:"text-gray-900",children:[o.nombre," ",o.apellido]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ai,{className:"h-4 w-4 text-gray-400 mr-2"}),i.jsx("p",{className:"text-gray-900",children:o.email})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telfono"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(ko,{className:"h-4 w-4 text-gray-400 mr-2"}),i.jsx("p",{className:"text-gray-900",children:o.telefono||"No especificado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),i.jsx("p",{className:"text-gray-900",children:o.departamento||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo"}),i.jsx("p",{className:"text-gray-900",children:o.cargo||"No especificado"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Prospectos Asignados (",l.length,")"]}),l.length>0?i.jsxs("div",{className:"space-y-3",children:[l.slice(0,5).map(v=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:v.nombre}),i.jsx("p",{className:"text-sm text-gray-600",children:v.correo}),i.jsx("p",{className:"text-xs text-gray-500",children:v.servicioInteres})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.estado==="Nuevo"?"bg-blue-100 text-blue-800":v.estado==="Contactado"?"bg-yellow-100 text-yellow-800":v.estado==="En seguimiento"?"bg-orange-100 text-orange-800":v.estado==="Cotizado"?"bg-purple-100 text-purple-800":v.estado==="Venta cerrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.estado}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:st(v.fechaContacto,"dd/MM/yyyy")})]})]},v.id)),l.length>5&&i.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["... y ",l.length-5," prospectos ms"]})]}):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay prospectos asignados a este usuario"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historial de Actividad"}),i.jsx("div",{className:"space-y-4",children:o.historialActividad.slice(0,10).map(v=>i.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:y(v.accion)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.accion}),i.jsx("p",{className:"text-sm text-gray-600",children:v.detalles}),i.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[i.jsx("span",{children:st(v.fecha,"dd/MM/yyyy HH:mm")}),i.jsx("span",{className:"mx-2",children:""}),i.jsx("span",{children:v.modulo}),v.ip&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"mx-2",children:""}),i.jsxs("span",{children:["IP: ",v.ip]})]})]})]})]},v.id))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estadsticas"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Zn,{className:"h-5 w-5 text-blue-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Prospectos"})]}),i.jsx("span",{className:"font-semibold text-gray-900",children:o.estadisticas.prospectosManagedos})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Br,{className:"h-5 w-5 text-green-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Cotizaciones"})]}),i.jsx("span",{className:"font-semibold text-gray-900",children:o.estadisticas.cotizacionesCreadas})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Fs,{className:"h-5 w-5 text-purple-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Ventas"})]}),i.jsx("span",{className:"font-semibold text-gray-900",children:o.estadisticas.ventasCerradas})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(pn,{className:"h-5 w-5 text-orange-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Conversin"})]}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[o.estadisticas.tasaConversion.toFixed(1),"%"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permisos y Accesos"}),i.jsx("div",{className:"space-y-3",children:o.permisos.map((v,w)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 capitalize",children:v.modulo}),i.jsx("p",{className:"text-sm text-gray-600",children:v.acciones.join(", ")})]}),i.jsx(_c,{className:"h-5 w-5 text-gray-400"})]},w))})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuracin"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700",children:"Idioma"}),i.jsx("span",{className:"text-gray-900",children:o.configuracion.idioma})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700",children:"Zona horaria"}),i.jsx("span",{className:"text-gray-900",children:o.configuracion.timezone})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700",children:"Tema"}),i.jsx("span",{className:"text-gray-900",children:o.configuracion.tema})]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Notificaciones"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Email"}),i.jsx("span",{className:o.configuracion.notificaciones.email?"text-green-600":"text-red-600",children:o.configuracion.notificaciones.email?"Activado":"Desactivado"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Push"}),i.jsx("span",{className:o.configuracion.notificaciones.push?"text-green-600":"text-red-600",children:o.configuracion.notificaciones.push?"Activado":"Desactivado"})]})]})]})]})]})]})]})]})},nR=({user:e,onClose:t,onSave:r,isInvitation:n=!1})=>{const a=O.useRef(null),[s,o]=O.useState(!1),[c,l]=O.useState({}),[u,d]=O.useState(!1),[f,p]=O.useState(!1),[m,y]=O.useState("basic"),[v,w]=O.useState([{id:"1",label:"Nmero de Empleado",type:"text",required:!1},{id:"2",label:"Fecha de Contratacin",type:"date",required:!1},{id:"3",label:"Supervisor",type:"text",required:!1}]),[g,x]=O.useState({nombre:(e==null?void 0:e.nombre)||"",apellido:(e==null?void 0:e.apellido)||"",email:(e==null?void 0:e.email)||"",telefono:(e==null?void 0:e.telefono)||"",empleadoId:"",password:"",confirmPassword:"",rol:(e==null?void 0:e.rol)||"agent",estado:(e==null?void 0:e.estado)||"active",departamento:(e==null?void 0:e.departamento)||"",cargo:(e==null?void 0:e.cargo)||"",direccion:{calle:"",ciudad:"",estado:"",codigoPostal:"",pais:"Mxico"},fechaExpiracion:void 0,avatar:e==null?void 0:e.avatar,camposPersonalizados:{},permisos:(e==null?void 0:e.permisos)||[]});O.useEffect(()=>{e&&x(_=>({..._,nombre:e.nombre,apellido:e.apellido,email:e.email,telefono:e.telefono||"",rol:e.rol,estado:e.estado,departamento:e.departamento||"",cargo:e.cargo||"",avatar:e.avatar,permisos:e.permisos}))},[e]);const S=()=>{const _={};return g.nombre.trim()||(_.nombre="El nombre es requerido"),g.apellido.trim()||(_.apellido="El apellido es requerido"),g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)||(_.email="Formato de email invlido"):_.email="El email es requerido",(!e||g.password)&&(g.password?g.password.length<6&&(_.password="La contrasea debe tener al menos 6 caracteres"):_.password="La contrasea es requerida",g.password!==g.confirmPassword&&(_.confirmPassword="Las contraseas no coinciden")),g.telefono&&!/^\+?[\d\s\-\(\)]+$/.test(g.telefono)&&(_.telefono="Formato de telfono invlido"),v.forEach(F=>{F.required&&!g.camposPersonalizados[F.id]&&(_[`custom_${F.id}`]=`${F.label} es requerido`)}),l(_),Object.keys(_).length===0},j=async _=>{if(_.preventDefault(),console.log("Form submitted with data:",g),!S()){console.log("Form validation failed:",c);return}o(!0);try{const F={nombre:g.nombre.trim(),apellido:g.apellido.trim(),email:g.email.trim().toLowerCase(),telefono:g.telefono.trim()||void 0,rol:g.rol,estado:g.estado,departamento:g.departamento.trim()||void 0,cargo:g.cargo.trim()||void 0,avatar:g.avatar,permisos:R(g.rol)};console.log("Calling onSave with userData:",F);const L=!e&&g.password?g.password:void 0;await r(F,L),console.log("User saved successfully")}catch(F){console.error("Error saving user:",F),l({general:F instanceof Error?F.message:"Error al guardar el usuario"})}finally{o(!1)}},P=_=>{var L;const F=(L=_.target.files)==null?void 0:L[0];if(F){const U=new FileReader;U.onload=z=>{x(H=>{var V;return{...H,avatar:(V=z.target)==null?void 0:V.result}})},U.readAsDataURL(F)}},I=()=>{const _={id:Date.now().toString(),label:"Nuevo Campo",type:"text",required:!1};w(F=>[...F,_])},k=(_,F)=>{w(L=>L.map(U=>U.id===_?{...U,...F}:U))},D=_=>{w(F=>F.filter(L=>L.id!==_)),x(F=>{const L={...F.camposPersonalizados};return delete L[_],{...F,camposPersonalizados:L}})},R=_=>{const F={admin:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","delete","approve"]},{modulo:"products",acciones:["view","create","edit","delete"]},{modulo:"users",acciones:["view","create","edit","delete","invite"]},{modulo:"reports",acciones:["view","export"]},{modulo:"settings",acciones:["view","edit"]}],manager:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","approve"]},{modulo:"products",acciones:["view","create","edit"]},{modulo:"users",acciones:["view","invite"]},{modulo:"reports",acciones:["view","export"]}],agent:[{modulo:"prospects",acciones:["view","create","edit"]},{modulo:"quotes",acciones:["view","create","edit"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}],viewer:[{modulo:"prospects",acciones:["view"]},{modulo:"quotes",acciones:["view"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}]};return F[_]||F.viewer},A=_=>{x(F=>({...F,rol:_,permisos:R(_)}))},E=[{id:"basic",label:"Informacin Bsica",icon:Pc},{id:"role",label:"Rol y Permisos",icon:_c},{id:"address",label:"Direccin",icon:Rv},{id:"custom",label:"Campos Personalizados",icon:or}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:e?"Editar Usuario":n?"Invitar Usuario":"Nuevo Usuario"}),i.jsx("p",{className:"text-blue-100 text-sm",children:e?"Actualiza la informacin del usuario":"Completa los datos del nuevo usuario"})]}),i.jsx("button",{onClick:t,className:"text-white hover:text-blue-200 transition-colors",children:i.jsx(zs,{className:"h-6 w-6"})})]})}),i.jsx("div",{className:"border-b border-gray-200 bg-gray-50 flex-shrink-0",children:i.jsx("nav",{className:"flex space-x-8 px-6",children:E.map(_=>{const F=_.icon;return i.jsxs("button",{onClick:()=>y(_.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${m===_.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(F,{className:"h-4 w-4"}),_.label]},_.id)})})}),i.jsxs("form",{onSubmit:j,className:"flex flex-col flex-1 min-h-0",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[c.general&&i.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Pa,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:c.general})]})]}),m==="basic"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"relative",children:[g.avatar?i.jsx("img",{src:g.avatar,alt:"Profile",className:"h-20 w-20 rounded-full object-cover border-4 border-gray-200"}):i.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-300 flex items-center justify-center border-4 border-gray-200",children:i.jsx(Pc,{className:"h-8 w-8 text-gray-600"})}),i.jsx("button",{type:"button",onClick:()=>{var _;return(_=a.current)==null?void 0:_.click()},className:"absolute -bottom-1 -right-1 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-colors",children:i.jsx(f7,{className:"h-3 w-3"})}),i.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:P,className:"hidden"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Foto de Perfil"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Sube una imagen para el perfil del usuario. Formatos: JPG, PNG (mx. 5MB)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre *"}),i.jsx("input",{type:"text",value:g.nombre,onChange:_=>x(F=>({...F,nombre:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${c.nombre?"border-red-500":"border-gray-300"}`,placeholder:"Ingresa el nombre"}),c.nombre&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Pa,{className:"h-4 w-4"}),c.nombre]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido *"}),i.jsx("input",{type:"text",value:g.apellido,onChange:_=>x(F=>({...F,apellido:_.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${c.apellido?"border-red-500":"border-gray-300"}`,placeholder:"Ingresa el apellido"}),c.apellido&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Pa,{className:"h-4 w-4"}),c.apellido]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrnico *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ai,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"email",value:g.email,onChange:_=>x(F=>({...F,email:_.target.value})),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${c.email?"border-red-500":"border-gray-300"}`,placeholder:"usuario@empresa.com"})]}),c.email&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Pa,{className:"h-4 w-4"}),c.email]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telfono"}),i.jsxs("div",{className:"relative",children:[i.jsx(ko,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"tel",value:g.telefono,onChange:_=>x(F=>({...F,telefono:_.target.value})),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${c.telefono?"border-red-500":"border-gray-300"}`,placeholder:"+52 55 1234 5678"})]}),c.telefono&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Pa,{className:"h-4 w-4"}),c.telefono]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento"}),i.jsxs("div",{className:"relative",children:[i.jsx(M6,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsxs("select",{value:g.departamento,onChange:_=>x(F=>({...F,departamento:_.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[i.jsx("option",{value:"",children:"Seleccionar departamento"}),i.jsx("option",{value:"Ventas",children:"Ventas"}),i.jsx("option",{value:"Marketing",children:"Marketing"}),i.jsx("option",{value:"Soporte",children:"Soporte"}),i.jsx("option",{value:"Administracin",children:"Administracin"}),i.jsx("option",{value:"Desarrollo",children:"Desarrollo"}),i.jsx("option",{value:"Recursos Humanos",children:"Recursos Humanos"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cargo"}),i.jsx("input",{type:"text",value:g.cargo,onChange:_=>x(F=>({...F,cargo:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ejecutivo de Ventas"})]})]}),!e&&i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Credenciales de Acceso"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrasea *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:u?"text":"password",value:g.password,onChange:_=>x(F=>({...F,password:_.target.value})),className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${c.password?"border-red-500":"border-gray-300"}`,placeholder:"Mnimo 6 caracteres"}),i.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?i.jsx(Ag,{className:"h-4 w-4"}):i.jsx(ya,{className:"h-4 w-4"})})]}),c.password&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Pa,{className:"h-4 w-4"}),c.password]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contrasea *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:f?"text":"password",value:g.confirmPassword,onChange:_=>x(F=>({...F,confirmPassword:_.target.value})),className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${c.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Repite la contrasea"}),i.jsx("button",{type:"button",onClick:()=>p(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?i.jsx(Ag,{className:"h-4 w-4"}):i.jsx(ya,{className:"h-4 w-4"})})]}),c.confirmPassword&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Pa,{className:"h-4 w-4"}),c.confirmPassword]})]})]})]})]}),m==="role"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol del Usuario *"}),i.jsxs("select",{value:g.rol,onChange:_=>A(_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[i.jsx("option",{value:"viewer",children:"Visualizador"}),i.jsx("option",{value:"agent",children:"Agente"}),i.jsx("option",{value:"manager",children:"Manager"}),i.jsx("option",{value:"admin",children:"Administrador"})]}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"El rol determina los permisos base del usuario"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado de la Cuenta"}),i.jsxs("select",{value:g.estado,onChange:_=>x(F=>({...F,estado:_.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[i.jsx("option",{value:"active",children:"Activo"}),i.jsx("option",{value:"inactive",children:"Inactivo"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"suspended",children:"Suspendido"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Permisos del Sistema"}),i.jsx("div",{className:"space-y-4",children:R(g.rol).map((_,F)=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 capitalize",children:_.modulo}),i.jsx(_c,{className:"h-5 w-5 text-gray-400"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:_.acciones.map((L,U)=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:L},U))})]},F))})]})]}),m==="address"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Informacin de Direccin"}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direccin"}),i.jsx("input",{type:"text",value:g.direccion.calle,onChange:_=>x(F=>({...F,direccion:{...F.direccion,calle:_.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Calle, nmero, colonia"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ciudad"}),i.jsx("input",{type:"text",value:g.direccion.ciudad,onChange:_=>x(F=>({...F,direccion:{...F.direccion,ciudad:_.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ciudad"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado/Provincia"}),i.jsx("input",{type:"text",value:g.direccion.estado,onChange:_=>x(F=>({...F,direccion:{...F.direccion,estado:_.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Estado o Provincia"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cdigo Postal"}),i.jsx("input",{type:"text",value:g.direccion.codigoPostal,onChange:_=>x(F=>({...F,direccion:{...F.direccion,codigoPostal:_.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"12345"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pas"}),i.jsxs("select",{value:g.direccion.pais,onChange:_=>x(F=>({...F,direccion:{...F.direccion,pais:_.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[i.jsx("option",{value:"Mxico",children:"Mxico"}),i.jsx("option",{value:"Estados Unidos",children:"Estados Unidos"}),i.jsx("option",{value:"Canad",children:"Canad"}),i.jsx("option",{value:"Espaa",children:"Espaa"}),i.jsx("option",{value:"Argentina",children:"Argentina"}),i.jsx("option",{value:"Colombia",children:"Colombia"}),i.jsx("option",{value:"Chile",children:"Chile"}),i.jsx("option",{value:"Per",children:"Per"})]})]})]})]})]}),m==="custom"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Campos Personalizados"}),i.jsxs("button",{type:"button",onClick:I,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Agregar Campo"]})]}),i.jsx("div",{className:"space-y-4",children:v.map(_=>{var F;return i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("input",{type:"text",value:_.label,onChange:L=>k(_.id,{label:L.target.value}),className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium",placeholder:"Nombre del campo"}),i.jsxs("select",{value:_.type,onChange:L=>k(_.id,{type:L.target.value}),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[i.jsx("option",{value:"text",children:"Texto"}),i.jsx("option",{value:"number",children:"Nmero"}),i.jsx("option",{value:"date",children:"Fecha"}),i.jsx("option",{value:"select",children:"Seleccin"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:_.required,onChange:L=>k(_.id,{required:L.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Requerido"]})]}),i.jsx("button",{type:"button",onClick:()=>D(_.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(Qr,{className:"h-4 w-4"})})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[_.label,_.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),_.type==="select"?i.jsxs("select",{value:g.camposPersonalizados[_.id]||"",onChange:L=>x(U=>({...U,camposPersonalizados:{...U.camposPersonalizados,[_.id]:L.target.value}})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${c[`custom_${_.id}`]?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Seleccionar opcin"}),(F=_.options)==null?void 0:F.map((L,U)=>i.jsx("option",{value:L,children:L},U))]}):i.jsx("input",{type:_.type,value:g.camposPersonalizados[_.id]||"",onChange:L=>x(U=>({...U,camposPersonalizados:{...U.camposPersonalizados,[_.id]:L.target.value}})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${c[`custom_${_.id}`]?"border-red-500":"border-gray-300"}`,placeholder:`Ingresa ${_.label.toLowerCase()}`}),c[`custom_${_.id}`]&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Pa,{className:"h-4 w-4"}),c[`custom_${_.id}`]]})]})]},_.id)})}),v.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(or,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No hay campos personalizados configurados"}),i.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Campo" para crear uno'})]})]})]}),i.jsxs("div",{className:"border-t bg-gray-50 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"* Campos requeridos"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-8 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px] justify-center",children:[s?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(zd,{className:"h-4 w-4"}),s?"Guardando...":e?"Actualizar":"Crear Usuario"]})]})]})]})]})})},aR=({onImport:e,onExport:t,onClose:r})=>{const n=O.useRef(null),[a,s]=O.useState("import"),[o,c]=O.useState(!1),[l,u]=O.useState([]),[d,f]=O.useState([]),[p,m]=O.useState([]),[y,v]=O.useState([]),[w,g]=O.useState([]),[x,S]=O.useState(!1),[j,P]=O.useState({roles:[],statuses:[],dateRange:{start:"",end:""},includeFields:{basic:!0,contact:!0,role:!0,address:!1,activity:!1,statistics:!0}}),I=[{key:"nombre",label:"Nombre",required:!0},{key:"apellido",label:"Apellido",required:!0},{key:"email",label:"Email",required:!0},{key:"rol",label:"Rol",required:!0}],k=[{key:"telefono",label:"Telfono",required:!1},{key:"departamento",label:"Departamento",required:!1},{key:"cargo",label:"Cargo",required:!1}],D=[...I,...k],R=O.useCallback(z=>{var ae;const H=(ae=z.target.files)==null?void 0:ae[0];if(!H)return;const V=new FileReader;V.onload=le=>{var oe;try{const Y=((oe=le.target)==null?void 0:oe.result).split(`
`).filter($=>$.trim());if(Y.length===0){alert("El archivo est vaco");return}const Q=Y[0].split(",").map($=>$.trim().replace(/"/g,"")),G=Y.slice(1).map(($,X)=>{const Z=$.split(",").map(fe=>fe.trim().replace(/"/g,"")),te={_rowNumber:X+2};return Q.forEach((fe,xe)=>{te[fe]=Z[xe]||""}),te});v(Q),u(G),g(Q.map($=>({csvColumn:$,userField:"",required:!1}))),S(!0),f([]),m([])}catch{alert("Error al leer el archivo. Asegrate de que sea un CSV vlido.")}},V.readAsText(H)},[]),A=(z,H)=>{g(V=>V.map(ae=>ae.csvColumn===z?{...ae,userField:H,required:I.some(le=>le.key===H)}:ae))},E=()=>{const z=[],H=new Set;return l.forEach((V,ae)=>{const le=V._rowNumber||ae+2;I.forEach(Q=>{const G=w.find(X=>X.userField===Q.key);if(!G||!G.csvColumn){z.push({row:le,field:Q.key,message:`Campo requerido no mapeado: ${Q.label}`,value:""});return}const $=V[G.csvColumn];(!$||$.trim()==="")&&z.push({row:le,field:Q.key,message:`${Q.label} es requerido`,value:$||""})});const oe=w.find(Q=>Q.userField==="email");if(oe){const Q=V[oe.csvColumn];Q&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Q)?H.has(Q.toLowerCase())?z.push({row:le,field:"email",message:"Email duplicado en el archivo",value:Q}):H.add(Q.toLowerCase()):z.push({row:le,field:"email",message:"Formato de email invlido",value:Q}))}const M=w.find(Q=>Q.userField==="rol");if(M){const Q=V[M.csvColumn];Q&&!["admin","manager","agent","viewer"].includes(Q.toLowerCase())&&z.push({row:le,field:"rol",message:"Rol invlido. Debe ser: admin, manager, agent, o viewer",value:Q})}const Y=w.find(Q=>Q.userField==="telefono");if(Y){const Q=V[Y.csvColumn];Q&&!/^\+?[\d\s\-\(\)]+$/.test(Q)&&z.push({row:le,field:"telefono",message:"Formato de telfono invlido",value:Q})}}),z},_=async()=>{const z=E();if(f(z),!(z.length>0)){c(!0);try{const H=l.map(ae=>{const le={};return w.forEach(oe=>{if(oe.userField&&oe.csvColumn){let M=ae[oe.csvColumn];oe.userField==="rol"&&(M=M.toLowerCase()),le[oe.userField]=M}}),le}),V=await e(H);m(V),S(!1)}catch(H){console.error("Error importing users:",H),alert("Error al importar usuarios. Intenta nuevamente.")}finally{c(!1)}}},F=()=>{const z=D.map(M=>M.label),H=["Juan,Prez,juan.perez@empresa.com,agent,+52 55 1234 5678,Ventas,Ejecutivo de Ventas","Mara,Garca,maria.garcia@empresa.com,manager,+52 55 8765 4321,Marketing,Gerente de Marketing"],V=[z.join(","),...H].join(`
`),ae=new Blob([V],{type:"text/csv"}),le=window.URL.createObjectURL(ae),oe=document.createElement("a");oe.href=le,oe.download="plantilla_usuarios.csv",oe.click(),window.URL.revokeObjectURL(le)},L=async()=>{c(!0);try{const z=await t(),H=new Blob([z],{type:"text/csv"}),V=window.URL.createObjectURL(H),ae=document.createElement("a");ae.href=V,ae.download=`usuarios_export_${new Date().toISOString().split("T")[0]}.csv`,ae.click(),window.URL.revokeObjectURL(V)}catch(z){console.error("Error exporting users:",z),alert("Error al exportar usuarios. Intenta nuevamente.")}finally{c(!1)}},U=()=>{u([]),f([]),m([]),v([]),g([]),S(!1),n.current&&(n.current.value="")};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 px-6 py-4 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"Importar/Exportar Usuarios"}),i.jsx("p",{className:"text-green-100 text-sm",children:"Gestiona usuarios de forma masiva con archivos CSV y Excel"})]}),i.jsx("button",{onClick:r,className:"text-white hover:text-green-200 transition-colors",children:i.jsx(zs,{className:"h-6 w-6"})})]})}),i.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:i.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"import",label:"Importar Usuarios",icon:R0},{id:"export",label:"Exportar Usuarios",icon:is}].map(z=>{const H=z.icon;return i.jsxs("button",{onClick:()=>s(z.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${a===z.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(H,{className:"h-4 w-4"}),z.label]},z.id)})})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a==="import"&&i.jsx("div",{className:"space-y-6",children:x?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Mapeo de Campos"}),i.jsxs("button",{onClick:U,className:"text-gray-600 hover:text-gray-800 transition-colors flex items-center gap-2",children:[i.jsx(kS,{className:"h-4 w-4"}),"Reiniciar"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map((z,H)=>{var V;return i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:['Columna CSV: "',z,'"']}),i.jsxs("select",{value:((V=w[H])==null?void 0:V.userField)||"",onChange:ae=>A(z,ae.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"No mapear"}),D.map(ae=>i.jsxs("option",{value:ae.key,children:[ae.label," ",ae.required&&"*"]},ae.key))]})]})},H)})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Vista Previa (",l.length," registros)"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Fila"}),w.filter(z=>z.userField).map((z,H)=>{var V,ae;return i.jsxs("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:[(V=D.find(le=>le.key===z.userField))==null?void 0:V.label,((ae=D.find(le=>le.key===z.userField))==null?void 0:ae.required)&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]},H)})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.slice(0,5).map((z,H)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z._rowNumber||H+2}),w.filter(V=>V.userField).map((V,ae)=>i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z[V.csvColumn]||"-"},ae))]},H))})]})}),l.length>5&&i.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["... y ",l.length-5," registros ms"]})]}),d.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Pa,{className:"h-5 w-5 text-red-600"}),i.jsxs("h4",{className:"font-medium text-red-900",children:["Errores de validacin (",d.length,")"]})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.map((z,H)=>i.jsxs("div",{className:"text-sm text-red-800 bg-red-100 px-3 py-2 rounded",children:[i.jsxs("strong",{children:["Fila ",z.row,":"]})," ",z.message,z.value&&i.jsxs("span",{className:"ml-2 text-red-600",children:['("',z.value,'")']})]},H))})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[l.length," registros listos para importar"]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:U,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:_,disabled:o||d.length>0,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(R0,{className:"h-4 w-4"}),"Importar Usuarios"]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 hover:border-blue-400 transition-colors",children:[i.jsx(R0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Subir archivo de usuarios"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Arrastra y suelta tu archivo CSV o haz clic para seleccionar"}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsxs("button",{onClick:()=>{var z;return(z=n.current)==null?void 0:z.click()},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Br,{className:"h-4 w-4"}),"Seleccionar Archivo"]}),i.jsxs("button",{onClick:F,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(is,{className:"h-4 w-4"}),"Descargar Plantilla"]})]}),i.jsx("input",{ref:n,type:"file",accept:".csv,.xlsx,.xls",onChange:R,className:"hidden"})]})}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center gap-2",children:[i.jsx(y7,{className:"h-5 w-5"}),"Instrucciones para la importacin"]}),i.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[i.jsx("p",{children:" El archivo debe estar en formato CSV con codificacin UTF-8"}),i.jsx("p",{children:" La primera fila debe contener los encabezados de las columnas"}),i.jsx("p",{children:" Los campos requeridos son: Nombre, Apellido, Email y Rol"}),i.jsx("p",{children:" Los roles vlidos son: admin, manager, agent, viewer"}),i.jsx("p",{children:" Los emails deben ser nicos y tener formato vlido"}),i.jsx("p",{children:" Descarga la plantilla para ver el formato correcto"})]})]}),p.length>0&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Si,{className:"h-5 w-5 text-green-600"}),i.jsx("h4",{className:"font-medium text-green-900",children:"Importacin completada exitosamente"})]}),i.jsxs("p",{className:"text-green-800 text-sm mb-3",children:["Se importaron ",p.length," usuarios correctamente:"]}),i.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:p.map((z,H)=>i.jsxs("div",{className:"text-sm text-green-700 bg-green-100 px-3 py-1 rounded",children:[z.nombre," ",z.apellido," (",z.email,")"]},H))}),i.jsxs("button",{onClick:U,className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(kS,{className:"h-4 w-4"}),"Importar ms usuarios"]})]})]})}),a==="export"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(L6,{className:"h-5 w-5"}),"Filtros de Exportacin"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles a incluir"}),i.jsx("div",{className:"space-y-2",children:[{value:"admin",label:"Administrador"},{value:"manager",label:"Manager"},{value:"agent",label:"Agente"},{value:"viewer",label:"Visualizador"}].map(z=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:j.roles.includes(z.value),onChange:H=>{H.target.checked?P(V=>({...V,roles:[...V.roles,z.value]})):P(V=>({...V,roles:V.roles.filter(ae=>ae!==z.value)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),z.label]},z.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estados a incluir"}),i.jsx("div",{className:"space-y-2",children:[{value:"active",label:"Activo"},{value:"inactive",label:"Inactivo"},{value:"pending",label:"Pendiente"},{value:"suspended",label:"Suspendido"}].map(z=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:j.statuses.includes(z.value),onChange:H=>{H.target.checked?P(V=>({...V,statuses:[...V.statuses,z.value]})):P(V=>({...V,statuses:V.statuses.filter(ae=>ae!==z.value)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),z.label]},z.value))})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rango de fechas de registro"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Desde"}),i.jsx("input",{type:"date",value:j.dateRange.start,onChange:z=>P(H=>({...H,dateRange:{...H.dateRange,start:z.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hasta"}),i.jsx("input",{type:"date",value:j.dateRange.end,onChange:z=>P(H=>({...H,dateRange:{...H.dateRange,end:z.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(pc,{className:"h-5 w-5"}),"Campos a incluir en la exportacin"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{key:"basic",label:"Informacin Bsica",icon:Zn,description:"Nombre, apellido, email"},{key:"contact",label:"Contacto",icon:Phone,description:"Telfono, departamento, cargo"},{key:"role",label:"Rol y Estado",icon:Shield,description:"Rol, estado, permisos"},{key:"address",label:"Direccin",icon:Rv,description:"Direccin completa"},{key:"activity",label:"Actividad",icon:Sn,description:"ltimo acceso, historial"},{key:"statistics",label:"Estadsticas",icon:ya,description:"Mtricas de rendimiento"}].map(z=>{const H=z.icon;return i.jsxs("label",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:j.includeFields[z.key],onChange:V=>P(ae=>({...ae,includeFields:{...ae.includeFields,[z.key]:V.target.checked}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(H,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"font-medium text-gray-900",children:z.label})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:z.description})]})]},z.key)})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Los datos se exportarn en formato CSV"}),i.jsxs("button",{onClick:L,disabled:o,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(is,{className:"h-4 w-4"}),"Exportar Usuarios"]})]})]})]})]})})},B6=()=>{const{user:e}=Tl(),{users:t,createUser:r,updateUser:n,importUsers:a,exportUsers:s}=Ud(),[o,c]=O.useState(null),[l,u]=O.useState(null),[d,f]=O.useState(!1),[p,m]=O.useState(!1),[y,v]=O.useState(!1);e==null||e.role;const w=I=>{c(I)},g=I=>{u(I),f(!0),v(!1)},x=()=>{u(null),v(!1),f(!0)},S=async(I,k)=>{console.log("UserManagement: handleUserSave called with:",{userData:I,password:k});try{if(l)console.log("Updating existing user:",l),await n(l,I);else{console.log("Creating new user");const D={...I,estado:y?"pending":"active",permisos:I.permisos||[],configuracion:I.configuracion||{idioma:"es",timezone:"America/Mexico_City",notificaciones:{email:!0,push:!0,sms:!1},tema:"light"},estadisticas:I.estadisticas||{prospectosManagedos:0,cotizacionesCreadas:0,ventasCerradas:0,tasaConversion:0,tiempoPromedioRespuesta:0}};console.log("Calling createUser with:",D);const R=await r(D,k);console.log("User created successfully:",R)}console.log("User save completed successfully"),f(!1),u(null),v(!1)}catch(D){throw console.error("Error in handleUserSave:",D),D}},j=async I=>{try{const k=await a(I);return console.log("Users imported successfully:",k),m(!1),k}catch(k){throw console.error("Error importing users:",k),k}},P=async()=>{try{const I=await s(),k=new Blob([I],{type:"text/csv"}),D=window.URL.createObjectURL(k),R=document.createElement("a");return R.href=D,R.download=`usuarios_${new Date().toISOString().split("T")[0]}.csv`,R.click(),window.URL.revokeObjectURL(D),I}catch(I){throw console.error("Error exporting users:",I),I}};return o?i.jsx(rR,{userId:o,onClose:()=>c(null),onEdit:()=>g(o)}):i.jsxs(i.Fragment,{children:[i.jsx(tR,{onUserSelect:w,onUserEdit:g,onUserCreate:x,onImportExport:()=>m(!0)}),d&&i.jsx(nR,{user:l?t.find(I=>I.id===l):null,onClose:()=>{f(!1),u(null),v(!1)},onSave:S,isInvitation:y}),p&&i.jsx(aR,{onImport:j,onExport:P,onClose:()=>m(!1)})]})},sR=({navigationParams:e})=>{const{products:t}=ra(),[r,n]=O.useState((e==null?void 0:e.tab)||"general"),[a,s]=O.useState(null),[o,c]=O.useState(!1),[l,u]=O.useState({nombre:"",precio:0,descripcion:""});re.useEffect(()=>{e!=null&&e.tab&&n(e.tab)},[e]);const d=()=>{console.log("Saving product:",l),c(!1),s(null),u({nombre:"",precio:0,descripcion:""})},f=[{id:"general",label:"General",icon:pc},{id:"users",label:"Usuarios",icon:Zn},{id:"products",label:"Productos/Servicios",icon:or},{id:"integrations",label:"Integraciones",icon:pc},{id:"notifications",label:"Notificaciones",icon:pc}];return i.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configuracin"}),i.jsx("p",{className:"text-gray-600",children:"Administra tu CRM y personaliza la configuracin"})]}),(e==null?void 0:e.tab)==="users"&&i.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"text-blue-500 text-lg",children:""})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Gestin de usuarios"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Accediendo al mdulo de gestin de usuarios desde el men de perfil."})]})]})}),i.jsx("div",{className:"border-b border-gray-200 mb-6",children:i.jsx("nav",{className:"-mb-px flex space-x-8",children:f.map(p=>{const m=p.icon;return i.jsxs("button",{onClick:()=>n(p.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${r===p.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(m,{className:"h-4 w-4"}),p.label]},p.id)})})}),r==="general"&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuracin General"}),i.jsx("p",{className:"text-gray-600",children:"Configuracin general del sistema (prximamente)"})]}),r==="users"&&i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.jsx(B6,{})}),r==="products"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Catlogo de Productos/Servicios"}),i.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(or,{className:"h-4 w-4 mr-2"}),"Agregar Producto"]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto/Servicio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(p=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.nombre})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"text-sm text-gray-900",children:["$",p.precio.toLocaleString()]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:p.descripcion})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>s(p),className:"text-blue-600 hover:text-blue-900",children:i.jsx(P7,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-red-600 hover:text-red-900",children:i.jsx(Qr,{className:"h-4 w-4"})})]})})]},p.id))})]})})}),(o||a)&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:a?"Editar Producto":"Agregar Producto"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del producto/servicio"}),i.jsx("input",{type:"text",value:l.nombre,onChange:p=>u(m=>({...m,nombre:p.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio"}),i.jsx("input",{type:"number",value:l.precio,onChange:p=>u(m=>({...m,precio:Number(p.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{value:l.descripcion,onChange:p=>u(m=>({...m,descripcion:p.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[i.jsx("button",{onClick:()=>{c(!1),s(null),u({nombre:"",precio:0,descripcion:""})},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(zd,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})})]}),r==="integrations"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Integraciones"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"WhatsApp Business API"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Conecta tu cuenta de WhatsApp Business para enviar mensajes directamente desde el CRM"}),i.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Configurar"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"ManyChat"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Sincroniza automticamente los leads de ManyChat con tu CRM"}),i.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Conectar"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Zapier"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Automatiza flujos de trabajo con miles de aplicaciones"}),i.jsx("button",{className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Integrar"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Google Sheets"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Exporta y sincroniza datos con Google Sheets automticamente"}),i.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Conectar"})]})]})]}),r==="notifications"&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuracin de Notificaciones"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Nuevos prospectos"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Recibe notificacin cuando llegue un nuevo prospecto"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Recordatorios de seguimiento"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Recibe recordatorio si no has dado seguimiento en 3 das"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]})},iR=({onClose:e,editingQuote:t,preselectedProspect:r})=>{const{prospects:n,products:a,quoteTemplates:s,companySettings:o,addQuote:c,updateQuote:l,calculateQuoteTotal:u}=ra(),[d,f]=O.useState({prospectId:(r==null?void 0:r.id)||(t==null?void 0:t.prospectId)||"",fecha:st(t?t.fecha:new Date,"yyyy-MM-dd"),vigencia:st(t?t.vigencia:new Date(Date.now()+30*24*60*60*1e3),"yyyy-MM-dd"),condicionesPago:(t==null?void 0:t.condicionesPago)||o.condicionesPagoDefault,notasAdicionales:(t==null?void 0:t.notasAdicionales)||"",terminosCondiciones:(t==null?void 0:t.terminosCondiciones)||o.terminosCondicionesDefault,metodosPago:(t==null?void 0:t.metodosPago)||o.metodosPagoDefault,descuentoGlobal:(t==null?void 0:t.descuentoGlobal)||0,tipoDescuentoGlobal:(t==null?void 0:t.tipoDescuentoGlobal)||"porcentaje",iva:(t==null?void 0:t.iva)||o.iva}),[p,m]=O.useState((t==null?void 0:t.items)||[]),[y,v]=O.useState(!1),[w,g]=O.useState("");O.useState("");const[x,S]=O.useState(!1),j=a.filter(L=>L.estado==="activo"&&(L.nombre.toLowerCase().includes(w.toLowerCase())||L.descripcion.toLowerCase().includes(w.toLowerCase())||L.categoria.toLowerCase().includes(w.toLowerCase()))),P=L=>{const U=L.cantidad*L.precioUnitario;let z=0;return L.tipoDescuento==="porcentaje"?z=U*(L.descuento/100):z=L.descuento,U-z},I=L=>{const U={id:Date.now().toString(),productId:L==null?void 0:L.id,nombre:(L==null?void 0:L.nombre)||"",descripcion:(L==null?void 0:L.descripcion)||"",cantidad:1,precioUnitario:(L==null?void 0:L.precio)||0,descuento:0,tipoDescuento:"porcentaje",subtotal:(L==null?void 0:L.precio)||0};m(z=>[...z,U]),v(!1),g("")},k=(L,U,z)=>{m(H=>H.map((V,ae)=>{if(ae===L){const le={...V,[U]:z};return le.subtotal=P(le),le}return V}))},D=L=>{m(U=>U.filter((z,H)=>H!==L))},R=L=>{const U=s.find(z=>z.id===L);if(U){const z=U.items.map((H,V)=>({...H,id:(Date.now()+V).toString(),subtotal:P(H)}));m(z),f(H=>({...H,condicionesPago:U.condicionesPago,notasAdicionales:U.notasAdicionales,terminosCondiciones:U.terminosCondiciones,metodosPago:U.metodosPago})),S(!1)}},{subtotal:A,total:E}=u(p,d.descuentoGlobal,d.tipoDescuentoGlobal,d.iva),_=(L="Borrador")=>{if(!d.prospectId||p.length===0){alert("Por favor selecciona un cliente y agrega al menos un item");return}const U={prospectId:d.prospectId,fecha:new Date(d.fecha),vigencia:new Date(d.vigencia),items:p,subtotal:A,descuentoGlobal:d.descuentoGlobal,tipoDescuentoGlobal:d.tipoDescuentoGlobal,iva:d.iva,total:E,estado:L,condicionesPago:d.condicionesPago,notasAdicionales:d.notasAdicionales,terminosCondiciones:d.terminosCondiciones,metodosPago:d.metodosPago,creadoPor:"Usuario Actual"};t?l(t.id,U):c(U),e()},F=n.find(L=>L.id===d.prospectId);return i.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:[i.jsx(Np,{className:"h-5 w-5 mr-2"}),"Volver"]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Cotizacin":"Nueva Cotizacin"}),i.jsx("p",{className:"text-gray-600",children:t?`Editando ${t.numero}`:"Crear una nueva propuesta comercial"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[!t&&i.jsxs("button",{onClick:()=>S(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(Mg,{className:"h-4 w-4"}),"Usar Plantilla"]}),i.jsxs("button",{onClick:()=>_("Borrador"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(zd,{className:"h-4 w-4"}),"Guardar Borrador"]}),i.jsxs("button",{onClick:()=>_("Enviada"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Fv,{className:"h-4 w-4"}),"Enviar Cotizacin"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin Bsica"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),i.jsxs("select",{value:d.prospectId,onChange:L=>f(U=>({...U,prospectId:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar cliente"}),n.map(L=>i.jsxs("option",{value:L.id,children:[L.nombre," - ",L.telefono]},L.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Emisin"}),i.jsx("input",{type:"date",value:d.fecha,onChange:L=>f(U=>({...U,fecha:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vigencia"}),i.jsx("input",{type:"date",value:d.vigencia,onChange:L=>f(U=>({...U,vigencia:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IVA (%)"}),i.jsx("input",{type:"number",value:d.iva,onChange:L=>f(U=>({...U,iva:Number(L.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",max:"100",step:"0.1"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Items de la Cotizacin"}),i.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Agregar Item"]})]}),y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-96 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Seleccionar Producto/Servicio"}),i.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar productos o servicios...",value:w,onChange:L=>g(L.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",autoFocus:!0})]})}),i.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[i.jsxs("button",{onClick:()=>I(),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"+ Producto/Servicio Personalizado"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Crear un item personalizado"})]}),j.map(L=>i.jsx("button",{onClick:()=>I(L),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-900",children:L.nombre}),i.jsx("div",{className:"text-sm text-gray-500",children:L.descripcion}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[L.categoria,"  ",L.unidadMedida]})]}),i.jsxs("div",{className:"text-lg font-semibold text-blue-600",children:["$",L.precio.toLocaleString()]})]})},L.id))]})]})}),i.jsxs("div",{className:"space-y-4",children:[p.map((L,U)=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-start",children:[i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Producto/Servicio"}),i.jsx("input",{type:"text",value:L.nombre,onChange:z=>k(U,"nombre",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del producto"})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{value:L.descripcion,onChange:z=>k(U,"descripcion",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descripcin detallada"})]}),i.jsxs("div",{className:"md:col-span-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),i.jsx("input",{type:"number",value:L.cantidad,onChange:z=>k(U,"cantidad",Number(z.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"1"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio Unitario"}),i.jsx("input",{type:"number",value:L.precioUnitario,onChange:z=>k(U,"precioUnitario",Number(z.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descuento"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",value:L.descuento,onChange:z=>k(U,"descuento",Number(z.target.value)),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"}),i.jsxs("select",{value:L.tipoDescuento,onChange:z=>k(U,"tipoDescuento",z.target.value),className:"px-2 py-2 border border-l-0 border-gray-300 rounded-r-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"porcentaje",children:"%"}),i.jsx("option",{value:"monto",children:"$"})]})]})]}),i.jsxs("div",{className:"md:col-span-1 flex items-end",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtotal"}),i.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm font-medium",children:["$",L.subtotal.toLocaleString()]})]}),i.jsx("button",{onClick:()=>D(U),className:"ml-2 p-2 text-red-600 hover:text-red-800 transition-colors",title:"Eliminar item",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]})},L.id)),p.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(d7,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay items agregados"}),i.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Item" para comenzar'})]})]}),p.length>0&&i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descuento Global"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",value:d.descuentoGlobal,onChange:L=>f(U=>({...U,descuentoGlobal:Number(L.target.value)})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"}),i.jsxs("select",{value:d.tipoDescuentoGlobal,onChange:L=>f(U=>({...U,tipoDescuentoGlobal:L.target.value})),className:"px-2 py-2 border border-l-0 border-gray-300 rounded-r-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"porcentaje",children:"%"}),i.jsx("option",{value:"monto",children:"$"})]})]})]})})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin Adicional"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condiciones de Pago"}),i.jsx("textarea",{value:d.condicionesPago,onChange:L=>f(U=>({...U,condicionesPago:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Ej: 50% anticipo, 50% contra entrega"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas Adicionales"}),i.jsx("textarea",{value:d.notasAdicionales,onChange:L=>f(U=>({...U,notasAdicionales:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Informacin adicional, aclaraciones, etc."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trminos y Condiciones"}),i.jsx("textarea",{value:d.terminosCondiciones,onChange:L=>f(U=>({...U,terminosCondiciones:L.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Trminos y condiciones del servicio"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodos de Pago Aceptados"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Transferencia bancaria","PayPal","Stripe","Tarjeta de crdito","Efectivo","Cheque"].map(L=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:d.metodosPago.includes(L),onChange:U=>{U.target.checked?f(z=>({...z,metodosPago:[...z.metodosPago,L]})):f(z=>({...z,metodosPago:z.metodosPago.filter(H=>H!==L)}))},className:"mr-2"}),i.jsx("span",{className:"text-sm",children:L})]},L))})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[F&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin del Cliente"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Nombre:"}),i.jsx("p",{className:"text-sm text-gray-900",children:F.nombre})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Telfono:"}),i.jsx("p",{className:"text-sm text-gray-900",children:F.telefono})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Correo:"}),i.jsx("p",{className:"text-sm text-gray-900",children:F.correo})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Inters:"}),i.jsx("p",{className:"text-sm text-gray-900",children:F.servicioInteres})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal:"}),i.jsxs("span",{className:"text-sm font-medium",children:["$",A.toLocaleString()]})]}),d.descuentoGlobal>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Descuento Global:"}),i.jsxs("span",{className:"text-sm font-medium text-red-600",children:["-",d.tipoDescuentoGlobal==="porcentaje"?`${d.descuentoGlobal}%`:`$${d.descuentoGlobal.toLocaleString()}`]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["IVA (",d.iva,"%):"]}),i.jsxs("span",{className:"text-sm font-medium",children:["$",((A-(d.tipoDescuentoGlobal==="porcentaje"?A*(d.descuentoGlobal/100):d.descuentoGlobal))*(d.iva/100)).toLocaleString()]})]}),i.jsx("div",{className:"border-t pt-3",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",E.toLocaleString()]})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin de la Empresa"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("p",{className:"font-medium",children:o.nombre}),i.jsx("p",{className:"text-gray-600",children:o.direccion}),i.jsx("p",{className:"text-gray-600",children:o.telefono}),i.jsx("p",{className:"text-gray-600",children:o.correo}),i.jsxs("p",{className:"text-gray-600",children:["RFC: ",o.rfc]})]})]})]})]}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-96 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Seleccionar Plantilla"}),i.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:""})]}),i.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[s.map(L=>i.jsxs("button",{onClick:()=>R(L.id),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"font-medium text-gray-900",children:L.nombre}),i.jsx("div",{className:"text-sm text-gray-500 mt-1",children:L.descripcion}),i.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[L.items.length," items  Creado por ",L.creadoPor]})]},L.id)),s.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-500",children:i.jsx("p",{children:"No hay plantillas disponibles"})})]})]})})]})},oR="modulepreload",lR=function(e){return"/"+e},LS={},Gb=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=lR(l),l in LS)return;LS[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":oR,u||(f.as="script"),f.crossOrigin="",f.href=l,c&&f.setAttribute("nonce",c),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};var Un=Uint8Array,Ma=Uint16Array,qw=Int32Array,zv=new Un([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Bv=new Un([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Kb=new Un([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),W6=function(e,t){for(var r=new Ma(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new qw(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},H6=W6(zv,2),Y6=H6.b,Xb=H6.r;Y6[28]=258,Xb[258]=28;var V6=W6(Bv,0),cR=V6.b,TS=V6.r,Qb=new Ma(32768);for(var dr=0;dr<32768;++dr){var Jo=(dr&43690)>>1|(dr&21845)<<1;Jo=(Jo&52428)>>2|(Jo&13107)<<2,Jo=(Jo&61680)>>4|(Jo&3855)<<4,Qb[dr]=((Jo&65280)>>8|(Jo&255)<<8)>>1}var Ci=function(e,t,r){for(var n=e.length,a=0,s=new Ma(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new Ma(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var c;if(r){c=new Ma(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,p=f|(1<<d)-1;f<=p;++f)c[Qb[f]>>l]=u}else for(c=new Ma(n),a=0;a<n;++a)e[a]&&(c[a]=Qb[o[e[a]-1]++]>>15-e[a]);return c},kl=new Un(288);for(var dr=0;dr<144;++dr)kl[dr]=8;for(var dr=144;dr<256;++dr)kl[dr]=9;for(var dr=256;dr<280;++dr)kl[dr]=7;for(var dr=280;dr<288;++dr)kl[dr]=8;var Hh=new Un(32);for(var dr=0;dr<32;++dr)Hh[dr]=5;var uR=Ci(kl,9,0),dR=Ci(kl,9,1),fR=Ci(Hh,5,0),hR=Ci(Hh,5,1),d1=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},_s=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},f1=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},Gw=function(e){return(e+7)/8|0},q6=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Un(e.subarray(t,r))},pR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ms=function(e,t,r){var n=new Error(t||pR[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Ms),!r)throw n;return n},mR=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new Un(0);var o=!r,c=o||t.i!=2,l=t.i;o&&(r=new Un(a*3));var u=function(xe){var ke=r.length;if(xe>ke){var Pe=new Un(Math.max(ke*2,xe));Pe.set(r),r=Pe}},d=t.f||0,f=t.p||0,p=t.b||0,m=t.l,y=t.d,v=t.m,w=t.n,g=a*8;do{if(!m){d=_s(e,f,1);var x=_s(e,f+1,3);if(f+=3,x)if(x==1)m=dR,y=hR,v=9,w=5;else if(x==2){var I=_s(e,f,31)+257,k=_s(e,f+10,15)+4,D=I+_s(e,f+5,31)+1;f+=14;for(var R=new Un(D),A=new Un(19),E=0;E<k;++E)A[Kb[E]]=_s(e,f+E*3,7);f+=k*3;for(var _=d1(A),F=(1<<_)-1,L=Ci(A,_,1),E=0;E<D;){var U=L[_s(e,f,F)];f+=U&15;var S=U>>4;if(S<16)R[E++]=S;else{var z=0,H=0;for(S==16?(H=3+_s(e,f,3),f+=2,z=R[E-1]):S==17?(H=3+_s(e,f,7),f+=3):S==18&&(H=11+_s(e,f,127),f+=7);H--;)R[E++]=z}}var V=R.subarray(0,I),ae=R.subarray(I);v=d1(V),w=d1(ae),m=Ci(V,v,1),y=Ci(ae,w,1)}else Ms(1);else{var S=Gw(f)+4,j=e[S-4]|e[S-3]<<8,P=S+j;if(P>a){l&&Ms(0);break}c&&u(p+j),r.set(e.subarray(S,P),p),t.b=p+=j,t.p=f=P*8,t.f=d;continue}if(f>g){l&&Ms(0);break}}c&&u(p+131072);for(var le=(1<<v)-1,oe=(1<<w)-1,M=f;;M=f){var z=m[f1(e,f)&le],Y=z>>4;if(f+=z&15,f>g){l&&Ms(0);break}if(z||Ms(2),Y<256)r[p++]=Y;else if(Y==256){M=f,m=null;break}else{var Q=Y-254;if(Y>264){var E=Y-257,G=zv[E];Q=_s(e,f,(1<<G)-1)+Y6[E],f+=G}var $=y[f1(e,f)&oe],X=$>>4;$||Ms(3),f+=$&15;var ae=cR[X];if(X>3){var G=Bv[X];ae+=f1(e,f)&(1<<G)-1,f+=G}if(f>g){l&&Ms(0);break}c&&u(p+131072);var Z=p+Q;if(p<ae){var te=s-ae,fe=Math.min(ae,Z);for(te+p<0&&Ms(3);p<fe;++p)r[p]=n[te+p]}for(;p<Z;++p)r[p]=r[p-ae]}}t.l=m,t.p=M,t.b=p,t.f=d,m&&(d=1,t.m=v,t.d=y,t.n=w)}while(!d);return p!=r.length&&o?q6(r,0,p):r.subarray(0,p)},eo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Hf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},h1=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:K6,l:0};if(a==1){var o=new Un(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(P,I){return P.f-I.f}),r.push({s:-1,f:25001});var c=r[0],l=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:c.f+l.f,l:c,r:l};d!=a-1;)c=r[r[u].f<r[f].f?u++:f++],l=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:c.f+l.f,l:c,r:l};for(var p=s[0].s,n=1;n<a;++n)s[n].s>p&&(p=s[n].s);var m=new Ma(p+1),y=Jb(r[d-1],m,0);if(y>t){var n=0,v=0,w=y-t,g=1<<w;for(s.sort(function(I,k){return m[k.s]-m[I.s]||I.f-k.f});n<a;++n){var x=s[n].s;if(m[x]>t)v+=g-(1<<y-m[x]),m[x]=t;else break}for(v>>=w;v>0;){var S=s[n].s;m[S]<t?v-=1<<t-m[S]++-1:++n}for(;n>=0&&v;--n){var j=s[n].s;m[j]==t&&(--m[j],++v)}y=t}return{t:new Un(m),l:y}},Jb=function(e,t,r){return e.s==-1?Math.max(Jb(e.l,t,r+1),Jb(e.r,t,r+1)):t[e.s]=r},OS=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ma(++t),n=0,a=e[0],s=1,o=function(l){r[n++]=l},c=1;c<=t;++c)if(e[c]==a&&c!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[c]}return{c:r.subarray(0,n),n:t}},Yf=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},G6=function(e,t,r){var n=r.length,a=Gw(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},IS=function(e,t,r,n,a,s,o,c,l,u,d){eo(t,d++,r),++a[256];for(var f=h1(a,15),p=f.t,m=f.l,y=h1(s,15),v=y.t,w=y.l,g=OS(p),x=g.c,S=g.n,j=OS(v),P=j.c,I=j.n,k=new Ma(19),D=0;D<x.length;++D)++k[x[D]&31];for(var D=0;D<P.length;++D)++k[P[D]&31];for(var R=h1(k,7),A=R.t,E=R.l,_=19;_>4&&!A[Kb[_-1]];--_);var F=u+5<<3,L=Yf(a,kl)+Yf(s,Hh)+o,U=Yf(a,p)+Yf(s,v)+o+14+3*_+Yf(k,A)+2*k[16]+3*k[17]+7*k[18];if(l>=0&&F<=L&&F<=U)return G6(t,d,e.subarray(l,l+u));var z,H,V,ae;if(eo(t,d,1+(U<L)),d+=2,U<L){z=Ci(p,m,0),H=p,V=Ci(v,w,0),ae=v;var le=Ci(A,E,0);eo(t,d,S-257),eo(t,d+5,I-1),eo(t,d+10,_-4),d+=14;for(var D=0;D<_;++D)eo(t,d+3*D,A[Kb[D]]);d+=3*_;for(var oe=[x,P],M=0;M<2;++M)for(var Y=oe[M],D=0;D<Y.length;++D){var Q=Y[D]&31;eo(t,d,le[Q]),d+=A[Q],Q>15&&(eo(t,d,Y[D]>>5&127),d+=Y[D]>>12)}}else z=uR,H=kl,V=fR,ae=Hh;for(var D=0;D<c;++D){var G=n[D];if(G>255){var Q=G>>18&31;Hf(t,d,z[Q+257]),d+=H[Q+257],Q>7&&(eo(t,d,G>>23&31),d+=zv[Q]);var $=G&31;Hf(t,d,V[$]),d+=ae[$],$>3&&(Hf(t,d,G>>5&8191),d+=Bv[$])}else Hf(t,d,z[G]),d+=H[G]}return Hf(t,d,z[256]),d+H[256]},gR=new qw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K6=new Un(0),vR=function(e,t,r,n,a,s){var o=s.z||e.length,c=new Un(n+o+5*(1+Math.ceil(o/7e3))+a),l=c.subarray(n,c.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(l[0]=s.r>>3);for(var f=gR[t-1],p=f>>13,m=f&8191,y=(1<<r)-1,v=s.p||new Ma(32768),w=s.h||new Ma(y+1),g=Math.ceil(r/3),x=2*g,S=function(Je){return(e[Je]^e[Je+1]<<g^e[Je+2]<<x)&y},j=new qw(25e3),P=new Ma(288),I=new Ma(32),k=0,D=0,R=s.i||0,A=0,E=s.w||0,_=0;R+2<o;++R){var F=S(R),L=R&32767,U=w[F];if(v[L]=U,w[F]=L,E<=R){var z=o-R;if((k>7e3||A>24576)&&(z>423||!u)){d=IS(e,l,0,j,P,I,D,A,_,R-_,d),A=k=D=0,_=R;for(var H=0;H<286;++H)P[H]=0;for(var H=0;H<30;++H)I[H]=0}var V=2,ae=0,le=m,oe=L-U&32767;if(z>2&&F==S(R-oe))for(var M=Math.min(p,z)-1,Y=Math.min(32767,R),Q=Math.min(258,z);oe<=Y&&--le&&L!=U;){if(e[R+V]==e[R+V-oe]){for(var G=0;G<Q&&e[R+G]==e[R+G-oe];++G);if(G>V){if(V=G,ae=oe,G>M)break;for(var $=Math.min(oe,G-2),X=0,H=0;H<$;++H){var Z=R-oe+H&32767,te=v[Z],fe=Z-te&32767;fe>X&&(X=fe,U=Z)}}}L=U,U=v[L],oe+=L-U&32767}if(ae){j[A++]=268435456|Xb[V]<<18|TS[ae];var xe=Xb[V]&31,ke=TS[ae]&31;D+=zv[xe]+Bv[ke],++P[257+xe],++I[ke],E=R+V,++k}else j[A++]=e[R],++P[e[R]]}}for(R=Math.max(R,E);R<o;++R)j[A++]=e[R],++P[e[R]];d=IS(e,l,u,j,P,I,D,A,_,R-_,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=w,s.p=v,s.i=R,s.w=E)}else{for(var R=s.w||0;R<o+u;R+=65535){var Pe=R+65535;Pe>=o&&(l[d/8|0]=u,Pe=o),d=G6(l,d+1,e.subarray(R,Pe))}s.i=o}return q6(c,0,n+Gw(d)+a)},X6=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var c=Math.min(o+2655,s);o<c;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},xR=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Un(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return vR(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Q6=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},yR=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=X6();a.p(t.dictionary),Q6(e,2,a.d())}},bR=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ms(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ms(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function Zb(e,t){t||(t={});var r=X6();r.p(e);var n=xR(e,t,t.dictionary?6:2,4);return yR(n,t),Q6(n,n.length-4,r.d()),n}function wR(e,t){return mR(e.subarray(bR(e,t),-4),{i:2},t,t)}var NR=typeof TextDecoder<"u"&&new TextDecoder,jR=0;try{NR.decode(K6,{stream:!0}),jR=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function p1(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var tr={log:p1,warn:function(e){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):p1.call(null,arguments))},error:function(e){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):p1(e))}};function m1(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){rc(n.response,t,r)},n.onerror=function(){tr.error("could not download file")},n.send()}function RS(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Zm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var wh,e2,rc=lt.saveAs||((typeof window>"u"?"undefined":wt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=lt.URL||lt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?RS(a.href)?m1(e,t,r):Zm(a,a.target="_blank"):Zm(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Zm(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(RS(e))m1(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){Zm(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:wt(s)!=="object"&&(tr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return m1(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":wt(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var d=c.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},c.readAsDataURL(e)}else{var l=lt.URL||lt.webkitURL,u=l.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function J6(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return c.length==1&&(c="0"+c),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+c+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function g1(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=Ln(r,n,a,s,t[0],7,-680876936),s=Ln(s,r,n,a,t[1],12,-389564586),a=Ln(a,s,r,n,t[2],17,606105819),n=Ln(n,a,s,r,t[3],22,-1044525330),r=Ln(r,n,a,s,t[4],7,-176418897),s=Ln(s,r,n,a,t[5],12,1200080426),a=Ln(a,s,r,n,t[6],17,-1473231341),n=Ln(n,a,s,r,t[7],22,-45705983),r=Ln(r,n,a,s,t[8],7,1770035416),s=Ln(s,r,n,a,t[9],12,-1958414417),a=Ln(a,s,r,n,t[10],17,-42063),n=Ln(n,a,s,r,t[11],22,-1990404162),r=Ln(r,n,a,s,t[12],7,1804603682),s=Ln(s,r,n,a,t[13],12,-40341101),a=Ln(a,s,r,n,t[14],17,-1502002290),r=Tn(r,n=Ln(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Tn(s,r,n,a,t[6],9,-1069501632),a=Tn(a,s,r,n,t[11],14,643717713),n=Tn(n,a,s,r,t[0],20,-373897302),r=Tn(r,n,a,s,t[5],5,-701558691),s=Tn(s,r,n,a,t[10],9,38016083),a=Tn(a,s,r,n,t[15],14,-660478335),n=Tn(n,a,s,r,t[4],20,-405537848),r=Tn(r,n,a,s,t[9],5,568446438),s=Tn(s,r,n,a,t[14],9,-1019803690),a=Tn(a,s,r,n,t[3],14,-187363961),n=Tn(n,a,s,r,t[8],20,1163531501),r=Tn(r,n,a,s,t[13],5,-1444681467),s=Tn(s,r,n,a,t[2],9,-51403784),a=Tn(a,s,r,n,t[7],14,1735328473),r=On(r,n=Tn(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=On(s,r,n,a,t[8],11,-2022574463),a=On(a,s,r,n,t[11],16,1839030562),n=On(n,a,s,r,t[14],23,-35309556),r=On(r,n,a,s,t[1],4,-1530992060),s=On(s,r,n,a,t[4],11,1272893353),a=On(a,s,r,n,t[7],16,-155497632),n=On(n,a,s,r,t[10],23,-1094730640),r=On(r,n,a,s,t[13],4,681279174),s=On(s,r,n,a,t[0],11,-358537222),a=On(a,s,r,n,t[3],16,-722521979),n=On(n,a,s,r,t[6],23,76029189),r=On(r,n,a,s,t[9],4,-640364487),s=On(s,r,n,a,t[12],11,-421815835),a=On(a,s,r,n,t[15],16,530742520),r=In(r,n=On(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=In(s,r,n,a,t[7],10,1126891415),a=In(a,s,r,n,t[14],15,-1416354905),n=In(n,a,s,r,t[5],21,-57434055),r=In(r,n,a,s,t[12],6,1700485571),s=In(s,r,n,a,t[3],10,-1894986606),a=In(a,s,r,n,t[10],15,-1051523),n=In(n,a,s,r,t[1],21,-2054922799),r=In(r,n,a,s,t[8],6,1873313359),s=In(s,r,n,a,t[15],10,-30611744),a=In(a,s,r,n,t[6],15,-1560198380),n=In(n,a,s,r,t[13],21,1309151649),r=In(r,n,a,s,t[4],6,-145523070),s=In(s,r,n,a,t[11],10,-1120210379),a=In(a,s,r,n,t[2],15,718787259),n=In(n,a,s,r,t[9],21,-343485551),e[0]=ll(r,e[0]),e[1]=ll(n,e[1]),e[2]=ll(a,e[2]),e[3]=ll(s,e[3])}function Wv(e,t,r,n,a,s){return t=ll(ll(t,e),ll(n,s)),ll(t<<a|t>>>32-a,r)}function Ln(e,t,r,n,a,s,o){return Wv(t&r|~t&n,e,t,a,s,o)}function Tn(e,t,r,n,a,s,o){return Wv(t&n|r&~n,e,t,a,s,o)}function On(e,t,r,n,a,s,o){return Wv(t^r^n,e,t,a,s,o)}function In(e,t,r,n,a,s,o){return Wv(r^(t|~n),e,t,a,s,o)}function Z6(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)g1(n,SR(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(g1(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,g1(n,a),n}function SR(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}wh=lt.atob.bind(lt),e2=lt.btoa.bind(lt);var FS="0123456789abcdef".split("");function kR(e){for(var t="",r=0;r<4;r++)t+=FS[e>>8*r+4&15]+FS[e>>8*r&15];return t}function CR(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function t2(e){return Z6(e).map(CR).join("")}var DR=function(e){for(var t=0;t<e.length;t++)e[t]=kR(e[t]);return e.join("")}(Z6("hello"))!="5d41402abc4b2a76b9719d911017c592";function ll(e,t){if(DR){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function r2(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),c=[],l=0;l<256;l++)c[l]=l;var u=0;for(l=0;l<256;l++){var d=c[l];u=(u+d+o.charCodeAt(l))%256,c[l]=c[u],c[u]=d}r=e,n=c}else c=n;var f=t.length,p=0,m=0,y="";for(l=0;l<f;l++)m=(m+(d=c[p=(p+1)%256]))%256,c[p]=c[m],c[m]=d,o=c[(c[p]+c[m])%256],y+=String.fromCharCode(t.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $S={print:4,modify:8,copy:16,"annot-forms":32};function Au(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(c){if($S.perm!==void 0)throw new Error("Invalid permission: "+c);a+=$S[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=t2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=r2(this.encryptionKey,this.padding)}function Lu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function US(e){if(wt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(c){lt.console&&tr.error("jsPDF PubSub Error",c.message,c)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Rg(e){if(!(this instanceof Rg))return new Rg(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function e_(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function sc(e,t,r,n,a){if(!(this instanceof sc))return new sc(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,e_.call(this,n,a)}function Ku(e,t,r,n,a){if(!(this instanceof Ku))return new Ku(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,e_.call(this,n,a)}function ot(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],c=1,l=16,u="S",d=null;wt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,p={},m={internal:{},__private__:{}};m.__private__.PubSub=US;var y="1.3",v=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(N){y=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return w};var g=m.__private__.getPageFormat=function(N){return w[N]};a=a||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function j(){this.saveGraphicsState(),se(new it(Be,0,0,-Be,0,Fo()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),u="n",S=x.ADVANCED}function P(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var I=m.__private__.combineFontStyleAndFontWeight=function(N,W){if(N=="bold"&&W=="normal"||N=="bold"&&W==400||N=="normal"&&W=="italic"||N=="bold"&&W=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return W&&(N=W==400||W==="normal"?N==="italic"?"italic":"normal":W!=700&&W!=="bold"||N!=="normal"?(W==700?"bold":W)+""+N:"bold"),N};m.advancedAPI=function(N){var W=S===x.COMPAT;return W&&j.call(this),typeof N!="function"||(N(this),W&&P.call(this)),this},m.compatAPI=function(N){var W=S===x.ADVANCED;return W&&P.call(this),typeof N!="function"||(N(this),W&&j.call(this)),this},m.isAdvancedAPI=function(){return S===x.ADVANCED};var k,D=function(N){if(S!==x.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},R=m.roundToPrecision=m.__private__.roundToPrecision=function(N,W){var ie=t||W;if(isNaN(N)||isNaN(ie))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ie).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return R(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return R(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return R(N,16)};var A=m.f2=m.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return R(N,2)},E=m.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return R(N,3)},_=m.scale=m.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?N*Be:S===x.ADVANCED?N:void 0},F=function(N){return S===x.COMPAT?Fo()-N:S===x.ADVANCED?N:void 0},L=function(N){return _(F(N))};m.__private__.setPrecision=m.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var U,z="00000000000000000000000000000000",H=m.__private__.getFileId=function(){return z},V=m.__private__.setFileId=function(N){return z=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Pn=new Au(d.userPermissions,d.userPassword,d.ownerPassword,z)),z};m.setFileId=function(N){return V(N),this},m.getFileId=function(){return H()};var ae=m.__private__.convertDateToPDFDate=function(N){var W=N.getTimezoneOffset(),ie=W<0?"+":"-",ce=Math.floor(Math.abs(W/60)),me=Math.abs(W%60),we=[ie,Q(ce),"'",Q(me),"'"].join("");return["D:",N.getFullYear(),Q(N.getMonth()+1),Q(N.getDate()),Q(N.getHours()),Q(N.getMinutes()),Q(N.getSeconds()),we].join("")},le=m.__private__.convertPDFDateToDate=function(N){var W=parseInt(N.substr(2,4),10),ie=parseInt(N.substr(6,2),10)-1,ce=parseInt(N.substr(8,2),10),me=parseInt(N.substr(10,2),10),we=parseInt(N.substr(12,2),10),De=parseInt(N.substr(14,2),10);return new Date(W,ie,ce,me,we,De,0)},oe=m.__private__.setCreationDate=function(N){var W;if(N===void 0&&(N=new Date),N instanceof Date)W=ae(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");W=N}return U=W},M=m.__private__.getCreationDate=function(N){var W=U;return N==="jsDate"&&(W=le(U)),W};m.setCreationDate=function(N){return oe(N),this},m.getCreationDate=function(N){return M(N)};var Y,Q=m.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},G=m.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},$=0,X=[],Z=[],te=0,fe=[],xe=[],ke=!1,Pe=Z,Je=function(){$=0,te=0,Z=[],X=[],fe=[],Hi=Yr(),xs=Yr()};m.__private__.setCustomOutputDestination=function(N){ke=!0,Pe=N};var ye=function(N){ke||(Pe=N)};m.__private__.resetCustomOutputDestination=function(){ke=!1,Pe=Z};var se=m.__private__.out=function(N){return N=N.toString(),te+=N.length+1,Pe.push(N),Pe},Qe=m.__private__.write=function(N){return se(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},Ve=m.__private__.getArrayBuffer=function(N){for(var W=N.length,ie=new ArrayBuffer(W),ce=new Uint8Array(ie);W--;)ce[W]=N.charCodeAt(W);return ie},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return _e};var Ae=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(N){return Ae=S===x.ADVANCED?N/Be:N,this};var Fe,Re=m.__private__.getFontSize=m.getFontSize=function(){return S===x.COMPAT?Ae:Ae*Be},et=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(N){return et=N,this},m.__private__.getR2L=m.getR2L=function(){return et};var ct,ft=m.__private__.setZoomMode=function(N){var W=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))Fe=N;else if(isNaN(N)){if(W.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');Fe=N}else Fe=parseInt(N,10)};m.__private__.getZoomMode=function(){return Fe};var xt,St=m.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');ct=N};m.__private__.getPageMode=function(){return ct};var It=m.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');xt=N};m.__private__.getLayoutMode=function(){return xt},m.__private__.setDisplayMode=m.setDisplayMode=function(N,W,ie){return ft(N),It(W),St(ie),this};var ut={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(N){if(Object.keys(ut).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ut[N]},m.__private__.getDocumentProperties=function(){return ut},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(N){for(var W in ut)ut.hasOwnProperty(W)&&N[W]&&(ut[W]=N[W]);return this},m.__private__.setDocumentProperty=function(N,W){if(Object.keys(ut).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ut[N]=W};var Nt,Be,_n,Lt,ms,Zt={},mr={},Ks=[],zt={},$l={},Sr={},gs={},Wi=null,kr=0,ht=[],Bt=new US(m),Ul=e.hotfixes||[],vn={},Xs={},Qs=[],it=function N(W,ie,ce,me,we,De){if(!(this instanceof N))return new N(W,ie,ce,me,we,De);isNaN(W)&&(W=1),isNaN(ie)&&(ie=0),isNaN(ce)&&(ce=0),isNaN(me)&&(me=1),isNaN(we)&&(we=0),isNaN(De)&&(De=0),this._matrix=[W,ie,ce,me,we,De]};Object.defineProperty(it.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(it.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(it.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(it.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(it.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(it.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(it.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(it.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(it.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(it.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(it.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(it.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(it.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(it.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(it.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(it.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),it.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(N)},it.prototype.multiply=function(N){var W=N.sx*this.sx+N.shy*this.shx,ie=N.sx*this.shy+N.shy*this.sy,ce=N.shx*this.sx+N.sy*this.shx,me=N.shx*this.shy+N.sy*this.sy,we=N.tx*this.sx+N.ty*this.shx+this.tx,De=N.tx*this.shy+N.ty*this.sy+this.ty;return new it(W,ie,ce,me,we,De)},it.prototype.decompose=function(){var N=this.sx,W=this.shy,ie=this.shx,ce=this.sy,me=this.tx,we=this.ty,De=Math.sqrt(N*N+W*W),We=(N/=De)*ie+(W/=De)*ce;ie-=N*We,ce-=W*We;var tt=Math.sqrt(ie*ie+ce*ce);return We/=tt,N*(ce/=tt)<W*(ie/=tt)&&(N=-N,W=-W,We=-We,De=-De),{scale:new it(De,0,0,tt,0,0),translate:new it(1,0,0,1,me,we),rotate:new it(N,W,-W,N,0,0),skew:new it(1,0,We,1,0,0)}},it.prototype.toString=function(N){return this.join(" ")},it.prototype.inversed=function(){var N=this.sx,W=this.shy,ie=this.shx,ce=this.sy,me=this.tx,we=this.ty,De=1/(N*ce-W*ie),We=ce*De,tt=-W*De,gt=-ie*De,pt=N*De;return new it(We,tt,gt,pt,-We*me-gt*we,-tt*me-pt*we)},it.prototype.applyToPoint=function(N){var W=N.x*this.sx+N.y*this.shx+this.tx,ie=N.x*this.shy+N.y*this.sy+this.ty;return new lu(W,ie)},it.prototype.applyToRectangle=function(N){var W=this.applyToPoint(N),ie=this.applyToPoint(new lu(N.x+N.w,N.y+N.h));return new pf(W.x,W.y,ie.x-W.x,ie.y-W.y)},it.prototype.clone=function(){var N=this.sx,W=this.shy,ie=this.shx,ce=this.sy,me=this.tx,we=this.ty;return new it(N,W,ie,ce,me,we)},m.Matrix=it;var vs=m.matrixMult=function(N,W){return W.multiply(N)},Js=new it(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Js;var aa=function(N,W){if(!$l[N]){var ie=(W instanceof sc?"Sh":"P")+(Object.keys(zt).length+1).toString(10);W.id=ie,$l[N]=ie,zt[ie]=W,Bt.publish("addPattern",W)}};m.ShadingPattern=sc,m.TilingPattern=Ku,m.addShadingPattern=function(N,W){return D("addShadingPattern()"),aa(N,W),this},m.beginTilingPattern=function(N){D("beginTilingPattern()"),lm(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},m.endTilingPattern=function(N,W){D("endTilingPattern()"),W.stream=xe[Y].join(`
`),aa(N,W),Bt.publish("endTilingPattern",W),Qs.pop().restore()};var en=m.__private__.newObject=function(){var N=Yr();return ja(N,!0),N},Yr=m.__private__.newObjectDeferred=function(){return $++,X[$]=function(){return te},$},ja=function(N,W){return W=typeof W=="boolean"&&W,X[N]=te,W&&se(N+" 0 obj"),N},Kc=m.__private__.newAdditionalObject=function(){var N={objId:Yr(),content:""};return fe.push(N),N},Hi=Yr(),xs=Yr(),ys=m.__private__.decodeColorString=function(N){var W=N.split(" ");if(W.length!==2||W[1]!=="g"&&W[1]!=="G")W.length===5&&(W[4]==="k"||W[4]==="K")&&(W=[(1-W[0])*(1-W[3]),(1-W[1])*(1-W[3]),(1-W[2])*(1-W[3]),"r"]);else{var ie=parseFloat(W[0]);W=[ie,ie,ie,"r"]}for(var ce="#",me=0;me<3;me++)ce+=("0"+Math.floor(255*parseFloat(W[me])).toString(16)).slice(-2);return ce},bs=m.__private__.encodeColorString=function(N){var W;typeof N=="string"&&(N={ch1:N});var ie=N.ch1,ce=N.ch2,me=N.ch3,we=N.ch4,De=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ie=="string"&&ie.charAt(0)!=="#"){var We=new J6(ie);if(We.ok)ie=We.toHex();else if(!/^\d*\.?\d*$/.test(ie))throw new Error('Invalid color "'+ie+'" passed to jsPDF.encodeColorString.')}if(typeof ie=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ie)&&(ie="#"+ie[1]+ie[1]+ie[2]+ie[2]+ie[3]+ie[3]),typeof ie=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ie)){var tt=parseInt(ie.substr(1),16);ie=tt>>16&255,ce=tt>>8&255,me=255&tt}if(ce===void 0||we===void 0&&ie===ce&&ce===me)if(typeof ie=="string")W=ie+" "+De[0];else switch(N.precision){case 2:W=A(ie/255)+" "+De[0];break;case 3:default:W=E(ie/255)+" "+De[0]}else if(we===void 0||wt(we)==="object"){if(we&&!isNaN(we.a)&&we.a===0)return W=["1.","1.","1.",De[1]].join(" ");if(typeof ie=="string")W=[ie,ce,me,De[1]].join(" ");else switch(N.precision){case 2:W=[A(ie/255),A(ce/255),A(me/255),De[1]].join(" ");break;default:case 3:W=[E(ie/255),E(ce/255),E(me/255),De[1]].join(" ")}}else if(typeof ie=="string")W=[ie,ce,me,we,De[2]].join(" ");else switch(N.precision){case 2:W=[A(ie),A(ce),A(me),A(we),De[2]].join(" ");break;case 3:default:W=[E(ie),E(ce),E(me),E(we),De[2]].join(" ")}return W},Zs=m.__private__.getFilters=function(){return o},za=m.__private__.putStream=function(N){var W=(N=N||{}).data||"",ie=N.filters||Zs(),ce=N.alreadyAppliedFilters||[],me=N.addLength1||!1,we=W.length,De=N.objectId,We=function(En){return En};if(d!==null&&De===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(We=Pn.encryptor(De,0));var tt={};ie===!0&&(ie=["FlateEncode"]);var gt=N.additionalKeyValues||[],pt=(tt=ot.API.processDataByFilters!==void 0?ot.API.processDataByFilters(W,ie):{data:W,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(tt.data.length!==0&&(gt.push({key:"Length",value:tt.data.length}),me===!0&&gt.push({key:"Length1",value:we})),pt.length!=0)if(pt.split("/").length-1==1)gt.push({key:"Filter",value:pt});else{gt.push({key:"Filter",value:"["+pt+"]"});for(var Dt=0;Dt<gt.length;Dt+=1)if(gt[Dt].key==="DecodeParms"){for(var yr=[],Cr=0;Cr<tt.reverseChain.split("/").length-1;Cr+=1)yr.push("null");yr.push(gt[Dt].value),gt[Dt].value="["+yr.join(" ")+"]"}}se("<<");for(var Vr=0;Vr<gt.length;Vr++)se("/"+gt[Vr].key+" "+gt[Vr].value);se(">>"),tt.data.length!==0&&(se("stream"),se(We(tt.data)),se("endstream"))},ei=m.__private__.putPage=function(N){var W=N.number,ie=N.data,ce=N.objId,me=N.contentsObjId;ja(ce,!0),se("<</Type /Page"),se("/Parent "+N.rootDictionaryObjId+" 0 R"),se("/Resources "+N.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(k(N.mediaBox.bottomLeftX))+" "+parseFloat(k(N.mediaBox.bottomLeftY))+" "+k(N.mediaBox.topRightX)+" "+k(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&se("/CropBox ["+k(N.cropBox.bottomLeftX)+" "+k(N.cropBox.bottomLeftY)+" "+k(N.cropBox.topRightX)+" "+k(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&se("/BleedBox ["+k(N.bleedBox.bottomLeftX)+" "+k(N.bleedBox.bottomLeftY)+" "+k(N.bleedBox.topRightX)+" "+k(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&se("/TrimBox ["+k(N.trimBox.bottomLeftX)+" "+k(N.trimBox.bottomLeftY)+" "+k(N.trimBox.topRightX)+" "+k(N.trimBox.topRightY)+"]"),N.artBox!==null&&se("/ArtBox ["+k(N.artBox.bottomLeftX)+" "+k(N.artBox.bottomLeftY)+" "+k(N.artBox.topRightX)+" "+k(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&se("/UserUnit "+N.userUnit),Bt.publish("putPage",{objId:ce,pageContext:ht[W],pageNumber:W,page:ie}),se("/Contents "+me+" 0 R"),se(">>"),se("endobj");var we=ie.join(`
`);return S===x.ADVANCED&&(we+=`
Q`),ja(me,!0),za({data:we,filters:Zs(),objectId:me}),se("endobj"),ce},zl=m.__private__.putPages=function(){var N,W,ie=[];for(N=1;N<=kr;N++)ht[N].objId=Yr(),ht[N].contentsObjId=Yr();for(N=1;N<=kr;N++)ie.push(ei({number:N,data:xe[N],objId:ht[N].objId,contentsObjId:ht[N].contentsObjId,mediaBox:ht[N].mediaBox,cropBox:ht[N].cropBox,bleedBox:ht[N].bleedBox,trimBox:ht[N].trimBox,artBox:ht[N].artBox,userUnit:ht[N].userUnit,rootDictionaryObjId:Hi,resourceDictionaryObjId:xs}));ja(Hi,!0),se("<</Type /Pages");var ce="/Kids [";for(W=0;W<kr;W++)ce+=ie[W]+" 0 R ";se(ce+"]"),se("/Count "+kr),se(">>"),se("endobj"),Bt.publish("postPutPages")},Xc=function(N){Bt.publish("putFont",{font:N,out:se,newObject:en,putStream:za}),N.isAlreadyPutted!==!0&&(N.objectNumber=en(),se("<<"),se("/Type /Font"),se("/BaseFont /"+Lu(N.postScriptName)),se("/Subtype /Type1"),typeof N.encoding=="string"&&se("/Encoding /"+N.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Qc=function(){for(var N in Zt)Zt.hasOwnProperty(N)&&(f===!1||f===!0&&p.hasOwnProperty(N))&&Xc(Zt[N])},Jc=function(N){N.objectNumber=en();var W=[];W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Form"}),W.push({key:"BBox",value:"["+[k(N.x),k(N.y),k(N.x+N.width),k(N.y+N.height)].join(" ")+"]"}),W.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ie=N.pages[1].join(`
`);za({data:ie,additionalKeyValues:W,objectId:N.objectNumber}),se("endobj")},Zc=function(){for(var N in vn)vn.hasOwnProperty(N)&&Jc(vn[N])},Hp=function(N,W){var ie,ce=[],me=1/(W-1);for(ie=0;ie<1;ie+=me)ce.push(ie);if(ce.push(1),N[0].offset!=0){var we={offset:0,color:N[0].color};N.unshift(we)}if(N[N.length-1].offset!=1){var De={offset:1,color:N[N.length-1].color};N.push(De)}for(var We="",tt=0,gt=0;gt<ce.length;gt++){for(ie=ce[gt];ie>N[tt+1].offset;)tt++;var pt=N[tt].offset,Dt=(ie-pt)/(N[tt+1].offset-pt),yr=N[tt].color,Cr=N[tt+1].color;We+=G(Math.round((1-Dt)*yr[0]+Dt*Cr[0]).toString(16))+G(Math.round((1-Dt)*yr[1]+Dt*Cr[1]).toString(16))+G(Math.round((1-Dt)*yr[2]+Dt*Cr[2]).toString(16))}return We.trim()},qx=function(N,W){W||(W=21);var ie=en(),ce=Hp(N.colors,W),me=[];me.push({key:"FunctionType",value:"0"}),me.push({key:"Domain",value:"[0.0 1.0]"}),me.push({key:"Size",value:"["+W+"]"}),me.push({key:"BitsPerSample",value:"8"}),me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),za({data:ce,additionalKeyValues:me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ie}),se("endobj"),N.objectNumber=en(),se("<< /ShadingType "+N.type),se("/ColorSpace /DeviceRGB");var we="/Coords ["+k(parseFloat(N.coords[0]))+" "+k(parseFloat(N.coords[1]))+" ";N.type===2?we+=k(parseFloat(N.coords[2]))+" "+k(parseFloat(N.coords[3])):we+=k(parseFloat(N.coords[2]))+" "+k(parseFloat(N.coords[3]))+" "+k(parseFloat(N.coords[4]))+" "+k(parseFloat(N.coords[5])),se(we+="]"),N.matrix&&se("/Matrix ["+N.matrix.toString()+"]"),se("/Function "+ie+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},Gx=function(N,W){var ie=Yr(),ce=en();W.push({resourcesOid:ie,objectOid:ce}),N.objectNumber=ce;var me=[];me.push({key:"Type",value:"/Pattern"}),me.push({key:"PatternType",value:"1"}),me.push({key:"PaintType",value:"1"}),me.push({key:"TilingType",value:"1"}),me.push({key:"BBox",value:"["+N.boundingBox.map(k).join(" ")+"]"}),me.push({key:"XStep",value:k(N.xStep)}),me.push({key:"YStep",value:k(N.yStep)}),me.push({key:"Resources",value:ie+" 0 R"}),N.matrix&&me.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),za({data:N.stream,additionalKeyValues:me,objectId:N.objectNumber}),se("endobj")},eu=function(N){var W;for(W in zt)zt.hasOwnProperty(W)&&(zt[W]instanceof sc?qx(zt[W]):zt[W]instanceof Ku&&Gx(zt[W],N))},Yp=function(N){for(var W in N.objectNumber=en(),se("<<"),N)switch(W){case"opacity":se("/ca "+A(N[W]));break;case"stroke-opacity":se("/CA "+A(N[W]))}se(">>"),se("endobj")},Kx=function(){var N;for(N in Sr)Sr.hasOwnProperty(N)&&Yp(Sr[N])},nf=function(){for(var N in se("/XObject <<"),vn)vn.hasOwnProperty(N)&&vn[N].objectNumber>=0&&se("/"+N+" "+vn[N].objectNumber+" 0 R");Bt.publish("putXobjectDict"),se(">>")},Xx=function(){Pn.oid=en(),se("<<"),se("/Filter /Standard"),se("/V "+Pn.v),se("/R "+Pn.r),se("/U <"+Pn.toHexString(Pn.U)+">"),se("/O <"+Pn.toHexString(Pn.O)+">"),se("/P "+Pn.P),se(">>"),se("endobj")},Vp=function(){for(var N in se("/Font <<"),Zt)Zt.hasOwnProperty(N)&&(f===!1||f===!0&&p.hasOwnProperty(N))&&se("/"+N+" "+Zt[N].objectNumber+" 0 R");se(">>")},Qx=function(){if(Object.keys(zt).length>0){for(var N in se("/Shading <<"),zt)zt.hasOwnProperty(N)&&zt[N]instanceof sc&&zt[N].objectNumber>=0&&se("/"+N+" "+zt[N].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),se(">>")}},tu=function(N){if(Object.keys(zt).length>0){for(var W in se("/Pattern <<"),zt)zt.hasOwnProperty(W)&&zt[W]instanceof m.TilingPattern&&zt[W].objectNumber>=0&&zt[W].objectNumber<N&&se("/"+W+" "+zt[W].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),se(">>")}},Jx=function(){if(Object.keys(Sr).length>0){var N;for(N in se("/ExtGState <<"),Sr)Sr.hasOwnProperty(N)&&Sr[N].objectNumber>=0&&se("/"+N+" "+Sr[N].objectNumber+" 0 R");Bt.publish("putGStateDict"),se(">>")}},Lr=function(N){ja(N.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Vp(),Qx(),tu(N.objectOid),Jx(),nf(),se(">>"),se("endobj")},qp=function(){var N=[];Qc(),Kx(),Zc(),eu(N),Bt.publish("putResources"),N.forEach(Lr),Lr({resourcesOid:xs,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources")},Gp=function(){Bt.publish("putAdditionalObjects");for(var N=0;N<fe.length;N++){var W=fe[N];ja(W.objId,!0),se(W.content),se("endobj")}Bt.publish("postPutAdditionalObjects")},Kp=function(N){mr[N.fontName]=mr[N.fontName]||{},mr[N.fontName][N.fontStyle]=N.id},af=function(N,W,ie,ce,me){var we={id:"F"+(Object.keys(Zt).length+1).toString(10),postScriptName:N,fontName:W,fontStyle:ie,encoding:ce,isStandardFont:me||!1,metadata:{}};return Bt.publish("addFont",{font:we,instance:this}),Zt[we.id]=we,Kp(we),we.id},Zx=function(N){for(var W=0,ie=_e.length;W<ie;W++){var ce=af.call(this,N[W][0],N[W][1],N[W][2],_e[W][3],!0);f===!1&&(p[ce]=!0);var me=N[W][0].split("-");Kp({id:ce,fontName:me[0],fontStyle:me[1]||""})}Bt.publish("addFonts",{fonts:Zt,dictionary:mr})},ws=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(ce){var W=ce.stack||"";~W.indexOf(" at ")&&(W=W.split(" at ")[1]);var ie="Error in function "+W.split(`
`)[0].split("<")[0]+": "+ce.message;if(!lt.console)throw new Error(ie);lt.console.error(ie,ce),lt.alert&&alert(ie)}},N.foo.bar=N,N.foo},ru=function(N,W){var ie,ce,me,we,De,We,tt,gt,pt;if(me=(W=W||{}).sourceEncoding||"Unicode",De=W.outputEncoding,(W.autoencode||De)&&Zt[Nt].metadata&&Zt[Nt].metadata[me]&&Zt[Nt].metadata[me].encoding&&(we=Zt[Nt].metadata[me].encoding,!De&&Zt[Nt].encoding&&(De=Zt[Nt].encoding),!De&&we.codePages&&(De=we.codePages[0]),typeof De=="string"&&(De=we[De]),De)){for(tt=!1,We=[],ie=0,ce=N.length;ie<ce;ie++)(gt=De[N.charCodeAt(ie)])?We.push(String.fromCharCode(gt)):We.push(N[ie]),We[ie].charCodeAt(0)>>8&&(tt=!0);N=We.join("")}for(ie=N.length;tt===void 0&&ie!==0;)N.charCodeAt(ie-1)>>8&&(tt=!0),ie--;if(!tt)return N;for(We=W.noBOM?[]:[254,255],ie=0,ce=N.length;ie<ce;ie++){if((pt=(gt=N.charCodeAt(ie))>>8)>>8)throw new Error("Character at position "+ie+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(pt),We.push(gt-(pt<<8))}return String.fromCharCode.apply(void 0,We)},sa=m.__private__.pdfEscape=m.pdfEscape=function(N,W){return ru(N,W).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sf=m.__private__.beginPage=function(N){xe[++kr]=[],ht[kr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Qp(kr),ye(xe[Y])},Xp=function(N,W){var ie,ce,me;switch(r=W||r,typeof N=="string"&&(ie=g(N.toLowerCase()),Array.isArray(ie)&&(ce=ie[0],me=ie[1])),Array.isArray(N)&&(ce=N[0]*Be,me=N[1]*Be),isNaN(ce)&&(ce=a[0],me=a[1]),(ce>14400||me>14400)&&(tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),me=Math.min(14400,me)),a=[ce,me],r.substr(0,1)){case"l":me>ce&&(a=[me,ce]);break;case"p":ce>me&&(a=[me,ce])}sf(a),nm(uf),se(Ns),ff!==0&&se(ff+" J"),hf!==0&&se(hf+" j"),Bt.publish("addPage",{pageNumber:kr})},ey=function(N){N>0&&N<=kr&&(xe.splice(N,1),ht.splice(N,1),kr--,Y>kr&&(Y=kr),this.setPage(Y))},Qp=function(N){N>0&&N<=kr&&(Y=N)},ty=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return xe.length-1},Jp=function(N,W,ie){var ce,me=void 0;return ie=ie||{},N=N!==void 0?N:Zt[Nt].fontName,W=W!==void 0?W:Zt[Nt].fontStyle,ce=N.toLowerCase(),mr[ce]!==void 0&&mr[ce][W]!==void 0?me=mr[ce][W]:mr[N]!==void 0&&mr[N][W]!==void 0?me=mr[N][W]:ie.disableWarning===!1&&tr.warn("Unable to look up font label for font '"+N+"', '"+W+"'. Refer to getFontList() for available fonts."),me||ie.noFallback||(me=mr.times[W])==null&&(me=mr.times.normal),me},ry=m.__private__.putInfo=function(){var N=en(),W=function(ce){return ce};for(var ie in d!==null&&(W=Pn.encryptor(N,0)),se("<<"),se("/Producer ("+sa(W("jsPDF "+ot.version))+")"),ut)ut.hasOwnProperty(ie)&&ut[ie]&&se("/"+ie.substr(0,1).toUpperCase()+ie.substr(1)+" ("+sa(W(ut[ie]))+")");se("/CreationDate ("+sa(W(U))+")"),se(">>"),se("endobj")},of=m.__private__.putCatalog=function(N){var W=(N=N||{}).rootDictionaryObjId||Hi;switch(en(),se("<<"),se("/Type /Catalog"),se("/Pages "+W+" 0 R"),Fe||(Fe="fullwidth"),Fe){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ie=""+Fe;ie.substr(ie.length-1)==="%"&&(Fe=parseInt(Fe)/100),typeof Fe=="number"&&se("/OpenAction [3 0 R /XYZ null null "+A(Fe)+"]")}switch(xt||(xt="continuous"),xt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}ct&&se("/PageMode /"+ct),Bt.publish("putCatalog"),se(">>"),se("endobj")},ny=m.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+($+1)),se("/Root "+$+" 0 R"),se("/Info "+($-1)+" 0 R"),d!==null&&se("/Encrypt "+Pn.oid+" 0 R"),se("/ID [ <"+z+"> <"+z+"> ]"),se(">>")},ay=m.__private__.putHeader=function(){se("%PDF-"+y),se("%")},sy=m.__private__.putXRef=function(){var N="0000000000";se("xref"),se("0 "+($+1)),se("0000000000 65535 f ");for(var W=1;W<=$;W++)typeof X[W]=="function"?se((N+X[W]()).slice(-10)+" 00000 n "):X[W]!==void 0?se((N+X[W]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Yi=m.__private__.buildDocument=function(){Je(),ye(Z),Bt.publish("buildDocument"),ay(),zl(),Gp(),qp(),d!==null&&Xx(),ry(),of();var N=te;return sy(),ny(),se("startxref"),se(""+N),se("%%EOF"),ye(xe[Y]),Z.join(`
`)},nu=m.__private__.getBlob=function(N){return new Blob([Ve(N)],{type:"application/pdf"})},au=m.output=m.__private__.output=ws(function(N,W){switch(typeof(W=W||{})=="string"?W={filename:W}:W.filename=W.filename||"generated.pdf",N){case void 0:return Yi();case"save":m.save(W.filename);break;case"arraybuffer":return Ve(Yi());case"blob":return nu(Yi());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(nu(Yi()))||void 0;tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ie="",ce=Yi();try{ie=e2(ce)}catch{ie=e2(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+W.filename+";base64,"+ie;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",we=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';W.pdfObjectUrl&&(me=W.pdfObjectUrl,we="");var De='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+me+'"'+we+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(W)+");<\/script></body></html>",We=lt.open();return We!==null&&We.document.write(De),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var tt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(W.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+W.filename+'" width="500px" height="400px" /></body></html>',gt=lt.open();if(gt!==null){gt.document.write(tt);var pt=this;gt.document.documentElement.querySelector("#pdfViewer").onload=function(){gt.document.title=W.filename,gt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pt.output("bloburl"))}}return gt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",W)+'"></iframe></body></html>',yr=lt.open();if(yr!==null&&(yr.document.write(Dt),yr.document.title=W.filename),yr||typeof safari>"u")return yr;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",W);default:return null}}),Zp=function(N){return Array.isArray(Ul)===!0&&Ul.indexOf(N)>-1};switch(n){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=Zp("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Be=n}var Pn=null;oe(),V();var iy=function(N){return d!==null?Pn.encryptor(N,0):function(W){return W}},em=m.__private__.getPageInfo=m.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[N].objId,pageNumber:N,pageContext:ht[N]}},dt=m.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var W in ht)if(ht[W].objId===N)break;return em(W)},oy=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ht[Y].objId,pageNumber:Y,pageContext:ht[Y]}};m.addPage=function(){return Xp.apply(this,arguments),this},m.setPage=function(){return Qp.apply(this,arguments),ye.call(this,xe[Y]),this},m.insertPage=function(N){return this.addPage(),this.movePage(Y,N),this},m.movePage=function(N,W){var ie,ce;if(N>W){ie=xe[N],ce=ht[N];for(var me=N;me>W;me--)xe[me]=xe[me-1],ht[me]=ht[me-1];xe[W]=ie,ht[W]=ce,this.setPage(W)}else if(N<W){ie=xe[N],ce=ht[N];for(var we=N;we<W;we++)xe[we]=xe[we+1],ht[we]=ht[we+1];xe[W]=ie,ht[W]=ce,this.setPage(W)}return this},m.deletePage=function(){return ey.apply(this,arguments),this},m.__private__.text=m.text=function(N,W,ie,ce,me){var we,De,We,tt,gt,pt,Dt,yr,Cr,Vr=(ce=ce||{}).scope||this;if(typeof N=="number"&&typeof W=="number"&&(typeof ie=="string"||Array.isArray(ie))){var En=ie;ie=W,W=N,N=En}if(arguments[3]instanceof it?(D("The transform parameter of text() with a Matrix value"),Cr=me):(We=arguments[4],tt=arguments[5],wt(Dt=arguments[3])==="object"&&Dt!==null||(typeof We=="string"&&(tt=We,We=null),typeof Dt=="string"&&(tt=Dt,Dt=null),typeof Dt=="number"&&(We=Dt,Dt=null),ce={flags:Dt,angle:We,align:tt})),isNaN(W)||isNaN(ie)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Vr;var ln="",js=!1,Sa=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Wl,ni=Vr.internal.scaleFactor;function cm(nr){return nr=nr.split("	").join(Array(ce.TabLen||9).join(" ")),sa(nr,Dt)}function xf(nr){for(var ar,Or=nr.concat(),tn=[],Xi=Or.length;Xi--;)typeof(ar=Or.shift())=="string"?tn.push(ar):Array.isArray(nr)&&(ar.length===1||ar[1]===void 0&&ar[2]===void 0)?tn.push(ar[0]):tn.push([ar[0],ar[1],ar[2]]);return tn}function yf(nr,ar){var Or;if(typeof nr=="string")Or=ar(nr)[0];else if(Array.isArray(nr)){for(var tn,Xi,Df=nr.concat(),yu=[],pm=Df.length;pm--;)typeof(tn=Df.shift())=="string"?yu.push(ar(tn)[0]):Array.isArray(tn)&&typeof tn[0]=="string"&&(Xi=ar(tn[0],tn[1],tn[2]),yu.push([Xi[0],Xi[1],Xi[2]]));Or=yu}return Or}var uu=!1,bf=!0;if(typeof N=="string")uu=!0;else if(Array.isArray(N)){var wf=N.concat();De=[];for(var du,xn=wf.length;xn--;)(typeof(du=wf.shift())!="string"||Array.isArray(du)&&typeof du[0]!="string")&&(bf=!1);uu=bf}if(uu===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var fu=Ae/Vr.internal.scaleFactor,hu=fu*(Sa-1);switch(ce.baseline){case"bottom":ie-=hu;break;case"top":ie+=fu-hu;break;case"hanging":ie+=fu-2*hu;break;case"middle":ie+=fu/2-hu}if((pt=ce.maxWidth||0)>0&&(typeof N=="string"?N=Vr.splitTextToSize(N,pt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(nr,ar){return nr.concat(Vr.splitTextToSize(ar,pt))},[]))),we={text:N,x:W,y:ie,options:ce,mutex:{pdfEscape:sa,activeFontKey:Nt,fonts:Zt,activeFontSize:Ae}},Bt.publish("preProcessText",we),N=we.text,We=(ce=we.options).angle,!(Cr instanceof it)&&We&&typeof We=="number"){We*=Math.PI/180,ce.rotationDirection===0&&(We=-We),S===x.ADVANCED&&(We=-We);var pu=Math.cos(We),Nf=Math.sin(We);Cr=new it(pu,Nf,-Nf,pu,0,0)}else We&&We instanceof it&&(Cr=We);S!==x.ADVANCED||Cr||(Cr=Js),(gt=ce.charSpace||ou)!==void 0&&(ln+=k(_(gt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(yr=ce.horizontalScale)!==void 0&&(ln+=k(100*yr)+` Tz
`),ce.lang;var ia=-1,vy=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,jf=Vr.internal.getCurrentPageInfo().pageContext;switch(vy){case 0:case!1:case"fill":ia=0;break;case 1:case!0:case"stroke":ia=1;break;case 2:case"fillThenStroke":ia=2;break;case 3:case"invisible":ia=3;break;case 4:case"fillAndAddForClipping":ia=4;break;case 5:case"strokeAndAddPathForClipping":ia=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ia=6;break;case 7:case"addToPathForClipping":ia=7}var um=jf.usedRenderingMode!==void 0?jf.usedRenderingMode:-1;ia!==-1?ln+=ia+` Tr
`:um!==-1&&(ln+=`0 Tr
`),ia!==-1&&(jf.usedRenderingMode=ia),tt=ce.align||"left";var Ba,mu=Ae*Sa,dm=Vr.internal.pageSize.getWidth(),fm=Zt[Nt];gt=ce.charSpace||ou,pt=ce.maxWidth||0,Dt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var $o=[],Vl=function(nr){return Vr.getStringUnitWidth(nr,{font:fm,charSpace:gt,fontSize:Ae,doKerning:!1})*Ae/ni};if(Object.prototype.toString.call(N)==="[object Array]"){var oa;De=xf(N),tt!=="left"&&(Ba=De.map(Vl));var Vn,Uo=0;if(tt==="right"){W-=Ba[0],N=[],xn=De.length;for(var qi=0;qi<xn;qi++)qi===0?(Vn=ri(W),oa=Vi(ie)):(Vn=_(Uo-Ba[qi]),oa=-mu),N.push([De[qi],Vn,oa]),Uo=Ba[qi]}else if(tt==="center"){W-=Ba[0]/2,N=[],xn=De.length;for(var Gi=0;Gi<xn;Gi++)Gi===0?(Vn=ri(W),oa=Vi(ie)):(Vn=_((Uo-Ba[Gi])/2),oa=-mu),N.push([De[Gi],Vn,oa]),Uo=Ba[Gi]}else if(tt==="left"){N=[],xn=De.length;for(var gu=0;gu<xn;gu++)N.push(De[gu])}else if(tt==="justify"&&fm.encoding==="Identity-H"){N=[],xn=De.length,pt=pt!==0?pt:dm;for(var Ki=0,Tr=0;Tr<xn;Tr++)if(oa=Tr===0?Vi(ie):-mu,Vn=Tr===0?ri(W):Ki,Tr<xn-1){var Sf=_((pt-Ba[Tr])/(De[Tr].split(" ").length-1)),qn=De[Tr].split(" ");N.push([qn[0]+" ",Vn,oa]),Ki=0;for(var Wa=1;Wa<qn.length;Wa++){var vu=(Vl(qn[Wa-1]+" "+qn[Wa])-Vl(qn[Wa]))*ni+Sf;Wa==qn.length-1?N.push([qn[Wa],vu,0]):N.push([qn[Wa]+" ",vu,0]),Ki-=vu}}else N.push([De[Tr],Vn,oa]);N.push(["",Ki,0])}else{if(tt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],xn=De.length,pt=pt!==0?pt:dm,Tr=0;Tr<xn;Tr++)oa=Tr===0?Vi(ie):-mu,Vn=Tr===0?ri(W):0,Tr<xn-1?$o.push(k(_((pt-Ba[Tr])/(De[Tr].split(" ").length-1)))):$o.push(0),N.push([De[Tr],Vn,oa])}}var hm=typeof ce.R2L=="boolean"?ce.R2L:et;hm===!0&&(N=yf(N,function(nr,ar,Or){return[nr.split("").reverse().join(""),ar,Or]})),we={text:N,x:W,y:ie,options:ce,mutex:{pdfEscape:sa,activeFontKey:Nt,fonts:Zt,activeFontSize:Ae}},Bt.publish("postProcessText",we),N=we.text,js=we.mutex.isHex||!1;var kf=Zt[Nt].encoding;kf!=="WinAnsiEncoding"&&kf!=="StandardEncoding"||(N=yf(N,function(nr,ar,Or){return[cm(nr),ar,Or]})),De=xf(N),N=[];for(var ql,Gl,zo,Kl=0,xu=1,Xl=Array.isArray(De[0])?xu:Kl,Bo="",Cf=function(nr,ar,Or){var tn="";return Or instanceof it?(Or=typeof ce.angle=="number"?vs(Or,new it(1,0,0,1,nr,ar)):vs(new it(1,0,0,1,nr,ar),Or),S===x.ADVANCED&&(Or=vs(new it(1,0,0,-1,0,0),Or)),tn=Or.join(" ")+` Tm
`):tn=k(nr)+" "+k(ar)+` Td
`,tn},Ha=0;Ha<De.length;Ha++){switch(Bo="",Xl){case xu:zo=(js?"<":"(")+De[Ha][0]+(js?">":")"),ql=parseFloat(De[Ha][1]),Gl=parseFloat(De[Ha][2]);break;case Kl:zo=(js?"<":"(")+De[Ha]+(js?">":")"),ql=ri(W),Gl=Vi(ie)}$o!==void 0&&$o[Ha]!==void 0&&(Bo=$o[Ha]+` Tw
`),Ha===0?N.push(Bo+Cf(ql,Gl,Cr)+zo):Xl===Kl?N.push(Bo+zo):Xl===xu&&N.push(Bo+Cf(ql,Gl,Cr)+zo)}N=Xl===Kl?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Ya=`BT
/`;return Ya+=Nt+" "+Ae+` Tf
`,Ya+=k(Ae*Sa)+` TL
`,Ya+=Hl+`
`,Ya+=ln,Ya+=N,se(Ya+="ET"),p[Nt]=!0,Vr};var ly=m.__private__.clip=m.clip=function(N){return se(N==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return ly("evenodd")},m.__private__.discardPath=m.discardPath=function(){return se("n"),this};var ti=m.__private__.isValidStyle=function(N){var W=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(W=!0),W};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(N){return ti(N)&&(u=N),this};var tm=m.__private__.getStyle=m.getStyle=function(N){var W=u;switch(N){case"D":case"S":W="S";break;case"F":W="f";break;case"FD":case"DF":W="B";break;case"f":case"f*":case"B":case"B*":W=N}return W},rm=m.close=function(){return se("h"),this};m.stroke=function(){return se("S"),this},m.fill=function(N){return su("f",N),this},m.fillEvenOdd=function(N){return su("f*",N),this},m.fillStroke=function(N){return su("B",N),this},m.fillStrokeEvenOdd=function(N){return su("B*",N),this};var su=function(N,W){wt(W)==="object"?uy(W,N):se(N)},lf=function(N){N===null||S===x.ADVANCED&&N===void 0||(N=tm(N),se(N))};function cy(N,W,ie,ce,me){var we=new Ku(W||this.boundingBox,ie||this.xStep,ce||this.yStep,this.gState,me||this.matrix);we.stream=this.stream;var De=N+"$$"+this.cloneIndex+++"$$";return aa(De,we),we}var uy=function(N,W){var ie=$l[N.key],ce=zt[ie];if(ce instanceof sc)se("q"),se(dy(W)),ce.gState&&m.setGState(ce.gState),se(N.matrix.toString()+" cm"),se("/"+ie+" sh"),se("Q");else if(ce instanceof Ku){var me=new it(1,0,0,-1,0,Fo());N.matrix&&(me=me.multiply(N.matrix||Js),ie=cy.call(ce,N.key,N.boundingBox,N.xStep,N.yStep,me).id),se("q"),se("/Pattern cs"),se("/"+ie+" scn"),ce.gState&&m.setGState(ce.gState),se(W),se("Q")}},dy=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},cf=m.moveTo=function(N,W){return se(k(_(N))+" "+k(L(W))+" m"),this},Bl=m.lineTo=function(N,W){return se(k(_(N))+" "+k(L(W))+" l"),this},Io=m.curveTo=function(N,W,ie,ce,me,we){return se([k(_(N)),k(L(W)),k(_(ie)),k(L(ce)),k(_(me)),k(L(we)),"c"].join(" ")),this};m.__private__.line=m.line=function(N,W,ie,ce,me){if(isNaN(N)||isNaN(W)||isNaN(ie)||isNaN(ce)||!ti(me))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[ie-N,ce-W]],N,W,[1,1],me||"S"):this.lines([[ie-N,ce-W]],N,W,[1,1]).stroke()},m.__private__.lines=m.lines=function(N,W,ie,ce,me,we){var De,We,tt,gt,pt,Dt,yr,Cr,Vr,En,ln,js;if(typeof N=="number"&&(js=ie,ie=W,W=N,N=js),ce=ce||[1,1],we=we||!1,isNaN(W)||isNaN(ie)||!Array.isArray(N)||!Array.isArray(ce)||!ti(me)||typeof we!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(cf(W,ie),De=ce[0],We=ce[1],gt=N.length,En=W,ln=ie,tt=0;tt<gt;tt++)(pt=N[tt]).length===2?(En=pt[0]*De+En,ln=pt[1]*We+ln,Bl(En,ln)):(Dt=pt[0]*De+En,yr=pt[1]*We+ln,Cr=pt[2]*De+En,Vr=pt[3]*We+ln,En=pt[4]*De+En,ln=pt[5]*We+ln,Io(Dt,yr,Cr,Vr,En,ln));return we&&rm(),lf(me),this},m.path=function(N){for(var W=0;W<N.length;W++){var ie=N[W],ce=ie.c;switch(ie.op){case"m":cf(ce[0],ce[1]);break;case"l":Bl(ce[0],ce[1]);break;case"c":Io.apply(this,ce);break;case"h":rm()}}return this},m.__private__.rect=m.rect=function(N,W,ie,ce,me){if(isNaN(N)||isNaN(W)||isNaN(ie)||isNaN(ce)||!ti(me))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(ce=-ce),se([k(_(N)),k(L(W)),k(_(ie)),k(_(ce)),"re"].join(" ")),lf(me),this},m.__private__.triangle=m.triangle=function(N,W,ie,ce,me,we,De){if(isNaN(N)||isNaN(W)||isNaN(ie)||isNaN(ce)||isNaN(me)||isNaN(we)||!ti(De))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ie-N,ce-W],[me-ie,we-ce],[N-me,W-we]],N,W,[1,1],De,!0),this},m.__private__.roundedRect=m.roundedRect=function(N,W,ie,ce,me,we,De){if(isNaN(N)||isNaN(W)||isNaN(ie)||isNaN(ce)||isNaN(me)||isNaN(we)||!ti(De))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*ie),we=Math.min(we,.5*ce),this.lines([[ie-2*me,0],[me*We,0,me,we-we*We,me,we],[0,ce-2*we],[0,we*We,-me*We,we,-me,we],[2*me-ie,0],[-me*We,0,-me,-we*We,-me,-we],[0,2*we-ce],[0,-we*We,me*We,-we,me,-we]],N+me,W,[1,1],De,!0),this},m.__private__.ellipse=m.ellipse=function(N,W,ie,ce,me){if(isNaN(N)||isNaN(W)||isNaN(ie)||isNaN(ce)||!ti(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var we=4/3*(Math.SQRT2-1)*ie,De=4/3*(Math.SQRT2-1)*ce;return cf(N+ie,W),Io(N+ie,W-De,N+we,W-ce,N,W-ce),Io(N-we,W-ce,N-ie,W-De,N-ie,W),Io(N-ie,W+De,N-we,W+ce,N,W+ce),Io(N+we,W+ce,N+ie,W+De,N+ie,W),lf(me),this},m.__private__.circle=m.circle=function(N,W,ie,ce){if(isNaN(N)||isNaN(W)||isNaN(ie)||!ti(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,W,ie,ie,ce)},m.setFont=function(N,W,ie){return ie&&(W=I(W,ie)),Nt=Jp(N,W,{disableWarning:!1}),this};var fy=m.__private__.getFont=m.getFont=function(){return Zt[Jp.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var N,W,ie={};for(N in mr)if(mr.hasOwnProperty(N))for(W in ie[N]=[],mr[N])mr[N].hasOwnProperty(W)&&ie[N].push(W);return ie},m.addFont=function(N,W,ie,ce,me){var we=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&we.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&we.indexOf(arguments[3])==-1&&(ie=I(ie,ce)),me=me||"Identity-H",af.call(this,N,W,ie,me)};var Wl,uf=e.lineWidth||.200025,iu=m.__private__.getLineWidth=m.getLineWidth=function(){return uf},nm=m.__private__.setLineWidth=m.setLineWidth=function(N){return uf=N,se(k(_(N))+" w"),this};m.__private__.setLineDash=ot.API.setLineDash=ot.API.setLineDashPattern=function(N,W){if(N=N||[],W=W||0,isNaN(W)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ie){return k(_(ie))}).join(" "),W=k(_(W)),se("["+N+"] "+W+" d"),this};var am=m.__private__.getLineHeight=m.getLineHeight=function(){return Ae*Wl};m.__private__.getLineHeight=m.getLineHeight=function(){return Ae*Wl};var sm=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Wl=N),this},im=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Wl};sm(e.lineHeight);var ri=m.__private__.getHorizontalCoordinate=function(N){return _(N)},Vi=m.__private__.getVerticalCoordinate=function(N){return S===x.ADVANCED?N:ht[Y].mediaBox.topRightY-ht[Y].mediaBox.bottomLeftY-_(N)},hy=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(N){return k(ri(N))},Ro=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(N){return k(Vi(N))},Ns=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ys(Ns)},m.__private__.setStrokeColor=m.setDrawColor=function(N,W,ie,ce){return Ns=bs({ch1:N,ch2:W,ch3:ie,ch4:ce,pdfColorType:"draw",precision:2}),se(Ns),this};var df=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ys(df)},m.__private__.setFillColor=m.setFillColor=function(N,W,ie,ce){return df=bs({ch1:N,ch2:W,ch3:ie,ch4:ce,pdfColorType:"fill",precision:2}),se(df),this};var Hl=e.textColor||"0 g",py=m.__private__.getTextColor=m.getTextColor=function(){return ys(Hl)};m.__private__.setTextColor=m.setTextColor=function(N,W,ie,ce){return Hl=bs({ch1:N,ch2:W,ch3:ie,ch4:ce,pdfColorType:"text",precision:3}),this};var ou=e.charSpace,my=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(ou||0)};m.__private__.setCharSpace=m.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ou=N,this};var ff=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(N){var W=m.CapJoinStyles[N];if(W===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ff=W,se(W+" J"),this};var hf=0;m.__private__.setLineJoin=m.setLineJoin=function(N){var W=m.CapJoinStyles[N];if(W===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return hf=W,se(W+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(k(_(N))+" M"),this},m.GState=Rg,m.setGState=function(N){(N=typeof N=="string"?Sr[gs[N]]:om(null,N)).equals(Wi)||(se("/"+N.id+" gs"),Wi=N)};var om=function(N,W){if(!N||!gs[N]){var ie=!1;for(var ce in Sr)if(Sr.hasOwnProperty(ce)&&Sr[ce].equals(W)){ie=!0;break}if(ie)W=Sr[ce];else{var me="GS"+(Object.keys(Sr).length+1).toString(10);Sr[me]=W,W.id=me}return N&&(gs[N]=W.id),Bt.publish("addGState",W),W}};m.addGState=function(N,W){return om(N,W),this},m.saveGraphicsState=function(){return se("q"),Ks.push({key:Nt,size:Ae,color:Hl}),this},m.restoreGraphicsState=function(){se("Q");var N=Ks.pop();return Nt=N.key,Ae=N.size,Hl=N.color,Wi=null,this},m.setCurrentTransformationMatrix=function(N){return se(N.toString()+" cm"),this},m.comment=function(N){return se("#"+N),this};var lu=function(N,W){var ie=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ie},set:function(we){isNaN(we)||(ie=parseFloat(we))}});var ce=W||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(we){isNaN(we)||(ce=parseFloat(we))}});var me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return me},set:function(we){me=we.toString()}}),this},pf=function(N,W,ie,ce){lu.call(this,N,W),this.type="rect";var me=ie||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return me},set:function(De){isNaN(De)||(me=parseFloat(De))}});var we=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return we},set:function(De){isNaN(De)||(we=parseFloat(De))}}),this},mf=function(){this.page=kr,this.currentPage=Y,this.pages=xe.slice(0),this.pagesContext=ht.slice(0),this.x=_n,this.y=Lt,this.matrix=ms,this.width=Yl(Y),this.height=Fo(Y),this.outputDestination=Pe,this.id="",this.objectNumber=-1};mf.prototype.restore=function(){kr=this.page,Y=this.currentPage,ht=this.pagesContext,xe=this.pages,_n=this.x,Lt=this.y,ms=this.matrix,gf(Y,this.width),vf(Y,this.height),Pe=this.outputDestination};var lm=function(N,W,ie,ce,me){Qs.push(new mf),kr=Y=0,xe=[],_n=N,Lt=W,ms=me,sf([ie,ce])},gy=function(N){if(Xs[N])Qs.pop().restore();else{var W=new mf,ie="Xo"+(Object.keys(vn).length+1).toString(10);W.id=ie,Xs[N]=ie,vn[ie]=W,Bt.publish("addFormObject",W),Qs.pop().restore()}};for(var cu in m.beginFormObject=function(N,W,ie,ce,me){return lm(N,W,ie,ce,me),this},m.endFormObject=function(N){return gy(N),this},m.doFormObject=function(N,W){var ie=vn[Xs[N]];return se("q"),se(W.toString()+" cm"),se("/"+ie.id+" Do"),se("Q"),this},m.getFormObject=function(N){var W=vn[Xs[N]];return{x:W.x,y:W.y,width:W.width,height:W.height,matrix:W.matrix}},m.save=function(N,W){return N=N||"generated.pdf",(W=W||{}).returnPromise=W.returnPromise||!1,W.returnPromise===!1?(rc(nu(Yi()),N),typeof rc.unload=="function"&&lt.setTimeout&&setTimeout(rc.unload,911),this):new Promise(function(ie,ce){try{var me=rc(nu(Yi()),N);typeof rc.unload=="function"&&lt.setTimeout&&setTimeout(rc.unload,911),ie(me)}catch(we){ce(we.message)}})},ot.API)ot.API.hasOwnProperty(cu)&&(cu==="events"&&ot.API.events.length?function(N,W){var ie,ce,me;for(me=W.length-1;me!==-1;me--)ie=W[me][0],ce=W[me][1],N.subscribe.apply(N,[ie].concat(typeof ce=="function"?[ce]:ce))}(Bt,ot.API.events):m[cu]=ot.API[cu]);var Yl=m.getPageWidth=function(N){return(ht[N=N||Y].mediaBox.topRightX-ht[N].mediaBox.bottomLeftX)/Be},gf=m.setPageWidth=function(N,W){ht[N].mediaBox.topRightX=W*Be+ht[N].mediaBox.bottomLeftX},Fo=m.getPageHeight=function(N){return(ht[N=N||Y].mediaBox.topRightY-ht[N].mediaBox.bottomLeftY)/Be},vf=m.setPageHeight=function(N,W){ht[N].mediaBox.topRightY=W*Be+ht[N].mediaBox.bottomLeftY};return m.internal={pdfEscape:sa,getStyle:tm,getFont:fy,getFontSize:Re,getCharSpace:my,getTextColor:py,getLineHeight:am,getLineHeightFactor:im,getLineWidth:iu,write:Qe,getHorizontalCoordinate:ri,getVerticalCoordinate:Vi,getCoordinateString:hy,getVerticalCoordinateString:Ro,collections:{},newObject:en,newAdditionalObject:Kc,newObjectDeferred:Yr,newObjectDeferredBegin:ja,getFilters:Zs,putStream:za,events:Bt,scaleFactor:Be,pageSize:{getWidth:function(){return Yl(Y)},setWidth:function(N){gf(Y,N)},getHeight:function(){return Fo(Y)},setHeight:function(N){vf(Y,N)}},encryptionOptions:d,encryption:Pn,getEncryptor:iy,output:au,getNumberOfPages:ty,pages:xe,out:se,f2:A,f3:E,getPageInfo:em,getPageInfoByObjId:dt,getCurrentPageInfo:oy,getPDFVersion:v,Point:lu,Rectangle:pf,Matrix:it,hasHotfix:Zp},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Yl(Y)},set:function(N){gf(Y,N)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Fo(Y)},set:function(N){vf(Y,N)},enumerable:!0,configurable:!0}),Zx.call(m,_e),Nt="F1",Xp(a,r),Bt.publish("initialized"),m}Au.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Au.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Au.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Au.prototype.processOwnerPassword=function(e,t){return r2(t2(t).substr(0,5),e)},Au.prototype.encryptor=function(e,t){var r=t2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return r2(r,n)}},Rg.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||wt(e)!==wt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ot.API={events:[]},ot.version="2.5.2";var _r=ot.API,Kw=1,Yc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Du=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mt=function(e){return e.toFixed(2)},Zo=function(e){return e.toFixed(5)};_r.__acroform__={};var Na=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},zS=function(e){return e*Kw},ii=function(e){var t=new r_,r=Xe.internal.getHeight(e)||0,n=Xe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(mt(n)),Number(mt(r))],t},_R=_r.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},PR=_r.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},ER=_r.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Fr=_r.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return ER(e,t-1)},$r=_r.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return _R(e,t-1)},Ur=_r.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PR(e,t-1)},MR=_r.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],c=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(s+c)||0,l.upperRight_X=r(a+o)||0,l.upperRight_Y=n(s)||0,[Number(mt(l.lowerLeft_X)),Number(mt(l.lowerLeft_Y)),Number(mt(l.upperRight_X)),Number(mt(l.upperRight_Y))]},AR=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=n2(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+mt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=ii(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},n2=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var s=r,o=Xe.internal.getHeight(e)||0;o=o<0?-o:o;var c=Xe.internal.getWidth(e)||0;c=c<0?-c:c;var l=function(E,_,F){if(E+1<a.length){var L=_+" "+a[E+1][0];return e0(L,e,F).width<=c-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=e0("3",e,s).height,p=e.multiline?o-s:(o-f)/2,m=p+=2,y=0,v=0,w=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+e0(t,e,s=12).width+", FieldWidth:"+c+`
`;break}for(var g="",x=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var j=!1;if(a[S].length!==1&&w!==a[S].length-1){if((f+2)*(x+2)+2>o)continue e;g+=a[S][w],j=!0,v=S,S--}else{g=(g+=a[S][w]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var P=parseInt(S),I=l(P,g,s),k=S>=a.length-1;if(I&&!k){g+=" ",w=0;continue}if(I||k){if(k)v=P;else if(e.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>o)continue e;v=P}}for(var D="",R=y;R<=v;R++){var A=a[R];if(e.multiline){if(R===v){D+=A[w]+" ",w=(w+1)%A.length;continue}if(R===y){D+=A[A.length-1]+" ";continue}}D+=A[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=e0(D,e,s).width,e.textAlign){case"right":u=c-d-2;break;case"center":u=(c-d)/2;break;case"left":default:u=2}t+=mt(u)+" "+mt(m)+` Td
`,t+="("+Yc(D)+`) Tj
`,t+=-mt(u)+` 0 Td
`,m=-(s+2),d=0,y=j?v:v+1,x++,g=""}break}return n.text=t,n.fontSize=s,n},e0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},LR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},TR=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},OR=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),wt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},IR=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Vs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(LR)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Kw=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new n_,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&TR(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var c=n[o],l=[],u=c.Rect;if(c.Rect&&(c.Rect=MR(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Xe.createDefaultAppearanceStream(c),wt(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(l=c.getKeyValueListForStream()),c.Rect=u,c.hasAppearanceStream&&!c.appearanceStreamContent){var d=AR(c);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(c.appearanceStreamContent){var f="";for(var p in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(p)){var m=c.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var y=m[o];typeof y=="function"&&(y=y.call(a,c)),f+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,c)),f+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:c.objId}),a.internal.out("endobj")}s&&OR(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},t_=_r.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),wt(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Yc(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},v1=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Yc(n(e))+")"},yi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};yi.prototype.toString=function(){return this.objId+" 0 R"},yi.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},yi.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:t_(a,this.objId,this.scope)}):a instanceof yi?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var r_=function(){yi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Na(r_,yi);var n_=function(){yi.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Yc(r(e))+")"}},set:function(r){e=r}})};Na(n_,yi);var Vs=function e(){yi.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fr(t,3)},set:function(g){g?this.F=$r(t,3):this.F=Ur(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Fg)return;s="FieldObject"+e.FieldNum++}var g=function(x){return x};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Yc(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Kw:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Fg||this instanceof mc))return v1(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof fn?p:v1(p,this.objId,this.scope)},set:function(g){g=g.toString(),p=this instanceof fn?g:g.substr(0,1)==="("?Du(g.substr(1,g.length-2)):Du(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fn?Du(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof fn?"/"+g:g}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof fn?m:v1(m,this.objId,this.scope)},set:function(g){g=g.toString(),m=this instanceof fn?g:g.substr(0,1)==="("?Du(g.substr(1,g.length-2)):Du(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fn?Du(m.substr(1,m.length-1)):m},set:function(g){g=g.toString(),m=this instanceof fn?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(g){g=!!g,v=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(g){y=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,1)},set:function(g){g?this.Ff=$r(this.Ff,1):this.Ff=Ur(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,2)},set:function(g){g?this.Ff=$r(this.Ff,2):this.Ff=Ur(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,3)},set:function(g){g?this.Ff=$r(this.Ff,3):this.Ff=Ur(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');w=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(w){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};Na(Vs,yi);var ad=function(){Vs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return t_(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,c){c||(c=1);for(var l,u=[];l=o.exec(s);)u.push(l[c]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,18)},set:function(r){r?this.Ff=$r(this.Ff,18):this.Ff=Ur(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=$r(this.Ff,19):this.Ff=Ur(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,20)},set:function(r){r?(this.Ff=$r(this.Ff,20),t.sort()):this.Ff=Ur(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,22)},set:function(r){r?this.Ff=$r(this.Ff,22):this.Ff=Ur(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(r){r?this.Ff=$r(this.Ff,23):this.Ff=Ur(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,27)},set:function(r){r?this.Ff=$r(this.Ff,27):this.Ff=Ur(this.Ff,27)}}),this.hasAppearanceStream=!1};Na(ad,Vs);var sd=function(){ad.call(this),this.fontName="helvetica",this.combo=!1};Na(sd,ad);var id=function(){sd.call(this),this.combo=!0};Na(id,sd);var F0=function(){id.call(this),this.edit=!0};Na(F0,id);var fn=function(){Vs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,15)},set:function(r){r?this.Ff=$r(this.Ff,15):this.Ff=Ur(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,16)},set:function(r){r?this.Ff=$r(this.Ff,16):this.Ff=Ur(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,17)},set:function(r){r?this.Ff=$r(this.Ff,17):this.Ff=Ur(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(r){r?this.Ff=$r(this.Ff,26):this.Ff=Ur(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Yc(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){wt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Na(fn,Vs);var $0=function(){fn.call(this),this.pushButton=!0};Na($0,fn);var od=function(){fn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Na(od,fn);var Fg=function(){var e,t;Vs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Yc(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){wt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Xe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Na(Fg,Vs),od.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},od.prototype.createOption=function(e){var t=new Fg;return t.Parent=this,t.optionName=e,this.Kids.push(t),RR.call(this.scope,t),t};var U0=function(){fn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Xe.CheckBox.createAppearanceStream()};Na(U0,fn);var mc=function(){Vs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,13)},set:function(t){t?this.Ff=$r(this.Ff,13):this.Ff=Ur(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,21)},set:function(t){t?this.Ff=$r(this.Ff,21):this.Ff=Ur(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(t){t?this.Ff=$r(this.Ff,23):this.Ff=Ur(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,24)},set:function(t){t?this.Ff=$r(this.Ff,24):this.Ff=Ur(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,25)},set:function(t){t?this.Ff=$r(this.Ff,25):this.Ff=Ur(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(t){t?this.Ff=$r(this.Ff,26):this.Ff=Ur(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Na(mc,Vs);var z0=function(){mc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,14)},set:function(e){e?this.Ff=$r(this.Ff,14):this.Ff=Ur(this.Ff,14)}}),this.password=!0};Na(z0,mc);var Xe={CheckBox:{createAppearanceStream:function(){return{N:{On:Xe.CheckBox.YesNormal},D:{On:Xe.CheckBox.YesPushDown,Off:Xe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ii(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=n2(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+mt(Xe.internal.getWidth(e))+" "+mt(Xe.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+mt(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=ii(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=Xe.internal.getHeight(e),o=Xe.internal.getWidth(e),c=n2(e,e.caption);return a.push("1 g"),a.push("0 0 "+mt(o)+" "+mt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+mt(o-1)+" "+mt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+mt(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=ii(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mt(Xe.internal.getWidth(e))+" "+mt(Xe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Xe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Xe.RadioButton.Circle.YesNormal,t.D[e]=Xe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ii(e);t.scope=e.scope;var r=[],n=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Xe.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Zo(Xe.internal.getWidth(e)/2)+" "+Zo(Xe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ii(e);t.scope=e.scope;var r=[],n=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Xe.internal.Bezier_C).toFixed(5)),o=Number((n*Xe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zo(Xe.internal.getWidth(e)/2)+" "+Zo(Xe.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Zo(Xe.internal.getWidth(e)/2)+" "+Zo(Xe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ii(e);t.scope=e.scope;var r=[],n=Xe.internal.getWidth(e)<=Xe.internal.getHeight(e)?Xe.internal.getWidth(e)/4:Xe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Xe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Zo(Xe.internal.getWidth(e)/2)+" "+Zo(Xe.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Xe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Xe.RadioButton.Cross.YesNormal,t.D[e]=Xe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ii(e);t.scope=e.scope;var r=[],n=Xe.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+mt(Xe.internal.getWidth(e)-2)+" "+mt(Xe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(mt(n.x1.x)+" "+mt(n.x1.y)+" m"),r.push(mt(n.x2.x)+" "+mt(n.x2.y)+" l"),r.push(mt(n.x4.x)+" "+mt(n.x4.y)+" m"),r.push(mt(n.x3.x)+" "+mt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=ii(e);t.scope=e.scope;var r=Xe.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+mt(Xe.internal.getWidth(e))+" "+mt(Xe.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+mt(Xe.internal.getWidth(e)-2)+" "+mt(Xe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(mt(r.x1.x)+" "+mt(r.x1.y)+" m"),n.push(mt(r.x2.x)+" "+mt(r.x2.y)+" l"),n.push(mt(r.x4.x)+" "+mt(r.x4.y)+" m"),n.push(mt(r.x3.x)+" "+mt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ii(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+mt(Xe.internal.getWidth(e))+" "+mt(Xe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Xe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Xe.internal.getWidth(e),r=Xe.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Xe.internal.getWidth=function(e){var t=0;return wt(e)==="object"&&(t=zS(e.Rect[2])),t},Xe.internal.getHeight=function(e){var t=0;return wt(e)==="object"&&(t=zS(e.Rect[3])),t};var RR=_r.addField=function(e){if(IR(this,e),!(e instanceof Vs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};_r.AcroFormChoiceField=ad,_r.AcroFormListBox=sd,_r.AcroFormComboBox=id,_r.AcroFormEditBox=F0,_r.AcroFormButton=fn,_r.AcroFormPushButton=$0,_r.AcroFormRadioButton=od,_r.AcroFormCheckBox=U0,_r.AcroFormTextField=mc,_r.AcroFormPasswordField=z0,_r.AcroFormAppearance=Xe,_r.AcroForm={ChoiceField:ad,ListBox:sd,ComboBox:id,EditBox:F0,Button:fn,PushButton:$0,RadioButton:od,CheckBox:U0,TextField:mc,PasswordField:z0,Appearance:Xe},ot.AcroForm={ChoiceField:ad,ListBox:sd,ComboBox:id,EditBox:F0,Button:fn,PushButton:$0,RadioButton:od,CheckBox:U0,TextField:mc,PasswordField:z0,Appearance:Xe};function a_(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,_){var F,L,U,z,H,V=t;if((_=_||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(I(E))for(H in r)for(U=r[H],F=0;F<U.length;F+=1){for(z=!0,L=0;L<U[F].length;L+=1)if(U[F][L]!==void 0&&U[F][L]!==E[L]){z=!1;break}if(z===!0){V=H;break}}else for(H in r)for(U=r[H],F=0;F<U.length;F+=1){for(z=!0,L=0;L<U[F].length;L+=1)if(U[F][L]!==void 0&&U[F][L]!==E.charCodeAt(L)){z=!1;break}if(z===!0){V=H;break}}return V===t&&_!==t&&(V=_),V},a=function E(_){for(var F=this.internal.write,L=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:_.width}),z.push({key:"Height",value:_.height}),_.colorSpace===w.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===w.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var H="",V=0,ae=_.transparency.length;V<ae;V++)H+=_.transparency[V]+" "+_.transparency[V]+" ";z.push({key:"Mask",value:"["+H+"]"})}_.sMask!==void 0&&z.push({key:"SMask",value:_.objectId+1+" 0 R"});var le=_.filter!==void 0?["/"+_.filter]:void 0;if(L({data:_.data,additionalKeyValues:z,alreadyAppliedFilters:le,objectId:_.objectId}),F("endobj"),"sMask"in _&&_.sMask!==void 0){var oe="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,M={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:oe,data:_.sMask};"filter"in _&&(M.filter=_.filter),E.call(this,M)}if(_.colorSpace===w.INDEXED){var Y=this.internal.newObject();L({data:D(new Uint8Array(_.palette)),objectId:Y}),F("endobj")}},s=function(){var E=this.internal.collections.addImage_images;for(var _ in E)a.call(this,E[_])},o=function(){var E,_=this.internal.collections.addImage_images,F=this.internal.write;for(var L in _)F("/I"+(E=_[L]).index,E.objectId,"0","R")},c=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var E=this.internal.collections.addImage_images;return c.call(this),E},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return wt(E)==="object"&&E.nodeType===1},p=function(E,_){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var F=""+E.getAttribute("src");if(F.indexOf("data:image/")===0)return wh(unescape(F).split("base64,").pop());var L=e.loadFile(F,!0);if(L!==void 0)return L}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var U;switch(_){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return wh(E.toDataURL(U,1).split("base64,").pop())}},m=function(E){var _=this.internal.collections.addImage_images;if(_){for(var F in _)if(E===_[F].alias)return _[F]}},y=function(E,_,F){return E||_||(E=-96,_=-96),E<0&&(E=-1*F.width*72/E/this.internal.scaleFactor),_<0&&(_=-1*F.height*72/_/this.internal.scaleFactor),E===0&&(E=_*F.width/F.height),_===0&&(_=E*F.height/F.width),[E,_]},v=function(E,_,F,L,U,z){var H=y.call(this,F,L,U),V=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,le=l.call(this);if(F=H[0],L=H[1],le[U.index]=U,z){z*=Math.PI/180;var oe=Math.cos(z),M=Math.sin(z),Y=function(G){return G.toFixed(4)},Q=[Y(oe),Y(M),Y(-1*M),Y(oe),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,V(E),ae(_+L),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([V(F),"0","0",V(L),"0","0","cm"].join(" "))):this.internal.write([V(F),"0","0",V(L),V(E),ae(_+L),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(E){var _,F,L=0;if(typeof E=="string")for(F=E.length,_=0;_<F;_++)L=(L<<5)-L+E.charCodeAt(_),L|=0;else if(I(E))for(F=E.byteLength/2,_=0;_<F;_++)L=(L<<5)-L+E[_],L|=0;return L},S=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var _=!0;return E.length===0&&(_=!1),E.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(_=!1),_},j=e.__addimage__.extractImageFromDataUrl=function(E){var _=(E=E||"").split("base64,"),F=null;if(_.length===2){var L=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(_[0]);Array.isArray(L)&&(F={mimeType:L[1],charset:L[2],data:_[1]})}return F},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return P()&&E instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(E){return P()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(E){for(var _=E.length,F=new Uint8Array(_),L=0;L<_;L++)F[L]=E.charCodeAt(L);return F},D=e.__addimage__.arrayBufferToBinaryString=function(E){for(var _="",F=I(E)?E:new Uint8Array(E),L=0;L<F.length;L+=8192)_+=String.fromCharCode.apply(null,F.subarray(L,L+8192));return _};e.addImage=function(){var E,_,F,L,U,z,H,V,ae;if(typeof arguments[1]=="number"?(_=t,F=arguments[1],L=arguments[2],U=arguments[3],z=arguments[4],H=arguments[5],V=arguments[6],ae=arguments[7]):(_=arguments[1],F=arguments[2],L=arguments[3],U=arguments[4],z=arguments[5],H=arguments[6],V=arguments[7],ae=arguments[8]),wt(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var le=E;E=le.imageData,_=le.format||_||t,F=le.x||F||0,L=le.y||L||0,U=le.w||le.width||U,z=le.h||le.height||z,H=le.alias||H,V=le.compression||V,ae=le.rotation||le.angle||ae}var oe=this.internal.getFilters();if(V===void 0&&oe.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(F)||isNaN(L))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var M=R.call(this,E,_,H,V);return v.call(this,F,L,U,z,M,ae),this};var R=function(E,_,F,L){var U,z,H;if(typeof E=="string"&&n(E)===t){E=unescape(E);var V=A(E,!1);(V!==""||(V=e.loadFile(E,!0))!==void 0)&&(E=V)}if(f(E)&&(E=p(E,_)),_=n(E,_),!d(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((H=F)==null||H.length===0)&&(F=function(ae){return typeof ae=="string"||I(ae)?x(ae):I(ae.data)?x(ae.data):null}(E)),(U=m.call(this,F))||(P()&&(E instanceof Uint8Array||_==="RGBA"||(z=E,E=k(E))),U=this["process"+_.toUpperCase()](E,u.call(this),F,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in e.image_compression?ae:g.NONE}(L),z)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},A=e.__addimage__.convertBase64ToBinaryString=function(E,_){var F;_=typeof _!="boolean"||_;var L,U="";if(typeof E=="string"){L=(F=j(E))!==null?F.data:E;try{U=wh(L)}catch(z){if(_)throw S(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(E){var _,F,L="";if(f(E)&&(E=p(E)),typeof E=="string"&&n(E)===t&&((L=A(E,!1))===""&&(L=e.loadFile(E)||""),E=L),F=n(E),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!P()||E instanceof Uint8Array||(E=k(E)),!(_=this["process"+F.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=F,_}})(ot.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ot.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(v.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+m(g(n.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+m(g(x))+") >>",v.content=s;var S=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+c(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var I=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var c=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+a),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,c,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){c=s.maxWidth;var d=this.splitTextToSize(r,c).length;o=Math.ceil(u*d)}else c=l,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,a-u,c,o,s),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ot.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},c=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(v){var w=0,g=r,x="",S=0;for(w=0;w<v.length;w+=1)g[v.charCodeAt(w)]!==void 0?(S++,typeof(g=g[v.charCodeAt(w)])=="number"&&(x+=String.fromCharCode(g),g=r,S=0),w===v.length-1&&(g=r,x+=v.charAt(w-(S-1)),w-=S-1,S=0)):(g=r,x+=v.charAt(w-S),w-=S,S=0);return x};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var p=e.__arabicParser__.getCorrectForm=function(v,w,g){return o(v)?s(v)===!1?-1:!u(v)||!o(w)&&!o(g)||!o(g)&&c(w)||c(v)&&!o(w)||c(v)&&l(w)||c(v)&&c(w)?0:d(v)&&o(w)&&!c(w)&&o(g)&&u(g)?3:c(v)||!o(g)?1:2:-1},m=function(v){var w=0,g=0,x=0,S="",j="",P="",I=(v=v||"").split("\\s+"),k=[];for(w=0;w<I.length;w+=1){for(k.push(""),g=0;g<I[w].length;g+=1)S=I[w][g],j=I[w][g-1],P=I[w][g+1],o(S)?(x=p(S,j,P),k[w]+=x!==-1?String.fromCharCode(t[S.charCodeAt(0)][x]):S):k[w]+=S;k[w]=f(k[w])}return k.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(w)){var x=0;for(g=[],x=0;x<w.length;x+=1)Array.isArray(w[x])?g.push([m(w[x][0]),w[x][1],w[x][2]]):g.push([m(w[x])]);v=g}else v=m(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])}(ot.API),ot.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(c){s=c}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(c){o=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ot.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,v=0,w=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=u.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(S,j){return S.concat(w.splitTextToSize(j,g))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)m<(v=this.getStringUnitWidth(l[x],{font:f})*d)&&(m=v);return m!==0&&(y=l.length),{w:m/=p,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/p,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,p=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,m&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};e.table=function(l,u,d,f,p){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,y,v,w,g=[],x=[],S=[],j={},P={},I=[],k=[],D=(p=p||{}).autoSize||!1,R=p.printHeaders!==!1,A=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,E=p.margins||Object.assign({width:this.getPageWidth()},t),_=typeof p.padding=="number"?p.padding:3,F=p.headerBackgroundColor||"#c8c8c8",L=p.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=A,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=L,this.setFontSize(A),f==null)x=g=Object.keys(d[0]),S=g.map(function(){return"left"});else if(Array.isArray(f)&&wt(f[0])==="object")for(g=f.map(function(le){return le.name}),x=f.map(function(le){return le.prompt||le.name||""}),S=f.map(function(le){return le.align||"left"}),m=0;m<f.length;m+=1)P[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=g=f,S=g.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<g.length;m+=1){for(j[w=g[m]]=d.map(function(le){return le[w]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=j[w],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)I.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[w]=Math.max.apply(null,I)+_+_,I=[]}if(R){var U={};for(m=0;m<g.length;m+=1)U[g[m]]={},U[g[m]].text=x[m],U[g[m]].align=S[m];var z=c.call(this,U,P);k=g.map(function(le){return new s(l,u,P[le],z,U[le].text,void 0,U[le].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var H=f.reduce(function(le,oe){return le[oe.name]=oe.align,le},{});for(m=0;m<d.length;m+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:m,data:d[m]},this);var V=c.call(this,d[m],P);for(v=0;v<g.length;v+=1){var ae=d[m][g[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:m,col:v,data:ae},this),o.call(this,new s(l,u,P[g[v]],V,ae,m+2,H[g[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var c=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(m){var y=l[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/p+d+d},this).reduce(function(m,y){return Math.max(m,y)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,p.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}}(ot.API);var s_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},i_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],a2=a_(i_),o_=[100,200,300,400,500,600,700,800,900],FR=a_(o_);function s2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return s_[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof a2[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function BS(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var $R={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},WS={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function HS(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function UR(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},$R,r.genericFontFamilies||{}),s=null,o=null,c=0;c<t.length;++c)if(a[(s=s2(t[c])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+HS(s)+"' and default family '"+n+"'.");if(o=function(l,u){if(u[l])return u[l];var d=a2[l],f=d<=a2.normal?-1:1,p=BS(u,i_,d,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,o),o=function(l,u){if(u[l])return u[l];for(var d=s_[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=FR[l],f=BS(u,o_,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+HS(s)+"'.");return o}function YS(e){return e.trimLeft()}function zR(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function BR(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var t0,VS,qS,x1=["times"];(function(e){var t,r,n,a,s,o,c,l,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,c=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=M;Object.defineProperty(this,"pdf",{get:function(){return Y}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ye){Q=!!ye}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(ye){G=!!ye}});var $=0;Object.defineProperty(this,"posX",{get:function(){return $},set:function(ye){isNaN(ye)||($=ye)}});var X=0;Object.defineProperty(this,"posY",{get:function(){return X},set:function(ye){isNaN(ye)||(X=ye)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ye){var se;typeof ye=="number"?se=[ye,ye,ye,ye]:((se=new Array(4))[0]=ye[0],se[1]=ye.length>=2?ye[1]:se[0],se[2]=ye.length>=3?ye[2]:se[0],se[3]=ye.length>=4?ye[3]:se[1]),u.margin=se}});var Z=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Z},set:function(ye){Z=ye}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(ye){te=ye}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(ye){fe=ye}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ye){ye instanceof d&&(u=ye)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ye){u.path=ye}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(ye){xe=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var se;se=p(ye),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var se=p(ye);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var ke=null;function Pe(ye,se){if(ke===null){var Qe=function(Ve){var _e=[];return Object.keys(Ve).forEach(function(Ae){Ve[Ae].forEach(function(Fe){var Re=null;switch(Fe){case"bold":Re={family:Ae,weight:"bold"};break;case"italic":Re={family:Ae,style:"italic"};break;case"bolditalic":Re={family:Ae,weight:"bold",style:"italic"};break;case"":case"normal":Re={family:Ae}}Re!==null&&(Re.ref={name:Ae,style:Fe},_e.push(Re))})}),_e}(ye.getFontList());ke=function(Ve){for(var _e={},Ae=0;Ae<Ve.length;++Ae){var Fe=s2(Ve[Ae]),Re=Fe.family,et=Fe.stretch,ct=Fe.style,ft=Fe.weight;_e[Re]=_e[Re]||{},_e[Re][et]=_e[Re][et]||{},_e[Re][et][ct]=_e[Re][et][ct]||{},_e[Re][et][ct][ft]=Fe}return _e}(Qe.concat(se))}return ke}var Je=null;Object.defineProperty(this,"fontFaces",{get:function(){return Je},set:function(ye){ke=null,Je=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var se;if(this.ctx.font=ye,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Qe=se[1],Ve=(se[2],se[3]),_e=se[4],Ae=(se[5],se[6]),Fe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(Fe==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:Fe==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Re=function(ut){var Nt,Be,_n=[],Lt=ut.trim();if(Lt==="")return x1;if(Lt in WS)return[WS[Lt]];for(;Lt!=="";){switch(Be=null,Nt=(Lt=YS(Lt)).charAt(0)){case'"':case"'":Be=zR(Lt.substring(1),Nt);break;default:Be=BR(Lt)}if(Be===null||(_n.push(Be[0]),(Lt=YS(Be[1]))!==""&&Lt.charAt(0)!==","))return x1;Lt=Lt.replace(/^,/,"")}return _n}(Ae);if(this.fontFaces){var et=UR(Pe(this.pdf,this.fontFaces),Re.map(function(ut){return{family:ut,stretch:"normal",weight:Ve,style:Qe}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var ct="";(Ve==="bold"||parseInt(Ve,10)>=700||Qe==="bold")&&(ct="bold"),Qe==="italic"&&(ct+="italic"),ct.length===0&&(ct="normal");for(var ft="",xt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},St=0;St<Re.length;St++){if(this.pdf.internal.getFont(Re[St],ct,{noFallback:!0,disableWarning:!0})!==void 0){ft=Re[St];break}if(ct==="bolditalic"&&this.pdf.internal.getFont(Re[St],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=Re[St],ct="bold";else if(this.pdf.internal.getFont(Re[St],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=Re[St],ct="normal";break}}if(ft===""){for(var It=0;It<Re.length;It++)if(xt[Re[It]]){ft=xt[Re[It]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,ct)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,Y){if(isNaN(M)||isNaN(Y))throw tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new o(M,Y));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(M,Y)},f.prototype.closePath=function(){var M=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&wt(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){M=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},f.prototype.lineTo=function(M,Y){if(isNaN(M)||isNaN(Y))throw tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new o(M,Y));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new o(Q.x,Q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,Y,Q,G){if(isNaN(Q)||isNaN(G)||isNaN(M)||isNaN(Y))throw tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var $=this.ctx.transform.applyToPoint(new o(Q,G)),X=this.ctx.transform.applyToPoint(new o(M,Y));this.path.push({type:"qct",x1:X.x,y1:X.y,x:$.x,y:$.y}),this.ctx.lastPoint=new o($.x,$.y)},f.prototype.bezierCurveTo=function(M,Y,Q,G,$,X){if(isNaN($)||isNaN(X)||isNaN(M)||isNaN(Y)||isNaN(Q)||isNaN(G))throw tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Z=this.ctx.transform.applyToPoint(new o($,X)),te=this.ctx.transform.applyToPoint(new o(M,Y)),fe=this.ctx.transform.applyToPoint(new o(Q,G));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:fe.x,y2:fe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},f.prototype.arc=function(M,Y,Q,G,$,X){if(isNaN(M)||isNaN(Y)||isNaN(Q)||isNaN(G)||isNaN($))throw tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(X=!!X,!this.ctx.transform.isIdentity){var Z=this.ctx.transform.applyToPoint(new o(M,Y));M=Z.x,Y=Z.y;var te=this.ctx.transform.applyToPoint(new o(0,Q)),fe=this.ctx.transform.applyToPoint(new o(0,0));Q=Math.sqrt(Math.pow(te.x-fe.x,2)+Math.pow(te.y-fe.y,2))}Math.abs($-G)>=2*Math.PI&&(G=0,$=2*Math.PI),this.path.push({type:"arc",x:M,y:Y,radius:Q,startAngle:G,endAngle:$,counterclockwise:X})},f.prototype.arcTo=function(M,Y,Q,G,$){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,Y,Q,G){if(isNaN(M)||isNaN(Y)||isNaN(Q)||isNaN(G))throw tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,Y),this.lineTo(M+Q,Y),this.lineTo(M+Q,Y+G),this.lineTo(M,Y+G),this.lineTo(M,Y),this.lineTo(M+Q,Y),this.lineTo(M,Y)},f.prototype.fillRect=function(M,Y,Q,G){if(isNaN(M)||isNaN(Y)||isNaN(Q)||isNaN(G))throw tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var $={};this.lineCap!=="butt"&&($.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&($.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,Y,Q,G),this.fill(),$.hasOwnProperty("lineCap")&&(this.lineCap=$.lineCap),$.hasOwnProperty("lineJoin")&&(this.lineJoin=$.lineJoin)}},f.prototype.strokeRect=function(M,Y,Q,G){if(isNaN(M)||isNaN(Y)||isNaN(Q)||isNaN(G))throw tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,Y,Q,G),this.stroke())},f.prototype.clearRect=function(M,Y,Q,G){if(isNaN(M)||isNaN(Y)||isNaN(Q)||isNaN(G))throw tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,Y,Q,G))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(M){var Y,Q,G,$;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))Y=0,Q=0,G=0,$=0;else{var X=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(X!==null)Y=parseInt(X[1]),Q=parseInt(X[2]),G=parseInt(X[3]),$=1;else if((X=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)Y=parseInt(X[1]),Q=parseInt(X[2]),G=parseInt(X[3]),$=parseFloat(X[4]);else{if($=1,typeof M=="string"&&M.charAt(0)!=="#"){var Z=new J6(M);M=Z.ok?Z.toHex():"#000000"}M.length===4?(Y=M.substring(1,2),Y+=Y,Q=M.substring(2,3),Q+=Q,G=M.substring(3,4),G+=G):(Y=M.substring(1,3),Q=M.substring(3,5),G=M.substring(5,7)),Y=parseInt(Y,16),Q=parseInt(Q,16),G=parseInt(G,16)}}return{r:Y,g:Q,b:G,a:$,style:M}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,Y,Q,G){if(isNaN(Y)||isNaN(Q)||typeof M!="string")throw tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!m.call(this)){var $=V(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;_.call(this,{text:M,x:Y,y:Q,scale:X,angle:$,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(M,Y,Q,G){if(isNaN(Y)||isNaN(Q)||typeof M!="string")throw tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){G=isNaN(G)?void 0:G;var $=V(this.ctx.transform.rotation),X=this.ctx.transform.scaleX;_.call(this,{text:M,x:Y,y:Q,scale:X,renderingMode:"stroke",angle:$,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(M){if(typeof M!="string")throw tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,Q=this.pdf.internal.scaleFactor,G=Y.internal.getFontSize(),$=Y.getStringUnitWidth(M)*G/Y.internal.scaleFactor,X=function(Z){var te=(Z=Z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new X({width:$*=Math.round(96*Q/72*1e4)/1e4})},f.prototype.scale=function(M,Y){if(isNaN(M)||isNaN(Y))throw tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(M,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.rotate=function(M){if(isNaN(M))throw tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(M,Y){if(isNaN(M)||isNaN(Y))throw tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,M,Y);this.ctx.transform=this.ctx.transform.multiply(Q)},f.prototype.transform=function(M,Y,Q,G,$,X){if(isNaN(M)||isNaN(Y)||isNaN(Q)||isNaN(G)||isNaN($)||isNaN(X))throw tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Z=new l(M,Y,Q,G,$,X);this.ctx.transform=this.ctx.transform.multiply(Z)},f.prototype.setTransform=function(M,Y,Q,G,$,X){M=isNaN(M)?1:M,Y=isNaN(Y)?0:Y,Q=isNaN(Q)?0:Q,G=isNaN(G)?1:G,$=isNaN($)?0:$,X=isNaN(X)?0:X,this.ctx.transform=new l(M,Y,Q,G,$,X)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,Y,Q,G,$,X,Z,te,fe){var xe=this.pdf.getImageProperties(M),ke=1,Pe=1,Je=1,ye=1;G!==void 0&&te!==void 0&&(Je=te/G,ye=fe/$,ke=xe.width/G*te/G,Pe=xe.height/$*fe/$),X===void 0&&(X=Y,Z=Q,Y=0,Q=0),G!==void 0&&te===void 0&&(te=G,fe=$),G===void 0&&te===void 0&&(te=xe.width,fe=xe.height);for(var se,Qe=this.ctx.transform.decompose(),Ve=V(Qe.rotate.shx),_e=new l,Ae=(_e=(_e=(_e=_e.multiply(Qe.translate)).multiply(Qe.skew)).multiply(Qe.scale)).applyToRectangle(new c(X-Y*Je,Z-Q*ye,G*ke,$*Pe)),Fe=w.call(this,Ae),Re=[],et=0;et<Fe.length;et+=1)Re.indexOf(Fe[et])===-1&&Re.push(Fe[et]);if(S(Re),this.autoPaging)for(var ct=Re[0],ft=Re[Re.length-1],xt=ct;xt<ft+1;xt++){this.pdf.setPage(xt);var St=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],It=xt===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=xt===1?0:ut+(xt-2)*Nt;if(this.ctx.clip_path.length!==0){var _n=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(se,this.posX+this.margin[3],-Be+It+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=_n}var Lt=JSON.parse(JSON.stringify(Ae));Lt=x([Lt],this.posX+this.margin[3],-Be+It+this.ctx.prevPageLastElemOffset)[0];var ms=(xt>ct||xt<ft)&&v.call(this);ms&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],St,Nt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,Ve),ms&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,Ve)};var w=function(M,Y,Q){var G=[];Y=Y||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var $=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":G.push(Math.floor((M.y+$)/Q)+1);break;case"arc":G.push(Math.floor((M.y+$-M.radius)/Q)+1),G.push(Math.floor((M.y+$+M.radius)/Q)+1);break;case"qct":var X=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);G.push(Math.floor((X.y+$)/Q)+1),G.push(Math.floor((X.y+X.h+$)/Q)+1);break;case"bct":var Z=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);G.push(Math.floor((Z.y+$)/Q)+1),G.push(Math.floor((Z.y+Z.h+$)/Q)+1);break;case"rect":G.push(Math.floor((M.y+$)/Q)+1),G.push(Math.floor((M.y+M.h+$)/Q)+1)}for(var te=0;te<G.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<G[te];)g.call(this);return G},g=function(){var M=this.fillStyle,Y=this.strokeStyle,Q=this.font,G=this.lineCap,$=this.lineWidth,X=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=Y,this.font=Q,this.lineCap=G,this.lineWidth=$,this.lineJoin=X},x=function(M,Y,Q){for(var G=0;G<M.length;G++)switch(M[G].type){case"bct":M[G].x2+=Y,M[G].y2+=Q;case"qct":M[G].x1+=Y,M[G].y1+=Q;case"mt":case"lt":case"arc":default:M[G].x+=Y,M[G].y+=Q}return M},S=function(M){return M.sort(function(Y,Q){return Y-Q})},j=function(M,Y){for(var Q,G,$=this.fillStyle,X=this.strokeStyle,Z=this.lineCap,te=this.lineWidth,fe=Math.abs(te*this.ctx.transform.scaleX),xe=this.lineJoin,ke=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),Je=[],ye=0;ye<Pe.length;ye++)if(Pe[ye].x!==void 0)for(var se=w.call(this,Pe[ye]),Qe=0;Qe<se.length;Qe+=1)Je.indexOf(se[Qe])===-1&&Je.push(se[Qe]);for(var Ve=0;Ve<Je.length;Ve++)for(;this.pdf.internal.getNumberOfPages()<Je[Ve];)g.call(this);if(S(Je),this.autoPaging)for(var _e=Je[0],Ae=Je[Je.length-1],Fe=_e;Fe<Ae+1;Fe++){this.pdf.setPage(Fe),this.fillStyle=$,this.strokeStyle=X,this.lineCap=Z,this.lineWidth=fe,this.lineJoin=xe;var Re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=Fe===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],xt=Fe===1?0:ct+(Fe-2)*ft;if(this.ctx.clip_path.length!==0){var St=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Q,this.posX+this.margin[3],-xt+et+this.ctx.prevPageLastElemOffset),P.call(this,M,!0),this.path=St}if(G=JSON.parse(JSON.stringify(ke)),this.path=x(G,this.posX+this.margin[3],-xt+et+this.ctx.prevPageLastElemOffset),Y===!1||Fe===0){var It=(Fe>_e||Fe<Ae)&&v.call(this);It&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,ft,null).clip().discardPath()),P.call(this,M,Y),It&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=fe,P.call(this,M,Y),this.lineWidth=te;this.path=ke},P=function(M,Y){if((M!=="stroke"||Y||!y.call(this))&&(M==="stroke"||Y||!m.call(this))){for(var Q,G,$=[],X=this.path,Z=0;Z<X.length;Z++){var te=X[Z];switch(te.type){case"begin":$.push({begin:!0});break;case"close":$.push({close:!0});break;case"mt":$.push({start:te,deltas:[],abs:[]});break;case"lt":var fe=$.length;if(X[Z-1]&&!isNaN(X[Z-1].x)&&(Q=[te.x-X[Z-1].x,te.y-X[Z-1].y],fe>0)){for(;fe>=0;fe--)if($[fe-1].close!==!0&&$[fe-1].begin!==!0){$[fe-1].deltas.push(Q),$[fe-1].abs.push(te);break}}break;case"bct":Q=[te.x1-X[Z-1].x,te.y1-X[Z-1].y,te.x2-X[Z-1].x,te.y2-X[Z-1].y,te.x-X[Z-1].x,te.y-X[Z-1].y],$[$.length-1].deltas.push(Q);break;case"qct":var xe=X[Z-1].x+2/3*(te.x1-X[Z-1].x),ke=X[Z-1].y+2/3*(te.y1-X[Z-1].y),Pe=te.x+2/3*(te.x1-te.x),Je=te.y+2/3*(te.y1-te.y),ye=te.x,se=te.y;Q=[xe-X[Z-1].x,ke-X[Z-1].y,Pe-X[Z-1].x,Je-X[Z-1].y,ye-X[Z-1].x,se-X[Z-1].y],$[$.length-1].deltas.push(Q);break;case"arc":$.push({deltas:[],abs:[],arc:!0}),Array.isArray($[$.length-1].abs)&&$[$.length-1].abs.push(te)}}G=Y?null:M==="stroke"?"stroke":"fill";for(var Qe=!1,Ve=0;Ve<$.length;Ve++)if($[Ve].arc)for(var _e=$[Ve].abs,Ae=0;Ae<_e.length;Ae++){var Fe=_e[Ae];Fe.type==="arc"?D.call(this,Fe.x,Fe.y,Fe.radius,Fe.startAngle,Fe.endAngle,Fe.counterclockwise,void 0,Y,!Qe):F.call(this,Fe.x,Fe.y),Qe=!0}else if($[Ve].close===!0)this.pdf.internal.out("h"),Qe=!1;else if($[Ve].begin!==!0){var Re=$[Ve].start.x,et=$[Ve].start.y;L.call(this,$[Ve].deltas,Re,et),Qe=!0}G&&R.call(this,G),Y&&A.call(this)}},I=function(M){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-Q;case"top":return M+Y-Q;case"hanging":return M+Y-2*Q;case"middle":return M+Y/2-Q;case"ideographic":return M;case"alphabetic":default:return M}},k=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(Y,Q){this.colorStops.push([Y,Q])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(M,Y,Q,G,$,X,Z,te,fe){for(var xe=z.call(this,Q,G,$,X),ke=0;ke<xe.length;ke++){var Pe=xe[ke];ke===0&&(fe?E.call(this,Pe.x1+M,Pe.y1+Y):F.call(this,Pe.x1+M,Pe.y1+Y)),U.call(this,M,Y,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}te?A.call(this):R.call(this,Z)},R=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},A=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(M,Y){this.pdf.internal.out(r(M)+" "+n(Y)+" m")},_=function(M){var Y;switch(M.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var Q=this.pdf.getTextDimensions(M.text),G=I.call(this,M.y),$=k.call(this,G)-Q.h,X=this.ctx.transform.applyToPoint(new o(M.x,G)),Z=this.ctx.transform.decompose(),te=new l;te=(te=(te=te.multiply(Z.translate)).multiply(Z.skew)).multiply(Z.scale);for(var fe,xe,ke,Pe=this.ctx.transform.applyToRectangle(new c(M.x,G,Q.w,Q.h)),Je=te.applyToRectangle(new c(M.x,$,Q.w,Q.h)),ye=w.call(this,Je),se=[],Qe=0;Qe<ye.length;Qe+=1)se.indexOf(ye[Qe])===-1&&se.push(ye[Qe]);if(S(se),this.autoPaging)for(var Ve=se[0],_e=se[se.length-1],Ae=Ve;Ae<_e+1;Ae++){this.pdf.setPage(Ae);var Fe=Ae===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],ct=et-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],xt=ft-this.margin[3],St=Ae===1?0:Re+(Ae-2)*ct;if(this.ctx.clip_path.length!==0){var It=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(fe,this.posX+this.margin[3],-1*St+Fe),P.call(this,"fill",!0),this.path=It}var ut=x([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-St+Fe+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*M.scale),ke=this.lineWidth,this.lineWidth=ke*M.scale);var Nt=this.autoPaging!=="text";if(Nt||ut.y+ut.h<=et){if(Nt||ut.y>=Fe&&ut.x<=ft){var Be=Nt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||ft-ut.x)[0],_n=x([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-St+Fe+this.ctx.prevPageLastElemOffset)[0],Lt=Nt&&(Ae>Ve||Ae<_e)&&v.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],xt,ct,null).clip().discardPath()),this.pdf.text(Be,_n.x,_n.y,{angle:M.angle,align:Y,renderingMode:M.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else ut.y<et&&(this.ctx.prevPageLastElemOffset+=et-ut.y);M.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ke)}else M.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*M.scale),ke=this.lineWidth,this.lineWidth=ke*M.scale),this.pdf.text(M.text,X.x+this.posX,X.y+this.posY,{angle:M.angle,align:Y,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=ke)},F=function(M,Y,Q,G){Q=Q||0,G=G||0,this.pdf.internal.out(r(M+Q)+" "+n(Y+G)+" l")},L=function(M,Y,Q){return this.pdf.lines(M,Y,Q,null,null)},U=function(M,Y,Q,G,$,X,Z,te){this.pdf.internal.out([t(a(Q+M)),t(s(G+Y)),t(a($+M)),t(s(X+Y)),t(a(Z+M)),t(s(te+Y)),"c"].join(" "))},z=function(M,Y,Q,G){for(var $=2*Math.PI,X=Math.PI/2;Y>Q;)Y-=$;var Z=Math.abs(Q-Y);Z<$&&G&&(Z=$-Z);for(var te=[],fe=G?-1:1,xe=Y;Z>1e-5;){var ke=xe+fe*Math.min(Z,X);te.push(H.call(this,M,xe,ke)),Z-=Math.abs(ke-xe),xe=ke}return te},H=function(M,Y,Q){var G=(Q-Y)/2,$=M*Math.cos(G),X=M*Math.sin(G),Z=$,te=-X,fe=Z*Z+te*te,xe=fe+Z*$+te*X,ke=4/3*(Math.sqrt(2*fe*xe)-xe)/(Z*X-te*$),Pe=Z-ke*te,Je=te+ke*Z,ye=Pe,se=-Je,Qe=G+Y,Ve=Math.cos(Qe),_e=Math.sin(Qe);return{x1:M*Math.cos(Y),y1:M*Math.sin(Y),x2:Pe*Ve-Je*_e,y2:Pe*_e+Je*Ve,x3:ye*Ve-se*_e,y3:ye*_e+se*Ve,x4:M*Math.cos(Q),y4:M*Math.sin(Q)}},V=function(M){return 180*M/Math.PI},ae=function(M,Y,Q,G,$,X){var Z=M+.5*(Q-M),te=Y+.5*(G-Y),fe=$+.5*(Q-$),xe=X+.5*(G-X),ke=Math.min(M,$,Z,fe),Pe=Math.max(M,$,Z,fe),Je=Math.min(Y,X,te,xe),ye=Math.max(Y,X,te,xe);return new c(ke,Je,Pe-ke,ye-Je)},le=function(M,Y,Q,G,$,X,Z,te){var fe,xe,ke,Pe,Je,ye,se,Qe,Ve,_e,Ae,Fe,Re,et,ct=Q-M,ft=G-Y,xt=$-Q,St=X-G,It=Z-$,ut=te-X;for(xe=0;xe<41;xe++)Ve=(se=(ke=M+(fe=xe/40)*ct)+fe*((Je=Q+fe*xt)-ke))+fe*(Je+fe*($+fe*It-Je)-se),_e=(Qe=(Pe=Y+fe*ft)+fe*((ye=G+fe*St)-Pe))+fe*(ye+fe*(X+fe*ut-ye)-Qe),xe==0?(Ae=Ve,Fe=_e,Re=Ve,et=_e):(Ae=Math.min(Ae,Ve),Fe=Math.min(Fe,_e),Re=Math.max(Re,Ve),et=Math.max(et,_e));return new c(Math.round(Ae),Math.round(Fe),Math.round(Re-Ae),Math.round(et-Fe))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,Y,Q=(M=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:Y}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})(ot.API),function(e){var t=function(s){var o,c,l,u,d,f,p,m,y,v;for(c=[],l=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(v=d%85))/85)-(y=d%85))/85)-(m=d%85))/85)-(p=d%85))/85)%85,c.push(f+33,p+33,m+33,y+33,v+33)):c.push(122);return function(w,g){for(var x=g;x>0;x--)w.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},r=function(s){var o,c,l,u,d,f=String,p="length",m=255,y="charCodeAt",v="slice",w="replace";for(s[v](-2),s=s[v](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),l=[],u=0,d=(s+=o="uuuuu"[v](s[p]%5||5))[p];d>u;u+=5)c=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),l.push(m&c>>24,m&c>>16,m&c>>8,m&c);return function(g,x){for(var S=x;S>0;S--)g.pop()}(l,o[p]),f.fromCharCode.apply(f,l)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",l=0;l<s.length;l+=2)c+=String.fromCharCode("0x"+(s[l]+s[l+1]));return c},a=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return s=(o=Zb(o)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var c=0,l=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(ot.API),function(e){e.loadFile=function(t,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var c=void 0;try{c=function(l,u,d){var f=new XMLHttpRequest,p=0,m=function(y){var v=y.length,w=[],g=String.fromCharCode;for(p=0;p<v;p+=1)w.push(g(255&y.charCodeAt(p)));return w.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,s,o)}catch{}return c}(t,r,n)},e.loadImageFile=e.loadFile}(ot.API),function(e){function t(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):Gb(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):Gb(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var c=wt(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(o,c){var l=document.createElement(o);for(var u in c.className&&(l.className=c.className),c.innerHTML&&c.dompurify&&(l.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)l.style[u]=c.style[u];return l},s=function o(c){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)d!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,c(this.prop.container,l)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(c){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var m=u[p],y=m.src.find(function(v){return v.format==="truetype"});y&&l.addFont(y.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var c=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(o=o||ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,l,u){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,l,u){return this.setProgress(o?this.progress.val+o:null,c||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,c){var l=this;return this.thenCore(o,c,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(o,c,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),c&&(c=c.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(u,o,c);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(l){c=c.thenCore(l)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,ot.getPageSize=function(o,c,l){if(wt(o)==="object"){var u=o;o=u.orientation,c=u.unit||c,l=u.format||l}c=c||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+c}var m,y=0,v=0;if(p.hasOwnProperty(f))y=p[f][1]/d,v=p[f][0]/d;else try{y=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",v>y&&(m=v,v=y,y=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>v&&(m=v,v=y,y=m)}return{width:v,height:y,unit:c,k:d,orientation:o}},e.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(s2):null;var l=new s(c);return c.worker?l:l.from(o).doCallback()}}(ot.API),ot.API.addJS=function(e){return qS=e,this.internal.events.subscribe("postPutResources",function(){t0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),VS=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+qS+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t0!==void 0&&VS!==void 0&&this.internal.out("/Names <</JavaScript "+t0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],c=n.exec(o);if(c!=null){var l=c[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var p=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var c=this.count=this.count_r({count:0},o);if(c>0&&this.line("/Count "+c),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(ot.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,c){var l,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var p,m=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,v={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=m,t.indexOf(f.charCodeAt(w+1))!==-1){p=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),v={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:p,numcomponents:f.charCodeAt(w+9)};break}m=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}d={data:r,width:l.width,height:l.height,colorSpace:c,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(ot.API);var _u,r0,GS,KS,XS,WR=function(){var e,t,r;function n(s){var o,c,l,u,d,f,p,m,y,v,w,g,x,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),y=(function(){var j,P;for(P=[],j=0;j<4;++j)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(x=0;0<=v?x<v:x>v;0<=v?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":p=(w=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,w.slice(0,p)),this.text[m]=String.fromCharCode.apply(String,w.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,c=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*c,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,c;for(c=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)c.push(this.data[this.pos++]);return c},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,c=new Uint8Array(this.width*this.height*o),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,p,m,y){var v,w,g,x,S,j,P,I,k,D,R,A,E,_,F,L,U,z,H,V,ae,le=Math.ceil((u.width-f)/m),oe=Math.ceil((u.height-p)/y),M=u.width==le&&u.height==oe;for(_=o*le,A=M?c:new Uint8Array(_*oe),j=s.length,E=0,w=0;E<oe&&l<j;){switch(s[l++]){case 0:for(x=U=0;U<_;x=U+=1)A[w++]=s[l++];break;case 1:for(x=z=0;z<_;x=z+=1)v=s[l++],S=x<o?0:A[w-o],A[w++]=(v+S)%256;break;case 2:for(x=H=0;H<_;x=H+=1)v=s[l++],g=(x-x%o)/o,F=E&&A[(E-1)*_+g*o+x%o],A[w++]=(F+v)%256;break;case 3:for(x=V=0;V<_;x=V+=1)v=s[l++],g=(x-x%o)/o,S=x<o?0:A[w-o],F=E&&A[(E-1)*_+g*o+x%o],A[w++]=(v+Math.floor((S+F)/2))%256;break;case 4:for(x=ae=0;ae<_;x=ae+=1)v=s[l++],g=(x-x%o)/o,S=x<o?0:A[w-o],E===0?F=L=0:(F=A[(E-1)*_+g*o+x%o],L=g&&A[(E-1)*_+(g-1)*o+x%o]),P=S+F-L,I=Math.abs(P-S),D=Math.abs(P-F),R=Math.abs(P-L),k=I<=D&&I<=R?S:D<=R?F:L,A[w++]=(v+k)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var Y=((p+E*y)*u.width+f)*o,Q=E*_;for(x=0;x<le;x+=1){for(var G=0;G<o;G+=1)c[Y++]=A[Q++];Y+=(m-1)*o}}E++}}return s=wR(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),c},n.prototype.decodePalette=function(){var s,o,c,l,u,d,f,p,m;for(c=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+c.length),l=0,s=0,o=f=0,p=c.length;f<p;o=f+=3)u[l++]=c[o],u[l++]=c[o+1],u[l++]=c[o+2],u[l++]=(m=d[s++])!=null?m:255;return u},n.prototype.copyToImageData=function(s,o){var c,l,u,d,f,p,m,y,v,w,g;if(l=this.colors,v=null,c=this.hasAlphaChannel,this.palette.length&&(v=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),l=4,c=!0),y=(u=s.data||s).length,f=v||o,d=p=0,l===1)for(;d<y;)m=v?4*o[d/4]:p,w=f[m++],u[d++]=w,u[d++]=w,u[d++]=w,u[d++]=c?f[m++]:255,p=m;else for(;d<y;)m=v?4*o[d/4]:p,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=c?f[m++]:255,p=m},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{t=lt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var o;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,c,l,u,d,f,p,m;if(this.animation){for(m=[],c=d=0,f=(p=this.animation.frames).length;d<f;c=++d)o=p[c],l=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,u),o.imageData=l,m.push(o.image=e(l));return m}},n.prototype.renderFrame=function(s,o){var c,l,u;return c=(l=this.animation.frames)[o],u=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),c.blendOp===0&&s.clearRect(c.xOffset,c.yOffset,c.width,c.height),s.drawImage(c.image,c.xOffset,c.yOffset)},n.prototype.animate=function(s){var o,c,l,u,d,f,p=this;return c=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(o=function(){var m,y;if(m=c++%u,y=l[m],p.renderFrame(s,m),u>1&&c/u<d)return p.animation._timeout=setTimeout(o,y.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,c;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(c=o.createImageData(this.width,this.height),this.copyToImageData(c,this.decodePixels()),o.putImageData(c,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function HR(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var c=null,l=null;s&&(c=t,l=o,t+=3*o);var u=!0,d=[],f=0,p=null,m=0,y=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];f=e[t++]|e[t++]<<8,p=e[t++],!(1&v)&&(p=null),m=v>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,j=e[t++],P=j>>6&1,I=1<<(7&j)+1,k=c,D=l,R=!1;j>>7&&(R=!0,k=t,D=I,t+=3*I);var A=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}d.push({x:w,y:g,width:x,height:S,has_local_palette:R,palette_offset:k,palette_size:D,data_offset:A,data_length:t-A,transparent_index:p,interlaced:!!P,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(_){if(_<0||_>=d.length)throw new Error("Frame index out of range.");return d[_]},this.decodeAndBlitFrameBGRA=function(_,F){var L=this.frameInfo(_),U=L.width*L.height,z=new Uint8Array(U);QS(e,L.data_offset,z,U);var H=L.palette_offset,V=L.transparent_index;V===null&&(V=256);var ae=L.width,le=r-ae,oe=ae,M=4*(L.y*r+L.x),Y=4*((L.y+L.height)*r+L.x),Q=M,G=4*le;L.interlaced===!0&&(G+=4*r*7);for(var $=8,X=0,Z=z.length;X<Z;++X){var te=z[X];if(oe===0&&(oe=ae,(Q+=G)>=Y&&(G=4*le+4*r*($-1),Q=M+(ae+le)*($<<1),$>>=1)),te===V)Q+=4;else{var fe=e[H+3*te],xe=e[H+3*te+1],ke=e[H+3*te+2];F[Q++]=ke,F[Q++]=xe,F[Q++]=fe,F[Q++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(_,F){var L=this.frameInfo(_),U=L.width*L.height,z=new Uint8Array(U);QS(e,L.data_offset,z,U);var H=L.palette_offset,V=L.transparent_index;V===null&&(V=256);var ae=L.width,le=r-ae,oe=ae,M=4*(L.y*r+L.x),Y=4*((L.y+L.height)*r+L.x),Q=M,G=4*le;L.interlaced===!0&&(G+=4*r*7);for(var $=8,X=0,Z=z.length;X<Z;++X){var te=z[X];if(oe===0&&(oe=ae,(Q+=G)>=Y&&(G=4*le+4*r*($-1),Q=M+(ae+le)*($<<1),$>>=1)),te===V)Q+=4;else{var fe=e[H+3*te],xe=e[H+3*te+1],ke=e[H+3*te+2];F[Q++]=fe,F[Q++]=xe,F[Q++]=ke,F[Q++]=255}--oe}}}function QS(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,c=o+1,l=a+1,u=(1<<l)-1,d=0,f=0,p=0,m=e[t++],y=new Int32Array(4096),v=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<l)break;var w=f&u;if(f>>=l,d-=l,w!==s){if(w===o)break;for(var g=w<c?w:v,x=0,S=g;S>s;)S=y[S]>>8,++x;var j=S;if(p+x+(g!==w?1:0)>n)return void tr.log("Warning, gif stream longer than expected.");r[p++]=j;var P=p+=x;for(g!==w&&(r[p++]=j),S=g;x--;)S=y[S],r[--P]=255&S,S>>=8;v!==null&&c<4096&&(y[c++]=v<<8|j,c>=u+1&&l<12&&(++l,u=u<<1|1)),v=w}else c=o+1,u=(1<<(l=a+1))-1,v=null}return p!==n&&tr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function y1(e){var t,r,n,a,s,o=Math.floor,c=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),p=new Array(65535),m=new Array(64),y=new Array(64),v=[],w=0,g=7,x=new Array(64),S=new Array(64),j=new Array(64),P=new Array(256),I=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],A=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(M,Y){for(var Q=0,G=0,$=new Array,X=1;X<=16;X++){for(var Z=1;Z<=M[X];Z++)$[Y[G]]=[],$[Y[G]][0]=Q,$[Y[G]][1]=X,G++,Q++;Q*=2}return $}function H(M){for(var Y=M[0],Q=M[1]-1;Q>=0;)Y&1<<Q&&(w|=1<<g),Q--,--g<0&&(w==255?(V(255),V(0)):V(w),g=7,w=0)}function V(M){v.push(M)}function ae(M){V(M>>8&255),V(255&M)}function le(M,Y,Q,G,$){for(var X,Z=$[0],te=$[240],fe=function(_e,Ae){var Fe,Re,et,ct,ft,xt,St,It,ut,Nt,Be=0;for(ut=0;ut<8;++ut){Fe=_e[Be],Re=_e[Be+1],et=_e[Be+2],ct=_e[Be+3],ft=_e[Be+4],xt=_e[Be+5],St=_e[Be+6];var _n=Fe+(It=_e[Be+7]),Lt=Fe-It,ms=Re+St,Zt=Re-St,mr=et+xt,Ks=et-xt,zt=ct+ft,$l=ct-ft,Sr=_n+zt,gs=_n-zt,Wi=ms+mr,kr=ms-mr;_e[Be]=Sr+Wi,_e[Be+4]=Sr-Wi;var ht=.707106781*(kr+gs);_e[Be+2]=gs+ht,_e[Be+6]=gs-ht;var Bt=.382683433*((Sr=$l+Ks)-(kr=Zt+Lt)),Ul=.5411961*Sr+Bt,vn=1.306562965*kr+Bt,Xs=.707106781*(Wi=Ks+Zt),Qs=Lt+Xs,it=Lt-Xs;_e[Be+5]=it+Ul,_e[Be+3]=it-Ul,_e[Be+1]=Qs+vn,_e[Be+7]=Qs-vn,Be+=8}for(Be=0,ut=0;ut<8;++ut){Fe=_e[Be],Re=_e[Be+8],et=_e[Be+16],ct=_e[Be+24],ft=_e[Be+32],xt=_e[Be+40],St=_e[Be+48];var vs=Fe+(It=_e[Be+56]),Js=Fe-It,aa=Re+St,en=Re-St,Yr=et+xt,ja=et-xt,Kc=ct+ft,Hi=ct-ft,xs=vs+Kc,ys=vs-Kc,bs=aa+Yr,Zs=aa-Yr;_e[Be]=xs+bs,_e[Be+32]=xs-bs;var za=.707106781*(Zs+ys);_e[Be+16]=ys+za,_e[Be+48]=ys-za;var ei=.382683433*((xs=Hi+ja)-(Zs=en+Js)),zl=.5411961*xs+ei,Xc=1.306562965*Zs+ei,Qc=.707106781*(bs=ja+en),Jc=Js+Qc,Zc=Js-Qc;_e[Be+40]=Zc+zl,_e[Be+24]=Zc-zl,_e[Be+8]=Jc+Xc,_e[Be+56]=Jc-Xc,Be++}for(ut=0;ut<64;++ut)Nt=_e[ut]*Ae[ut],m[ut]=Nt>0?Nt+.5|0:Nt-.5|0;return m}(M,Y),xe=0;xe<64;++xe)y[k[xe]]=fe[xe];var ke=y[0]-Q;Q=y[0],ke==0?H(G[0]):(H(G[p[X=32767+ke]]),H(f[X]));for(var Pe=63;Pe>0&&y[Pe]==0;)Pe--;if(Pe==0)return H(Z),Q;for(var Je,ye=1;ye<=Pe;){for(var se=ye;y[ye]==0&&ye<=Pe;)++ye;var Qe=ye-se;if(Qe>=16){Je=Qe>>4;for(var Ve=1;Ve<=Je;++Ve)H(te);Qe&=15}X=32767+y[ye],H($[(Qe<<4)+p[X]]),H(f[X]),ye++}return Pe!=63&&H(Z),Q}function oe(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(Y){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var $=o((Q[G]*Y+50)/100);$=Math.min(Math.max($,1),255),c[k[G]]=$}for(var X=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Z=0;Z<64;Z++){var te=o((X[Z]*Y+50)/100);te=Math.min(Math.max(te,1),255),l[k[Z]]=te}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,ke=0;ke<8;ke++)for(var Pe=0;Pe<8;Pe++)u[xe]=1/(c[k[xe]]*fe[ke]*fe[Pe]*8),d[xe]=1/(l[k[xe]]*fe[ke]*fe[Pe]*8),xe++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,Y){Y&&oe(Y),v=new Array,w=0,g=7,ae(65496),ae(65504),ae(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),ae(1),ae(1),V(0),V(0),function(){ae(65499),ae(132),V(0);for(var Re=0;Re<64;Re++)V(c[Re]);V(1);for(var et=0;et<64;et++)V(l[et])}(),function(Re,et){ae(65472),ae(17),V(8),ae(et),ae(Re),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(M.width,M.height),function(){ae(65476),ae(418),V(0);for(var Re=0;Re<16;Re++)V(D[Re+1]);for(var et=0;et<=11;et++)V(R[et]);V(16);for(var ct=0;ct<16;ct++)V(A[ct+1]);for(var ft=0;ft<=161;ft++)V(E[ft]);V(1);for(var xt=0;xt<16;xt++)V(_[xt+1]);for(var St=0;St<=11;St++)V(F[St]);V(17);for(var It=0;It<16;It++)V(L[It+1]);for(var ut=0;ut<=161;ut++)V(U[ut])}(),ae(65498),ae(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var Q=0,G=0,$=0;w=0,g=7,this.encode.displayName="_encode_";for(var X,Z,te,fe,xe,ke,Pe,Je,ye,se=M.data,Qe=M.width,Ve=M.height,_e=4*Qe,Ae=0;Ae<Ve;){for(X=0;X<_e;){for(xe=_e*Ae+X,Pe=-1,Je=0,ye=0;ye<64;ye++)ke=xe+(Je=ye>>3)*_e+(Pe=4*(7&ye)),Ae+Je>=Ve&&(ke-=_e*(Ae+1+Je-Ve)),X+Pe>=_e&&(ke-=X+Pe-_e+4),Z=se[ke++],te=se[ke++],fe=se[ke++],x[ye]=(I[Z]+I[te+256>>0]+I[fe+512>>0]>>16)-128,S[ye]=(I[Z+768>>0]+I[te+1024>>0]+I[fe+1280>>0]>>16)-128,j[ye]=(I[Z+1280>>0]+I[te+1536>>0]+I[fe+1792>>0]>>16)-128;Q=le(x,u,Q,t,n),G=le(S,d,G,r,a),$=le(j,d,$,r,a),X+=32}Ae+=8}if(g>=0){var Fe=[];Fe[1]=g+1,Fe[0]=(1<<g+1)-1,H(Fe)}return ae(65497),new Uint8Array(v)},e=e||50,function(){for(var M=String.fromCharCode,Y=0;Y<256;Y++)P[Y]=M(Y)}(),t=z(D,R),r=z(_,F),n=z(A,E),a=z(L,U),function(){for(var M=1,Y=2,Q=1;Q<=15;Q++){for(var G=M;G<Y;G++)p[32767+G]=Q,f[32767+G]=[],f[32767+G][1]=Q,f[32767+G][0]=G;for(var $=-(Y-1);$<=-M;$++)p[32767+$]=Q,f[32767+$]=[],f[32767+$][1]=Q,f[32767+$][0]=Y-1+$;M<<=1,Y<<=1}}(),function(){for(var M=0;M<256;M++)I[M]=19595*M,I[M+256>>0]=38470*M,I[M+512>>0]=7471*M+32768,I[M+768>>0]=-11059*M,I[M+1024>>0]=-21709*M,I[M+1280>>0]=32768*M+8421375,I[M+1536>>0]=-27439*M,I[M+1792>>0]=-5329*M}(),oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ps(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function JS(e){function t(D){if(!D)throw Error("assert :P")}function r(D,R,A){for(var E=0;4>E;E++)if(D[R+E]!=A.charCodeAt(E))return!0;return!1}function n(D,R,A,E,_){for(var F=0;F<_;F++)D[R+F]=A[E+F]}function a(D,R,A,E){for(var _=0;_<E;_++)D[R+_]=A}function s(D){return new Int32Array(D)}function o(D,R){for(var A=[],E=0;E<D;E++)A.push(new R);return A}function c(D,R){var A=[];return function E(_,F,L){for(var U=L[F],z=0;z<U&&(_.push(L.length>F+1?[]:new R),!(L.length<F+1));z++)E(_[z],F+1,L)}(A,0,D),A}var l=function(){var D=this;function R(h,b){for(var C=1<<b-1>>>0;h&C;)C>>>=1;return C?(h&C-1)+C:h}function A(h,b,C,T,B){t(!(T%C));do h[b+(T-=C)]=B;while(0<T)}function E(h,b,C,T,B){if(t(2328>=B),512>=B)var q=s(512);else if((q=s(B))==null)return 0;return function(K,J,ee,ne,ue,ge){var ve,pe,Se=J,be=1<<ee,de=s(16),he=s(16);for(t(ue!=0),t(ne!=null),t(K!=null),t(0<ee),pe=0;pe<ue;++pe){if(15<ne[pe])return 0;++de[ne[pe]]}if(de[0]==ue)return 0;for(he[1]=0,ve=1;15>ve;++ve){if(de[ve]>1<<ve)return 0;he[ve+1]=he[ve]+de[ve]}for(pe=0;pe<ue;++pe)ve=ne[pe],0<ne[pe]&&(ge[he[ve]++]=pe);if(he[15]==1)return(ne=new _).g=0,ne.value=ge[0],A(K,Se,1,be,ne),be;var Ne,Ce=-1,je=be-1,He=0,Oe=1,at=1,$e=1<<ee;for(pe=0,ve=1,ue=2;ve<=ee;++ve,ue<<=1){if(Oe+=at<<=1,0>(at-=de[ve]))return 0;for(;0<de[ve];--de[ve])(ne=new _).g=ve,ne.value=ge[pe++],A(K,Se+He,ue,$e,ne),He=R(He,ve)}for(ve=ee+1,ue=2;15>=ve;++ve,ue<<=1){if(Oe+=at<<=1,0>(at-=de[ve]))return 0;for(;0<de[ve];--de[ve]){if(ne=new _,(He&je)!=Ce){for(Se+=$e,Ne=1<<(Ce=ve)-ee;15>Ce&&!(0>=(Ne-=de[Ce]));)++Ce,Ne<<=1;be+=$e=1<<(Ne=Ce-ee),K[J+(Ce=He&je)].g=Ne+ee,K[J+Ce].value=Se-J-Ce}ne.g=ve-ee,ne.value=ge[pe++],A(K,Se+(He>>ee),ue,$e,ne),He=R(He,ve)}}return Oe!=2*he[15]-1?0:be}(h,b,C,T,B,q)}function _(){this.value=this.g=0}function F(){this.value=this.g=0}function L(){this.G=o(5,_),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(xn,F)}function U(h,b,C,T){t(h!=null),t(b!=null),t(2147483648>T),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=b,h.pa=C,h.Jd=b,h.Yc=C+T,h.Zc=4<=T?C+T-4+1:C,X(h)}function z(h,b){for(var C=0;0<b--;)C|=te(h,128)<<b;return C}function H(h,b){var C=z(h,b);return Z(h)?-C:C}function V(h,b,C,T){var B,q=0;for(t(h!=null),t(b!=null),t(4294967288>T),h.Sb=T,h.Ra=0,h.u=0,h.h=0,4<T&&(T=4),B=0;B<T;++B)q+=b[C+B]<<8*B;h.Ra=q,h.bb=T,h.oa=b,h.pa=C}function ae(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<pu-8>>>0,++h.bb,h.u-=8;Q(h)&&(h.h=1,h.u=0)}function le(h,b){if(t(0<=b),!h.h&&b<=hu){var C=Y(h)&fu[b];return h.u+=b,ae(h),C}return h.h=1,h.u=0}function oe(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(h){return h.Ra>>>(h.u&pu-1)>>>0}function Q(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>pu}function G(h,b){h.u=b,h.h=Q(h)}function $(h){h.u>=Nf&&(t(h.u>=Nf),ae(h))}function X(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function Z(h){return z(h,1)}function te(h,b){var C=h.Ca;0>h.b&&X(h);var T=h.b,B=C*b>>>8,q=(h.I>>>T>B)+0;for(q?(C-=B,h.I-=B+1<<T>>>0):C=B+1,T=C,B=0;256<=T;)B+=8,T>>=8;return T=7^B+ia[T],h.b-=T,h.Ca=(C<<T)-1,q}function fe(h,b,C){h[b+0]=C>>24&255,h[b+1]=C>>16&255,h[b+2]=C>>8&255,h[b+3]=C>>0&255}function xe(h,b){return h[b+0]<<0|h[b+1]<<8}function ke(h,b){return xe(h,b)|h[b+2]<<16}function Pe(h,b){return xe(h,b)|xe(h,b+2)<<16}function Je(h,b){var C=1<<b;return t(h!=null),t(0<b),h.X=s(C),h.X==null?0:(h.Mb=32-b,h.Xa=b,1)}function ye(h,b){t(h!=null),t(b!=null),t(h.Xa==b.Xa),n(b.X,0,h.X,0,1<<b.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function Qe(h,b,C,T){t(C!=null),t(T!=null);var B=C[0],q=T[0];return B==0&&(B=(h*q+b/2)/b),q==0&&(q=(b*B+h/2)/h),0>=B||0>=q?0:(C[0]=B,T[0]=q,1)}function Ve(h,b){return h+(1<<b)-1>>>b}function _e(h,b){return((4278255360&h)+(4278255360&b)>>>0&4278255360)+((16711935&h)+(16711935&b)>>>0&16711935)>>>0}function Ae(h,b){D[b]=function(C,T,B,q,K,J,ee){var ne;for(ne=0;ne<K;++ne){var ue=D[h](J[ee+ne-1],B,q+ne);J[ee+ne]=_e(C[T+ne],ue)}}}function Fe(){this.ud=this.hd=this.jd=0}function Re(h,b){return((4278124286&(h^b))>>>1)+(h&b)>>>0}function et(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function ct(h,b){return et(h+(h-b+.5>>1))}function ft(h,b,C){return Math.abs(b-C)-Math.abs(h-C)}function xt(h,b,C,T,B,q,K){for(T=q[K-1],C=0;C<B;++C)q[K+C]=T=_e(h[b+C],T)}function St(h,b,C,T,B){var q;for(q=0;q<C;++q){var K=h[b+q],J=K>>8&255,ee=16711935&(ee=(ee=16711935&K)+((J<<16)+J));T[B+q]=(4278255360&K)+ee>>>0}}function It(h,b){b.jd=h>>0&255,b.hd=h>>8&255,b.ud=h>>16&255}function ut(h,b,C,T,B,q){var K;for(K=0;K<T;++K){var J=b[C+K],ee=J>>>8,ne=J,ue=255&(ue=(ue=J>>>16)+((h.jd<<24>>24)*(ee<<24>>24)>>>5));ne=255&(ne=(ne=ne+((h.hd<<24>>24)*(ee<<24>>24)>>>5))+((h.ud<<24>>24)*(ue<<24>>24)>>>5)),B[q+K]=(4278255360&J)+(ue<<16)+ne}}function Nt(h,b,C,T,B){D[b]=function(q,K,J,ee,ne,ue,ge,ve,pe){for(ee=ge;ee<ve;++ee)for(ge=0;ge<pe;++ge)ne[ue++]=B(J[T(q[K++])])},D[h]=function(q,K,J,ee,ne,ue,ge){var ve=8>>q.b,pe=q.Ea,Se=q.K[0],be=q.w;if(8>ve)for(q=(1<<q.b)-1,be=(1<<ve)-1;K<J;++K){var de,he=0;for(de=0;de<pe;++de)de&q||(he=T(ee[ne++])),ue[ge++]=B(Se[he&be]),he>>=ve}else D["VP8LMapColor"+C](ee,ne,Se,be,ue,ge,K,J,pe)}}function Be(h,b,C,T,B){for(C=b+C;b<C;){var q=h[b++];T[B++]=q>>16&255,T[B++]=q>>8&255,T[B++]=q>>0&255}}function _n(h,b,C,T,B){for(C=b+C;b<C;){var q=h[b++];T[B++]=q>>16&255,T[B++]=q>>8&255,T[B++]=q>>0&255,T[B++]=q>>24&255}}function Lt(h,b,C,T,B){for(C=b+C;b<C;){var q=(K=h[b++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;T[B++]=q,T[B++]=K}}function ms(h,b,C,T,B){for(C=b+C;b<C;){var q=(K=h[b++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;T[B++]=q,T[B++]=K}}function Zt(h,b,C,T,B){for(C=b+C;b<C;){var q=h[b++];T[B++]=q>>0&255,T[B++]=q>>8&255,T[B++]=q>>16&255}}function mr(h,b,C,T,B,q){if(q==0)for(C=b+C;b<C;)fe(T,((q=h[b++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),B+=32;else n(T,B,h,b,C)}function Ks(h,b){D[b][0]=D[h+"0"],D[b][1]=D[h+"1"],D[b][2]=D[h+"2"],D[b][3]=D[h+"3"],D[b][4]=D[h+"4"],D[b][5]=D[h+"5"],D[b][6]=D[h+"6"],D[b][7]=D[h+"7"],D[b][8]=D[h+"8"],D[b][9]=D[h+"9"],D[b][10]=D[h+"10"],D[b][11]=D[h+"11"],D[b][12]=D[h+"12"],D[b][13]=D[h+"13"],D[b][14]=D[h+"0"],D[b][15]=D[h+"0"]}function zt(h){return h==by||h==wy||h==bm||h==Ny}function $l(){this.eb=[],this.size=this.A=this.fb=0}function Sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function gs(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new $l,this.f.kb=new Sr,this.sd=null}function Wi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function kr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ht(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Bt(h,b){var C=h.T,T=b.ba.f.RGBA,B=T.eb,q=T.fb+h.ka*T.A,K=qa[b.ba.S],J=h.y,ee=h.O,ne=h.f,ue=h.N,ge=h.ea,ve=h.W,pe=b.cc,Se=b.dc,be=b.Mc,de=b.Nc,he=h.ka,Ne=h.ka+h.T,Ce=h.U,je=Ce+1>>1;for(he==0?K(J,ee,null,null,ne,ue,ge,ve,ne,ue,ge,ve,B,q,null,null,Ce):(K(b.ec,b.fc,J,ee,pe,Se,be,de,ne,ue,ge,ve,B,q-T.A,B,q,Ce),++C);he+2<Ne;he+=2)pe=ne,Se=ue,be=ge,de=ve,ue+=h.Rc,ve+=h.Rc,q+=2*T.A,K(J,(ee+=2*h.fa)-h.fa,J,ee,pe,Se,be,de,ne,ue,ge,ve,B,q-T.A,B,q,Ce);return ee+=h.fa,h.j+Ne<h.o?(n(b.ec,b.fc,J,ee,Ce),n(b.cc,b.dc,ne,ue,je),n(b.Mc,b.Nc,ge,ve,je),C--):1&Ne||K(J,ee,null,null,ne,ue,ge,ve,ne,ue,ge,ve,B,q+T.A,null,null,Ce),C}function Ul(h,b,C){var T=h.F,B=[h.J];if(T!=null){var q=h.U,K=b.ba.S,J=K==ym||K==bm;b=b.ba.f.RGBA;var ee=[0],ne=h.ka;ee[0]=h.T,h.Kb&&(ne==0?--ee[0]:(--ne,B[0]-=h.width),h.j+h.ka+h.T==h.o&&(ee[0]=h.o-h.j-ne));var ue=b.eb;ne=b.fb+ne*b.A,h=ar(T,B[0],h.width,q,ee,ue,ne+(J?0:3),b.A),t(C==ee),h&&zt(K)&&Ya(ue,ne,J,q,ee,b.A)}return 0}function vn(h){var b=h.ma,C=b.ba.S,T=11>C,B=C==vm||C==xm||C==ym||C==yy||C==12||zt(C);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!bf(b.Oa,h,B?11:12))return 0;if(B&&zt(C)&&De(),h.da)alert("todo:use_scaling");else{if(T){if(b.Ib=ht,h.Kb){if(C=h.U+1>>1,b.memory=s(h.U+2*C),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+h.U,b.Mc=b.cc,b.Nc=b.dc+C,b.Ib=Bt,De()}}else alert("todo:EmitYUV");B&&(b.Jb=Ul,T&&me())}if(T&&!FN){for(h=0;256>h;++h)yA[h]=89858*(h-128)+Nm>>wm,NA[h]=-22014*(h-128)+Nm,wA[h]=-45773*(h-128),bA[h]=113618*(h-128)+Nm>>wm;for(h=Pf;h<ky;++h)b=76283*(h-16)+Nm>>wm,jA[h-Pf]=Sa(b,255),SA[h-Pf]=Sa(b+8>>4,15);FN=1}return 1}function Xs(h){var b=h.ma,C=h.U,T=h.T;return t(!(1&h.ka)),0>=C||0>=T?0:(C=b.Ib(h,b),b.Jb!=null&&b.Jb(h,b,C),b.Dc+=C,1)}function Qs(h){h.ma.memory=null}function it(h,b,C,T){return le(h,8)!=47?0:(b[0]=le(h,14)+1,C[0]=le(h,14)+1,T[0]=le(h,1),le(h,3)!=0?0:!h.h)}function vs(h,b){if(4>h)return h+1;var C=h-2>>1;return(2+(1&h)<<C)+le(b,C)+1}function Js(h,b){return 120<b?b-120:1<=(C=((C=sA[b-1])>>4)*h+(8-(15&C)))?C:1;var C}function aa(h,b,C){var T=Y(C),B=h[b+=255&T].g-8;return 0<B&&(G(C,C.u+8),T=Y(C),b+=h[b].value,b+=T&(1<<B)-1),G(C,C.u+h[b].g),h[b].value}function en(h,b,C){return C.g+=h.g,C.value+=h.value<<b>>>0,t(8>=C.g),h.g}function Yr(h,b,C){var T=h.xc;return t((b=T==0?0:h.vc[h.md*(C>>T)+(b>>T)])<h.Wb),h.Ya[b]}function ja(h,b,C,T){var B=h.ab,q=h.c*b,K=h.C;b=K+b;var J=C,ee=T;for(T=h.Ta,C=h.Ua;0<B--;){var ne=h.gc[B],ue=K,ge=b,ve=J,pe=ee,Se=(ee=T,J=C,ne.Ea);switch(t(ue<ge),t(ge<=ne.nc),ne.hc){case 2:um(ve,pe,(ge-ue)*Se,ee,J);break;case 0:var be=ue,de=ge,he=ee,Ne=J,Ce=($e=ne).Ea;be==0&&(vy(ve,pe,null,null,1,he,Ne),xt(ve,pe+1,0,0,Ce-1,he,Ne+1),pe+=Ce,Ne+=Ce,++be);for(var je=1<<$e.b,He=je-1,Oe=Ve(Ce,$e.b),at=$e.K,$e=$e.w+(be>>$e.b)*Oe;be<de;){var Rt=at,Ht=$e,Pt=1;for(jf(ve,pe,he,Ne-Ce,1,he,Ne);Pt<Ce;){var kt=(Pt&~He)+je;kt>Ce&&(kt=Ce),(0,$o[Rt[Ht++]>>8&15])(ve,pe+ +Pt,he,Ne+Pt-Ce,kt-Pt,he,Ne+Pt),Pt=kt}pe+=Ce,Ne+=Ce,++be&He||($e+=Oe)}ge!=ne.nc&&n(ee,J-Se,ee,J+(ge-ue-1)*Se,Se);break;case 1:for(Se=ve,de=pe,Ce=(ve=ne.Ea)-(Ne=ve&~(he=(pe=1<<ne.b)-1)),be=Ve(ve,ne.b),je=ne.K,ne=ne.w+(ue>>ne.b)*be;ue<ge;){for(He=je,Oe=ne,at=new Fe,$e=de+Ne,Rt=de+ve;de<$e;)It(He[Oe++],at),Vl(at,Se,de,pe,ee,J),de+=pe,J+=pe;de<Rt&&(It(He[Oe++],at),Vl(at,Se,de,Ce,ee,J),de+=Ce,J+=Ce),++ue&he||(ne+=be)}break;case 3:if(ve==ee&&pe==J&&0<ne.b){for(de=ee,ve=Se=J+(ge-ue)*Se-(Ne=(ge-ue)*Ve(ne.Ea,ne.b)),pe=ee,he=J,be=[],Ne=(Ce=Ne)-1;0<=Ne;--Ne)be[Ne]=pe[he+Ne];for(Ne=Ce-1;0<=Ne;--Ne)de[ve+Ne]=be[Ne];Ba(ne,ue,ge,ee,Se,ee,J)}else Ba(ne,ue,ge,ve,pe,ee,J)}J=T,ee=C}ee!=C&&n(T,C,J,ee,q)}function Kc(h,b){var C=h.V,T=h.Ba+h.c*h.C,B=b-h.C;if(t(b<=h.l.o),t(16>=B),0<B){var q=h.l,K=h.Ta,J=h.Ua,ee=q.width;if(ja(h,B,C,T),B=J=[J],t((C=h.C)<(T=b)),t(q.v<q.va),T>q.o&&(T=q.o),C<q.j){var ne=q.j-C;C=q.j,B[0]+=ne*ee}if(C>=T?C=0:(B[0]+=4*q.v,q.ka=C-q.j,q.U=q.va-q.v,q.T=T-C,C=1),C){if(J=J[0],11>(C=h.ca).S){var ue=C.f.RGBA,ge=(T=C.S,B=q.U,q=q.T,ne=ue.eb,ue.A),ve=q;for(ue=ue.fb+h.Ma*ue.A;0<ve--;){var pe=K,Se=J,be=B,de=ne,he=ue;switch(T){case gm:oa(pe,Se,be,de,he);break;case vm:Vn(pe,Se,be,de,he);break;case by:Vn(pe,Se,be,de,he),Ya(de,he,0,be,1,0);break;case _N:Gi(pe,Se,be,de,he);break;case xm:mr(pe,Se,be,de,he,1);break;case wy:mr(pe,Se,be,de,he,1),Ya(de,he,0,be,1,0);break;case ym:mr(pe,Se,be,de,he,0);break;case bm:mr(pe,Se,be,de,he,0),Ya(de,he,1,be,1,0);break;case yy:Uo(pe,Se,be,de,he);break;case Ny:Uo(pe,Se,be,de,he),nr(de,he,be,1,0);break;case PN:qi(pe,Se,be,de,he);break;default:t(0)}J+=ee,ue+=ge}h.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=C.height)}}h.C=b,t(h.C<=h.i)}function Hi(h){var b;if(0<h.ua)return 0;for(b=0;b<h.Wb;++b){var C=h.Ya[b].G,T=h.Ya[b].H;if(0<C[1][T[1]+0].g||0<C[2][T[2]+0].g||0<C[3][T[3]+0].g)return 0}return 1}function xs(h,b,C,T,B,q){if(h.Z!=0){var K=h.qd,J=h.rd;for(t(Ho[h.Z]!=null);b<C;++b)Ho[h.Z](K,J,T,B,T,B,q),K=T,J=B,B+=q;h.qd=K,h.rd=J}}function ys(h,b){var C=h.l.ma,T=C.Z==0||C.Z==1?h.l.j:h.C;if(T=h.C<T?T:h.C,t(b<=h.l.o),b>T){var B=h.l.width,q=C.ca,K=C.tb+B*T,J=h.V,ee=h.Ba+h.c*T,ne=h.gc;t(h.ab==1),t(ne[0].hc==3),dm(ne[0],T,b,J,ee,q,K),xs(C,T,b,q,K,B)}h.C=h.Ma=b}function bs(h,b,C,T,B,q,K){var J=h.$/T,ee=h.$%T,ne=h.m,ue=h.s,ge=C+h.$,ve=ge;B=C+T*B;var pe=C+T*q,Se=280+ue.ua,be=h.Pb?J:16777216,de=0<ue.ua?ue.Wa:null,he=ue.wc,Ne=ge<pe?Yr(ue,ee,J):null;t(h.C<q),t(pe<=B);var Ce=!1;e:for(;;){for(;Ce||ge<pe;){var je=0;if(J>=be){var He=ge-C;t((be=h).Pb),be.wd=be.m,be.xd=He,0<be.s.ua&&ye(be.s.Wa,be.s.vb),be=J+oA}if(ee&he||(Ne=Yr(ue,ee,J)),t(Ne!=null),Ne.Qb&&(b[ge]=Ne.qb,Ce=!0),!Ce)if($(ne),Ne.jc){je=ne,He=b;var Oe=ge,at=Ne.pd[Y(je)&xn-1];t(Ne.jc),256>at.g?(G(je,je.u+at.g),He[Oe]=at.value,je=0):(G(je,je.u+at.g-256),t(256<=at.value),je=at.value),je==0&&(Ce=!0)}else je=aa(Ne.G[0],Ne.H[0],ne);if(ne.h)break;if(Ce||256>je){if(!Ce)if(Ne.nd)b[ge]=(Ne.qb|je<<8)>>>0;else{if($(ne),Ce=aa(Ne.G[1],Ne.H[1],ne),$(ne),He=aa(Ne.G[2],Ne.H[2],ne),Oe=aa(Ne.G[3],Ne.H[3],ne),ne.h)break;b[ge]=(Oe<<24|Ce<<16|je<<8|He)>>>0}if(Ce=!1,++ge,++ee>=T&&(ee=0,++J,K!=null&&J<=q&&!(J%16)&&K(h,J),de!=null))for(;ve<ge;)je=b[ve++],de.X[(506832829*je&4294967295)>>>de.Mb]=je}else if(280>je){if(je=vs(je-256,ne),He=aa(Ne.G[4],Ne.H[4],ne),$(ne),He=Js(T,He=vs(He,ne)),ne.h)break;if(ge-C<He||B-ge<je)break e;for(Oe=0;Oe<je;++Oe)b[ge+Oe]=b[ge+Oe-He];for(ge+=je,ee+=je;ee>=T;)ee-=T,++J,K!=null&&J<=q&&!(J%16)&&K(h,J);if(t(ge<=B),ee&he&&(Ne=Yr(ue,ee,J)),de!=null)for(;ve<ge;)je=b[ve++],de.X[(506832829*je&4294967295)>>>de.Mb]=je}else{if(!(je<Se))break e;for(Ce=je-280,t(de!=null);ve<ge;)je=b[ve++],de.X[(506832829*je&4294967295)>>>de.Mb]=je;je=ge,t(!(Ce>>>(He=de).Xa)),b[je]=He.X[Ce],Ce=!0}Ce||t(ne.h==Q(ne))}if(h.Pb&&ne.h&&ge<B)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ye(h.s.vb,h.s.Wa);else{if(ne.h)break e;K!=null&&K(h,J>q?q:J),h.a=0,h.$=ge-C}return 1}return h.a=3,0}function Zs(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var b=h.Wa;b!=null&&(b.X=null),h.vb=null,t(h!=null)}function za(){var h=new gy;return h==null?null:(h.a=0,h.xb=AN,Ks("Predictor","VP8LPredictors"),Ks("Predictor","VP8LPredictors_C"),Ks("PredictorAdd","VP8LPredictorsAdd"),Ks("PredictorAdd","VP8LPredictorsAdd_C"),um=St,Vl=ut,oa=Be,Vn=_n,Uo=Lt,qi=ms,Gi=Zt,D.VP8LMapColor32b=mu,D.VP8LMapColor8b=fm,h)}function ei(h,b,C,T,B){var q=1,K=[h],J=[b],ee=T.m,ne=T.s,ue=null,ge=0;e:for(;;){if(C)for(;q&&le(ee,1);){var ve=K,pe=J,Se=T,be=1,de=Se.m,he=Se.gc[Se.ab],Ne=le(de,2);if(Se.Oc&1<<Ne)q=0;else{switch(Se.Oc|=1<<Ne,he.hc=Ne,he.Ea=ve[0],he.nc=pe[0],he.K=[null],++Se.ab,t(4>=Se.ab),Ne){case 0:case 1:he.b=le(de,3)+2,be=ei(Ve(he.Ea,he.b),Ve(he.nc,he.b),0,Se,he.K),he.K=he.K[0];break;case 3:var Ce,je=le(de,8)+1,He=16<je?0:4<je?1:2<je?2:3;if(ve[0]=Ve(he.Ea,He),he.b=He,Ce=be=ei(je,1,0,Se,he.K)){var Oe,at=je,$e=he,Rt=1<<(8>>$e.b),Ht=s(Rt);if(Ht==null)Ce=0;else{var Pt=$e.K[0],kt=$e.w;for(Ht[0]=$e.K[0][0],Oe=1;Oe<1*at;++Oe)Ht[Oe]=_e(Pt[kt+Oe],Ht[Oe-1]);for(;Oe<4*Rt;++Oe)Ht[Oe]=0;$e.K[0]=null,$e.K[0]=Ht,Ce=1}}be=Ce;break;case 2:break;default:t(0)}q=be}}if(K=K[0],J=J[0],q&&le(ee,1)&&!(q=1<=(ge=le(ee,4))&&11>=ge)){T.a=3;break e}var er;if(er=q)t:{var Qt,vt,qr,la=T,Gr=K,ca=J,Yt=ge,Ca=C,Da=la.m,cn=la.s,yn=[null],Gn=1,Ga=0,ai=iA[Yt];r:for(;;){if(Ca&&le(Da,1)){var un=le(Da,3)+2,Ji=Ve(Gr,un),Ql=Ve(ca,un),bu=Ji*Ql;if(!ei(Ji,Ql,0,la,yn))break r;for(yn=yn[0],cn.xc=un,Qt=0;Qt<bu;++Qt){var Yo=yn[Qt]>>8&65535;yn[Qt]=Yo,Yo>=Gn&&(Gn=Yo+1)}}if(Da.h)break r;for(vt=0;5>vt;++vt){var Dr=EN[vt];!vt&&0<Yt&&(Dr+=1<<Yt),Ga<Dr&&(Ga=Dr)}var Cy=o(Gn*ai,_),zN=Gn,BN=o(zN,L);if(BN==null)var Sm=null;else t(65536>=zN),Sm=BN;var Ef=s(Ga);if(Sm==null||Ef==null||Cy==null){la.a=1;break r}var km=Cy;for(Qt=qr=0;Qt<Gn;++Qt){var ks=Sm[Qt],wu=ks.G,Nu=ks.H,WN=0,Cm=1,HN=0;for(vt=0;5>vt;++vt){Dr=EN[vt],wu[vt]=km,Nu[vt]=qr,!vt&&0<Yt&&(Dr+=1<<Yt);a:{var Dm,Dy=Dr,_m=la,Mf=Ef,DA=km,_A=qr,_y=0,Vo=_m.m,PA=le(Vo,1);if(a(Mf,0,0,Dy),PA){var EA=le(Vo,1)+1,MA=le(Vo,1),YN=le(Vo,MA==0?1:8);Mf[YN]=1,EA==2&&(Mf[YN=le(Vo,8)]=1);var Pm=1}else{var VN=s(19),qN=le(Vo,4)+4;if(19<qN){_m.a=3;var Em=0;break a}for(Dm=0;Dm<qN;++Dm)VN[aA[Dm]]=le(Vo,3);var Py=void 0,Af=void 0,GN=_m,AA=VN,Mm=Dy,KN=Mf,Ey=0,qo=GN.m,XN=8,QN=o(128,_);n:for(;E(QN,0,7,AA,19);){if(le(qo,1)){var LA=2+2*le(qo,3);if((Py=2+le(qo,LA))>Mm)break n}else Py=Mm;for(Af=0;Af<Mm&&Py--;){$(qo);var JN=QN[0+(127&Y(qo))];G(qo,qo.u+JN.g);var ju=JN.value;if(16>ju)KN[Af++]=ju,ju!=0&&(XN=ju);else{var TA=ju==16,ZN=ju-16,OA=rA[ZN],ej=le(qo,tA[ZN])+OA;if(Af+ej>Mm)break n;for(var IA=TA?XN:0;0<ej--;)KN[Af++]=IA}}Ey=1;break n}Ey||(GN.a=3),Pm=Ey}(Pm=Pm&&!Vo.h)&&(_y=E(DA,_A,8,Mf,Dy)),Pm&&_y!=0?Em=_y:(_m.a=3,Em=0)}if(Em==0)break r;if(Cm&&nA[vt]==1&&(Cm=km[qr].g==0),WN+=km[qr].g,qr+=Em,3>=vt){var Lf,My=Ef[0];for(Lf=1;Lf<Dr;++Lf)Ef[Lf]>My&&(My=Ef[Lf]);HN+=My}}if(ks.nd=Cm,ks.Qb=0,Cm&&(ks.qb=(wu[3][Nu[3]+0].value<<24|wu[1][Nu[1]+0].value<<16|wu[2][Nu[2]+0].value)>>>0,WN==0&&256>wu[0][Nu[0]+0].value&&(ks.Qb=1,ks.qb+=wu[0][Nu[0]+0].value<<8)),ks.jc=!ks.Qb&&6>HN,ks.jc){var Am,Zi=ks;for(Am=0;Am<xn;++Am){var Go=Am,Ko=Zi.pd[Go],Lm=Zi.G[0][Zi.H[0]+Go];256<=Lm.value?(Ko.g=Lm.g+256,Ko.value=Lm.value):(Ko.g=0,Ko.value=0,Go>>=en(Lm,8,Ko),Go>>=en(Zi.G[1][Zi.H[1]+Go],16,Ko),Go>>=en(Zi.G[2][Zi.H[2]+Go],0,Ko),en(Zi.G[3][Zi.H[3]+Go],24,Ko))}}}cn.vc=yn,cn.Wb=Gn,cn.Ya=Sm,cn.yc=Cy,er=1;break t}er=0}if(!(q=er)){T.a=3;break e}if(0<ge){if(ne.ua=1<<ge,!Je(ne.Wa,ge)){T.a=1,q=0;break e}}else ne.ua=0;var Ay=T,tj=K,RA=J,Ly=Ay.s,Ty=Ly.xc;if(Ay.c=tj,Ay.i=RA,Ly.md=Ve(tj,Ty),Ly.wc=Ty==0?-1:(1<<Ty)-1,C){T.xb=pA;break e}if((ue=s(K*J))==null){T.a=1,q=0;break e}q=(q=bs(T,ue,0,K,J,J,null))&&!ee.h;break e}return q?(B!=null?B[0]=ue:(t(ue==null),t(C)),T.$=0,C||Zs(ne)):Zs(ne),q}function zl(h,b){var C=h.c*h.i,T=C+b+16*b;return t(h.c<=b),h.V=s(T),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+C+b,1)}function Xc(h,b){var C=h.C,T=b-C,B=h.V,q=h.Ba+h.c*C;for(t(b<=h.l.o);0<T;){var K=16<T?16:T,J=h.l.ma,ee=h.l.width,ne=ee*K,ue=J.ca,ge=J.tb+ee*C,ve=h.Ta,pe=h.Ua;ja(h,K,B,q),Or(ve,pe,ue,ge,ne),xs(J,C,C+K,ue,ge,ee),T-=K,B+=K*h.c,C+=K}t(C==b),h.C=h.Ma=b}function Qc(){this.ub=this.yd=this.td=this.Rb=0}function Jc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Zc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Hp(){this.Yb=function(){var h=[];return function b(C,T,B){for(var q=B[T],K=0;K<q&&(C.push(B.length>T+1?[]:0),!(B.length<T+1));K++)b(C[K],T+1,B)}(h,0,[3,11]),h}()}function qx(){this.jb=s(3),this.Wc=c([4,8],Hp),this.Xc=c([4,17],Hp)}function Gx(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function eu(){this.ld=this.La=this.dd=this.tc=0}function Yp(){this.Na=this.la=0}function Kx(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function nf(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xx(){this.uc=this.M=this.Nb=0,this.wa=Array(new eu),this.Y=0,this.ya=Array(new nf),this.aa=0,this.l=new tu}function Vp(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Qx(){this.cb=this.a=0,this.sc="",this.m=new oe,this.Od=new Qc,this.Kc=new Jc,this.ed=new Gx,this.Qa=new Zc,this.Ic=this.$c=this.Aa=0,this.D=new Xx,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,oe),this.ia=0,this.pb=o(4,Kx),this.Pa=new qx,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Vp),this.Hd=0,this.rb=Array(new Yp),this.sb=0,this.wa=Array(new eu),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new nf),this.L=this.aa=0,this.gd=c([4,2],eu),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function tu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Jx(){var h=new Qx;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,_f||(_f=Kp)),h}function Lr(h,b,C){return h.a==0&&(h.a=b,h.sc=C,h.cb=0),0}function qp(h,b,C){return 3<=C&&h[b+0]==157&&h[b+1]==1&&h[b+2]==42}function Gp(h,b){if(h==null)return 0;if(h.a=0,h.sc="OK",b==null)return Lr(h,2,"null VP8Io passed to VP8GetHeaders()");var C=b.data,T=b.w,B=b.ha;if(4>B)return Lr(h,7,"Truncated header.");var q=C[T+0]|C[T+1]<<8|C[T+2]<<16,K=h.Od;if(K.Rb=!(1&q),K.td=q>>1&7,K.yd=q>>4&1,K.ub=q>>5,3<K.td)return Lr(h,3,"Incorrect keyframe parameters.");if(!K.yd)return Lr(h,4,"Frame not displayable.");T+=3,B-=3;var J=h.Kc;if(K.Rb){if(7>B)return Lr(h,7,"cannot parse picture header");if(!qp(C,T,B))return Lr(h,3,"Bad code word");J.c=16383&(C[T+4]<<8|C[T+3]),J.Td=C[T+4]>>6,J.i=16383&(C[T+6]<<8|C[T+5]),J.Ud=C[T+6]>>6,T+=7,B-=7,h.za=J.c+15>>4,h.Ub=J.i+15>>4,b.width=J.c,b.height=J.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((q=h.Pa).jb,0,255,q.jb.length),t((q=h.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(K.ub>B)return Lr(h,7,"bad partition length");U(q=h.m,C,T,K.ub),T+=K.ub,B-=K.ub,K.Rb&&(J.Ld=Z(q),J.Kd=Z(q)),J=h.Qa;var ee,ne=h.Pa;if(t(q!=null),t(J!=null),J.Cb=Z(q),J.Cb){if(J.Bb=Z(q),Z(q)){for(J.Fb=Z(q),ee=0;4>ee;++ee)J.Zb[ee]=Z(q)?H(q,7):0;for(ee=0;4>ee;++ee)J.Lb[ee]=Z(q)?H(q,6):0}if(J.Bb)for(ee=0;3>ee;++ee)ne.jb[ee]=Z(q)?z(q,8):255}else J.Bb=0;if(q.Ka)return Lr(h,3,"cannot parse segment header");if((J=h.ed).zd=Z(q),J.Tb=z(q,6),J.wb=z(q,3),J.Pc=Z(q),J.Pc&&Z(q)){for(ne=0;4>ne;++ne)Z(q)&&(J.vd[ne]=H(q,6));for(ne=0;4>ne;++ne)Z(q)&&(J.od[ne]=H(q,6))}if(h.L=J.Tb==0?0:J.zd?1:2,q.Ka)return Lr(h,3,"cannot parse filter header");var ue=B;if(B=ee=T,T=ee+ue,J=ue,h.Xb=(1<<z(h.m,2))-1,ue<3*(ne=h.Xb))C=7;else{for(ee+=3*ne,J-=3*ne,ue=0;ue<ne;++ue){var ge=C[B+0]|C[B+1]<<8|C[B+2]<<16;ge>J&&(ge=J),U(h.Jc[+ue],C,ee,ge),ee+=ge,J-=ge,B+=3}U(h.Jc[+ne],C,ee,J),C=ee<T?0:5}if(C!=0)return Lr(h,C,"cannot parse partitions");for(C=z(ee=h.m,7),B=Z(ee)?H(ee,4):0,T=Z(ee)?H(ee,4):0,J=Z(ee)?H(ee,4):0,ne=Z(ee)?H(ee,4):0,ee=Z(ee)?H(ee,4):0,ue=h.Qa,ge=0;4>ge;++ge){if(ue.Cb){var ve=ue.Zb[ge];ue.Fb||(ve+=C)}else{if(0<ge){h.pb[ge]=h.pb[0];continue}ve=C}var pe=h.pb[ge];pe.Sc[0]=jy[Sa(ve+B,127)],pe.Sc[1]=Sy[Sa(ve+0,127)],pe.Eb[0]=2*jy[Sa(ve+T,127)],pe.Eb[1]=101581*Sy[Sa(ve+J,127)]>>16,8>pe.Eb[1]&&(pe.Eb[1]=8),pe.Qc[0]=jy[Sa(ve+ne,117)],pe.Qc[1]=Sy[Sa(ve+ee,127)],pe.lc=ve+ee}if(!K.Rb)return Lr(h,4,"Not a key frame.");for(Z(q),K=h.Pa,C=0;4>C;++C){for(B=0;8>B;++B)for(T=0;3>T;++T)for(J=0;11>J;++J)ne=te(q,fA[C][B][T][J])?z(q,8):uA[C][B][T][J],K.Wc[C][B].Yb[T][J]=ne;for(B=0;17>B;++B)K.Xc[C][B]=K.Wc[C][hA[B]]}return h.kc=Z(q),h.kc&&(h.Bd=z(q,8)),h.cb=1}function Kp(h,b,C,T,B,q,K){var J=b[B].Yb[C];for(C=0;16>B;++B){if(!te(h,J[C+0]))return B;for(;!te(h,J[C+1]);)if(J=b[++B].Yb[0],C=0,B==16)return 16;var ee=b[B+1].Yb;if(te(h,J[C+2])){var ne=h,ue=0;if(te(ne,(ve=J)[(ge=C)+3]))if(te(ne,ve[ge+6])){for(J=0,ge=2*(ue=te(ne,ve[ge+8]))+(ve=te(ne,ve[ge+9+ue])),ue=0,ve=lA[ge];ve[J];++J)ue+=ue+te(ne,ve[J]);ue+=3+(8<<ge)}else te(ne,ve[ge+7])?(ue=7+2*te(ne,165),ue+=te(ne,145)):ue=5+te(ne,159);else ue=te(ne,ve[ge+4])?3+te(ne,ve[ge+5]):2;J=ee[2]}else ue=1,J=ee[1];ee=K+cA[B],0>(ne=h).b&&X(ne);var ge,ve=ne.b,pe=(ge=ne.Ca>>1)-(ne.I>>ve)>>31;--ne.b,ne.Ca+=pe,ne.Ca|=1,ne.I-=(ge+1&pe)<<ve,q[ee]=((ue^pe)-pe)*T[(0<B)+0]}return 16}function af(h){var b=h.rb[h.sb-1];b.la=0,b.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function Zx(h,b){if(h==null)return 0;if(b==null)return Lr(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!Gp(h,b))return 0;if(t(h.cb),b.ac==null||b.ac(b)){b.ob&&(h.L=0);var C=jm[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=b.v-C>>4,h.zb=b.j-C>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=b.o+15+C>>4,h.Hb=b.va+15+C>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var T=h.ed;for(C=0;4>C;++C){var B;if(h.Qa.Cb){var q=h.Qa.Lb[C];h.Qa.Fb||(q+=T.Tb)}else q=T.Tb;for(B=0;1>=B;++B){var K=h.gd[C][B],J=q;if(T.Pc&&(J+=T.vd[0],B&&(J+=T.od[0])),0<(J=0>J?0:63<J?63:J)){var ee=J;0<T.wb&&(ee=4<T.wb?ee>>2:ee>>1)>9-T.wb&&(ee=9-T.wb),1>ee&&(ee=1),K.dd=ee,K.tc=2*J+ee,K.ld=40<=J?2:15<=J?1:0}else K.tc=0;K.La=B}}}C=0}else Lr(h,6,"Frame setup failed"),C=h.a;if(C=C==0){if(C){h.$c=0,0<h.Aa||(h.Ic=CA);e:{C=h.Ic,T=4*(ee=h.za);var ne=32*ee,ue=ee+1,ge=0<h.L?ee*(0<h.Aa?2:1):0,ve=(h.Aa==2?2:1)*ee;if((K=T+832+(B=3*(16*C+jm[h.L])/2*ne)+(q=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=K)C=0;else{if(K>h.Vb){if(h.Vb=0,h.Ec=s(K),h.Fc=0,h.Ec==null){C=Lr(h,1,"no memory during frame initialization.");break e}h.Vb=K}K=h.Ec,J=h.Fc,h.Ac=K,h.Bc=J,J+=T,h.Gd=o(ne,Vp),h.Hd=0,h.rb=o(ue+1,Yp),h.sb=1,h.wa=ge?o(ge,eu):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=ee),t(!0),h.oc=K,h.pc=J,J+=832,h.ya=o(ve,nf),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=ee),h.R=16*ee,h.B=8*ee,ee=(ne=jm[h.L])*h.R,ne=ne/2*h.B,h.sa=K,h.ta=J+ee,h.qa=h.sa,h.ra=h.ta+16*C*h.R+ne,h.Ha=h.qa,h.Ia=h.ra+8*C*h.B+ne,h.$c=0,J+=B,h.mb=q?K:null,h.nb=q?J:null,t(J+q<=h.Fc+h.Vb),af(h),a(h.Ac,h.Bc,0,T),C=1}}if(C){if(b.ka=0,b.y=h.sa,b.O=h.ta,b.f=h.qa,b.N=h.ra,b.ea=h.Ha,b.Vd=h.Ia,b.fa=h.R,b.Rc=h.B,b.F=null,b.J=0,!pm){for(C=-255;255>=C;++C)tn[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)Xi[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Df[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)yu[255+C]=0>C?0:255<C?255:C;pm=1}gu=ry,Ki=ey,Sf=Qp,qn=ty,Wa=Jp,Tr=Xp,vu=df,hm=Hl,kf=my,ql=ff,Gl=py,zo=ou,Kl=hf,xu=om,Xl=im,Bo=ri,Cf=Vi,Ha=hy,Ss[0]=ti,Ss[1]=ny,Ss[2]=oy,Ss[3]=ly,Ss[4]=tm,Ss[5]=su,Ss[6]=rm,Ss[7]=lf,Ss[8]=uy,Ss[9]=cy,Wo[0]=Zp,Wo[1]=sy,Wo[2]=Yi,Wo[3]=nu,Wo[4]=Pn,Wo[5]=iy,Wo[6]=em,Qi[0]=Io,Qi[1]=ay,Qi[2]=dy,Qi[3]=cf,Qi[4]=Wl,Qi[5]=fy,Qi[6]=uf,C=1}else C=0}C&&(C=function(pe,Se){for(pe.M=0;pe.M<pe.Va;++pe.M){var be,de=pe.Jc[pe.M&pe.Xb],he=pe.m,Ne=pe;for(be=0;be<Ne.za;++be){var Ce=he,je=Ne,He=je.Ac,Oe=je.Bc+4*be,at=je.zc,$e=je.ya[je.aa+be];if(je.Qa.Bb?$e.$b=te(Ce,je.Pa.jb[0])?2+te(Ce,je.Pa.jb[2]):te(Ce,je.Pa.jb[1]):$e.$b=0,je.kc&&($e.Ad=te(Ce,je.Bd)),$e.Za=!te(Ce,145)+0,$e.Za){var Rt=$e.Ob,Ht=0;for(je=0;4>je;++je){var Pt,kt=at[0+je];for(Pt=0;4>Pt;++Pt){kt=dA[He[Oe+Pt]][kt];for(var er=MN[te(Ce,kt[0])];0<er;)er=MN[2*er+te(Ce,kt[er])];kt=-er,He[Oe+Pt]=kt}n(Rt,Ht,He,Oe,4),Ht+=4,at[0+je]=kt}}else kt=te(Ce,156)?te(Ce,128)?1:3:te(Ce,163)?2:0,$e.Ob[0]=kt,a(He,Oe,kt,4),a(at,0,kt,4);$e.Dd=te(Ce,142)?te(Ce,114)?te(Ce,183)?1:3:2:0}if(Ne.m.Ka)return Lr(pe,7,"Premature end-of-partition0 encountered.");for(;pe.ja<pe.za;++pe.ja){if(Ne=de,Ce=(he=pe).rb[he.sb-1],He=he.rb[he.sb+he.ja],be=he.ya[he.aa+he.ja],Oe=he.kc?be.Ad:0)Ce.la=He.la=0,be.Za||(Ce.Na=He.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var Qt,vt;if(Ce=He,He=Ne,Oe=he.Pa.Xc,at=he.ya[he.aa+he.ja],$e=he.pb[at.$b],je=at.ad,Rt=0,Ht=he.rb[he.sb-1],kt=Pt=0,a(je,Rt,0,384),at.Za)var qr=0,la=Oe[3];else{er=s(16);var Gr=Ce.Na+Ht.Na;if(Gr=_f(He,Oe[1],Gr,$e.Eb,0,er,0),Ce.Na=Ht.Na=(0<Gr)+0,1<Gr)gu(er,0,je,Rt);else{var ca=er[0]+3>>3;for(er=0;256>er;er+=16)je[Rt+er]=ca}qr=1,la=Oe[0]}var Yt=15&Ce.la,Ca=15&Ht.la;for(er=0;4>er;++er){var Da=1&Ca;for(ca=vt=0;4>ca;++ca)Yt=Yt>>1|(Da=(Gr=_f(He,la,Gr=Da+(1&Yt),$e.Sc,qr,je,Rt))>qr)<<7,vt=vt<<2|(3<Gr?3:1<Gr?2:je[Rt+0]!=0),Rt+=16;Yt>>=4,Ca=Ca>>1|Da<<7,Pt=(Pt<<8|vt)>>>0}for(la=Yt,qr=Ca>>4,Qt=0;4>Qt;Qt+=2){for(vt=0,Yt=Ce.la>>4+Qt,Ca=Ht.la>>4+Qt,er=0;2>er;++er){for(Da=1&Ca,ca=0;2>ca;++ca)Gr=Da+(1&Yt),Yt=Yt>>1|(Da=0<(Gr=_f(He,Oe[2],Gr,$e.Qc,0,je,Rt)))<<3,vt=vt<<2|(3<Gr?3:1<Gr?2:je[Rt+0]!=0),Rt+=16;Yt>>=2,Ca=Ca>>1|Da<<5}kt|=vt<<4*Qt,la|=Yt<<4<<Qt,qr|=(240&Ca)<<Qt}Ce.la=la,Ht.la=qr,at.Hc=Pt,at.Gc=kt,at.ia=43690&kt?0:$e.ia,Oe=!(Pt|kt)}if(0<he.L&&(he.wa[he.Y+he.ja]=he.gd[be.$b][be.Za],he.wa[he.Y+he.ja].La|=!Oe),Ne.Ka)return Lr(pe,7,"Premature end-of-file encountered.")}if(af(pe),he=Se,Ne=1,be=(de=pe).D,Ce=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(be.M=de.M,be.uc=Ce,yf(de,be),Ne=1,be=(vt=de.D).Nb,Ce=(kt=jm[de.L])*de.R,He=kt/2*de.B,er=16*be*de.R,ca=8*be*de.B,Oe=de.sa,at=de.ta-Ce+er,$e=de.qa,je=de.ra-He+ca,Rt=de.Ha,Ht=de.Ia-He+ca,Ca=(Yt=vt.M)==0,Pt=Yt>=de.Va-1,de.Aa==2&&yf(de,vt),vt.uc)for(Da=(Gr=de).D.M,t(Gr.D.uc),vt=Gr.yb;vt<Gr.Hb;++vt){qr=vt,la=Da;var cn=(yn=(Dr=Gr).D).Nb;Qt=Dr.R;var yn=yn.wa[yn.Y+qr],Gn=Dr.sa,Ga=Dr.ta+16*cn*Qt+16*qr,ai=yn.dd,un=yn.tc;if(un!=0)if(t(3<=un),Dr.L==1)0<qr&&Bo(Gn,Ga,Qt,un+4),yn.La&&Ha(Gn,Ga,Qt,un),0<la&&Xl(Gn,Ga,Qt,un+4),yn.La&&Cf(Gn,Ga,Qt,un);else{var Ji=Dr.B,Ql=Dr.qa,bu=Dr.ra+8*cn*Ji+8*qr,Yo=Dr.Ha,Dr=Dr.Ia+8*cn*Ji+8*qr;cn=yn.ld,0<qr&&(hm(Gn,Ga,Qt,un+4,ai,cn),ql(Ql,bu,Yo,Dr,Ji,un+4,ai,cn)),yn.La&&(zo(Gn,Ga,Qt,un,ai,cn),xu(Ql,bu,Yo,Dr,Ji,un,ai,cn)),0<la&&(vu(Gn,Ga,Qt,un+4,ai,cn),kf(Ql,bu,Yo,Dr,Ji,un+4,ai,cn)),yn.La&&(Gl(Gn,Ga,Qt,un,ai,cn),Kl(Ql,bu,Yo,Dr,Ji,un,ai,cn))}}if(de.ia&&alert("todo:DitherRow"),he.put!=null){if(vt=16*Yt,Yt=16*(Yt+1),Ca?(he.y=de.sa,he.O=de.ta+er,he.f=de.qa,he.N=de.ra+ca,he.ea=de.Ha,he.W=de.Ia+ca):(vt-=kt,he.y=Oe,he.O=at,he.f=$e,he.N=je,he.ea=Rt,he.W=Ht),Pt||(Yt-=kt),Yt>he.o&&(Yt=he.o),he.F=null,he.J=null,de.Fa!=null&&0<de.Fa.length&&vt<Yt&&(he.J=vf(de,he,vt,Yt-vt),he.F=de.mb,he.F==null&&he.F.length==0)){Ne=Lr(de,3,"Could not decode alpha data.");break e}vt<he.j&&(kt=he.j-vt,vt=he.j,t(!(1&kt)),he.O+=de.R*kt,he.N+=de.B*(kt>>1),he.W+=de.B*(kt>>1),he.F!=null&&(he.J+=he.width*kt)),vt<Yt&&(he.O+=he.v,he.N+=he.v>>1,he.W+=he.v>>1,he.F!=null&&(he.J+=he.v),he.ka=vt-he.j,he.U=he.va-he.v,he.T=Yt-vt,Ne=he.put(he))}be+1!=de.Ic||Pt||(n(de.sa,de.ta-Ce,Oe,at+16*de.R,Ce),n(de.qa,de.ra-He,$e,je+8*de.B,He),n(de.Ha,de.Ia-He,Rt,Ht+8*de.B,He))}if(!Ne)return Lr(pe,6,"Output aborted.")}return 1}(h,b)),b.bc!=null&&b.bc(b),C&=1}return C?(h.cb=0,C):0}function ws(h,b,C,T,B){B=h[b+C+32*T]+(B>>3),h[b+C+32*T]=-256&B?0>B?0:255:B}function ru(h,b,C,T,B,q){ws(h,b,0,C,T+B),ws(h,b,1,C,T+q),ws(h,b,2,C,T-q),ws(h,b,3,C,T-B)}function sa(h){return(20091*h>>16)+h}function sf(h,b,C,T){var B,q=0,K=s(16);for(B=0;4>B;++B){var J=h[b+0]+h[b+8],ee=h[b+0]-h[b+8],ne=(35468*h[b+4]>>16)-sa(h[b+12]),ue=sa(h[b+4])+(35468*h[b+12]>>16);K[q+0]=J+ue,K[q+1]=ee+ne,K[q+2]=ee-ne,K[q+3]=J-ue,q+=4,b++}for(B=q=0;4>B;++B)J=(h=K[q+0]+4)+K[q+8],ee=h-K[q+8],ne=(35468*K[q+4]>>16)-sa(K[q+12]),ws(C,T,0,0,J+(ue=sa(K[q+4])+(35468*K[q+12]>>16))),ws(C,T,1,0,ee+ne),ws(C,T,2,0,ee-ne),ws(C,T,3,0,J-ue),q++,T+=32}function Xp(h,b,C,T){var B=h[b+0]+4,q=35468*h[b+4]>>16,K=sa(h[b+4]),J=35468*h[b+1]>>16;ru(C,T,0,B+K,h=sa(h[b+1]),J),ru(C,T,1,B+q,h,J),ru(C,T,2,B-q,h,J),ru(C,T,3,B-K,h,J)}function ey(h,b,C,T,B){sf(h,b,C,T),B&&sf(h,b+16,C,T+4)}function Qp(h,b,C,T){Ki(h,b+0,C,T,1),Ki(h,b+32,C,T+128,1)}function ty(h,b,C,T){var B;for(h=h[b+0]+4,B=0;4>B;++B)for(b=0;4>b;++b)ws(C,T,b,B,h)}function Jp(h,b,C,T){h[b+0]&&qn(h,b+0,C,T),h[b+16]&&qn(h,b+16,C,T+4),h[b+32]&&qn(h,b+32,C,T+128),h[b+48]&&qn(h,b+48,C,T+128+4)}function ry(h,b,C,T){var B,q=s(16);for(B=0;4>B;++B){var K=h[b+0+B]+h[b+12+B],J=h[b+4+B]+h[b+8+B],ee=h[b+4+B]-h[b+8+B],ne=h[b+0+B]-h[b+12+B];q[0+B]=K+J,q[8+B]=K-J,q[4+B]=ne+ee,q[12+B]=ne-ee}for(B=0;4>B;++B)K=(h=q[0+4*B]+3)+q[3+4*B],J=q[1+4*B]+q[2+4*B],ee=q[1+4*B]-q[2+4*B],ne=h-q[3+4*B],C[T+0]=K+J>>3,C[T+16]=ne+ee>>3,C[T+32]=K-J>>3,C[T+48]=ne-ee>>3,T+=64}function of(h,b,C){var T,B=b-32,q=ka,K=255-h[B-1];for(T=0;T<C;++T){var J,ee=q,ne=K+h[b-1];for(J=0;J<C;++J)h[b+J]=ee[ne+h[B+J]];b+=32}}function ny(h,b){of(h,b,4)}function ay(h,b){of(h,b,8)}function sy(h,b){of(h,b,16)}function Yi(h,b){var C;for(C=0;16>C;++C)n(h,b+32*C,h,b-32,16)}function nu(h,b){var C;for(C=16;0<C;--C)a(h,b,h[b-1],16),b+=32}function au(h,b,C){var T;for(T=0;16>T;++T)a(b,C+32*T,h,16)}function Zp(h,b){var C,T=16;for(C=0;16>C;++C)T+=h[b-1+32*C]+h[b+C-32];au(T>>5,h,b)}function Pn(h,b){var C,T=8;for(C=0;16>C;++C)T+=h[b-1+32*C];au(T>>4,h,b)}function iy(h,b){var C,T=8;for(C=0;16>C;++C)T+=h[b+C-32];au(T>>4,h,b)}function em(h,b){au(128,h,b)}function dt(h,b,C){return h+2*b+C+2>>2}function oy(h,b){var C,T=b-32;for(T=new Uint8Array([dt(h[T-1],h[T+0],h[T+1]),dt(h[T+0],h[T+1],h[T+2]),dt(h[T+1],h[T+2],h[T+3]),dt(h[T+2],h[T+3],h[T+4])]),C=0;4>C;++C)n(h,b+32*C,T,0,T.length)}function ly(h,b){var C=h[b-1],T=h[b-1+32],B=h[b-1+64],q=h[b-1+96];fe(h,b+0,16843009*dt(h[b-1-32],C,T)),fe(h,b+32,16843009*dt(C,T,B)),fe(h,b+64,16843009*dt(T,B,q)),fe(h,b+96,16843009*dt(B,q,q))}function ti(h,b){var C,T=4;for(C=0;4>C;++C)T+=h[b+C-32]+h[b-1+32*C];for(T>>=3,C=0;4>C;++C)a(h,b+32*C,T,4)}function tm(h,b){var C=h[b-1+0],T=h[b-1+32],B=h[b-1+64],q=h[b-1-32],K=h[b+0-32],J=h[b+1-32],ee=h[b+2-32],ne=h[b+3-32];h[b+0+96]=dt(T,B,h[b-1+96]),h[b+1+96]=h[b+0+64]=dt(C,T,B),h[b+2+96]=h[b+1+64]=h[b+0+32]=dt(q,C,T),h[b+3+96]=h[b+2+64]=h[b+1+32]=h[b+0+0]=dt(K,q,C),h[b+3+64]=h[b+2+32]=h[b+1+0]=dt(J,K,q),h[b+3+32]=h[b+2+0]=dt(ee,J,K),h[b+3+0]=dt(ne,ee,J)}function rm(h,b){var C=h[b+1-32],T=h[b+2-32],B=h[b+3-32],q=h[b+4-32],K=h[b+5-32],J=h[b+6-32],ee=h[b+7-32];h[b+0+0]=dt(h[b+0-32],C,T),h[b+1+0]=h[b+0+32]=dt(C,T,B),h[b+2+0]=h[b+1+32]=h[b+0+64]=dt(T,B,q),h[b+3+0]=h[b+2+32]=h[b+1+64]=h[b+0+96]=dt(B,q,K),h[b+3+32]=h[b+2+64]=h[b+1+96]=dt(q,K,J),h[b+3+64]=h[b+2+96]=dt(K,J,ee),h[b+3+96]=dt(J,ee,ee)}function su(h,b){var C=h[b-1+0],T=h[b-1+32],B=h[b-1+64],q=h[b-1-32],K=h[b+0-32],J=h[b+1-32],ee=h[b+2-32],ne=h[b+3-32];h[b+0+0]=h[b+1+64]=q+K+1>>1,h[b+1+0]=h[b+2+64]=K+J+1>>1,h[b+2+0]=h[b+3+64]=J+ee+1>>1,h[b+3+0]=ee+ne+1>>1,h[b+0+96]=dt(B,T,C),h[b+0+64]=dt(T,C,q),h[b+0+32]=h[b+1+96]=dt(C,q,K),h[b+1+32]=h[b+2+96]=dt(q,K,J),h[b+2+32]=h[b+3+96]=dt(K,J,ee),h[b+3+32]=dt(J,ee,ne)}function lf(h,b){var C=h[b+0-32],T=h[b+1-32],B=h[b+2-32],q=h[b+3-32],K=h[b+4-32],J=h[b+5-32],ee=h[b+6-32],ne=h[b+7-32];h[b+0+0]=C+T+1>>1,h[b+1+0]=h[b+0+64]=T+B+1>>1,h[b+2+0]=h[b+1+64]=B+q+1>>1,h[b+3+0]=h[b+2+64]=q+K+1>>1,h[b+0+32]=dt(C,T,B),h[b+1+32]=h[b+0+96]=dt(T,B,q),h[b+2+32]=h[b+1+96]=dt(B,q,K),h[b+3+32]=h[b+2+96]=dt(q,K,J),h[b+3+64]=dt(K,J,ee),h[b+3+96]=dt(J,ee,ne)}function cy(h,b){var C=h[b-1+0],T=h[b-1+32],B=h[b-1+64],q=h[b-1+96];h[b+0+0]=C+T+1>>1,h[b+2+0]=h[b+0+32]=T+B+1>>1,h[b+2+32]=h[b+0+64]=B+q+1>>1,h[b+1+0]=dt(C,T,B),h[b+3+0]=h[b+1+32]=dt(T,B,q),h[b+3+32]=h[b+1+64]=dt(B,q,q),h[b+3+64]=h[b+2+64]=h[b+0+96]=h[b+1+96]=h[b+2+96]=h[b+3+96]=q}function uy(h,b){var C=h[b-1+0],T=h[b-1+32],B=h[b-1+64],q=h[b-1+96],K=h[b-1-32],J=h[b+0-32],ee=h[b+1-32],ne=h[b+2-32];h[b+0+0]=h[b+2+32]=C+K+1>>1,h[b+0+32]=h[b+2+64]=T+C+1>>1,h[b+0+64]=h[b+2+96]=B+T+1>>1,h[b+0+96]=q+B+1>>1,h[b+3+0]=dt(J,ee,ne),h[b+2+0]=dt(K,J,ee),h[b+1+0]=h[b+3+32]=dt(C,K,J),h[b+1+32]=h[b+3+64]=dt(T,C,K),h[b+1+64]=h[b+3+96]=dt(B,T,C),h[b+1+96]=dt(q,B,T)}function dy(h,b){var C;for(C=0;8>C;++C)n(h,b+32*C,h,b-32,8)}function cf(h,b){var C;for(C=0;8>C;++C)a(h,b,h[b-1],8),b+=32}function Bl(h,b,C){var T;for(T=0;8>T;++T)a(b,C+32*T,h,8)}function Io(h,b){var C,T=8;for(C=0;8>C;++C)T+=h[b+C-32]+h[b-1+32*C];Bl(T>>4,h,b)}function fy(h,b){var C,T=4;for(C=0;8>C;++C)T+=h[b+C-32];Bl(T>>3,h,b)}function Wl(h,b){var C,T=4;for(C=0;8>C;++C)T+=h[b-1+32*C];Bl(T>>3,h,b)}function uf(h,b){Bl(128,h,b)}function iu(h,b,C){var T=h[b-C],B=h[b+0],q=3*(B-T)+xy[1020+h[b-2*C]-h[b+C]],K=mm[112+(q+4>>3)];h[b-C]=ka[255+T+mm[112+(q+3>>3)]],h[b+0]=ka[255+B-K]}function nm(h,b,C,T){var B=h[b+0],q=h[b+C];return Va[255+h[b-2*C]-h[b-C]]>T||Va[255+q-B]>T}function am(h,b,C,T){return 4*Va[255+h[b-C]-h[b+0]]+Va[255+h[b-2*C]-h[b+C]]<=T}function sm(h,b,C,T,B){var q=h[b-3*C],K=h[b-2*C],J=h[b-C],ee=h[b+0],ne=h[b+C],ue=h[b+2*C],ge=h[b+3*C];return 4*Va[255+J-ee]+Va[255+K-ne]>T?0:Va[255+h[b-4*C]-q]<=B&&Va[255+q-K]<=B&&Va[255+K-J]<=B&&Va[255+ge-ue]<=B&&Va[255+ue-ne]<=B&&Va[255+ne-ee]<=B}function im(h,b,C,T){var B=2*T+1;for(T=0;16>T;++T)am(h,b+T,C,B)&&iu(h,b+T,C)}function ri(h,b,C,T){var B=2*T+1;for(T=0;16>T;++T)am(h,b+T*C,1,B)&&iu(h,b+T*C,1)}function Vi(h,b,C,T){var B;for(B=3;0<B;--B)im(h,b+=4*C,C,T)}function hy(h,b,C,T){var B;for(B=3;0<B;--B)ri(h,b+=4,C,T)}function Ro(h,b,C,T,B,q,K,J){for(q=2*q+1;0<B--;){if(sm(h,b,C,q,K))if(nm(h,b,C,J))iu(h,b,C);else{var ee=h,ne=b,ue=C,ge=ee[ne-2*ue],ve=ee[ne-ue],pe=ee[ne+0],Se=ee[ne+ue],be=ee[ne+2*ue],de=27*(Ne=xy[1020+3*(pe-ve)+xy[1020+ge-Se]])+63>>7,he=18*Ne+63>>7,Ne=9*Ne+63>>7;ee[ne-3*ue]=ka[255+ee[ne-3*ue]+Ne],ee[ne-2*ue]=ka[255+ge+he],ee[ne-ue]=ka[255+ve+de],ee[ne+0]=ka[255+pe-de],ee[ne+ue]=ka[255+Se-he],ee[ne+2*ue]=ka[255+be-Ne]}b+=T}}function Ns(h,b,C,T,B,q,K,J){for(q=2*q+1;0<B--;){if(sm(h,b,C,q,K))if(nm(h,b,C,J))iu(h,b,C);else{var ee=h,ne=b,ue=C,ge=ee[ne-ue],ve=ee[ne+0],pe=ee[ne+ue],Se=mm[112+((be=3*(ve-ge))+4>>3)],be=mm[112+(be+3>>3)],de=Se+1>>1;ee[ne-2*ue]=ka[255+ee[ne-2*ue]+de],ee[ne-ue]=ka[255+ge+be],ee[ne+0]=ka[255+ve-Se],ee[ne+ue]=ka[255+pe-de]}b+=T}}function df(h,b,C,T,B,q){Ro(h,b,C,1,16,T,B,q)}function Hl(h,b,C,T,B,q){Ro(h,b,1,C,16,T,B,q)}function py(h,b,C,T,B,q){var K;for(K=3;0<K;--K)Ns(h,b+=4*C,C,1,16,T,B,q)}function ou(h,b,C,T,B,q){var K;for(K=3;0<K;--K)Ns(h,b+=4,1,C,16,T,B,q)}function my(h,b,C,T,B,q,K,J){Ro(h,b,B,1,8,q,K,J),Ro(C,T,B,1,8,q,K,J)}function ff(h,b,C,T,B,q,K,J){Ro(h,b,1,B,8,q,K,J),Ro(C,T,1,B,8,q,K,J)}function hf(h,b,C,T,B,q,K,J){Ns(h,b+4*B,B,1,8,q,K,J),Ns(C,T+4*B,B,1,8,q,K,J)}function om(h,b,C,T,B,q,K,J){Ns(h,b+4,1,B,8,q,K,J),Ns(C,T+4,1,B,8,q,K,J)}function lu(){this.ba=new gs,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new kr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function pf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lm(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new L,this.yc=new _}function gy(){this.xb=this.a=0,this.l=new tu,this.ca=new gs,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lm,this.ab=0,this.gc=o(4,mf),this.Oc=0}function cu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new tu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yl(h,b,C,T,B,q,K){for(h=h==null?0:h[b+0],b=0;b<K;++b)B[q+b]=h+C[T+b]&255,h=B[q+b]}function gf(h,b,C,T,B,q,K){var J;if(h==null)Yl(null,null,C,T,B,q,K);else for(J=0;J<K;++J)B[q+J]=h[b+J]+C[T+J]&255}function Fo(h,b,C,T,B,q,K){if(h==null)Yl(null,null,C,T,B,q,K);else{var J,ee=h[b+0],ne=ee,ue=ee;for(J=0;J<K;++J)ne=ue+(ee=h[b+J])-ne,ue=C[T+J]+(-256&ne?0>ne?0:255:ne)&255,ne=ee,B[q+J]=ue}}function vf(h,b,C,T){var B=b.width,q=b.o;if(t(h!=null&&b!=null),0>C||0>=T||C+T>q)return null;if(!h.Cc){if(h.ga==null){var K;if(h.ga=new cu,(K=h.ga==null)||(K=b.width*b.o,t(h.Gb.length==0),h.Gb=s(K),h.Uc=0,h.Gb==null?K=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,K=1),K=!K),!K){K=h.ga;var J=h.Fa,ee=h.P,ne=h.qc,ue=h.mb,ge=h.nb,ve=ee+1,pe=ne-1,Se=K.l;if(t(J!=null&&ue!=null&&b!=null),Ho[0]=null,Ho[1]=Yl,Ho[2]=gf,Ho[3]=Fo,K.ca=ue,K.tb=ge,K.c=b.width,K.i=b.height,t(0<K.c&&0<K.i),1>=ne)b=0;else if(K.$a=J[ee+0]>>0&3,K.Z=J[ee+0]>>2&3,K.Lc=J[ee+0]>>4&3,ee=J[ee+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||ee)b=0;else if(Se.put=Xs,Se.ac=vn,Se.bc=Qs,Se.ma=K,Se.width=b.width,Se.height=b.height,Se.Da=b.Da,Se.v=b.v,Se.va=b.va,Se.j=b.j,Se.o=b.o,K.$a)e:{t(K.$a==1),b=za();t:for(;;){if(b==null){b=0;break e}if(t(K!=null),K.mc=b,b.c=K.c,b.i=K.i,b.l=K.l,b.l.ma=K,b.l.width=K.c,b.l.height=K.i,b.a=0,V(b.m,J,ve,pe),!ei(K.c,K.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Hi(b.s)?(K.ic=1,J=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(J),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(K.ic=0,b=zl(b,K.c)),!b))break t;b=1;break e}K.mc=null,b=0}else b=pe>=K.c*K.i;K=!b}if(K)return null;h.ga.Lc!=1?h.Ga=0:T=q-C}t(h.ga!=null),t(C+T<=q);e:{if(b=(J=h.ga).c,q=J.l.o,J.$a==0){if(ve=h.rc,pe=h.Vc,Se=h.Fa,ee=h.P+1+C*b,ne=h.mb,ue=h.nb+C*b,t(ee<=h.P+h.qc),J.Z!=0)for(t(Ho[J.Z]!=null),K=0;K<T;++K)Ho[J.Z](ve,pe,Se,ee,ne,ue,b),ve=ne,pe=ue,ue+=b,ee+=b;else for(K=0;K<T;++K)n(ne,ue,Se,ee,b),ve=ne,pe=ue,ue+=b,ee+=b;h.rc=ve,h.Vc=pe}else{if(t(J.mc!=null),b=C+T,t((K=J.mc)!=null),t(b<=K.i),K.C>=b)b=1;else if(J.ic||me(),J.ic){J=K.V,ve=K.Ba,pe=K.c;var be=K.i,de=(Se=1,ee=K.$/pe,ne=K.$%pe,ue=K.m,ge=K.s,K.$),he=pe*be,Ne=pe*b,Ce=ge.wc,je=de<Ne?Yr(ge,ne,ee):null;t(de<=he),t(b<=be),t(Hi(ge));t:for(;;){for(;!ue.h&&de<Ne;){if(ne&Ce||(je=Yr(ge,ne,ee)),t(je!=null),$(ue),256>(be=aa(je.G[0],je.H[0],ue)))J[ve+de]=be,++de,++ne>=pe&&(ne=0,++ee<=b&&!(ee%16)&&ys(K,ee));else{if(!(280>be)){Se=0;break t}be=vs(be-256,ue);var He,Oe=aa(je.G[4],je.H[4],ue);if($(ue),!(de>=(Oe=Js(pe,Oe=vs(Oe,ue)))&&he-de>=be)){Se=0;break t}for(He=0;He<be;++He)J[ve+de+He]=J[ve+de+He-Oe];for(de+=be,ne+=be;ne>=pe;)ne-=pe,++ee<=b&&!(ee%16)&&ys(K,ee);de<Ne&&ne&Ce&&(je=Yr(ge,ne,ee))}t(ue.h==Q(ue))}ys(K,ee>b?b:ee);break t}!Se||ue.h&&de<he?(Se=0,K.a=ue.h?5:3):K.$=de,b=Se}else b=bs(K,K.V,K.Ba,K.c,K.i,b,Xc);if(!b){T=0;break e}}C+T>=q&&(h.Cc=1),T=1}if(!T)return null;if(h.Cc&&((T=h.ga)!=null&&(T.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+C*B}function N(h,b,C,T,B,q){for(;0<B--;){var K,J=h,ee=b+(C?1:0),ne=h,ue=b+(C?0:3);for(K=0;K<T;++K){var ge=ne[ue+4*K];ge!=255&&(ge*=32897,J[ee+4*K+0]=J[ee+4*K+0]*ge>>23,J[ee+4*K+1]=J[ee+4*K+1]*ge>>23,J[ee+4*K+2]=J[ee+4*K+2]*ge>>23)}b+=q}}function W(h,b,C,T,B){for(;0<T--;){var q;for(q=0;q<C;++q){var K=h[b+2*q+0],J=15&(ne=h[b+2*q+1]),ee=4369*J,ne=(240&ne|ne>>4)*ee>>16;h[b+2*q+0]=(240&K|K>>4)*ee>>16&240|(15&K|K<<4)*ee>>16>>4&15,h[b+2*q+1]=240&ne|J}b+=B}}function ie(h,b,C,T,B,q,K,J){var ee,ne,ue=255;for(ne=0;ne<B;++ne){for(ee=0;ee<T;++ee){var ge=h[b+ee];q[K+4*ee]=ge,ue&=ge}b+=C,K+=J}return ue!=255}function ce(h,b,C,T,B){var q;for(q=0;q<B;++q)C[T+q]=h[b+q]>>8}function me(){Ya=N,nr=W,ar=ie,Or=ce}function we(h,b,C){D[h]=function(T,B,q,K,J,ee,ne,ue,ge,ve,pe,Se,be,de,he,Ne,Ce){var je,He=Ce-1>>1,Oe=J[ee+0]|ne[ue+0]<<16,at=ge[ve+0]|pe[Se+0]<<16;t(T!=null);var $e=3*Oe+at+131074>>2;for(b(T[B+0],255&$e,$e>>16,be,de),q!=null&&($e=3*at+Oe+131074>>2,b(q[K+0],255&$e,$e>>16,he,Ne)),je=1;je<=He;++je){var Rt=J[ee+je]|ne[ue+je]<<16,Ht=ge[ve+je]|pe[Se+je]<<16,Pt=Oe+Rt+at+Ht+524296,kt=Pt+2*(Rt+at)>>3;$e=kt+Oe>>1,Oe=(Pt=Pt+2*(Oe+Ht)>>3)+Rt>>1,b(T[B+2*je-1],255&$e,$e>>16,be,de+(2*je-1)*C),b(T[B+2*je-0],255&Oe,Oe>>16,be,de+(2*je-0)*C),q!=null&&($e=Pt+at>>1,Oe=kt+Ht>>1,b(q[K+2*je-1],255&$e,$e>>16,he,Ne+(2*je-1)*C),b(q[K+2*je+0],255&Oe,Oe>>16,he,Ne+(2*je+0)*C)),Oe=Rt,at=Ht}1&Ce||($e=3*Oe+at+131074>>2,b(T[B+Ce-1],255&$e,$e>>16,be,de+(Ce-1)*C),q!=null&&($e=3*at+Oe+131074>>2,b(q[K+Ce-1],255&$e,$e>>16,he,Ne+(Ce-1)*C)))}}function De(){qa[gm]=mA,qa[vm]=LN,qa[_N]=gA,qa[xm]=TN,qa[ym]=ON,qa[yy]=IN,qa[PN]=vA,qa[by]=LN,qa[wy]=TN,qa[bm]=ON,qa[Ny]=IN}function We(h){return h&~xA?0>h?0:255:h>>RN}function tt(h,b){return We((19077*h>>8)+(26149*b>>8)-14234)}function gt(h,b,C){return We((19077*h>>8)-(6419*b>>8)-(13320*C>>8)+8708)}function pt(h,b){return We((19077*h>>8)+(33050*b>>8)-17685)}function Dt(h,b,C,T,B){T[B+0]=tt(h,C),T[B+1]=gt(h,b,C),T[B+2]=pt(h,b)}function yr(h,b,C,T,B){T[B+0]=pt(h,b),T[B+1]=gt(h,b,C),T[B+2]=tt(h,C)}function Cr(h,b,C,T,B){var q=gt(h,b,C);b=q<<3&224|pt(h,b)>>3,T[B+0]=248&tt(h,C)|q>>5,T[B+1]=b}function Vr(h,b,C,T,B){var q=240&pt(h,b)|15;T[B+0]=240&tt(h,C)|gt(h,b,C)>>4,T[B+1]=q}function En(h,b,C,T,B){T[B+0]=255,Dt(h,b,C,T,B+1)}function ln(h,b,C,T,B){yr(h,b,C,T,B),T[B+3]=255}function js(h,b,C,T,B){Dt(h,b,C,T,B),T[B+3]=255}function Sa(h,b){return 0>h?0:h>b?b:h}function ni(h,b,C){D[h]=function(T,B,q,K,J,ee,ne,ue,ge){for(var ve=ue+(-2&ge)*C;ue!=ve;)b(T[B+0],q[K+0],J[ee+0],ne,ue),b(T[B+1],q[K+0],J[ee+0],ne,ue+C),B+=2,++K,++ee,ue+=2*C;1&ge&&b(T[B+0],q[K+0],J[ee+0],ne,ue)}}function cm(h,b,C){return C==0?h==0?b==0?6:5:b==0?4:0:C}function xf(h,b,C,T,B){switch(h>>>30){case 3:Ki(b,C,T,B,0);break;case 2:Tr(b,C,T,B);break;case 1:qn(b,C,T,B)}}function yf(h,b){var C,T,B=b.M,q=b.Nb,K=h.oc,J=h.pc+40,ee=h.oc,ne=h.pc+584,ue=h.oc,ge=h.pc+600;for(C=0;16>C;++C)K[J+32*C-1]=129;for(C=0;8>C;++C)ee[ne+32*C-1]=129,ue[ge+32*C-1]=129;for(0<B?K[J-1-32]=ee[ne-1-32]=ue[ge-1-32]=129:(a(K,J-32-1,127,21),a(ee,ne-32-1,127,9),a(ue,ge-32-1,127,9)),T=0;T<h.za;++T){var ve=b.ya[b.aa+T];if(0<T){for(C=-1;16>C;++C)n(K,J+32*C-4,K,J+32*C+12,4);for(C=-1;8>C;++C)n(ee,ne+32*C-4,ee,ne+32*C+4,4),n(ue,ge+32*C-4,ue,ge+32*C+4,4)}var pe=h.Gd,Se=h.Hd+T,be=ve.ad,de=ve.Hc;if(0<B&&(n(K,J-32,pe[Se].y,0,16),n(ee,ne-32,pe[Se].f,0,8),n(ue,ge-32,pe[Se].ea,0,8)),ve.Za){var he=K,Ne=J-32+16;for(0<B&&(T>=h.za-1?a(he,Ne,pe[Se].y[15],4):n(he,Ne,pe[Se+1].y,0,4)),C=0;4>C;C++)he[Ne+128+C]=he[Ne+256+C]=he[Ne+384+C]=he[Ne+0+C];for(C=0;16>C;++C,de<<=2)he=K,Ne=J+$N[C],Ss[ve.Ob[C]](he,Ne),xf(de,be,16*+C,he,Ne)}else if(he=cm(T,B,ve.Ob[0]),Wo[he](K,J),de!=0)for(C=0;16>C;++C,de<<=2)xf(de,be,16*+C,K,J+$N[C]);for(C=ve.Gc,he=cm(T,B,ve.Dd),Qi[he](ee,ne),Qi[he](ue,ge),de=be,he=ee,Ne=ne,255&(ve=C>>0)&&(170&ve?Sf(de,256,he,Ne):Wa(de,256,he,Ne)),ve=ue,de=ge,255&(C>>=8)&&(170&C?Sf(be,320,ve,de):Wa(be,320,ve,de)),B<h.Ub-1&&(n(pe[Se].y,0,K,J+480,16),n(pe[Se].f,0,ee,ne+224,8),n(pe[Se].ea,0,ue,ge+224,8)),C=8*q*h.B,pe=h.sa,Se=h.ta+16*T+16*q*h.R,be=h.qa,ve=h.ra+8*T+C,de=h.Ha,he=h.Ia+8*T+C,C=0;16>C;++C)n(pe,Se+C*h.R,K,J+32*C,16);for(C=0;8>C;++C)n(be,ve+C*h.B,ee,ne+32*C,8),n(de,he+C*h.B,ue,ge+32*C,8)}}function uu(h,b,C,T,B,q,K,J,ee){var ne=[0],ue=[0],ge=0,ve=ee!=null?ee.kd:0,pe=ee??new pf;if(h==null||12>C)return 7;pe.data=h,pe.w=b,pe.ha=C,b=[b],C=[C],pe.gb=[pe.gb];e:{var Se=b,be=C,de=pe.gb;if(t(h!=null),t(be!=null),t(de!=null),de[0]=0,12<=be[0]&&!r(h,Se[0],"RIFF")){if(r(h,Se[0]+8,"WEBP")){de=3;break e}var he=Pe(h,Se[0]+4);if(12>he||4294967286<he){de=3;break e}if(ve&&he>be[0]-8){de=7;break e}de[0]=he,Se[0]+=12,be[0]-=12}de=0}if(de!=0)return de;for(he=0<pe.gb[0],C=C[0];;){e:{var Ne=h;be=b,de=C;var Ce=ne,je=ue,He=Se=[0];if(($e=ge=[ge])[0]=0,8>de[0])de=7;else{if(!r(Ne,be[0],"VP8X")){if(Pe(Ne,be[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var Oe=Pe(Ne,be[0]+8),at=1+ke(Ne,be[0]+12);if(2147483648<=at*(Ne=1+ke(Ne,be[0]+15))){de=3;break e}He!=null&&(He[0]=Oe),Ce!=null&&(Ce[0]=at),je!=null&&(je[0]=Ne),be[0]+=18,de[0]-=18,$e[0]=1}de=0}}if(ge=ge[0],Se=Se[0],de!=0)return de;if(be=!!(2&Se),!he&&ge)return 3;if(q!=null&&(q[0]=!!(16&Se)),K!=null&&(K[0]=be),J!=null&&(J[0]=0),K=ne[0],Se=ue[0],ge&&be&&ee==null){de=0;break}if(4>C){de=7;break}if(he&&ge||!he&&!ge&&!r(h,b[0],"ALPH")){C=[C],pe.na=[pe.na],pe.P=[pe.P],pe.Sa=[pe.Sa];e:{Oe=h,de=b,he=C;var $e=pe.gb;Ce=pe.na,je=pe.P,He=pe.Sa,at=22,t(Oe!=null),t(he!=null),Ne=de[0];var Rt=he[0];for(t(Ce!=null),t(He!=null),Ce[0]=null,je[0]=null,He[0]=0;;){if(de[0]=Ne,he[0]=Rt,8>Rt){de=7;break e}var Ht=Pe(Oe,Ne+4);if(4294967286<Ht){de=3;break e}var Pt=8+Ht+1&-2;if(at+=Pt,0<$e&&at>$e){de=3;break e}if(!r(Oe,Ne,"VP8 ")||!r(Oe,Ne,"VP8L")){de=0;break e}if(Rt[0]<Pt){de=7;break e}r(Oe,Ne,"ALPH")||(Ce[0]=Oe,je[0]=Ne+8,He[0]=Ht),Ne+=Pt,Rt-=Pt}}if(C=C[0],pe.na=pe.na[0],pe.P=pe.P[0],pe.Sa=pe.Sa[0],de!=0)break}C=[C],pe.Ja=[pe.Ja],pe.xa=[pe.xa];e:if($e=h,de=b,he=C,Ce=pe.gb[0],je=pe.Ja,He=pe.xa,Oe=de[0],Ne=!r($e,Oe,"VP8 "),at=!r($e,Oe,"VP8L"),t($e!=null),t(he!=null),t(je!=null),t(He!=null),8>he[0])de=7;else{if(Ne||at){if($e=Pe($e,Oe+4),12<=Ce&&$e>Ce-12){de=3;break e}if(ve&&$e>he[0]-8){de=7;break e}je[0]=$e,de[0]+=8,he[0]-=8,He[0]=at}else He[0]=5<=he[0]&&$e[Oe+0]==47&&!($e[Oe+4]>>5),je[0]=he[0];de=0}if(C=C[0],pe.Ja=pe.Ja[0],pe.xa=pe.xa[0],b=b[0],de!=0)break;if(4294967286<pe.Ja)return 3;if(J==null||be||(J[0]=pe.xa?2:1),K=[K],Se=[Se],pe.xa){if(5>C){de=7;break}J=K,ve=Se,be=q,h==null||5>C?h=0:5<=C&&h[b+0]==47&&!(h[b+4]>>5)?(he=[0],$e=[0],Ce=[0],V(je=new M,h,b,C),it(je,he,$e,Ce)?(J!=null&&(J[0]=he[0]),ve!=null&&(ve[0]=$e[0]),be!=null&&(be[0]=Ce[0]),h=1):h=0):h=0}else{if(10>C){de=7;break}J=Se,h==null||10>C||!qp(h,b+3,C-3)?h=0:(ve=h[b+0]|h[b+1]<<8|h[b+2]<<16,be=16383&(h[b+7]<<8|h[b+6]),h=16383&(h[b+9]<<8|h[b+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=pe.Ja||!be||!h?h=0:(K&&(K[0]=be),J&&(J[0]=h),h=1))}if(!h||(K=K[0],Se=Se[0],ge&&(ne[0]!=K||ue[0]!=Se)))return 3;ee!=null&&(ee[0]=pe,ee.offset=b-ee.w,t(4294967286>b-ee.w),t(ee.offset==ee.ha-C));break}return de==0||de==7&&ge&&ee==null?(q!=null&&(q[0]|=pe.na!=null&&0<pe.na.length),T!=null&&(T[0]=K),B!=null&&(B[0]=Se),0):de}function bf(h,b,C){var T=b.width,B=b.height,q=0,K=0,J=T,ee=B;if(b.Da=h!=null&&0<h.Da,b.Da&&(J=h.cd,ee=h.bd,q=h.v,K=h.j,11>C||(q&=-2,K&=-2),0>q||0>K||0>=J||0>=ee||q+J>T||K+ee>B))return 0;if(b.v=q,b.j=K,b.va=q+J,b.o=K+ee,b.U=J,b.T=ee,b.da=h!=null&&0<h.da,b.da){if(!Qe(J,ee,C=[h.ib],q=[h.hb]))return 0;b.ib=C[0],b.hb=q[0]}return b.ob=h!=null&&h.ob,b.Kb=h==null||!h.Sd,b.da&&(b.ob=b.ib<3*T/4&&b.hb<3*B/4,b.Kb=0),1}function wf(h){if(h==null)return 2;if(11>h.S){var b=h.f.RGBA;b.fb+=(h.height-1)*b.A,b.A=-b.A}else b=h.f.kb,h=h.height,b.O+=(h-1)*b.fa,b.fa=-b.fa,b.N+=(h-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(h-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(h-1)*b.lb,b.lb=-b.lb);return 0}function du(h,b,C,T){if(T==null||0>=h||0>=b)return 2;if(C!=null){if(C.Da){var B=C.cd,q=C.bd,K=-2&C.v,J=-2&C.j;if(0>K||0>J||0>=B||0>=q||K+B>h||J+q>b)return 2;h=B,b=q}if(C.da){if(!Qe(h,b,B=[C.ib],q=[C.hb]))return 2;h=B[0],b=q[0]}}T.width=h,T.height=b;e:{var ee=T.width,ne=T.height;if(h=T.S,0>=ee||0>=ne||!(h>=gm&&13>h))h=2;else{if(0>=T.Rd&&T.sd==null){K=q=B=b=0;var ue=(J=ee*UN[h])*ne;if(11>h||(q=(ne+1)/2*(b=(ee+1)/2),h==12&&(K=(B=ee)*ne)),(ne=s(ue+2*q+K))==null){h=1;break e}T.sd=ne,11>h?((ee=T.f.RGBA).eb=ne,ee.fb=0,ee.A=J,ee.size=ue):((ee=T.f.kb).y=ne,ee.O=0,ee.fa=J,ee.Fd=ue,ee.f=ne,ee.N=0+ue,ee.Ab=b,ee.Cd=q,ee.ea=ne,ee.W=0+ue+q,ee.Db=b,ee.Ed=q,h==12&&(ee.F=ne,ee.J=0+ue+2*q),ee.Tc=K,ee.lb=B)}if(b=1,B=T.S,q=T.width,K=T.height,B>=gm&&13>B)if(11>B)h=T.f.RGBA,b&=(J=Math.abs(h.A))*(K-1)+q<=h.size,b&=J>=q*UN[B],b&=h.eb!=null;else{h=T.f.kb,J=(q+1)/2,ue=(K+1)/2,ee=Math.abs(h.fa),ne=Math.abs(h.Ab);var ge=Math.abs(h.Db),ve=Math.abs(h.lb),pe=ve*(K-1)+q;b&=ee*(K-1)+q<=h.Fd,b&=ne*(ue-1)+J<=h.Cd,b=(b&=ge*(ue-1)+J<=h.Ed)&ee>=q&ne>=J&ge>=J,b&=h.y!=null,b&=h.f!=null,b&=h.ea!=null,B==12&&(b&=ve>=q,b&=pe<=h.Tc,b&=h.F!=null)}else b=0;h=b?0:2}}return h!=0||C!=null&&C.fd&&(h=wf(T)),h}var xn=64,fu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hu=24,pu=32,Nf=8,ia=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ae("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(h){return h},D.Predictor2=function(h,b,C){return b[C+0]},D.Predictor3=function(h,b,C){return b[C+1]},D.Predictor4=function(h,b,C){return b[C-1]},D.Predictor5=function(h,b,C){return Re(Re(h,b[C+1]),b[C+0])},D.Predictor6=function(h,b,C){return Re(h,b[C-1])},D.Predictor7=function(h,b,C){return Re(h,b[C+0])},D.Predictor8=function(h,b,C){return Re(b[C-1],b[C+0])},D.Predictor9=function(h,b,C){return Re(b[C+0],b[C+1])},D.Predictor10=function(h,b,C){return Re(Re(h,b[C-1]),Re(b[C+0],b[C+1]))},D.Predictor11=function(h,b,C){var T=b[C+0];return 0>=ft(T>>24&255,h>>24&255,(b=b[C-1])>>24&255)+ft(T>>16&255,h>>16&255,b>>16&255)+ft(T>>8&255,h>>8&255,b>>8&255)+ft(255&T,255&h,255&b)?T:h},D.Predictor12=function(h,b,C){var T=b[C+0];return(et((h>>24&255)+(T>>24&255)-((b=b[C-1])>>24&255))<<24|et((h>>16&255)+(T>>16&255)-(b>>16&255))<<16|et((h>>8&255)+(T>>8&255)-(b>>8&255))<<8|et((255&h)+(255&T)-(255&b)))>>>0},D.Predictor13=function(h,b,C){var T=b[C-1];return(ct((h=Re(h,b[C+0]))>>24&255,T>>24&255)<<24|ct(h>>16&255,T>>16&255)<<16|ct(h>>8&255,T>>8&255)<<8|ct(h>>0&255,T>>0&255))>>>0};var vy=D.PredictorAdd0;D.PredictorAdd1=xt,Ae("Predictor2","PredictorAdd2"),Ae("Predictor3","PredictorAdd3"),Ae("Predictor4","PredictorAdd4"),Ae("Predictor5","PredictorAdd5"),Ae("Predictor6","PredictorAdd6"),Ae("Predictor7","PredictorAdd7"),Ae("Predictor8","PredictorAdd8"),Ae("Predictor9","PredictorAdd9"),Ae("Predictor10","PredictorAdd10"),Ae("Predictor11","PredictorAdd11"),Ae("Predictor12","PredictorAdd12"),Ae("Predictor13","PredictorAdd13");var jf=D.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var um,Ba=D.ColorIndexInverseTransform,mu=D.MapARGB,dm=D.VP8LColorIndexInverseTransformAlpha,fm=D.MapAlpha,$o=D.VP8LPredictorsAdd=[];$o.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var Vl,oa,Vn,Uo,qi,Gi,gu,Ki,Tr,Sf,qn,Wa,vu,hm,kf,ql,Gl,zo,Kl,xu,Xl,Bo,Cf,Ha,Ya,nr,ar,Or,tn=s(511),Xi=s(2041),Df=s(225),yu=s(767),pm=0,xy=Xi,mm=Df,ka=yu,Va=tn,gm=0,vm=1,_N=2,xm=3,ym=4,yy=5,PN=6,by=7,wy=8,bm=9,Ny=10,tA=[2,3,7],rA=[3,3,11],EN=[280,256,256,256,40],nA=[0,1,1,1,0],aA=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],sA=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],iA=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],oA=8,jy=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Sy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_f=null,lA=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cA=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],MN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uA=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],dA=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fA=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],hA=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wo=[],Ss=[],Qi=[],pA=1,AN=2,Ho=[],qa=[];we("UpsampleRgbLinePair",Dt,3),we("UpsampleBgrLinePair",yr,3),we("UpsampleRgbaLinePair",js,4),we("UpsampleBgraLinePair",ln,4),we("UpsampleArgbLinePair",En,4),we("UpsampleRgba4444LinePair",Vr,2),we("UpsampleRgb565LinePair",Cr,2);var mA=D.UpsampleRgbLinePair,gA=D.UpsampleBgrLinePair,LN=D.UpsampleRgbaLinePair,TN=D.UpsampleBgraLinePair,ON=D.UpsampleArgbLinePair,IN=D.UpsampleRgba4444LinePair,vA=D.UpsampleRgb565LinePair,wm=16,Nm=1<<wm-1,Pf=-227,ky=482,RN=6,xA=(256<<RN)-1,FN=0,yA=s(256),bA=s(256),wA=s(256),NA=s(256),jA=s(ky-Pf),SA=s(ky-Pf);ni("YuvToRgbRow",Dt,3),ni("YuvToBgrRow",yr,3),ni("YuvToRgbaRow",js,4),ni("YuvToBgraRow",ln,4),ni("YuvToArgbRow",En,4),ni("YuvToRgba4444Row",Vr,2),ni("YuvToRgb565Row",Cr,2);var $N=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],jm=[0,2,8],kA=[8,7,6,4,4,2,2,2,1,1,1,1],CA=1;this.WebPDecodeRGBA=function(h,b,C,T,B){var q=vm,K=new lu,J=new gs;K.ba=J,J.S=q,J.width=[J.width],J.height=[J.height];var ee=J.width,ne=J.height,ue=new Wi;if(ue==null||h==null)var ge=2;else t(ue!=null),ge=uu(h,b,C,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(ge!=0?ee=0:(ee!=null&&(ee[0]=ue.width[0]),ne!=null&&(ne[0]=ue.height[0]),ee=1),ee){J.width=J.width[0],J.height=J.height[0],T!=null&&(T[0]=J.width),B!=null&&(B[0]=J.height);e:{if(T=new tu,(B=new pf).data=h,B.w=b,B.ha=C,B.kd=1,b=[0],t(B!=null),((h=uu(B.data,B.w,B.ha,null,null,null,b,null,B))==0||h==7)&&b[0]&&(h=4),(b=h)==0){if(t(K!=null),T.data=B.data,T.w=B.w+B.offset,T.ha=B.ha-B.offset,T.put=Xs,T.ac=vn,T.bc=Qs,T.ma=K,B.xa){if((h=za())==null){K=1;break e}if(function(ve,pe){var Se=[0],be=[0],de=[0];t:for(;;){if(ve==null)return 0;if(pe==null)return ve.a=2,0;if(ve.l=pe,ve.a=0,V(ve.m,pe.data,pe.w,pe.ha),!it(ve.m,Se,be,de)){ve.a=3;break t}if(ve.xb=AN,pe.width=Se[0],pe.height=be[0],!ei(Se[0],be[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(h,T)){if(T=(b=du(T.width,T.height,K.Oa,K.ba))==0){t:{T=h;r:for(;;){if(T==null){T=0;break t}if(t(T.s.yc!=null),t(T.s.Ya!=null),t(0<T.s.Wb),t((C=T.l)!=null),t((B=C.ma)!=null),T.xb!=0){if(T.ca=B.ba,T.tb=B.tb,t(T.ca!=null),!bf(B.Oa,C,xm)){T.a=2;break r}if(!zl(T,C.width)||C.da)break r;if((C.da||zt(T.ca.S))&&me(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&me()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!Je(T.s.vb,T.s.Wa.Xa)){T.a=1;break r}T.xb=0}if(!bs(T,T.V,T.Ba,T.c,T.i,C.o,Kc))break r;B.Dc=T.Ma,T=1;break t}t(T.a!=0),T=0}T=!T}T&&(b=h.a)}else b=h.a}else{if((h=new Jx)==null){K=1;break e}if(h.Fa=B.na,h.P=B.P,h.qc=B.Sa,Gp(h,T)){if((b=du(T.width,T.height,K.Oa,K.ba))==0){if(h.Aa=0,C=K.Oa,t((B=h)!=null),C!=null){if(0<(ee=0>(ee=C.Md)?0:100<ee?255:255*ee/100)){for(ne=ue=0;4>ne;++ne)12>(ge=B.pb[ne]).lc&&(ge.ia=ee*kA[0>ge.lc?0:ge.lc]>>3),ue|=ge.ia;ue&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=C.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}Zx(h,T)||(b=h.a)}}else b=h.a}b==0&&K.Oa!=null&&K.Oa.fd&&(b=wf(K.ba))}K=b}q=K!=0?null:11>q?J.f.RGBA.eb:J.f.kb.y}else q=null;return q};var UN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,R){for(var A="",E=0;E<4;E++)A+=String.fromCharCode(D[R++]);return A}function d(D,R){return(D[R+0]<<0|D[R+1]<<8|D[R+2]<<16)>>>0}function f(D,R){return(D[R+0]<<0|D[R+1]<<8|D[R+2]<<16|D[R+3]<<24)>>>0}new l;var p=[0],m=[0],y=[],v=new l,w=e,g=function(D,R){var A={},E=0,_=!1,F=0,L=0;if(A.frames=[],!function(Y,Q,G,$){for(var X=0;X<$;X++)if(Y[Q+X]!=G.charCodeAt(X))return!0;return!1}(D,R,"RIFF",4)){var U,z;for(f(D,R+=4),R+=8;R<D.length;){var H=u(D,R),V=f(D,R+=4);R+=4;var ae=V+(1&V);switch(H){case"VP8 ":case"VP8L":A.frames[E]===void 0&&(A.frames[E]={}),(M=A.frames[E]).src_off=_?L:R-8,M.src_size=F+V+8,E++,_&&(_=!1,F=0,L=0);break;case"VP8X":(M=A.header={}).feature_flags=D[R];var le=R+4;M.canvas_width=1+d(D,le),le+=3,M.canvas_height=1+d(D,le),le+=3;break;case"ALPH":_=!0,F=ae+8,L=R-8;break;case"ANIM":(M=A.header).bgcolor=f(D,R),le=R+4,M.loop_count=(U=D)[(z=le)+0]<<0|U[z+1]<<8,le+=2;break;case"ANMF":var oe,M;(M=A.frames[E]={}).offset_x=2*d(D,R),R+=3,M.offset_y=2*d(D,R),R+=3,M.width=1+d(D,R),R+=3,M.height=1+d(D,R),R+=3,M.duration=d(D,R),R+=3,oe=D[R++],M.dispose=1&oe,M.blend=oe>>1&1}H!="ANMF"&&(R+=ae)}return A}}(w,0);g.response=w,g.rgbaoutput=!0,g.dataurl=!1;var x=g.header?g.header:null,S=g.frames?g.frames:null;if(x){x.loop_counter=x.loop_count,p=[x.canvas_height],m=[x.canvas_width];for(var j=0;j<S.length&&S[j].blend!=0;j++);}var P=S[0],I=v.WebPDecodeRGBA(w,P.src_off,P.src_size,m,p);P.rgba=I,P.imgwidth=m[0],P.imgheight=p[0];for(var k=0;k<m[0]*p[0]*4;k++)y[k]=I[k];return this.width=m,this.height=p,this.data=y,this}(function(e){var t=function(){return typeof Zb=="function"},r=function(p,m,y,v){var w=4,g=o;switch(v){case e.image_compression.FAST:w=1,g=s;break;case e.image_compression.MEDIUM:w=6,g=c;break;case e.image_compression.SLOW:w=9,g=l}p=n(p,m,y,g);var x=Zb(p,{level:w});return e.__addimage__.arrayBufferToBinaryString(x)},n=function(p,m,y,v){for(var w,g,x,S=p.length/m,j=new Uint8Array(p.length+S),P=d(),I=0;I<S;I+=1){if(x=I*m,w=p.subarray(x,x+m),v)j.set(v(w,y,g),x+I);else{for(var k,D=P.length,R=[];k<D;k+=1)R[k]=P[k](w,y,g);var A=f(R.concat());j.set(R[A],x+I)}g=w}return j},a=function(p){var m=Array.apply([],p);return m.unshift(0),m},s=function(p,m){var y,v=[],w=p.length;v[0]=1;for(var g=0;g<w;g+=1)y=p[g-m]||0,v[g+1]=p[g]-y+256&255;return v},o=function(p,m,y){var v,w=[],g=p.length;w[0]=2;for(var x=0;x<g;x+=1)v=y&&y[x]||0,w[x+1]=p[x]-v+256&255;return w},c=function(p,m,y){var v,w,g=[],x=p.length;g[0]=3;for(var S=0;S<x;S+=1)v=p[S-m]||0,w=y&&y[S]||0,g[S+1]=p[S]+256-(v+w>>>1)&255;return g},l=function(p,m,y){var v,w,g,x,S=[],j=p.length;S[0]=4;for(var P=0;P<j;P+=1)v=p[P-m]||0,w=y&&y[P]||0,g=y&&y[P-m]||0,x=u(v,w,g),S[P+1]=p[P]-x+256&255;return S},u=function(p,m,y){if(p===m&&m===y)return p;var v=Math.abs(m-y),w=Math.abs(p-y),g=Math.abs(p+m-y-y);return v<=w&&v<=g?p:w<=g?m:y},d=function(){return[a,s,o,c,l]},f=function(p){var m=p.map(function(y){return y.reduce(function(v,w){return v+Math.abs(w)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(p,m,y,v){var w,g,x,S,j,P,I,k,D,R,A,E,_,F,L,U=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(x=new WR(p)).imgData,g=x.bits,w=x.colorSpace,j=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){D=(k=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,A=new Uint8Array(D*x.colors),R=new Uint8Array(D);var H,V=x.pixelBitlength-x.bits;for(F=0,L=0;F<D;F++){for(_=k[F],H=0;H<V;)A[L++]=_>>>H&255,H+=x.bits;R[F]=_>>>H&255}}if(x.bits===16){D=(k=new Uint32Array(x.decodePixels().buffer)).length,A=new Uint8Array(D*(32/x.pixelBitlength)*x.colors),R=new Uint8Array(D*(32/x.pixelBitlength)),E=x.colors>1,F=0,L=0;for(var ae=0;F<D;)_=k[F++],A[L++]=_>>>0&255,E&&(A[L++]=_>>>16&255,_=k[F++],A[L++]=_>>>0&255),R[ae++]=_>>>16&255;g=8}v!==e.image_compression.NONE&&t()?(p=r(A,x.width*x.colors,x.colors,v),I=r(R,x.width,1,v)):(p=A,I=R,U=void 0)}if(x.colorType===3&&(w=this.color_spaces.INDEXED,P=x.palette,x.transparency.indexed)){var le=x.transparency.indexed,oe=0;for(F=0,D=le.length;F<D;++F)oe+=le[F];if((oe/=255)===D-1&&le.indexOf(0)!==-1)S=[le.indexOf(0)];else if(oe!==D){for(k=x.decodePixels(),R=new Uint8Array(k.length),F=0,D=k.length;F<D;F++)R[F]=le[k[F]];I=r(R,x.width,1)}}var M=function(Y){var Q;switch(Y){case e.image_compression.FAST:Q=11;break;case e.image_compression.MEDIUM:Q=13;break;case e.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(v);return U===this.decode.FLATE_DECODE&&(z="/Predictor "+M+" "),z+="/Colors "+j+" /BitsPerComponent "+g+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:y,data:p,index:m,filter:U,decodeParameters:z,transparency:S,palette:P,sMask:I,predictor:M,width:x.width,height:x.height,bitsPerComponent:g,colorSpace:w}}}})(ot.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new HR(t),o=s.width,c=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:o,height:c},d=new y1(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(ot.API),Ps.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ps.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){tr.log("bit decode error:"+r)}},Ps.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var l=this.palette[s>>7-c&1];this.data[o+4*c]=l.blue,this.data[o+4*c+1]=l.green,this.data[o+4*c+2]=l.red,this.data[o+4*c+3]=255}r!==0&&(this.pos+=4-r)}},Ps.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,c=s>>4,l=15&s,u=this.palette[c];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ps.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ps.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=l,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Ps.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&t)/t*255|0,l=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=c,this.data[d+3]=255}this.pos+=e}},Ps.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ps.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=s,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=o}},Ps.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new Ps(t,!1),o=s.width,c=s.height,l={data:s.getData(),width:o,height:c},u=new y1(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(ot.API),JS.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new JS(t),o=s.width,c=s.height,l={data:s.getData(),width:o,height:c},u=new y1(100).encode(l,100);return e.processJPEG.call(this,u,r,n,a)}}(ot.API),ot.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),c=0,l=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],p=n[u+2],m=n[u+3];s[c++]=d,s[c++]=f,s[c++]=p,o[l++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ot.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_u=ot.API,r0=_u.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,l=c.fof?c.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,p=0,m=e.length,y=0,v=c[0]||l,w=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(p=f&&wt(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/d:0,w.push((c[n]||v)/l+p)),y=n;return w},GS=_u.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return _u.processArabic&&(e=_u.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:r0.apply(this,arguments).reduce(function(s,o){return s+o},0)},KS=function(e,t,r,n){for(var a=[],s=0,o=e.length,c=0;s!==o&&c+t[s]<r;)c+=t[s],s++;a.push(e.slice(0,s));var l=s;for(c=0;s!==o;)c+t[s]>n&&(a.push(e.slice(l,s)),c=0,l=s),c+=t[s],s++;return l!==s&&a.push(e.slice(l,s)),a},XS=function(e,t,r){r||(r={});var n,a,s,o,c,l,u,d=[],f=[d],p=r.textIndent||0,m=0,y=0,v=e.split(" "),w=r0.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var g=Array(l).join(" "),x=[];v.map(function(j){(j=j.split(/\s*\n/)).length>1?x=x.concat(j.map(function(P,I){return(I&&P.length?`
`:"")+P})):x.push(j[0])}),v=x,l=GS.apply(this,[g,r])}for(s=0,o=v.length;s<o;s++){var S=0;if(n=v[s],l&&n[0]==`
`&&(n=n.substr(1),S=1),p+m+(y=(a=r0.apply(this,[n,r])).reduce(function(j,P){return j+P},0))>t||S){if(y>t){for(c=KS.apply(this,[n,a,t-(p+m),t]),d.push(c.shift()),d=[c.pop()];c.length;)f.push([c.shift()]);y=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,P){return j+P},0)}else d=[n];f.push(d),p=y+l,m=w}else d.push(n),p+=m+y,m=w}return u=l?function(j,P){return(P?g:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},_u.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var c,l,u=[];for(c=0,l=n.length;c<l;c++)u=u.concat(XS.apply(this,[n[c],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var p,m,y,v,w=["{"];for(var g in f){if(p=f[g],isNaN(parseInt(g,10))?m="'"+g+"'":(g=parseInt(g,10),m=(m=s(g).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof p=="number")p<0?(y=s(p).slice(3),v="-"):(y=s(p).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(wt(p)!=="object")throw new Error("Don't know what to do with value type "+wt(p)+".");y=o(p)}w.push(m+y)}return w.push("}"),w.join("")},c=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,m,y,v,w={},g=1,x=w,S=[],j="",P="",I=f.length-1,k=1;k<I;k+=1)(v=f[k])=="'"?p?(y=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(S.push([x,y]),x={},y=void 0):v=="}"?((m=S.pop())[0][m[1]]=x,y=void 0,x=m[0]):v=="-"?g=-1:y===void 0?r.hasOwnProperty(v)?(j+=r[v],y=parseInt(j,16)*g,g=1,j=""):j+=v:r.hasOwnProperty(v)?(P+=r[v],x[y]=parseInt(P,16)*g,g=1,y=void 0,P=""):P+=v;return w},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var p=f.font,m=d.Unicode[p.postScriptName];m&&(p.metadata.Unicode={},p.metadata.Unicode.widths=m.widths,p.metadata.Unicode.kerning=m.kerning);var y=u.Unicode[p.postScriptName];y&&(p.metadata.Unicode.encoding=y,p.encoding=y.codePages[0])}])}(ot.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(wh(c)),o.metadata=e.API.TTFFont.open(c),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(ot),function(e){function t(){return(lt.canvg?Promise.resolve(lt.canvg):Gb(()=>import("./index.es-BHITKPjb.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ot.API.addSvgAsImage=function(r,n,a,s,o,c,l,u){if(isNaN(n)||isNaN(a))throw tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(y){return y.fromString(f,r,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(p)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,s,o,l,u)})}}(),ot.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},ot.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(o),l=[],u=0,d=0,f=0;function p(y,v){var w,g=!1;for(w=0;w<y.length;w+=1)y[w]===v&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=c.length;for(f=0;f<m;f+=1)r[c[f]].value=r[c[f]].defaultValue,r[c[f]].explicitSet=!1}if(wt(e)==="object"){for(a in e)if(s=e[a],p(c,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&p(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+c.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+c+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ot.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var c,l=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,p=s.length;f<p;++f){if(c=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(c),o.metadata.toUnicode[c]=s.charCodeAt(f),l.indexOf(c)==-1&&(l.push(c),l.push([parseInt(o.metadata.widthOfGlyph(c),10)])),c=="0")return d.join("");c=c.toString(16),d.push(u[4-c.length],c)}return d.join("")},n=function(s){var o,c,l,u,d,f,p;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(c=Object.keys(s).sort(function(m,y){return m-y})).length;f<p;f++)o=c[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var c=o.font,l=o.out,u=o.newObject,d=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var f=c.metadata.Unicode.widths,p=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),m="",y=0;y<p.length;y++)m+=String.fromCharCode(p[y]);var v=u();d({data:m,addLength1:!0,objectId:v}),l("endobj");var w=u();d({data:n(c.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var g=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Lu(c.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),l("/Flags "+c.metadata.flags),l("/StemV "+c.metadata.stemV),l("/ItalicAngle "+c.metadata.italicAngle),l("/Ascent "+c.metadata.ascender),l("/Descent "+c.metadata.decender),l("/CapHeight "+c.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Lu(c.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+c.encoding+")"),l(">>"),l(">>"),l("endobj"),c.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+w+" 0 R"),l("/BaseFont /"+Lu(c.fontName)),l("/Encoding /"+c.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),c.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var c=o.font,l=o.out,u=o.newObject,d=o.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var f=c.metadata.rawData,p="",m=0;m<f.length;m++)p+=String.fromCharCode(f[m]);var y=u();d({data:p,addLength1:!0,objectId:y}),l("endobj");var v=u();d({data:n(c.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var w=u();l("<<"),l("/Descent "+c.metadata.decender),l("/CapHeight "+c.metadata.capHeight),l("/StemV "+c.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),l("/FontName /"+Lu(c.fontName)),l("/ItalicAngle "+c.metadata.italicAngle),l("/Ascent "+c.metadata.ascender),l(">>"),l("endobj"),c.objectNumber=u();for(var g=0;g<c.metadata.hmtx.widths.length;g++)c.metadata.hmtx.widths[g]=parseInt(c.metadata.hmtx.widths[g]*(1e3/c.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Lu(c.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),l("endobj"),c.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,c=s.text||"",l=s.x,u=s.y,d=s.options||{},f=s.mutex||{},p=f.pdfEscape,m=f.activeFontKey,y=f.fonts,v=m,w="",g=0,x="",S=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:c,x:l,y:u,options:d,mutex:f};for(x=c,v=m,Array.isArray(c)&&(x=c[0]),g=0;g<x.length;g+=1)y[v].metadata.hasOwnProperty("cmap")&&(o=y[v].metadata.cmap.unicode.codeMap[x[g].charCodeAt(0)]),o||x[g].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?w+=x[g]:w+="";var j="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?j=p(w,v).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(j=r(w,y[v])),f.isHex=!0,{text:j,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",c=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?c.push([a(Object.assign({},l,{text:o[u][0]})).text,o[u][1],o[u][2]]):c.push(a(Object.assign({},l,{text:o[u]})).text);s.text=c}else s.text=a(Object.assign({},l,{text:o})).text}])}(ot),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ot.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,c,l,u,d,f=t,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var j=function(E){var _=E.charCodeAt(),F=_>>8,L=v[F];return L!==void 0?f[256*L+(255&_)]:F===252||F===253?"AL":g.test(F)?"L":F===8?"R":"N"},P=function(E){for(var _,F=0;F<E.length;F++){if((_=j(E.charAt(F)))==="L")return!1;if(_==="R")return!0}return!1},I=function(E,_,F,L){var U,z,H,V,ae=_[L];switch(ae){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(ae="AN");break;case"AL":x=!0,ae="R";break;case"WS":ae="N";break;case"CS":L<1||L+1>=_.length||(U=F[L-1])!=="EN"&&U!=="AN"||(z=_[L+1])!=="EN"&&z!=="AN"?ae="N":x&&(z="AN"),ae=z===U?z:"N";break;case"ES":ae=(U=L>0?F[L-1]:"B")==="EN"&&L+1<_.length&&_[L+1]==="EN"?"EN":"N";break;case"ET":if(L>0&&F[L-1]==="EN"){ae="EN";break}if(x){ae="N";break}for(H=L+1,V=_.length;H<V&&_[H]==="ET";)H++;ae=H<V&&_[H]==="EN"?"EN":"N";break;case"NSM":if(o&&!c){for(V=_.length,H=L+1;H<V&&_[H]==="NSM";)H++;if(H<V){var le=E[L],oe=le>=1425&&le<=2303||le===64286;if(U=_[H],oe&&(U==="R"||U==="AL")){ae="R";break}}}ae=L<1||(U=_[L-1])==="B"?"N":F[L-1];break;case"B":x=!1,a=!0,ae=S;break;case"S":s=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":ae="N"}return ae},k=function(E,_,F){var L=E.split("");return F&&D(L,F,{hiLevel:S}),L.reverse(),_&&_.reverse(),L.join("")},D=function(E,_,F){var L,U,z,H,V,ae=-1,le=E.length,oe=0,M=[],Y=S?m:p,Q=[];for(x=!1,a=!1,s=!1,U=0;U<le;U++)Q[U]=j(E[U]);for(z=0;z<le;z++){if(V=oe,M[z]=I(E,Q,M,z),L=240&(oe=Y[V][y[M[z]]]),oe&=15,_[z]=H=Y[oe][5],L>0)if(L===16){for(U=ae;U<z;U++)_[U]=1;ae=-1}else ae=-1;if(Y[oe][6])ae===-1&&(ae=z);else if(ae>-1){for(U=ae;U<z;U++)_[U]=H;ae=-1}Q[z]==="B"&&(_[z]=0),F.hiLevel|=H}s&&function(G,$,X){for(var Z=0;Z<X;Z++)if(G[Z]==="S"){$[Z]=S;for(var te=Z-1;te>=0&&G[te]==="WS";te--)$[te]=S}}(Q,_,le)},R=function(E,_,F,L,U){if(!(U.hiLevel<E)){if(E===1&&S===1&&!a)return _.reverse(),void(F&&F.reverse());for(var z,H,V,ae,le=_.length,oe=0;oe<le;){if(L[oe]>=E){for(V=oe+1;V<le&&L[V]>=E;)V++;for(ae=oe,H=V-1;ae<H;ae++,H--)z=_[ae],_[ae]=_[H],_[H]=z,F&&(z=F[ae],F[ae]=F[H],F[H]=z);oe=V}oe++}}},A=function(E,_,F){var L=E.split(""),U={hiLevel:S};return F||(F=[]),D(L,F,U),function(z,H,V){if(V.hiLevel!==0&&d)for(var ae,le=0;le<z.length;le++)H[le]===1&&(ae=w.indexOf(z[le]))>=0&&(z[le]=w[ae+1])}(L,F,U),R(2,L,_,F,U),R(1,L,_,F,U),L.join("")};return this.__bidiEngine__.doBidiReorder=function(E,_,F){if(function(U,z){if(z)for(var H=0;H<U.length;H++)z[H]=H;c===void 0&&(c=P(U)),u===void 0&&(u=P(U))}(E,_),o||!l||u)if(o&&l&&c^u)S=c?1:0,E=k(E,_,F);else if(!o&&l&&u)S=c?1:0,E=A(E,_,F),E=k(E,_);else if(!o||c||l||u){if(o&&!l&&c^u)E=k(E,_),c?(S=0,E=A(E,_,F)):(S=1,E=A(E,_,F),E=k(E,_));else if(o&&c&&!l&&u)S=1,E=A(E,_,F),E=k(E,_);else if(!o&&!l&&c^u){var L=d;c?(S=1,E=A(E,_,F),S=0,d=!1,E=A(E,_,F),d=L):(S=0,E=A(E,_,F),E=k(E,_),S=1,d=!1,E=A(E,_,F),d=L,E=k(E,_))}}else S=0,E=A(E,_,F);else S=c?1:0,E=A(E,_,F);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,l=E.isOutputVisual,c=E.isInputRtl,u=E.isOutputRtl,d=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(o=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?o.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):o.push([r.doBidiReorder(a[c])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(ot),ot.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Cl(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sF(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new YR(this.contents),this.head=new qR(this),this.name=new JR(this),this.cmap=new l_(this),this.toUnicode={},this.hhea=new GR(this),this.maxp=new ZR(this),this.hmtx=new eF(this),this.post=new XR(this),this.os2=new KR(this),this.loca=new aF(this),this.glyf=new tF(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,c,l,u;for(u=[],o=0,c=(l=this.bbox).length;o<c;o++)t=l[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,c;for(o=0,s=0,c=(t=""+t).length;0<=c?s<c:s>c;s=0<=c?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var qs,Cl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,c,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^c)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*c+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),YR=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,c,l,u,d,f,p,m,y,v;for(v in m=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(m)/l),o=Math.floor(f/l),d=16*m-f,(a=new Cl).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(d),s=16*m,u=a.pos+s,c=null,y=[],r)for(p=r[v],a.writeString(v),a.writeInt(e(p)),a.writeInt(u),a.writeInt(p.length),y=y.concat(p),v==="head"&&(c=u),u+=p.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-e(a.data),a.pos=c+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=c_.call(r);r.length%4;)r.push(0);for(s=new Cl(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),VR={}.hasOwnProperty,Fi=function(e,t){for(var r in t)VR.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};qs=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var qR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Cl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),ZS=function(){function e(t,r){var n,a,s,o,c,l,u,d,f,p,m,y,v,w,g,x,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(m=t.readUInt16(),p=m/2,t.pos+=6,s=function(){var j,P;for(P=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)P.push(t.readUInt16());return P}(),t.pos+=2,v=function(){var j,P;for(P=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)P.push(t.readUInt16());return P}(),u=function(){var j,P;for(P=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)P.push(t.readUInt16());return P}(),d=function(){var j,P;for(P=[],l=j=0;0<=p?j<p:j>p;l=0<=p?++j:--j)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,c=function(){var j,P;for(P=[],l=j=0;0<=a?j<a:j>a;l=0<=a?++j:--j)P.push(t.readUInt16());return P}(),l=g=0,S=s.length;g<S;l=++g)for(w=s[l],n=x=y=v[l];y<=w?x<=w:x>=w;n=y<=w?++x:--x)d[l]===0?o=n+u[l]:(o=c[d[l]/2+(n-y)-(p-l)]||0)!==0&&(o+=u[l]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,s,o,c,l,u,d,f,p,m,y,v,w,g,x,S,j,P,I,k,D,R,A,E,_,F,L,U,z,H,V,ae,le,oe,M,Y,Q,G,$,X,Z,te,fe,xe,ke;switch(L=new Cl,o=Object.keys(t).sort(function(Pe,Je){return Pe-Je}),r){case"macroman":for(v=0,w=function(){var Pe=[];for(y=0;y<256;++y)Pe.push(0);return Pe}(),x={0:0},s={},U=0,ae=o.length;U<ae;U++)x[te=t[a=o[U]]]==null&&(x[te]=++v),s[a]={old:t[a],new:x[t[a]]},w[a]=x[t[a]];return L.writeUInt16(1),L.writeUInt16(0),L.writeUInt32(12),L.writeUInt16(0),L.writeUInt16(262),L.writeUInt16(0),L.write(w),{charMap:s,subtable:L.data,maxGlyphID:v+1};case"unicode":for(_=[],f=[],S=0,x={},n={},g=u=null,z=0,le=o.length;z<le;z++)x[P=t[a=o[z]]]==null&&(x[P]=++S),n[a]={old:P,new:x[P]},c=x[P]-a,g!=null&&c===u||(g&&f.push(g),_.push(a),u=c),g=a;for(g&&f.push(g),f.push(65535),_.push(65535),A=2*(R=_.length),D=2*Math.pow(Math.log(R)/Math.LN2,2),p=Math.log(D/2)/Math.LN2,k=2*R-D,l=[],I=[],m=[],y=H=0,oe=_.length;H<oe;y=++H){if(E=_[y],d=f[y],E===65535){l.push(0),I.push(0);break}if(E-(F=n[E].new)>=32768)for(l.push(0),I.push(2*(m.length+R-y)),a=V=E;E<=d?V<=d:V>=d;a=E<=d?++V:--V)m.push(n[a].new);else l.push(F-E),I.push(0)}for(L.writeUInt16(3),L.writeUInt16(1),L.writeUInt32(12),L.writeUInt16(4),L.writeUInt16(16+8*R+2*m.length),L.writeUInt16(0),L.writeUInt16(A),L.writeUInt16(D),L.writeUInt16(p),L.writeUInt16(k),X=0,M=f.length;X<M;X++)a=f[X],L.writeUInt16(a);for(L.writeUInt16(0),Z=0,Y=_.length;Z<Y;Z++)a=_[Z],L.writeUInt16(a);for(fe=0,Q=l.length;fe<Q;fe++)c=l[fe],L.writeUInt16(c);for(xe=0,G=I.length;xe<G;xe++)j=I[xe],L.writeUInt16(j);for(ke=0,$=m.length;ke<$;ke++)v=m[ke],L.writeUInt16(v);return{charMap:n,subtable:L.data,maxGlyphID:S+1}}},e}(),l_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new ZS(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=ZS.encode(r,n),(s=new Cl).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),GR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),KR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),XR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var c,l,u;for(u=[],o=c=0,l=this.file.maxp.numGlyphs;0<=l?c<l:c>l;o=0<=l?++c:--c)u.push(r.readUInt32());return u}).call(this)}},t}(),QR=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},JR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,o,c,l,u,d,f,p,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},o=f=0,p=a.length;f<p;o=++f)s=a[o],r.pos=s.offset,d=r.readString(s.length),c=new QR(d,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(c);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),ZR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),eF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,o,c,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,p,m;for(m=[],d=0,f=(p=this.metrics).length;d<f;d++)o=p[d],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),c_=[].slice,tF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,o,c,l,u,d,f,p;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,c=(l=new Cl(n.read(s))).readShort(),d=l.readShort(),p=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[r]=c===-1?new nF(l,d,p,u,f):new rF(l,c,d,p,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,o,c,l,u;for(c=[],o=[],l=0,u=n.length;l<u;l++)s=r[n[l]],o.push(c.length),s&&(c=c.concat(s.encode(a)));return o.push(c.length),{table:c,offsets:o}},t}(),rF=function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),nF=function(){function e(t,r,n,a,s){var o,c;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;c=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&c;)o.pos+=1&c?4:2,128&c?o.pos+=8:64&c?o.pos+=4:8&c&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Cl(c_.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),aF=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Fi(t,qs),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,c=0;c<a.length;++c)if(a[c]=s,o<n.length&&n[o]==c){++o,a[c]=s;var l=this.offsets[c],u=this.offsets[c+1]-l;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),sF=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,c,l;for(a={},o=0,c=t.length;o<c;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,c,l,u,d,f,p,m,y,v,w,g;for(a in n=l_.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},g=n.charMap)m[(l=g[a]).old]=l.new;for(y in p=n.maxGlyphID,o)y in m||(m[y]=p++);return d=function(x){var S,j;for(S in j={},x)j[x[S]]=S;return j}(m),f=Object.keys(d).sort(function(x,S){return x-S}),v=function(){var x,S,j;for(j=[],x=0,S=f.length;x<S;x++)c=f[x],j.push(d[c]);return j}(),s=this.font.glyf.encode(o,v,m),u=this.font.loca.encode(s.offsets,v),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();ot.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var c,l,u;for(u=[],c=0,l=r.length;c<l;c++)n=r[c],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();const iF=({quote:e,onClose:t,onEdit:r})=>{const{prospects:n,updateQuote:a,companySettings:s}=ra(),[o,c]=O.useState(!1),l=n.find(v=>v.id===e.prospectId),u=new Date>e.vigencia&&e.estado==="Enviada",d=v=>({Borrador:"bg-gray-100 text-gray-800",Enviada:"bg-blue-100 text-blue-800",Aceptada:"bg-green-100 text-green-800",Rechazada:"bg-red-100 text-red-800",Vencida:"bg-orange-100 text-orange-800"})[v],f=v=>{const g={Borrador:pn,Enviada:Fv,Aceptada:jS,Rechazada:zs,Vencida:pn}[v];return i.jsx(g,{className:"h-4 w-4"})},p=v=>{a(e.id,{estado:v,historialCambios:[...e.historialCambios,{id:Date.now().toString(),fecha:new Date,accion:`Estado cambiado a ${v}`,usuario:"Usuario Actual",detalles:`Estado anterior: ${e.estado}`}]})},m=async()=>{c(!0);try{const v=new ot("p","mm","a4"),w=v.internal.pageSize.getWidth(),g=v.internal.pageSize.getHeight();let x=20;v.setFontSize(20),v.setFont("helvetica","bold"),v.text(s.nombre,20,x),x+=10,v.setFontSize(10),v.setFont("helvetica","normal"),v.text(s.direccion,20,x),x+=5,v.text(`Tel: ${s.telefono} | Email: ${s.correo}`,20,x),x+=5,v.text(`RFC: ${s.rfc}`,20,x),x+=15,v.setFontSize(16),v.setFont("helvetica","bold"),v.text("COTIZACIN",20,x),v.setFontSize(12),v.text(`No. ${e.numero}`,w-60,x),x+=15,v.setFontSize(12),v.setFont("helvetica","bold"),v.text("CLIENTE:",20,x),x+=7,v.setFont("helvetica","normal"),v.text((l==null?void 0:l.nombre)||"Cliente no encontrado",20,x),x+=5,v.text((l==null?void 0:l.telefono)||"",20,x),x+=5,v.text((l==null?void 0:l.correo)||"",20,x),v.text(`Fecha: ${st(e.fecha,"dd/MM/yyyy")}`,w-80,x-10),v.text(`Vigencia: ${st(e.vigencia,"dd/MM/yyyy")}`,w-80,x-5),x+=15,v.setFont("helvetica","bold"),v.text("DESCRIPCIN",20,x),v.text("CANT.",120,x),v.text("PRECIO UNIT.",140,x),v.text("SUBTOTAL",170,x),x+=5,v.line(20,x,w-20,x),x+=5,v.setFont("helvetica","normal"),e.items.forEach(j=>{x>g-40&&(v.addPage(),x=20),v.text(j.nombre,20,x),v.text(j.cantidad.toString(),120,x),v.text(`$${j.precioUnitario.toLocaleString()}`,140,x),v.text(`$${j.subtotal.toLocaleString()}`,170,x),x+=5,j.descripcion&&(v.setFontSize(8),v.text(j.descripcion,20,x),v.setFontSize(10),x+=4),x+=2}),x+=10,v.line(120,x,w-20,x),x+=7,v.setFont("helvetica","bold"),v.text(`Subtotal: $${e.subtotal.toLocaleString()}`,120,x),x+=5,e.descuentoGlobal>0&&(v.text(`Descuento: -$${(e.tipoDescuentoGlobal==="porcentaje"?e.subtotal*(e.descuentoGlobal/100):e.descuentoGlobal).toLocaleString()}`,120,x),x+=5);const S=(e.subtotal-(e.tipoDescuentoGlobal==="porcentaje"?e.subtotal*(e.descuentoGlobal/100):e.descuentoGlobal))*(e.iva/100);if(v.text(`IVA (${e.iva}%): $${S.toLocaleString()}`,120,x),x+=5,v.setFontSize(12),v.text(`TOTAL: $${e.total.toLocaleString()}`,120,x),e.terminosCondiciones){x+=15,v.setFontSize(10),v.setFont("helvetica","bold"),v.text("TRMINOS Y CONDICIONES:",20,x),x+=5,v.setFont("helvetica","normal");const j=v.splitTextToSize(e.terminosCondiciones,w-40);v.text(j,20,x)}e.condicionesPago&&(x+=15,v.setFont("helvetica","bold"),v.text("CONDICIONES DE PAGO:",20,x),x+=5,v.setFont("helvetica","normal"),v.text(e.condicionesPago,20,x)),v.save(`Cotizacion-${e.numero}.pdf`)}catch(v){console.error("Error generating PDF:",v),alert("Error al generar el PDF")}finally{c(!1)}},y=()=>{if(l){const v=l.telefono.replace(/[^\d+]/g,""),w=`Hola ${l.nombre}, te envo la cotizacin ${e.numero} por un total de $${e.total.toLocaleString()}. Te gustara revisar los detalles?`;window.open(`https://wa.me/${v}?text=${encodeURIComponent(w)}`,"_blank")}};return i.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:[i.jsx(Np,{className:"h-5 w-5 mr-2"}),"Volver"]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Cotizacin ",e.numero]}),i.jsxs("p",{className:"text-gray-600",children:["Creada el ",st(e.fecha,"dd/MM/yyyy"),"  Vence el ",st(e.vigencia,"dd/MM/yyyy")]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full gap-1 ${u?"bg-orange-100 text-orange-800":d(e.estado)}`,children:[f(u?"Vencida":e.estado),u?"Vencida":e.estado]}),i.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:m,disabled:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[i.jsx(is,{className:"h-4 w-4"}),o?"Generando...":"PDF"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"De:"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx("p",{className:"font-medium",children:s.nombre}),i.jsx("p",{className:"text-gray-600",children:s.direccion}),i.jsx("p",{className:"text-gray-600",children:s.telefono}),i.jsx("p",{className:"text-gray-600",children:s.correo}),i.jsxs("p",{className:"text-gray-600",children:["RFC: ",s.rfc]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Para:"}),l?i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx("p",{className:"font-medium",children:l.nombre}),i.jsx("p",{className:"text-gray-600",children:l.telefono}),i.jsx("p",{className:"text-gray-600",children:l.correo}),i.jsxs("p",{className:"text-gray-600",children:["Plataforma: ",l.plataforma]}),i.jsxs("p",{className:"text-gray-600",children:["Inters: ",l.servicioInteres]})]}):i.jsx("p",{className:"text-red-600",children:"Cliente no encontrado"})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items de la Cotizacin"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-700",children:"Descripcin"}),i.jsx("th",{className:"text-center py-3 text-sm font-medium text-gray-700",children:"Cantidad"}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Precio Unit."}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Descuento"}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Subtotal"})]})}),i.jsx("tbody",{children:e.items.map((v,w)=>i.jsxs("tr",{className:w%2===0?"bg-gray-50":"bg-white",children:[i.jsx("td",{className:"py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:v.nombre}),v.descripcion&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.descripcion})]})}),i.jsx("td",{className:"py-4 text-center",children:v.cantidad}),i.jsxs("td",{className:"py-4 text-right",children:["$",v.precioUnitario.toLocaleString()]}),i.jsx("td",{className:"py-4 text-right",children:v.descuento>0&&i.jsxs("span",{className:"text-red-600",children:["-",v.tipoDescuento==="porcentaje"?`${v.descuento}%`:`$${v.descuento.toLocaleString()}`]})}),i.jsxs("td",{className:"py-4 text-right font-medium",children:["$",v.subtotal.toLocaleString()]})]},v.id))})]})}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("div",{className:"flex justify-end",children:i.jsxs("div",{className:"w-64 space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),i.jsxs("span",{className:"font-medium",children:["$",e.subtotal.toLocaleString()]})]}),e.descuentoGlobal>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Descuento Global:"}),i.jsxs("span",{className:"font-medium text-red-600",children:["-",e.tipoDescuentoGlobal==="porcentaje"?`${e.descuentoGlobal}%`:`$${e.descuentoGlobal.toLocaleString()}`]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-600",children:["IVA (",e.iva,"%):"]}),i.jsxs("span",{className:"font-medium",children:["$",((e.subtotal-(e.tipoDescuentoGlobal==="porcentaje"?e.subtotal*(e.descuentoGlobal/100):e.descuentoGlobal))*(e.iva/100)).toLocaleString()]})]}),i.jsx("div",{className:"border-t pt-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",e.total.toLocaleString()]})]})})]})})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin Adicional"}),i.jsxs("div",{className:"space-y-4",children:[e.condicionesPago&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Condiciones de Pago"}),i.jsx("p",{className:"text-gray-700",children:e.condicionesPago})]}),e.notasAdicionales&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notas Adicionales"}),i.jsx("p",{className:"text-gray-700",children:e.notasAdicionales})]}),e.terminosCondiciones&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Trminos y Condiciones"}),i.jsx("p",{className:"text-gray-700",children:e.terminosCondiciones})]}),e.metodosPago.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mtodos de Pago Aceptados"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.metodosPago.map(v=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded",children:v},v))})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado de la Cotizacin"}),i.jsx("div",{className:"space-y-2",children:["Borrador","Enviada","Aceptada","Rechazada"].map(v=>i.jsx("button",{onClick:()=>p(v),className:`w-full text-left p-3 rounded-lg border transition-colors ${e.estado===v?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:v}),e.estado===v&&i.jsx(jS,{className:"h-4 w-4"})]})},v))})]}),l&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rpidas"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:y,className:"w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Hc,{className:"h-4 w-4"}),"Enviar por WhatsApp"]}),i.jsxs("button",{onClick:()=>window.open(`mailto:${l.correo}?subject=Cotizacin ${e.numero}&body=Estimado/a ${l.nombre}, adjunto encontrar la cotizacin solicitada.`),className:"w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Ai,{className:"h-4 w-4"}),"Enviar por Email"]}),i.jsxs("button",{onClick:()=>window.open(`tel:${l.telefono}`),className:"w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(ko,{className:"h-4 w-4"}),"Llamar Cliente"]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin de la Cotizacin"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Nmero:"}),i.jsx("span",{className:"font-medium",children:e.numero})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Fecha de creacin:"}),i.jsx("span",{className:"font-medium",children:st(e.fechaCreacion,"dd/MM/yyyy")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"ltima actualizacin:"}),i.jsx("span",{className:"font-medium",children:st(e.fechaActualizacion,"dd/MM/yyyy")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Creado por:"}),i.jsx("span",{className:"font-medium",children:e.creadoPor})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Items:"}),i.jsx("span",{className:"font-medium",children:e.items.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Vigencia:"}),i.jsx("span",{className:`font-medium ${u?"text-red-600":"text-green-600"}`,children:u?"Vencida":"Vigente"})]})]})]}),e.historialCambios.length>0&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historial de Cambios"}),i.jsx("div",{className:"space-y-3",children:e.historialCambios.slice(0,5).map(v=>i.jsxs("div",{className:"border-l-2 border-blue-200 pl-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.accion}),i.jsx("p",{className:"text-xs text-gray-500",children:v.usuario})]}),i.jsx("span",{className:"text-xs text-gray-400",children:st(v.fecha,"dd/MM HH:mm")})]}),v.detalles&&i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:v.detalles})]},v.id))})]})]})]})]})},e4=(e,t="dd/MM/yyyy")=>{if(!e)return"-";let r;return e instanceof Date?r=e:e&&typeof e.toDate=="function"?r=e.toDate():r=new Date(e),isNaN(r.getTime())?"-":st(r,t)},t4=({navigationParams:e})=>{const{quotes:t,prospects:r,deleteQuote:n}=ra(),[a,s]=O.useState(""),[o,c]=O.useState("all"),[l,u]=O.useState(!1),[d,f]=O.useState(null),[p,m]=O.useState(null),[y,v]=O.useState(null);O.useEffect(()=>{if(e!=null&&e.quoteId&&e.showDetail){const D=[...t,...r.flatMap(R=>R.cotizaciones)].find(R=>R.id===e.quoteId);D&&(f(D),v(D.id),setTimeout(()=>v(null),3e3))}else if(e!=null&&e.selectedQuote){const k=e.selectedQuote;f(k),v(k.id),setTimeout(()=>v(null),3e3)}},[e,t,r]);const w=[...t,...r.flatMap(k=>k.cotizaciones)],g=w.filter(k=>{const D=r.find(_=>_.id===k.prospectId),R=a.toLowerCase(),A=(k.numero||"").toLowerCase().includes(R)||((D==null?void 0:D.nombre)||"").toLowerCase().includes(R)||k.items.some(_=>(_.nombre||"").toLowerCase().includes(R)),E=o==="all"||k.estado===o;return A&&E}),x=k=>({Borrador:"bg-gray-100 text-gray-800",Enviada:"bg-blue-100 text-blue-800",Aceptada:"bg-green-100 text-green-800",Rechazada:"bg-red-100 text-red-800",Vencida:"bg-orange-100 text-orange-800"})[k]||"",S=k=>{const R={Borrador:pn,Enviada:Fv,Aceptada:Br,Rechazada:Qr,Vencida:pn}[k];return i.jsx(R,{className:"h-4 w-4"})},j=k=>{confirm("Ests seguro de eliminar esta cotizacin?")&&n(k)},P=k=>{m(k),u(!0)},I=()=>{m(null),u(!1)};return l?i.jsx(iR,{onClose:I,editingQuote:p}):d?i.jsx(iF,{quote:d,onClose:()=>f(null),onEdit:()=>P(d)}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Cotizaciones"}),i.jsx("p",{className:"text-gray-600",children:"Administra todas las propuestas"})]}),i.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700",children:[i.jsx(or,{className:"h-4 w-4"})," Nueva Cotizacin"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(Ii,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",value:a,onChange:k=>s(k.target.value),placeholder:"Buscar...",className:"pl-10 w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("select",{value:o,onChange:k=>c(k.target.value),className:"border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 px-3 py-2",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"Borrador",children:"Borrador"}),i.jsx("option",{value:"Enviada",children:"Enviada"}),i.jsx("option",{value:"Aceptada",children:"Aceptada"}),i.jsx("option",{value:"Rechazada",children:"Rechazada"}),i.jsx("option",{value:"Vencida",children:"Vencida"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-4 border rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Cotizaciones"}),i.jsx("p",{className:"text-2xl font-bold",children:w.length})]}),i.jsx(Br,{className:"h-8 w-8 text-blue-500"})]}),i.jsxs("div",{className:"bg-white p-4 border rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),i.jsxs("p",{className:"text-2xl font-bold",children:["$",w.reduce((k,D)=>k+D.total,0).toLocaleString()]})]}),i.jsx(is,{className:"h-8 w-8 text-green-500"})]}),i.jsxs("div",{className:"bg-white p-4 border rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Aceptadas"}),i.jsx("p",{className:"text-2xl font-bold",children:w.filter(k=>k.estado==="Aceptada").length})]}),i.jsx(Br,{className:"h-8 w-8 text-green-500"})]}),i.jsxs("div",{className:"bg-white p-4 border rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Tasa Aceptacin"}),i.jsxs("p",{className:"text-2xl font-bold",children:[w.length?(w.filter(k=>k.estado==="Aceptada").length/w.length*100).toFixed(1):"0.0","%"]})]}),i.jsx(Br,{className:"h-8 w-8 text-purple-500"})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow overflow-auto border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"#"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha / Vence"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:g.map(k=>{const D=r.find(_=>_.id===k.prospectId),R=e4(k.fecha),A=e4(k.vigencia),E=new Date>new Date(k.vigencia)&&k.estado==="Enviada";return i.jsxs("tr",{className:`hover:bg-gray-50 ${y===k.id?"bg-blue-50 border-l-4 border-blue-400":""}`,children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"font-medium",children:k.numero||"Sin nmero"}),i.jsxs("div",{className:"text-sm text-gray-500",children:[k.items.length," tem",k.items.length!==1&&"s"]})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"font-medium",children:(D==null?void 0:D.nombre)||"Cliente desconocido"}),i.jsx("div",{className:"text-sm text-gray-500",children:(D==null?void 0:D.correo)||""})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"",children:R}),i.jsxs("div",{className:`${E?"text-red-600":"text-gray-500"} text-sm`,children:["Vence: ",A]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"font-medium",children:["$",k.total.toLocaleString()]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full gap-1 ${E?"bg-orange-100 text-orange-800":x(k.estado)}`,children:[S(E?"Vencida":k.estado),E?"Vencida":k.estado]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>f(k),className:"text-blue-600 hover:text-blue-900",children:i.jsx(ya,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>P(k),className:"text-green-600 hover:text-green-900",children:i.jsx(Hn,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-purple-600 hover:text-purple-900",children:i.jsx(is,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>j(k.id),className:"text-red-600 hover:text-red-900",children:i.jsx(Qr,{className:"h-4 w-4"})})]})})]},k.id)})})]})})]})},oF=()=>{const{products:e,addProduct:t,updateProduct:r,deleteProduct:n}=ra(),[a,s]=O.useState(""),[o,c]=O.useState("all"),[l,u]=O.useState("all"),[d,f]=O.useState(!1),[p,m]=O.useState(null),[y,v]=O.useState({nombre:"",descripcion:"",precio:0,categoria:"",unidadMedida:"",estado:"activo"}),w=[...new Set(e.map(k=>k.categoria))],g=e.filter(k=>{const D=k.nombre.toLowerCase().includes(a.toLowerCase())||k.descripcion.toLowerCase().includes(a.toLowerCase())||k.categoria.toLowerCase().includes(a.toLowerCase()),R=o==="all"||k.categoria===o,A=l==="all"||k.estado===l;return D&&R&&A}),x=k=>{k.preventDefault(),p?r(p.id,y):t(y),S()},S=()=>{v({nombre:"",descripcion:"",precio:0,categoria:"",unidadMedida:"",estado:"activo"}),m(null),f(!1)},j=k=>{v({nombre:k.nombre,descripcion:k.descripcion,precio:k.precio,categoria:k.categoria,unidadMedida:k.unidadMedida,estado:k.estado}),m(k),f(!0)},P=k=>{window.confirm("Ests seguro de que deseas eliminar este producto?")&&n(k)},I=k=>{r(k.id,{estado:k.estado==="activo"?"inactivo":"activo"})};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Catlogo de Productos"}),i.jsx("p",{className:"text-gray-600",children:"Administra tu catlogo de productos y servicios"})]}),i.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nuevo Producto"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar productos...",value:a,onChange:k=>s(k.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:o,onChange:k=>c(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todas las categoras"}),w.map(k=>i.jsx("option",{value:k,children:k},k))]}),i.jsxs("select",{value:l,onChange:k=>u(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"activo",children:"Activos"}),i.jsx("option",{value:"inactivo",children:"Inactivos"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Productos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),i.jsx(c1,{className:"h-8 w-8 text-blue-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Productos Activos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(k=>k.estado==="activo").length})]}),i.jsx(ya,{className:"h-8 w-8 text-green-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Categoras"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),i.jsx(L6,{className:"h-8 w-8 text-purple-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Precio Promedio"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.length>0?Math.round(e.reduce((k,D)=>k+D.precio,0)/e.length).toLocaleString():0]})]}),i.jsx(c1,{className:"h-8 w-8 text-orange-500"})]})})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",g.length," de ",e.length," productos"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(k=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:k.nombre}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.descripcion}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:k.categoria}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs rounded ${k.estado==="activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.estado})]})]}),i.jsx("button",{onClick:()=>I(k),className:`p-2 rounded-lg transition-colors ${k.estado==="activo"?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,title:k.estado==="activo"?"Desactivar":"Activar",children:k.estado==="activo"?i.jsx(ya,{className:"h-4 w-4"}):i.jsx(Ag,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Precio:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",k.precio.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Unidad:"}),i.jsx("span",{className:"text-gray-900",children:k.unidadMedida})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Actualizado:"}),i.jsx("span",{className:"text-gray-900",children:st(k.fechaActualizacion,"dd/MM/yyyy")})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("button",{onClick:()=>j(k),className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center gap-1",children:[i.jsx(Hn,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:()=>P(k.id),className:"text-red-600 hover:text-red-800 transition-colors flex items-center gap-1",children:[i.jsx(Qr,{className:"h-4 w-4"}),"Eliminar"]})]})]},k.id))}),g.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(c1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros o agregar un nuevo producto."}),i.jsx("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar Primer Producto"})]}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:p?"Editar Producto":"Nuevo Producto"}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del producto/servicio *"}),i.jsx("input",{type:"text",value:y.nombre,onChange:k=>v(D=>({...D,nombre:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin *"}),i.jsx("textarea",{value:y.descripcion,onChange:k=>v(D=>({...D,descripcion:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio *"}),i.jsx("input",{type:"number",value:y.precio,onChange:k=>v(D=>({...D,precio:Number(k.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidad de Medida *"}),i.jsxs("select",{value:y.unidadMedida,onChange:k=>v(D=>({...D,unidadMedida:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar"}),i.jsx("option",{value:"Servicio",children:"Servicio"}),i.jsx("option",{value:"Hora",children:"Hora"}),i.jsx("option",{value:"Mes",children:"Mes"}),i.jsx("option",{value:"Ao",children:"Ao"}),i.jsx("option",{value:"Pieza",children:"Pieza"}),i.jsx("option",{value:"Licencia",children:"Licencia"}),i.jsx("option",{value:"Proyecto",children:"Proyecto"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora *"}),i.jsx("input",{type:"text",value:y.categoria,onChange:k=>v(D=>({...D,categoria:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Chatbots, Marketing, etc.",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),i.jsxs("select",{value:y.estado,onChange:k=>v(D=>({...D,estado:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"activo",children:"Activo"}),i.jsx("option",{value:"inactivo",children:"Inactivo"})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[i.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[p?"Actualizar":"Crear"," Producto"]})]})]})]})})]})},lF=()=>{const{quoteTemplates:e,addQuoteTemplate:t,updateQuoteTemplate:r,deleteQuoteTemplate:n,products:a}=ra(),[s,o]=O.useState(""),[c,l]=O.useState(!1),[u,d]=O.useState(null),[f,p]=O.useState(null),[m,y]=O.useState({nombre:"",descripcion:"",condicionesPago:"",notasAdicionales:"",terminosCondiciones:"",metodosPago:[]}),[v,w]=O.useState([]),g=e.filter(A=>A.nombre.toLowerCase().includes(s.toLowerCase())||A.descripcion.toLowerCase().includes(s.toLowerCase())),x=()=>{y({nombre:"",descripcion:"",condicionesPago:"",notasAdicionales:"",terminosCondiciones:"",metodosPago:[]}),w([]),d(null),l(!1)},S=A=>{y({nombre:A.nombre,descripcion:A.descripcion,condicionesPago:A.condicionesPago,notasAdicionales:A.notasAdicionales,terminosCondiciones:A.terminosCondiciones,metodosPago:A.metodosPago}),w(A.items),d(A),l(!0)},j=A=>{if(A.preventDefault(),v.length===0){alert("Agrega al menos un item a la plantilla");return}const E={...m,items:v,creadoPor:"Usuario Actual"};u?r(u.id,E):t(E),x()},P=()=>{const A={nombre:"",descripcion:"",cantidad:1,precioUnitario:0,descuento:0,tipoDescuento:"porcentaje",subtotal:0};w(E=>[...E,A])},I=(A,E,_)=>{w(F=>F.map((L,U)=>{if(U===A){const z={...L,[E]:_},H=z.cantidad*z.precioUnitario;let V=0;return z.tipoDescuento==="porcentaje"?V=H*(z.descuento/100):V=z.descuento,z.subtotal=H-V,z}return L}))},k=A=>{w(E=>E.filter((_,F)=>F!==A))},D=A=>{window.confirm("Ests seguro de que deseas eliminar esta plantilla?")&&n(A)},R=A=>{const E={...A,nombre:`${A.nombre} (Copia)`,creadoPor:"Usuario Actual"};delete E.id,delete E.fechaCreacion,t(E)};return f?i.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>p(null),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:" Volver"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f.nombre}),i.jsx("p",{className:"text-gray-600",children:f.descripcion})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>S(f),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:()=>R(f),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(Mg,{className:"h-4 w-4"}),"Duplicar"]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items de la Plantilla"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-700",children:"Descripcin"}),i.jsx("th",{className:"text-center py-3 text-sm font-medium text-gray-700",children:"Cantidad"}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Precio Unit."}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Descuento"}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Subtotal"})]})}),i.jsx("tbody",{children:f.items.map((A,E)=>i.jsxs("tr",{className:E%2===0?"bg-gray-50":"bg-white",children:[i.jsx("td",{className:"py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:A.nombre}),A.descripcion&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:A.descripcion})]})}),i.jsx("td",{className:"py-4 text-center",children:A.cantidad}),i.jsxs("td",{className:"py-4 text-right",children:["$",A.precioUnitario.toLocaleString()]}),i.jsx("td",{className:"py-4 text-right",children:A.descuento>0&&i.jsxs("span",{className:"text-red-600",children:["-",A.tipoDescuento==="porcentaje"?`${A.descuento}%`:`$${A.descuento.toLocaleString()}`]})}),i.jsxs("td",{className:"py-4 text-right font-medium",children:["$",A.subtotal.toLocaleString()]})]},E))})]})}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("div",{className:"flex justify-end",children:i.jsx("div",{className:"w-64",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",f.items.reduce((A,E)=>A+E.subtotal,0).toLocaleString()]})]})})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Condiciones de Pago"}),i.jsx("p",{className:"text-gray-700",children:f.condicionesPago||"No especificadas"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Mtodos de Pago"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:f.metodosPago.map(A=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded",children:A},A))})]}),f.notasAdicionales&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notas Adicionales"}),i.jsx("p",{className:"text-gray-700",children:f.notasAdicionales})]}),f.terminosCondiciones&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Trminos y Condiciones"}),i.jsx("p",{className:"text-gray-700",children:f.terminosCondiciones})]})]})]}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Plantillas de Cotizacin"}),i.jsx("p",{className:"text-gray-600",children:"Crea plantillas reutilizables para agilizar el proceso de cotizacin"})]}),i.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nueva Plantilla"]})]}),i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar plantillas...",value:s,onChange:A=>o(A.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(A=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:A.nombre}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:A.descripcion}),i.jsxs("div",{className:"text-xs text-gray-500",children:[A.items.length," items  Creado por ",A.creadoPor]})]})}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Total estimado:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",A.items.reduce((E,_)=>E+_.subtotal,0).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Creado:"}),i.jsx("span",{className:"text-gray-900",children:st(A.fechaCreacion,"dd/MM/yyyy")})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("button",{onClick:()=>p(A),className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center gap-1",children:[i.jsx(ya,{className:"h-4 w-4"}),"Ver"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>S(A),className:"text-green-600 hover:text-green-800 transition-colors flex items-center gap-1",children:[i.jsx(Hn,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:()=>R(A),className:"text-purple-600 hover:text-purple-800 transition-colors flex items-center gap-1",children:[i.jsx(Mg,{className:"h-4 w-4"}),"Duplicar"]}),i.jsxs("button",{onClick:()=>D(A.id),className:"text-red-600 hover:text-red-800 transition-colors flex items-center gap-1",children:[i.jsx(Qr,{className:"h-4 w-4"}),"Eliminar"]})]})]})]},A.id))}),g.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Br,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron plantillas"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera plantilla para agilizar el proceso de cotizacin."}),i.jsx("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Crear Primera Plantilla"})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl max-h-screen overflow-y-auto m-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:u?"Editar Plantilla":"Nueva Plantilla"}),i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la plantilla *"}),i.jsx("input",{type:"text",value:m.nombre,onChange:A=>y(E=>({...E,nombre:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin *"}),i.jsx("input",{type:"text",value:m.descripcion,onChange:A=>y(E=>({...E,descripcion:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h5",{className:"text-md font-semibold text-gray-900",children:"Items de la Plantilla"}),i.jsxs("button",{type:"button",onClick:P,className:"bg-blue-600 text-white px-3 py-1 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1",children:[i.jsx(or,{className:"h-4 w-4"}),"Agregar Item"]})]}),i.jsxs("div",{className:"space-y-4",children:[v.map((A,E)=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-start",children:[i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Producto/Servicio"}),i.jsx("input",{type:"text",value:A.nombre,onChange:_=>I(E,"nombre",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del producto"})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{value:A.descripcion,onChange:_=>I(E,"descripcion",_.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descripcin detallada"})]}),i.jsxs("div",{className:"md:col-span-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),i.jsx("input",{type:"number",value:A.cantidad,onChange:_=>I(E,"cantidad",Number(_.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"1"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio Unitario"}),i.jsx("input",{type:"number",value:A.precioUnitario,onChange:_=>I(E,"precioUnitario",Number(_.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descuento"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",value:A.descuento,onChange:_=>I(E,"descuento",Number(_.target.value)),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"}),i.jsxs("select",{value:A.tipoDescuento,onChange:_=>I(E,"tipoDescuento",_.target.value),className:"px-2 py-2 border border-l-0 border-gray-300 rounded-r-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"porcentaje",children:"%"}),i.jsx("option",{value:"monto",children:"$"})]})]})]}),i.jsx("div",{className:"md:col-span-1 flex items-end",children:i.jsx("button",{type:"button",onClick:()=>k(E),className:"p-2 text-red-600 hover:text-red-800 transition-colors",title:"Eliminar item",children:i.jsx(Qr,{className:"h-4 w-4"})})})]})},E)),v.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Br,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay items agregados"}),i.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Item" para comenzar'})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condiciones de Pago"}),i.jsx("textarea",{value:m.condicionesPago,onChange:A=>y(E=>({...E,condicionesPago:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Ej: 50% anticipo, 50% contra entrega"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas Adicionales"}),i.jsx("textarea",{value:m.notasAdicionales,onChange:A=>y(E=>({...E,notasAdicionales:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Informacin adicional"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trminos y Condiciones"}),i.jsx("textarea",{value:m.terminosCondiciones,onChange:A=>y(E=>({...E,terminosCondiciones:A.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Trminos y condiciones del servicio"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodos de Pago Aceptados"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Transferencia bancaria","PayPal","Stripe","Tarjeta de crdito","Efectivo","Cheque"].map(A=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:m.metodosPago.includes(A),onChange:E=>{E.target.checked?y(_=>({..._,metodosPago:[..._.metodosPago,A]})):y(_=>({..._,metodosPago:_.metodosPago.filter(F=>F!==A)}))},className:"mr-2"}),i.jsx("span",{className:"text-sm",children:A})]},A))})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[i.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[u?"Actualizar":"Crear"," Plantilla"]})]})]})]})})]})};function r4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r4(Object(r),!0).forEach(function(n){Ts(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hv(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function on(e,t){if(e==null)return{};var r,n,a=Hv(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yn(e,t,r){return t=wd(t),U6(e,Vw()?Reflect.construct(t,r||[],wd(e).constructor):t.apply(e,r))}function u_(e){if(Array.isArray(e))return e}function cF(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,c=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return c}}function d_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zr(e,t){return u_(e)||cF(e,t)||Yw(e,t)||d_()}function f_(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=f_(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Er(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=f_(e))&&(n&&(n+=" "),n+=t);return n}function Ye(){return Ye=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ye.apply(null,arguments)}var uF=function(e,t,r,n,a,s,o,c){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,s,o,c],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},dF=uF;const Yh=wa(dF);var fF=function(){};function hF(e,t){var r={};return Object.keys(e).forEach(function(n){r[B0(n)]=fF}),r}function n4(e,t){return e[t]!==void 0}function B0(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function pF(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function mF(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ig(e,t)}function h_(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function p_(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function m_(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}h_.__suppressDeprecationWarning=!0;p_.__suppressDeprecationWarning=!0;m_.__suppressDeprecationWarning=!0;function gF(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=h_,t.componentWillReceiveProps=p_),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=m_;var c=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var p=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;c.call(this,u,d,p)}}return e}var vF="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function g_(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=pF(e),s=Object.keys(t),o=s.map(B0);a||!r.length||Yh(!1);var c=function(u){mF(d,u);function d(){for(var p,m=arguments.length,y=new Array(m),v=0;v<m;v++)y[v]=arguments[v];p=u.call.apply(u,[this].concat(y))||this,p.handlers=Object.create(null),s.forEach(function(g){var x=t[g],S=function(P){if(p.props[x]){var I;p._notifying=!0;for(var k=arguments.length,D=new Array(k>1?k-1:0),R=1;R<k;R++)D[R-1]=arguments[R];(I=p.props)[x].apply(I,[P].concat(D)),p._notifying=!1}p.unmounted||p.setState(function(A){var E,_=A.values;return{values:Ye(Object.create(null),_,(E={},E[g]=P,E))}})};p.handlers[x]=S}),r.length&&(p.attachRef=function(g){p.inner=g});var w=Object.create(null);return s.forEach(function(g){w[g]=p.props[B0(g)]}),p.state={values:w,prevProps:{}},p}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(m,y){var v=y.values,w=y.prevProps,g={values:Ye(Object.create(null),v),prevProps:{}};return s.forEach(function(x){g.prevProps[x]=m[x],!n4(m,x)&&n4(w,x)&&(g.values[x]=m[B0(x)])}),g},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var m=this,y=this.props,v=y.innerRef,w=Hv(y,["innerRef"]);o.forEach(function(x){delete w[x]});var g={};return s.forEach(function(x){var S=m.props[x];g[x]=S!==void 0?S:m.state.values[x]}),re.createElement(e,Ye({},w,g,this.handlers,{ref:v||this.attachRef}))},d}(re.Component);gF(c),c.displayName="Uncontrolled("+n+")",c.propTypes=Ye({innerRef:function(){}},hF(t)),r.forEach(function(u){c.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var l=c;return re.forwardRef&&(l=re.forwardRef(function(u,d){return re.createElement(c,Ye({},u,{innerRef:d,__source:{fileName:vF,lineNumber:128},__self:this}))}),l.propTypes=c.propTypes),l.ControlledComponent=e,l.deferControlTo=function(u,d,f){return d===void 0&&(d={}),g_(u,Ye({},t,d),f)},l}var v_={exports:{}},xF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",yF=xF,bF=yF;function x_(){}function y_(){}y_.resetWarningCache=x_;var wF=function(){function e(n,a,s,o,c,l){if(l!==bF){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:y_,resetWarningCache:x_};return r.PropTypes=r,r};v_.exports=wF();var NF=v_.exports;const Le=wa(NF);var $g="milliseconds",Vh="seconds",qh="minutes",Gh="hours",Mc="day",Nd="week",Kh="month",Ac="year",Lc="decade",Tc="century",b_={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},jF={month:1,year:12,decade:10*12,century:100*12};function SF(e){return[31,kF(e),31,30,31,30,31,31,30,31,30,31]}function kF(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Bs(e,t,r){switch(e=new Date(e),r){case $g:case Vh:case qh:case Gh:case Mc:case Nd:return CF(e,t*b_[r]);case Kh:case Ac:case Lc:case Tc:return DF(e,t*jF[r])}throw new TypeError('Invalid units: "'+r+'"')}function CF(e,t){var r=new Date(+e+t);return _F(e,r)}function DF(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),s=r*12+n+t,o=Math.trunc(s/12),c=s%12,l=Math.min(a,SF(o)[c]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(c),u.setDate(l),u}function _F(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*b_.minutes)}function Xh(e,t,r){return Bs(e,-t,r)}function Cn(e,t,r){switch(e=new Date(e),t){case Tc:case Lc:case Ac:e=zg(e,0);case Kh:e=k_(e,1);case Nd:case Mc:e=Zh(e,0);case Gh:e=jd(e,0);case qh:e=Jh(e,0);case Vh:e=Qh(e,0)}return t===Lc&&(e=Xh(e,Oc(e)%10,"year")),t===Tc&&(e=Xh(e,Oc(e)%100,"year")),t===Nd&&(e=C_(e,0,r)),e}function Ug(e,t,r){switch(e=new Date(e),e=Cn(e,t,r),t){case Tc:case Lc:case Ac:case Kh:case Nd:e=Bs(e,1,t),e=Xh(e,1,Mc),e.setHours(23,59,59,999);break;case Mc:e.setHours(23,59,59,999);break;case Gh:case qh:case Vh:e=Bs(e,1,t),e=Xh(e,1,$g)}return e}var jp=Wd(function(e,t){return e===t}),Xw=Wd(function(e,t){return e!==t}),Yv=Wd(function(e,t){return e>t}),Sp=Wd(function(e,t){return e>=t}),Qw=Wd(function(e,t){return e<t}),Bd=Wd(function(e,t){return e<=t});function w_(){return new Date(Math.min.apply(Math,arguments))}function N_(){return new Date(Math.max.apply(Math,arguments))}function j_(e,t,r,n){return n=n||"day",(!t||Sp(e,t,n))&&(!r||Bd(e,r,n))}var Qh=Il("Milliseconds"),Jh=Il("Seconds"),jd=Il("Minutes"),Zh=Il("Hours"),S_=Il("Day"),k_=Il("Date"),zg=Il("Month"),Oc=Il("FullYear");function PF(e,t){return t===void 0?Oc(Cn(e,Lc)):Bs(e,t+10,Ac)}function EF(e,t){return t===void 0?Oc(Cn(e,Tc)):Bs(e,t+100,Ac)}function C_(e,t,r){var n=(S_(e)+7-(r||0))%7;return t===void 0?n:Bs(e,t-n,Mc)}function MF(e,t,r,n){var a,s,o;switch(r){case $g:case Vh:case qh:case Gh:case Mc:case Nd:a=t.getTime()-e.getTime();break;case Kh:case Ac:case Lc:case Tc:a=(Oc(t)-Oc(e))*12+zg(t)-zg(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case $g:s=1;break;case Vh:s=1e3;break;case qh:s=1e3*60;break;case Gh:s=1e3*60*60;break;case Mc:s=1e3*60*60*24;break;case Nd:s=1e3*60*60*24*7;break;case Kh:s=1;break;case Ac:s=12;break;case Lc:s=120;break;case Tc:s=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=a/s,n?o:Math.round(o)}function Il(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function Wd(e){return function(t,r,n){return e(+Cn(t,n),+Cn(r,n))}}const a4=Object.freeze(Object.defineProperty({__proto__:null,add:Bs,century:EF,date:k_,day:S_,decade:PF,diff:MF,endOf:Ug,eq:jp,gt:Yv,gte:Sp,hours:Zh,inRange:j_,lt:Qw,lte:Bd,max:N_,milliseconds:Qh,min:w_,minutes:jd,month:zg,neq:Xw,seconds:Jh,startOf:Cn,subtract:Xh,weekday:C_,year:Oc},Symbol.toStringTag,{value:"Module"}));function AF(e){if(Array.isArray(e))return qb(e)}function D_(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gc(e){return AF(e)||D_(e)||Yw(e)||LF()}function TF(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var __=TF;function OF(e,t){return e===t||e!==e&&t!==t}var kp=OF,IF=typeof ns=="object"&&ns&&ns.Object===Object&&ns,P_=IF,RF=P_,FF=typeof self=="object"&&self&&self.Object===Object&&self,$F=RF||FF||Function("return this")(),$i=$F,UF=$i,zF=UF.Symbol,Hd=zF,s4=Hd,E_=Object.prototype,BF=E_.hasOwnProperty,WF=E_.toString,Vf=s4?s4.toStringTag:void 0;function HF(e){var t=BF.call(e,Vf),r=e[Vf];try{e[Vf]=void 0;var n=!0}catch{}var a=WF.call(e);return n&&(t?e[Vf]=r:delete e[Vf]),a}var YF=HF,VF=Object.prototype,qF=VF.toString;function GF(e){return qF.call(e)}var KF=GF,i4=Hd,XF=YF,QF=KF,JF="[object Null]",ZF="[object Undefined]",o4=i4?i4.toStringTag:void 0;function e$(e){return e==null?e===void 0?ZF:JF:o4&&o4 in Object(e)?XF(e):QF(e)}var Yd=e$;function t$(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ao=t$,r$=Yd,n$=Ao,a$="[object AsyncFunction]",s$="[object Function]",i$="[object GeneratorFunction]",o$="[object Proxy]";function l$(e){if(!n$(e))return!1;var t=r$(e);return t==s$||t==i$||t==a$||t==o$}var Jw=l$,c$=9007199254740991;function u$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=c$}var Zw=u$,d$=Jw,f$=Zw;function h$(e){return e!=null&&f$(e.length)&&!d$(e)}var Cp=h$,p$=9007199254740991,m$=/^(?:0|[1-9]\d*)$/;function g$(e,t){var r=typeof e;return t=t??p$,!!t&&(r=="number"||r!="symbol"&&m$.test(e))&&e>-1&&e%1==0&&e<t}var e5=g$,v$=kp,x$=Cp,y$=e5,b$=Ao;function w$(e,t,r){if(!b$(r))return!1;var n=typeof t;return(n=="number"?x$(r)&&y$(t,r.length):n=="string"&&t in r)?v$(r[t],e):!1}var Vv=w$,N$=/\s/;function j$(e){for(var t=e.length;t--&&N$.test(e.charAt(t)););return t}var S$=j$,k$=S$,C$=/^\s+/;function D$(e){return e&&e.slice(0,k$(e)+1).replace(C$,"")}var _$=D$;function P$(e){return e!=null&&typeof e=="object"}var Rl=P$,E$=Yd,M$=Rl,A$="[object Symbol]";function L$(e){return typeof e=="symbol"||M$(e)&&E$(e)==A$}var Dp=L$,T$=_$,l4=Ao,O$=Dp,c4=NaN,I$=/^[-+]0x[0-9a-f]+$/i,R$=/^0b[01]+$/i,F$=/^0o[0-7]+$/i,$$=parseInt;function U$(e){if(typeof e=="number")return e;if(O$(e))return c4;if(l4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=l4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=T$(e);var r=R$.test(e);return r||F$.test(e)?$$(e.slice(2),r?2:8):I$.test(e)?c4:+e}var z$=U$,B$=z$,u4=1/0,W$=17976931348623157e292;function H$(e){if(!e)return e===0?e:0;if(e=B$(e),e===u4||e===-u4){var t=e<0?-1:1;return t*W$}return e===e?e:0}var M_=H$,Y$=M_;function V$(e){var t=Y$(e),r=t%1;return t===t?r?t-r:t:0}var A_=V$,q$=__,G$=Vv,K$=A_,X$=Math.ceil,Q$=Math.max;function J$(e,t,r){(r?G$(e,t,r):t===void 0)?t=1:t=Q$(K$(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,s=0,o=Array(X$(n/t));a<n;)o[s++]=q$(e,a,a+=t);return o}var Z$=J$;const e9=wa(Z$);function _p(e){return e&&e.ownerDocument||document}function t9(e){var t=_p(e);return t&&t.defaultView||window}function r9(e,t){return t9(e).getComputedStyle(e,t)}var n9=/([A-Z])/g;function a9(e){return e.replace(n9,"-$1").toLowerCase()}var s9=/^ms-/;function n0(e){return a9(e).replace(s9,"-ms-")}var i9=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function o9(e){return!!(e&&i9.test(e))}function Tu(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(n0(t))||r9(e).getPropertyValue(n0(t));Object.keys(t).forEach(function(a){var s=t[a];!s&&s!==0?e.style.removeProperty(n0(a)):o9(a)?n+=a+"("+s+") ":r+=n0(a)+": "+s+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function ep(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function l9(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function t5(e){return"window"in e&&e.window===e?e:l9(e)&&e.defaultView||!1}function L_(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var s=t5(n);if(a===void 0)return s?s[e]:n[t];s?s.scrollTo(s[e],a):n[t]=a}return r}const T_=L_("pageXOffset"),O_=L_("pageYOffset");function vc(e){var t=_p(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!ep(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+O_(n)-(n.clientTop||0),left:r.left+T_(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var c9=function(t){return!!t&&"offsetParent"in t};function u9(e){for(var t=_p(e),r=e&&e.offsetParent;c9(r)&&r.nodeName!=="HTML"&&Tu(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var d9=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function I_(e,t){var r={top:0,left:0},n;if(Tu(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||u9(e);n=vc(e),d9(a)!=="html"&&(r=vc(a));var s=String(Tu(a,"borderTopWidth")||0);r.top+=parseInt(s,10)-O_(a)||0;var o=String(Tu(a,"borderLeftWidth")||0);r.left+=parseInt(o,10)-T_(a)||0}var c=String(Tu(e,"marginTop")||0),l=String(Tu(e,"marginLeft")||0);return Ye({},n,{top:n.top-r.top-(parseInt(c,10)||0),left:n.left-r.left-(parseInt(l,10)||0)})}const r5=!!(typeof window<"u"&&window.document&&window.document.createElement);var d4=new Date().getTime();function f9(e){var t=new Date().getTime(),r=Math.max(0,16-(t-d4)),n=setTimeout(e,r);return d4=t,n}var h9=["","webkit","moz","o","ms"],i2="clearTimeout",o2=f9,f4=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};r5&&h9.some(function(e){var t=f4(e,"request");return t in window&&(i2=f4(e,"cancel"),o2=function(n){return window[t](n)}),!!o2});var h4=function(t){typeof window[i2]=="function"&&window[i2](t)},R_=o2,b1;function p9(e,t){if(!b1){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;b1=function(s,o){return n.call(s,o)}}return b1(e,t)}var m9=Function.prototype.bind.call(Function.prototype.call,[].slice);function g9(e,t){return m9(e.querySelectorAll(t))}var l2=!1,c2=!1;try{var w1={get passive(){return l2=!0},get once(){return c2=l2=!0}};r5&&(window.addEventListener("test",w1,w1),window.removeEventListener("test",w1,!0))}catch{}function v9(e,t,r,n){if(n&&typeof n!="boolean"&&!c2){var a=n.once,s=n.capture,o=r;!c2&&a&&(o=r.__once||function c(l){this.removeEventListener(t,c,s),r.call(this,l)},r.__once=o),e.addEventListener(t,o,l2?n:s)}e.addEventListener(t,r,n)}function x9(e){const t=O.useRef(e);return O.useEffect(()=>{t.current=e},[e]),t}function p4(e){const t=x9(e);return O.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function m4(){return O.useState(null)}function y9(){const e=O.useRef(!0),t=O.useRef(()=>e.current);return O.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function b9(e){const t=y9();return[e[0],O.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var ga="top",cs="bottom",us="right",va="left",n5="auto",Pp=[ga,cs,us,va],Sd="start",tp="end",w9="clippingParents",F_="viewport",qf="popper",N9="reference",g4=Pp.reduce(function(e,t){return e.concat([t+"-"+Sd,t+"-"+tp])},[]),a5=[].concat(Pp,[n5]).reduce(function(e,t){return e.concat([t,t+"-"+Sd,t+"-"+tp])},[]),j9="beforeRead",S9="read",k9="afterRead",C9="beforeMain",D9="main",_9="afterMain",P9="beforeWrite",E9="write",M9="afterWrite",A9=[j9,S9,k9,C9,D9,_9,P9,E9,M9];function Di(e){return e.split("-")[0]}function Ia(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ic(e){var t=Ia(e).Element;return e instanceof t||e instanceof Element}function _i(e){var t=Ia(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function s5(e){if(typeof ShadowRoot>"u")return!1;var t=Ia(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var xc=Math.max,Bg=Math.min,kd=Math.round;function u2(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function $_(){return!/^((?!chrome|android).)*safari/i.test(u2())}function Cd(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,s=1;t&&_i(e)&&(a=e.offsetWidth>0&&kd(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&kd(n.height)/e.offsetHeight||1);var o=Ic(e)?Ia(e):window,c=o.visualViewport,l=!$_()&&r,u=(n.left+(l&&c?c.offsetLeft:0))/a,d=(n.top+(l&&c?c.offsetTop:0))/s,f=n.width/a,p=n.height/s;return{width:f,height:p,top:d,right:u+f,bottom:d+p,left:u,x:u,y:d}}function i5(e){var t=Cd(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function U_(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&s5(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Dl(e){return e?(e.nodeName||"").toLowerCase():null}function Co(e){return Ia(e).getComputedStyle(e)}function L9(e){return["table","td","th"].indexOf(Dl(e))>=0}function Fl(e){return((Ic(e)?e.ownerDocument:e.document)||window.document).documentElement}function qv(e){return Dl(e)==="html"?e:e.assignedSlot||e.parentNode||(s5(e)?e.host:null)||Fl(e)}function v4(e){return!_i(e)||Co(e).position==="fixed"?null:e.offsetParent}function T9(e){var t=/firefox/i.test(u2()),r=/Trident/i.test(u2());if(r&&_i(e)){var n=Co(e);if(n.position==="fixed")return null}var a=qv(e);for(s5(a)&&(a=a.host);_i(a)&&["html","body"].indexOf(Dl(a))<0;){var s=Co(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function Ep(e){for(var t=Ia(e),r=v4(e);r&&L9(r)&&Co(r).position==="static";)r=v4(r);return r&&(Dl(r)==="html"||Dl(r)==="body"&&Co(r).position==="static")?t:r||T9(e)||t}function o5(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Nh(e,t,r){return xc(e,Bg(t,r))}function O9(e,t,r){var n=Nh(e,t,r);return n>r?r:n}function z_(){return{top:0,right:0,bottom:0,left:0}}function B_(e){return Object.assign({},z_(),e)}function W_(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var I9=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,B_(typeof t!="number"?t:W_(t,Pp))};function R9(e){var t,r=e.state,n=e.name,a=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,c=Di(r.placement),l=o5(c),u=[va,us].indexOf(c)>=0,d=u?"height":"width";if(!(!s||!o)){var f=I9(a.padding,r),p=i5(s),m=l==="y"?ga:va,y=l==="y"?cs:us,v=r.rects.reference[d]+r.rects.reference[l]-o[l]-r.rects.popper[d],w=o[l]-r.rects.reference[l],g=Ep(s),x=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,S=v/2-w/2,j=f[m],P=x-p[d]-f[y],I=x/2-p[d]/2+S,k=Nh(j,I,P),D=l;r.modifiersData[n]=(t={},t[D]=k,t.centerOffset=k-I,t)}}function F9(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||U_(t.elements.popper,a)&&(t.elements.arrow=a))}const $9={name:"arrow",enabled:!0,phase:"main",fn:R9,effect:F9,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dd(e){return e.split("-")[1]}var U9={top:"auto",right:"auto",bottom:"auto",left:"auto"};function z9(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:kd(r*a)/a||0,y:kd(n*a)/a||0}}function x4(e){var t,r=e.popper,n=e.popperRect,a=e.placement,s=e.variation,o=e.offsets,c=e.position,l=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,p=o.x,m=p===void 0?0:p,y=o.y,v=y===void 0?0:y,w=typeof d=="function"?d({x:m,y:v}):{x:m,y:v};m=w.x,v=w.y;var g=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),S=va,j=ga,P=window;if(u){var I=Ep(r),k="clientHeight",D="clientWidth";if(I===Ia(r)&&(I=Fl(r),Co(I).position!=="static"&&c==="absolute"&&(k="scrollHeight",D="scrollWidth")),I=I,a===ga||(a===va||a===us)&&s===tp){j=cs;var R=f&&I===P&&P.visualViewport?P.visualViewport.height:I[k];v-=R-n.height,v*=l?1:-1}if(a===va||(a===ga||a===cs)&&s===tp){S=us;var A=f&&I===P&&P.visualViewport?P.visualViewport.width:I[D];m-=A-n.width,m*=l?1:-1}}var E=Object.assign({position:c},u&&U9),_=d===!0?z9({x:m,y:v},Ia(r)):{x:m,y:v};if(m=_.x,v=_.y,l){var F;return Object.assign({},E,(F={},F[j]=x?"0":"",F[S]=g?"0":"",F.transform=(P.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",F))}return Object.assign({},E,(t={},t[j]=x?v+"px":"",t[S]=g?m+"px":"",t.transform="",t))}function B9(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,c=r.roundOffsets,l=c===void 0?!0:c,u={placement:Di(t.placement),variation:Dd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,x4(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,x4(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const W9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:B9,data:{}};var a0={passive:!0};function H9(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,s=a===void 0?!0:a,o=n.resize,c=o===void 0?!0:o,l=Ia(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",r.update,a0)}),c&&l.addEventListener("resize",r.update,a0),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",r.update,a0)}),c&&l.removeEventListener("resize",r.update,a0)}}const Y9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:H9,data:{}};var V9={left:"right",right:"left",bottom:"top",top:"bottom"};function W0(e){return e.replace(/left|right|bottom|top/g,function(t){return V9[t]})}var q9={start:"end",end:"start"};function y4(e){return e.replace(/start|end/g,function(t){return q9[t]})}function l5(e){var t=Ia(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function c5(e){return Cd(Fl(e)).left+l5(e).scrollLeft}function G9(e,t){var r=Ia(e),n=Fl(e),a=r.visualViewport,s=n.clientWidth,o=n.clientHeight,c=0,l=0;if(a){s=a.width,o=a.height;var u=$_();(u||!u&&t==="fixed")&&(c=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:c+c5(e),y:l}}function K9(e){var t,r=Fl(e),n=l5(e),a=(t=e.ownerDocument)==null?void 0:t.body,s=xc(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=xc(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),c=-n.scrollLeft+c5(e),l=-n.scrollTop;return Co(a||r).direction==="rtl"&&(c+=xc(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:c,y:l}}function u5(e){var t=Co(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function H_(e){return["html","body","#document"].indexOf(Dl(e))>=0?e.ownerDocument.body:_i(e)&&u5(e)?e:H_(qv(e))}function jh(e,t){var r;t===void 0&&(t=[]);var n=H_(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=Ia(n),o=a?[s].concat(s.visualViewport||[],u5(n)?n:[]):n,c=t.concat(o);return a?c:c.concat(jh(qv(o)))}function d2(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function X9(e,t){var r=Cd(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function b4(e,t,r){return t===F_?d2(G9(e,r)):Ic(t)?X9(t,r):d2(K9(Fl(e)))}function Q9(e){var t=jh(qv(e)),r=["absolute","fixed"].indexOf(Co(e).position)>=0,n=r&&_i(e)?Ep(e):e;return Ic(n)?t.filter(function(a){return Ic(a)&&U_(a,n)&&Dl(a)!=="body"}):[]}function J9(e,t,r,n){var a=t==="clippingParents"?Q9(e):[].concat(t),s=[].concat(a,[r]),o=s[0],c=s.reduce(function(l,u){var d=b4(e,u,n);return l.top=xc(d.top,l.top),l.right=Bg(d.right,l.right),l.bottom=Bg(d.bottom,l.bottom),l.left=xc(d.left,l.left),l},b4(e,o,n));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function Y_(e){var t=e.reference,r=e.element,n=e.placement,a=n?Di(n):null,s=n?Dd(n):null,o=t.x+t.width/2-r.width/2,c=t.y+t.height/2-r.height/2,l;switch(a){case ga:l={x:o,y:t.y-r.height};break;case cs:l={x:o,y:t.y+t.height};break;case us:l={x:t.x+t.width,y:c};break;case va:l={x:t.x-r.width,y:c};break;default:l={x:t.x,y:t.y}}var u=a?o5(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case Sd:l[u]=l[u]-(t[d]/2-r[d]/2);break;case tp:l[u]=l[u]+(t[d]/2-r[d]/2);break}}return l}function rp(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,s=r.strategy,o=s===void 0?e.strategy:s,c=r.boundary,l=c===void 0?w9:c,u=r.rootBoundary,d=u===void 0?F_:u,f=r.elementContext,p=f===void 0?qf:f,m=r.altBoundary,y=m===void 0?!1:m,v=r.padding,w=v===void 0?0:v,g=B_(typeof w!="number"?w:W_(w,Pp)),x=p===qf?N9:qf,S=e.rects.popper,j=e.elements[y?x:p],P=J9(Ic(j)?j:j.contextElement||Fl(e.elements.popper),l,d,o),I=Cd(e.elements.reference),k=Y_({reference:I,element:S,strategy:"absolute",placement:a}),D=d2(Object.assign({},S,k)),R=p===qf?D:I,A={top:P.top-R.top+g.top,bottom:R.bottom-P.bottom+g.bottom,left:P.left-R.left+g.left,right:R.right-P.right+g.right},E=e.modifiersData.offset;if(p===qf&&E){var _=E[a];Object.keys(A).forEach(function(F){var L=[us,cs].indexOf(F)>=0?1:-1,U=[ga,cs].indexOf(F)>=0?"y":"x";A[F]+=_[U]*L})}return A}function Z9(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,s=r.rootBoundary,o=r.padding,c=r.flipVariations,l=r.allowedAutoPlacements,u=l===void 0?a5:l,d=Dd(n),f=d?c?g4:g4.filter(function(y){return Dd(y)===d}):Pp,p=f.filter(function(y){return u.indexOf(y)>=0});p.length===0&&(p=f);var m=p.reduce(function(y,v){return y[v]=rp(e,{placement:v,boundary:a,rootBoundary:s,padding:o})[Di(v)],y},{});return Object.keys(m).sort(function(y,v){return m[y]-m[v]})}function eU(e){if(Di(e)===n5)return[];var t=W0(e);return[y4(e),t,y4(t)]}function tU(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,o=r.altAxis,c=o===void 0?!0:o,l=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,p=r.altBoundary,m=r.flipVariations,y=m===void 0?!0:m,v=r.allowedAutoPlacements,w=t.options.placement,g=Di(w),x=g===w,S=l||(x||!y?[W0(w)]:eU(w)),j=[w].concat(S).reduce(function(Q,G){return Q.concat(Di(G)===n5?Z9(t,{placement:G,boundary:d,rootBoundary:f,padding:u,flipVariations:y,allowedAutoPlacements:v}):G)},[]),P=t.rects.reference,I=t.rects.popper,k=new Map,D=!0,R=j[0],A=0;A<j.length;A++){var E=j[A],_=Di(E),F=Dd(E)===Sd,L=[ga,cs].indexOf(_)>=0,U=L?"width":"height",z=rp(t,{placement:E,boundary:d,rootBoundary:f,altBoundary:p,padding:u}),H=L?F?us:va:F?cs:ga;P[U]>I[U]&&(H=W0(H));var V=W0(H),ae=[];if(s&&ae.push(z[_]<=0),c&&ae.push(z[H]<=0,z[V]<=0),ae.every(function(Q){return Q})){R=E,D=!1;break}k.set(E,ae)}if(D)for(var le=y?3:1,oe=function(G){var $=j.find(function(X){var Z=k.get(X);if(Z)return Z.slice(0,G).every(function(te){return te})});if($)return R=$,"break"},M=le;M>0;M--){var Y=oe(M);if(Y==="break")break}t.placement!==R&&(t.modifiersData[n]._skip=!0,t.placement=R,t.reset=!0)}}const rU={name:"flip",enabled:!0,phase:"main",fn:tU,requiresIfExists:["offset"],data:{_skip:!1}};function w4(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function N4(e){return[ga,us,cs,va].some(function(t){return e[t]>=0})}function nU(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,o=rp(t,{elementContext:"reference"}),c=rp(t,{altBoundary:!0}),l=w4(o,n),u=w4(c,a,s),d=N4(l),f=N4(u);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const aU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:nU};function sU(e,t,r){var n=Di(e),a=[va,ga].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],c=s[1];return o=o||0,c=(c||0)*a,[va,us].indexOf(n)>=0?{x:c,y:o}:{x:o,y:c}}function iU(e){var t=e.state,r=e.options,n=e.name,a=r.offset,s=a===void 0?[0,0]:a,o=a5.reduce(function(d,f){return d[f]=sU(f,t.rects,s),d},{}),c=o[t.placement],l=c.x,u=c.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const oU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:iU};function lU(e){var t=e.state,r=e.name;t.modifiersData[r]=Y_({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const cU={name:"popperOffsets",enabled:!0,phase:"read",fn:lU,data:{}};function uU(e){return e==="x"?"y":"x"}function dU(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,s=a===void 0?!0:a,o=r.altAxis,c=o===void 0?!1:o,l=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,p=r.tether,m=p===void 0?!0:p,y=r.tetherOffset,v=y===void 0?0:y,w=rp(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),g=Di(t.placement),x=Dd(t.placement),S=!x,j=o5(g),P=uU(j),I=t.modifiersData.popperOffsets,k=t.rects.reference,D=t.rects.popper,R=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,A=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),E=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,_={x:0,y:0};if(I){if(s){var F,L=j==="y"?ga:va,U=j==="y"?cs:us,z=j==="y"?"height":"width",H=I[j],V=H+w[L],ae=H-w[U],le=m?-D[z]/2:0,oe=x===Sd?k[z]:D[z],M=x===Sd?-D[z]:-k[z],Y=t.elements.arrow,Q=m&&Y?i5(Y):{width:0,height:0},G=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:z_(),$=G[L],X=G[U],Z=Nh(0,k[z],Q[z]),te=S?k[z]/2-le-Z-$-A.mainAxis:oe-Z-$-A.mainAxis,fe=S?-k[z]/2+le+Z+X+A.mainAxis:M+Z+X+A.mainAxis,xe=t.elements.arrow&&Ep(t.elements.arrow),ke=xe?j==="y"?xe.clientTop||0:xe.clientLeft||0:0,Pe=(F=E==null?void 0:E[j])!=null?F:0,Je=H+te-Pe-ke,ye=H+fe-Pe,se=Nh(m?Bg(V,Je):V,H,m?xc(ae,ye):ae);I[j]=se,_[j]=se-H}if(c){var Qe,Ve=j==="x"?ga:va,_e=j==="x"?cs:us,Ae=I[P],Fe=P==="y"?"height":"width",Re=Ae+w[Ve],et=Ae-w[_e],ct=[ga,va].indexOf(g)!==-1,ft=(Qe=E==null?void 0:E[P])!=null?Qe:0,xt=ct?Re:Ae-k[Fe]-D[Fe]-ft+A.altAxis,St=ct?Ae+k[Fe]+D[Fe]-ft-A.altAxis:et,It=m&&ct?O9(xt,Ae,St):Nh(m?xt:Re,Ae,m?St:et);I[P]=It,_[P]=It-Ae}t.modifiersData[n]=_}}const fU={name:"preventOverflow",enabled:!0,phase:"main",fn:dU,requiresIfExists:["offset"]};function hU(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function pU(e){return e===Ia(e)||!_i(e)?l5(e):hU(e)}function mU(e){var t=e.getBoundingClientRect(),r=kd(t.width)/e.offsetWidth||1,n=kd(t.height)/e.offsetHeight||1;return r!==1||n!==1}function gU(e,t,r){r===void 0&&(r=!1);var n=_i(t),a=_i(t)&&mU(t),s=Fl(t),o=Cd(e,a,r),c={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((Dl(t)!=="body"||u5(s))&&(c=pU(t)),_i(t)?(l=Cd(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=c5(s))),{x:o.left+c.scrollLeft-l.x,y:o.top+c.scrollTop-l.y,width:o.width,height:o.height}}function vU(e){var t=new Map,r=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function a(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(c){if(!r.has(c)){var l=t.get(c);l&&a(l)}}),n.push(s)}return e.forEach(function(s){r.has(s.name)||a(s)}),n}function xU(e){var t=vU(e);return A9.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function yU(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function bU(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var j4={placement:"bottom",modifiers:[],strategy:"absolute"};function S4(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function wU(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,s=a===void 0?j4:a;return function(c,l,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},j4,s),modifiersData:{},elements:{reference:c,popper:l},attributes:{},styles:{}},f=[],p=!1,m={state:d,setOptions:function(g){var x=typeof g=="function"?g(d.options):g;v(),d.options=Object.assign({},s,d.options,x),d.scrollParents={reference:Ic(c)?jh(c):c.contextElement?jh(c.contextElement):[],popper:jh(l)};var S=xU(bU([].concat(n,d.options.modifiers)));return d.orderedModifiers=S.filter(function(j){return j.enabled}),y(),m.update()},forceUpdate:function(){if(!p){var g=d.elements,x=g.reference,S=g.popper;if(S4(x,S)){d.rects={reference:gU(x,Ep(S),d.options.strategy==="fixed"),popper:i5(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(A){return d.modifiersData[A.name]=Object.assign({},A.data)});for(var j=0;j<d.orderedModifiers.length;j++){if(d.reset===!0){d.reset=!1,j=-1;continue}var P=d.orderedModifiers[j],I=P.fn,k=P.options,D=k===void 0?{}:k,R=P.name;typeof I=="function"&&(d=I({state:d,options:D,name:R,instance:m})||d)}}}},update:yU(function(){return new Promise(function(w){m.forceUpdate(),w(d)})}),destroy:function(){v(),p=!0}};if(!S4(c,l))return m;m.setOptions(u).then(function(w){!p&&u.onFirstUpdate&&u.onFirstUpdate(w)});function y(){d.orderedModifiers.forEach(function(w){var g=w.name,x=w.options,S=x===void 0?{}:x,j=w.effect;if(typeof j=="function"){var P=j({state:d,name:g,instance:m,options:S}),I=function(){};f.push(P||I)}})}function v(){f.forEach(function(w){return w()}),f=[]}return m}}var NU=wU({defaultModifiers:[aU,cU,W9,Y9,oU,rU,fU,$9]}),k4=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},jU={name:"applyStyles",enabled:!1},SU={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,s=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(c){return c.trim()!==s.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,s=a.popper,o=a.reference,c=(r=s.getAttribute("role"))==null?void 0:r.toLowerCase();if(s.id&&c==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},kU=[];function CU(e,t,r){var n=r===void 0?{}:r,a=n.enabled,s=a===void 0?!0:a,o=n.placement,c=o===void 0?"bottom":o,l=n.strategy,u=l===void 0?"absolute":l,d=n.modifiers,f=d===void 0?kU:d,p=Hv(n,["enabled","placement","strategy","modifiers"]),m=O.useRef(),y=O.useCallback(function(){var j;(j=m.current)==null||j.update()},[]),v=O.useCallback(function(){var j;(j=m.current)==null||j.forceUpdate()},[]),w=b9(O.useState({placement:c,update:y,forceUpdate:v,attributes:{},styles:{popper:k4(u),arrow:{}}})),g=w[0],x=w[1],S=O.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(P){var I=P.state,k={},D={};Object.keys(I.elements).forEach(function(R){k[R]=I.styles[R],D[R]=I.attributes[R]}),x({state:I,styles:k,attributes:D,update:y,forceUpdate:v,placement:I.placement})}}},[y,v,x]);return O.useEffect(function(){!m.current||!s||m.current.setOptions({placement:c,strategy:u,modifiers:[].concat(f,[S,jU])})},[u,c,S,s]),O.useEffect(function(){if(!(!s||e==null||t==null))return m.current=NU(e,t,Ye({},p,{placement:c,strategy:u,modifiers:[].concat(f,[SU,S])})),function(){m.current!=null&&(m.current.destroy(),m.current=void 0,x(function(j){return Ye({},j,{attributes:{},styles:{popper:k4(u)}})}))}},[s,e,t]),g}function DU(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function lh(e,t,r,n){return v9(e,t,r,n),function(){DU(e,t,r,n)}}var _U=function(){},PU=_U;const EU=wa(PU);function MU(e){return e&&"setState"in e?Ow.findDOMNode(e):e??null}const AU=function(e){return _p(MU(e))};var LU=27,C4=function(){};function TU(e){return e.button===0}function OU(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var D4=function(t){return t&&("current"in t?t.current:t)};function IU(e,t,r){var n=r===void 0?{}:r,a=n.disabled,s=n.clickTrigger,o=s===void 0?"click":s,c=O.useRef(!1),l=t||C4,u=O.useCallback(function(p){var m,y=D4(e);EU(!!y,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),c.current=!y||OU(p)||!TU(p)||!!ep(y,(m=p.composedPath==null?void 0:p.composedPath()[0])!=null?m:p.target)},[e]),d=p4(function(p){c.current||l(p)}),f=p4(function(p){p.keyCode===LU&&l(p)});O.useEffect(function(){if(!(a||e==null)){var p=window.event,m=AU(D4(e)),y=lh(m,o,u,!0),v=lh(m,o,function(x){if(x===p){p=void 0;return}d(x)}),w=lh(m,"keyup",function(x){if(x===p){p=void 0;return}f(x)}),g=[];return"ontouchstart"in m.documentElement&&(g=[].slice.call(m.body.children).map(function(x){return lh(x,"mousemove",C4)})),function(){y(),v(),w(),g.forEach(function(x){return x()})}}},[e,a,o,u,d,f])}function RU(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function FU(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function $U(e){var t,r,n,a,s=e.enabled,o=e.enableEvents,c=e.placement,l=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,p=e.arrowElement,m=e.popperConfig,y=m===void 0?{}:m,v=RU(y.modifiers);return Ye({},y,{placement:c,enabled:s,strategy:d?"fixed":y.strategy,modifiers:FU(Ye({},v,{eventListeners:{enabled:o},preventOverflow:Ye({},v.preventOverflow,{options:f?Ye({padding:f},(t=v.preventOverflow)==null?void 0:t.options):(r=v.preventOverflow)==null?void 0:r.options}),offset:{options:Ye({offset:u},(n=v.offset)==null?void 0:n.options)},arrow:Ye({},v.arrow,{enabled:!!p,options:Ye({},(a=v.arrow)==null?void 0:a.options,{element:p})}),flip:Ye({enabled:!!l},v.flip)}))})}function UU(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function zU(e,t){e.classList?e.classList.add(t):UU(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function _4(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function BU(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=_4(e.className,t):e.setAttribute("class",_4(e.className&&e.className.baseVal||"",t))}var s0;function d5(e){if((!s0&&s0!==0||e)&&r5){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),s0=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return s0}var N1=function(t){var r;return typeof document>"u"?null:t==null?_p().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function P4(e,t){var r=O.useState(function(){return N1(e)}),n=r[0],a=r[1];if(!n){var s=N1(e);s&&a(s)}return O.useEffect(function(){},[t,n]),O.useEffect(function(){var o=N1(e);o!==n&&a(o)},[e,n]),n}const E4=e=>!e||typeof e=="function"?e:t=>{e.current=t};function WU(e,t){const r=E4(e),n=E4(t);return a=>{r&&r(a),n&&n(a)}}function HU(e,t){return O.useMemo(()=>WU(e,t),[e,t])}var f5=re.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,s=e.containerPadding,o=s===void 0?5:s,c=e.popperConfig,l=c===void 0?{}:c,u=e.transition,d=m4(),f=d[0],p=d[1],m=m4(),y=m[0],v=m[1],w=HU(p,t),g=P4(e.container),x=P4(e.target),S=O.useState(!e.show),j=S[0],P=S[1],I=CU(x,f,$U({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:y,popperConfig:l})),k=I.styles,D=I.attributes,R=Hv(I,["styles","attributes"]);e.show?j&&P(!1):!e.transition&&!j&&P(!0);var A=function(){P(!0),e.onExited&&e.onExited.apply(e,arguments)},E=e.show||u&&!j;if(IU(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!E)return null;var _=e.children(Ye({},R,{show:!!e.show,props:Ye({},D.popper,{style:k.popper,ref:w}),arrowProps:Ye({},D.arrow,{style:k.arrow,ref:v})}));if(u){var F=e.onExit,L=e.onExiting,U=e.onEnter,z=e.onEntering,H=e.onEntered;_=re.createElement(u,{in:e.show,appear:!0,onExit:F,onExiting:L,onExited:A,onEnter:U,onEntering:z,onEntered:H},_)}return g?Ow.createPortal(_,g):null});f5.displayName="Overlay";f5.propTypes={show:Le.bool,placement:Le.oneOf(a5),target:Le.any,container:Le.any,flip:Le.bool,children:Le.func.isRequired,containerPadding:Le.number,popperConfig:Le.object,rootClose:Le.bool,rootCloseEvent:Le.oneOf(["click","mousedown"]),rootCloseDisabled:Le.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var s;return(s=Le.func).isRequired.apply(s,[t].concat(n))}return Le.func.apply(Le,[t].concat(n))},transition:Le.elementType,onEnter:Le.func,onEntering:Le.func,onEntered:Le.func,onExit:Le.func,onExiting:Le.func,onExited:Le.func};function YU(){this.__data__=[],this.size=0}var VU=YU,qU=kp;function GU(e,t){for(var r=e.length;r--;)if(qU(e[r][0],t))return r;return-1}var Gv=GU,KU=Gv,XU=Array.prototype,QU=XU.splice;function JU(e){var t=this.__data__,r=KU(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():QU.call(t,r,1),--this.size,!0}var ZU=JU,ez=Gv;function tz(e){var t=this.__data__,r=ez(t,e);return r<0?void 0:t[r][1]}var rz=tz,nz=Gv;function az(e){return nz(this.__data__,e)>-1}var sz=az,iz=Gv;function oz(e,t){var r=this.__data__,n=iz(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var lz=oz,cz=VU,uz=ZU,dz=rz,fz=sz,hz=lz;function Vd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vd.prototype.clear=cz;Vd.prototype.delete=uz;Vd.prototype.get=dz;Vd.prototype.has=fz;Vd.prototype.set=hz;var Kv=Vd,pz=Kv;function mz(){this.__data__=new pz,this.size=0}var gz=mz;function vz(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var xz=vz;function yz(e){return this.__data__.get(e)}var bz=yz;function wz(e){return this.__data__.has(e)}var Nz=wz,jz=$i,Sz=jz["__core-js_shared__"],kz=Sz,j1=kz,M4=function(){var e=/[^.]+$/.exec(j1&&j1.keys&&j1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Cz(e){return!!M4&&M4 in e}var Dz=Cz,_z=Function.prototype,Pz=_z.toString;function Ez(e){if(e!=null){try{return Pz.call(e)}catch{}try{return e+""}catch{}}return""}var V_=Ez,Mz=Jw,Az=Dz,Lz=Ao,Tz=V_,Oz=/[\\^$.*+?()[\]{}|]/g,Iz=/^\[object .+?Constructor\]$/,Rz=Function.prototype,Fz=Object.prototype,$z=Rz.toString,Uz=Fz.hasOwnProperty,zz=RegExp("^"+$z.call(Uz).replace(Oz,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bz(e){if(!Lz(e)||Az(e))return!1;var t=Mz(e)?zz:Iz;return t.test(Tz(e))}var Wz=Bz;function Hz(e,t){return e==null?void 0:e[t]}var Yz=Hz,Vz=Wz,qz=Yz;function Gz(e,t){var r=qz(e,t);return Vz(r)?r:void 0}var Vc=Gz,Kz=Vc,Xz=$i,Qz=Kz(Xz,"Map"),h5=Qz,Jz=Vc,Zz=Jz(Object,"create"),Xv=Zz,A4=Xv;function eB(){this.__data__=A4?A4(null):{},this.size=0}var tB=eB;function rB(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nB=rB,aB=Xv,sB="__lodash_hash_undefined__",iB=Object.prototype,oB=iB.hasOwnProperty;function lB(e){var t=this.__data__;if(aB){var r=t[e];return r===sB?void 0:r}return oB.call(t,e)?t[e]:void 0}var cB=lB,uB=Xv,dB=Object.prototype,fB=dB.hasOwnProperty;function hB(e){var t=this.__data__;return uB?t[e]!==void 0:fB.call(t,e)}var pB=hB,mB=Xv,gB="__lodash_hash_undefined__";function vB(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=mB&&t===void 0?gB:t,this}var xB=vB,yB=tB,bB=nB,wB=cB,NB=pB,jB=xB;function qd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}qd.prototype.clear=yB;qd.prototype.delete=bB;qd.prototype.get=wB;qd.prototype.has=NB;qd.prototype.set=jB;var SB=qd,L4=SB,kB=Kv,CB=h5;function DB(){this.size=0,this.__data__={hash:new L4,map:new(CB||kB),string:new L4}}var _B=DB;function PB(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var EB=PB,MB=EB;function AB(e,t){var r=e.__data__;return MB(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Qv=AB,LB=Qv;function TB(e){var t=LB(this,e).delete(e);return this.size-=t?1:0,t}var OB=TB,IB=Qv;function RB(e){return IB(this,e).get(e)}var FB=RB,$B=Qv;function UB(e){return $B(this,e).has(e)}var zB=UB,BB=Qv;function WB(e,t){var r=BB(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var HB=WB,YB=_B,VB=OB,qB=FB,GB=zB,KB=HB;function Gd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gd.prototype.clear=YB;Gd.prototype.delete=VB;Gd.prototype.get=qB;Gd.prototype.has=GB;Gd.prototype.set=KB;var p5=Gd,XB=Kv,QB=h5,JB=p5,ZB=200;function eW(e,t){var r=this.__data__;if(r instanceof XB){var n=r.__data__;if(!QB||n.length<ZB-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new JB(n)}return r.set(e,t),this.size=r.size,this}var tW=eW,rW=Kv,nW=gz,aW=xz,sW=bz,iW=Nz,oW=tW;function Kd(e){var t=this.__data__=new rW(e);this.size=t.size}Kd.prototype.clear=nW;Kd.prototype.delete=aW;Kd.prototype.get=sW;Kd.prototype.has=iW;Kd.prototype.set=oW;var m5=Kd,lW="__lodash_hash_undefined__";function cW(e){return this.__data__.set(e,lW),this}var uW=cW;function dW(e){return this.__data__.has(e)}var fW=dW,hW=p5,pW=uW,mW=fW;function Wg(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new hW;++t<r;)this.add(e[t])}Wg.prototype.add=Wg.prototype.push=pW;Wg.prototype.has=mW;var gW=Wg;function vW(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var xW=vW;function yW(e,t){return e.has(t)}var bW=yW,wW=gW,NW=xW,jW=bW,SW=1,kW=2;function CW(e,t,r,n,a,s){var o=r&SW,c=e.length,l=t.length;if(c!=l&&!(o&&l>c))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,p=!0,m=r&kW?new wW:void 0;for(s.set(e,t),s.set(t,e);++f<c;){var y=e[f],v=t[f];if(n)var w=o?n(v,y,f,t,e,s):n(y,v,f,e,t,s);if(w!==void 0){if(w)continue;p=!1;break}if(m){if(!NW(t,function(g,x){if(!jW(m,x)&&(y===g||a(y,g,r,n,s)))return m.push(x)})){p=!1;break}}else if(!(y===v||a(y,v,r,n,s))){p=!1;break}}return s.delete(e),s.delete(t),p}var q_=CW,DW=$i,_W=DW.Uint8Array,G_=_W;function PW(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var EW=PW;function MW(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var AW=MW,T4=Hd,O4=G_,LW=kp,TW=q_,OW=EW,IW=AW,RW=1,FW=2,$W="[object Boolean]",UW="[object Date]",zW="[object Error]",BW="[object Map]",WW="[object Number]",HW="[object RegExp]",YW="[object Set]",VW="[object String]",qW="[object Symbol]",GW="[object ArrayBuffer]",KW="[object DataView]",I4=T4?T4.prototype:void 0,S1=I4?I4.valueOf:void 0;function XW(e,t,r,n,a,s,o){switch(r){case KW:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case GW:return!(e.byteLength!=t.byteLength||!s(new O4(e),new O4(t)));case $W:case UW:case WW:return LW(+e,+t);case zW:return e.name==t.name&&e.message==t.message;case HW:case VW:return e==t+"";case BW:var c=OW;case YW:var l=n&RW;if(c||(c=IW),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;n|=FW,o.set(e,t);var d=TW(c(e),c(t),n,a,s,o);return o.delete(e),d;case qW:if(S1)return S1.call(e)==S1.call(t)}return!1}var QW=XW;function JW(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var g5=JW,ZW=Array.isArray,fs=ZW,eH=g5,tH=fs;function rH(e,t,r){var n=t(e);return tH(e)?n:eH(n,r(e))}var K_=rH;function nH(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var aH=nH;function sH(){return[]}var X_=sH,iH=aH,oH=X_,lH=Object.prototype,cH=lH.propertyIsEnumerable,R4=Object.getOwnPropertySymbols,uH=R4?function(e){return e==null?[]:(e=Object(e),iH(R4(e),function(t){return cH.call(e,t)}))}:oH,v5=uH;function dH(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var fH=dH,hH=Yd,pH=Rl,mH="[object Arguments]";function gH(e){return pH(e)&&hH(e)==mH}var vH=gH,F4=vH,xH=Rl,Q_=Object.prototype,yH=Q_.hasOwnProperty,bH=Q_.propertyIsEnumerable,wH=F4(function(){return arguments}())?F4:function(e){return xH(e)&&yH.call(e,"callee")&&!bH.call(e,"callee")},x5=wH,Hg={exports:{}};function NH(){return!1}var jH=NH;Hg.exports;(function(e,t){var r=$i,n=jH,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,c=o?r.Buffer:void 0,l=c?c.isBuffer:void 0,u=l||n;e.exports=u})(Hg,Hg.exports);var Jv=Hg.exports,SH=Yd,kH=Zw,CH=Rl,DH="[object Arguments]",_H="[object Array]",PH="[object Boolean]",EH="[object Date]",MH="[object Error]",AH="[object Function]",LH="[object Map]",TH="[object Number]",OH="[object Object]",IH="[object RegExp]",RH="[object Set]",FH="[object String]",$H="[object WeakMap]",UH="[object ArrayBuffer]",zH="[object DataView]",BH="[object Float32Array]",WH="[object Float64Array]",HH="[object Int8Array]",YH="[object Int16Array]",VH="[object Int32Array]",qH="[object Uint8Array]",GH="[object Uint8ClampedArray]",KH="[object Uint16Array]",XH="[object Uint32Array]",cr={};cr[BH]=cr[WH]=cr[HH]=cr[YH]=cr[VH]=cr[qH]=cr[GH]=cr[KH]=cr[XH]=!0;cr[DH]=cr[_H]=cr[UH]=cr[PH]=cr[zH]=cr[EH]=cr[MH]=cr[AH]=cr[LH]=cr[TH]=cr[OH]=cr[IH]=cr[RH]=cr[FH]=cr[$H]=!1;function QH(e){return CH(e)&&kH(e.length)&&!!cr[SH(e)]}var JH=QH;function ZH(e){return function(t){return e(t)}}var Zv=ZH,Yg={exports:{}};Yg.exports;(function(e,t){var r=P_,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,c=function(){try{var l=a&&a.require&&a.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=c})(Yg,Yg.exports);var y5=Yg.exports,eY=JH,tY=Zv,$4=y5,U4=$4&&$4.isTypedArray,rY=U4?tY(U4):eY,b5=rY,nY=fH,aY=x5,sY=fs,iY=Jv,oY=e5,lY=b5,cY=Object.prototype,uY=cY.hasOwnProperty;function dY(e,t){var r=sY(e),n=!r&&aY(e),a=!r&&!n&&iY(e),s=!r&&!n&&!a&&lY(e),o=r||n||a||s,c=o?nY(e.length,String):[],l=c.length;for(var u in e)(t||uY.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||oY(u,l)))&&c.push(u);return c}var J_=dY,fY=Object.prototype;function hY(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||fY;return e===r}var w5=hY;function pY(e,t){return function(r){return e(t(r))}}var Z_=pY,mY=Z_,gY=mY(Object.keys,Object),vY=gY,xY=w5,yY=vY,bY=Object.prototype,wY=bY.hasOwnProperty;function NY(e){if(!xY(e))return yY(e);var t=[];for(var r in Object(e))wY.call(e,r)&&r!="constructor"&&t.push(r);return t}var jY=NY,SY=J_,kY=jY,CY=Cp;function DY(e){return CY(e)?SY(e):kY(e)}var Mp=DY,_Y=K_,PY=v5,EY=Mp;function MY(e){return _Y(e,EY,PY)}var eP=MY,z4=eP,AY=1,LY=Object.prototype,TY=LY.hasOwnProperty;function OY(e,t,r,n,a,s){var o=r&AY,c=z4(e),l=c.length,u=z4(t),d=u.length;if(l!=d&&!o)return!1;for(var f=l;f--;){var p=c[f];if(!(o?p in t:TY.call(t,p)))return!1}var m=s.get(e),y=s.get(t);if(m&&y)return m==t&&y==e;var v=!0;s.set(e,t),s.set(t,e);for(var w=o;++f<l;){p=c[f];var g=e[p],x=t[p];if(n)var S=o?n(x,g,p,t,e,s):n(g,x,p,e,t,s);if(!(S===void 0?g===x||a(g,x,r,n,s):S)){v=!1;break}w||(w=p=="constructor")}if(v&&!w){var j=e.constructor,P=t.constructor;j!=P&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof P=="function"&&P instanceof P)&&(v=!1)}return s.delete(e),s.delete(t),v}var IY=OY,RY=Vc,FY=$i,$Y=RY(FY,"DataView"),UY=$Y,zY=Vc,BY=$i,WY=zY(BY,"Promise"),HY=WY,YY=Vc,VY=$i,qY=YY(VY,"Set"),GY=qY,KY=Vc,XY=$i,QY=KY(XY,"WeakMap"),JY=QY,f2=UY,h2=h5,p2=HY,m2=GY,g2=JY,tP=Yd,Xd=V_,B4="[object Map]",ZY="[object Object]",W4="[object Promise]",H4="[object Set]",Y4="[object WeakMap]",V4="[object DataView]",eV=Xd(f2),tV=Xd(h2),rV=Xd(p2),nV=Xd(m2),aV=Xd(g2),nc=tP;(f2&&nc(new f2(new ArrayBuffer(1)))!=V4||h2&&nc(new h2)!=B4||p2&&nc(p2.resolve())!=W4||m2&&nc(new m2)!=H4||g2&&nc(new g2)!=Y4)&&(nc=function(e){var t=tP(e),r=t==ZY?e.constructor:void 0,n=r?Xd(r):"";if(n)switch(n){case eV:return V4;case tV:return B4;case rV:return W4;case nV:return H4;case aV:return Y4}return t});var ex=nc,k1=m5,sV=q_,iV=QW,oV=IY,q4=ex,G4=fs,K4=Jv,lV=b5,cV=1,X4="[object Arguments]",Q4="[object Array]",i0="[object Object]",uV=Object.prototype,J4=uV.hasOwnProperty;function dV(e,t,r,n,a,s){var o=G4(e),c=G4(t),l=o?Q4:q4(e),u=c?Q4:q4(t);l=l==X4?i0:l,u=u==X4?i0:u;var d=l==i0,f=u==i0,p=l==u;if(p&&K4(e)){if(!K4(t))return!1;o=!0,d=!1}if(p&&!d)return s||(s=new k1),o||lV(e)?sV(e,t,r,n,a,s):iV(e,t,l,r,n,a,s);if(!(r&cV)){var m=d&&J4.call(e,"__wrapped__"),y=f&&J4.call(t,"__wrapped__");if(m||y){var v=m?e.value():e,w=y?t.value():t;return s||(s=new k1),a(v,w,r,n,s)}}return p?(s||(s=new k1),oV(e,t,r,n,a,s)):!1}var fV=dV,hV=fV,Z4=Rl;function rP(e,t,r,n,a){return e===t?!0:e==null||t==null||!Z4(e)&&!Z4(t)?e!==e&&t!==t:hV(e,t,r,n,rP,a)}var N5=rP,pV=N5;function mV(e,t){return pV(e,t)}var gV=mV;const vV=wa(gV);function C1(e,t){var r=t5(e);return r?r.innerHeight:vc(e).height}function nP(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(p9(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function xV(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var yV=xV,bV=m5,wV=N5,NV=1,jV=2;function SV(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var c=r[a];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){c=r[a];var l=c[0],u=e[l],d=c[1];if(o&&c[2]){if(u===void 0&&!(l in e))return!1}else{var f=new bV;if(n)var p=n(u,d,l,e,t,f);if(!(p===void 0?wV(d,u,NV|jV,n,f):p))return!1}}return!0}var kV=SV,CV=Ao;function DV(e){return e===e&&!CV(e)}var aP=DV,_V=aP,PV=Mp;function EV(e){for(var t=PV(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,_V(a)]}return t}var MV=EV;function AV(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var sP=AV,LV=kV,TV=MV,OV=sP;function IV(e){var t=TV(e);return t.length==1&&t[0][2]?OV(t[0][0],t[0][1]):function(r){return r===e||LV(r,e,t)}}var RV=IV,FV=fs,$V=Dp,UV=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zV=/^\w*$/;function BV(e,t){if(FV(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||$V(e)?!0:zV.test(e)||!UV.test(e)||t!=null&&e in Object(t)}var j5=BV,iP=p5,WV="Expected a function";function S5(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(WV);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(S5.Cache||iP),r}S5.Cache=iP;var HV=S5,YV=HV,VV=500;function qV(e){var t=YV(e,function(n){return r.size===VV&&r.clear(),n}),r=t.cache;return t}var GV=qV,KV=GV,XV=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,QV=/\\(\\)?/g,JV=KV(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(XV,function(r,n,a,s){t.push(a?s.replace(QV,"$1"):n||r)}),t}),ZV=JV;function eq(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var k5=eq,e3=Hd,tq=k5,rq=fs,nq=Dp,aq=1/0,t3=e3?e3.prototype:void 0,r3=t3?t3.toString:void 0;function oP(e){if(typeof e=="string")return e;if(rq(e))return tq(e,oP)+"";if(nq(e))return r3?r3.call(e):"";var t=e+"";return t=="0"&&1/e==-aq?"-0":t}var sq=oP,iq=sq;function oq(e){return e==null?"":iq(e)}var lq=oq,cq=fs,uq=j5,dq=ZV,fq=lq;function hq(e,t){return cq(e)?e:uq(e,t)?[e]:dq(fq(e))}var tx=hq,pq=Dp,mq=1/0;function gq(e){if(typeof e=="string"||pq(e))return e;var t=e+"";return t=="0"&&1/e==-mq?"-0":t}var Ap=gq,vq=tx,xq=Ap;function yq(e,t){t=vq(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[xq(t[r++])];return r&&r==n?e:void 0}var rx=yq,bq=rx;function wq(e,t,r){var n=e==null?void 0:bq(e,t);return n===void 0?r:n}var Nq=wq;function jq(e,t){return e!=null&&t in Object(e)}var Sq=jq,kq=tx,Cq=x5,Dq=fs,_q=e5,Pq=Zw,Eq=Ap;function Mq(e,t,r){t=kq(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=Eq(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&Pq(a)&&_q(o,a)&&(Dq(e)||Cq(e)))}var Aq=Mq,Lq=Sq,Tq=Aq;function Oq(e,t){return e!=null&&Tq(e,t,Lq)}var Iq=Oq,Rq=N5,Fq=Nq,$q=Iq,Uq=j5,zq=aP,Bq=sP,Wq=Ap,Hq=1,Yq=2;function Vq(e,t){return Uq(e)&&zq(t)?Bq(Wq(e),t):function(r){var n=Fq(r,e);return n===void 0&&n===t?$q(r,e):Rq(t,n,Hq|Yq)}}var qq=Vq;function Gq(e){return e}var nx=Gq;function Kq(e){return function(t){return t==null?void 0:t[e]}}var Xq=Kq,Qq=rx;function Jq(e){return function(t){return Qq(t,e)}}var Zq=Jq,eG=Xq,tG=Zq,rG=j5,nG=Ap;function aG(e){return rG(e)?eG(nG(e)):tG(e)}var sG=aG,iG=RV,oG=qq,lG=nx,cG=fs,uG=sG;function dG(e){return typeof e=="function"?e:e==null?lG:typeof e=="object"?cG(e)?oG(e[0],e[1]):iG(e):uG(e)}var ax=dG,fG=yV,hG=ax,pG=A_,mG=Math.max;function gG(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:pG(r);return a<0&&(a=mG(n+a,0)),fG(e,hG(t),a)}var vG=gG;const xG=wa(vG);var yG=Math.ceil,bG=Math.max;function wG(e,t,r,n){for(var a=-1,s=bG(yG((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var NG=wG,jG=NG,SG=Vv,D1=M_;function kG(e){return function(t,r,n){return n&&typeof n!="number"&&SG(t,r,n)&&(r=n=void 0),t=D1(t),r===void 0?(r=t,t=0):r=D1(r),n=n===void 0?t<r?1:-1:D1(n),jG(t,r,n,e)}}var CG=kG,DG=CG,_G=DG(),PG=_G;const EG=wa(PG);var n3=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function MG(e,t){return!!(e===t||n3(e)&&n3(t))}function AG(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!MG(e[r],t[r]))return!1;return!0}function C5(e,t){t===void 0&&(t=AG);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}function v2(e,t){var r=t5(e);return r?r.innerWidth:vc(e).width}var a3=Hd,LG=x5,TG=fs,s3=a3?a3.isConcatSpreadable:void 0;function OG(e){return TG(e)||LG(e)||!!(s3&&e&&e[s3])}var IG=OG,RG=g5,FG=IG;function lP(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=FG),a||(a=[]);++s<o;){var c=e[s];t>0&&r(c)?t>1?lP(c,t-1,r,n,a):RG(a,c):n||(a[a.length]=c)}return a}var cP=lP;function $G(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),c=o.length;c--;){var l=o[e?c:++a];if(r(s[l],l,s)===!1)break}return t}}var UG=$G,zG=UG,BG=zG(),WG=BG,HG=WG,YG=Mp;function VG(e,t){return e&&HG(e,t,YG)}var D5=VG,qG=Cp;function GG(e,t){return function(r,n){if(r==null)return r;if(!qG(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var KG=GG,XG=D5,QG=KG,JG=QG(XG),ZG=JG,eK=ZG,tK=Cp;function rK(e,t){var r=-1,n=tK(e)?Array(e.length):[];return eK(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var nK=rK;function aK(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var sK=aK,i3=Dp;function iK(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=i3(e),o=t!==void 0,c=t===null,l=t===t,u=i3(t);if(!c&&!u&&!s&&e>t||s&&o&&l&&!c&&!u||n&&o&&l||!r&&l||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||c&&r&&a||!o&&a||!l)return-1}return 0}var oK=iK,lK=oK;function cK(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,c=r.length;++n<o;){var l=lK(a[n],s[n]);if(l){if(n>=c)return l;var u=r[n];return l*(u=="desc"?-1:1)}}return e.index-t.index}var uK=cK,_1=k5,dK=rx,fK=ax,hK=nK,pK=sK,mK=Zv,gK=uK,vK=nx,xK=fs;function yK(e,t,r){t.length?t=_1(t,function(s){return xK(s)?function(o){return dK(o,s.length===1?s[0]:s)}:s}):t=[vK];var n=-1;t=_1(t,mK(fK));var a=hK(e,function(s,o,c){var l=_1(t,function(u){return u(s)});return{criteria:l,index:++n,value:s}});return pK(a,function(s,o){return gK(s,o,r)})}var bK=yK;function wK(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var NK=wK,jK=NK,o3=Math.max;function SK(e,t,r){return t=o3(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=o3(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=n[a];return c[t]=r(o),jK(e,this,c)}}var uP=SK;function kK(e){return function(){return e}}var CK=kK,DK=Vc,_K=function(){try{var e=DK(Object,"defineProperty");return e({},"",{}),e}catch{}}(),dP=_K,PK=CK,l3=dP,EK=nx,MK=l3?function(e,t){return l3(e,"toString",{configurable:!0,enumerable:!1,value:PK(t),writable:!0})}:EK,AK=MK,LK=800,TK=16,OK=Date.now;function IK(e){var t=0,r=0;return function(){var n=OK(),a=TK-(n-r);if(r=n,a>0){if(++t>=LK)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var RK=IK,FK=AK,$K=RK,UK=$K(FK),fP=UK,zK=nx,BK=uP,WK=fP;function HK(e,t){return WK(BK(e,t,zK),e+"")}var hP=HK,YK=cP,VK=bK,qK=hP,c3=Vv,GK=qK(function(e,t){if(e==null)return[];var r=t.length;return r>1&&c3(e,t[0],t[1])?t=[]:r>2&&c3(t[0],t[1],t[2])&&(t=[t[0]]),VK(e,YK(t,1),[])}),KK=GK;const XK=wa(KK);function pP(e){return u_(e)||D_(e)||Yw(e)||d_()}function QK(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var JK=QK,ZK=Ao,eX=w5,tX=JK,rX=Object.prototype,nX=rX.hasOwnProperty;function aX(e){if(!ZK(e))return tX(e);var t=eX(e),r=[];for(var n in e)n=="constructor"&&(t||!nX.call(e,n))||r.push(n);return r}var sX=aX,iX=J_,oX=sX,lX=Cp;function cX(e){return lX(e)?iX(e,!0):oX(e)}var sx=cX,uX=hP,dX=kp,fX=Vv,hX=sx,mP=Object.prototype,pX=mP.hasOwnProperty,mX=uX(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&fX(t[0],t[1],a)&&(n=1);++r<n;)for(var s=t[r],o=hX(s),c=-1,l=o.length;++c<l;){var u=o[c],d=e[u];(d===void 0||dX(d,mP[u])&&!pX.call(e,u))&&(e[u]=s[u])}return e}),gX=mX;const vX=wa(gX);var u3=dP;function xX(e,t,r){t=="__proto__"&&u3?u3(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var _5=xX,yX=_5,bX=D5,wX=ax;function NX(e,t){var r={};return t=wX(t),bX(e,function(n,a,s){yX(r,a,t(n,a,s))}),r}var jX=NX;const SX=wa(jX);function kX(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var gP=kX,CX=_5,DX=kp,_X=Object.prototype,PX=_X.hasOwnProperty;function EX(e,t,r){var n=e[t];(!(PX.call(e,t)&&DX(n,r))||r===void 0&&!(t in e))&&CX(e,t,r)}var vP=EX,MX=vP,AX=_5;function LX(e,t,r,n){var a=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var c=t[s],l=n?n(r[c],e[c],c,r,e):void 0;l===void 0&&(l=e[c]),a?AX(r,c,l):MX(r,c,l)}return r}var Lp=LX,TX=Lp,OX=Mp;function IX(e,t){return e&&TX(t,OX(t),e)}var RX=IX,FX=Lp,$X=sx;function UX(e,t){return e&&FX(t,$X(t),e)}var zX=UX,Vg={exports:{}};Vg.exports;(function(e,t){var r=$i,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s?r.Buffer:void 0,c=o?o.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,p=c?c(f):new u.constructor(f);return u.copy(p),p}e.exports=l})(Vg,Vg.exports);var BX=Vg.exports;function WX(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var HX=WX,YX=Lp,VX=v5;function qX(e,t){return YX(e,VX(e),t)}var GX=qX,KX=Z_,XX=KX(Object.getPrototypeOf,Object),ix=XX,QX=g5,JX=ix,ZX=v5,eQ=X_,tQ=Object.getOwnPropertySymbols,rQ=tQ?function(e){for(var t=[];e;)QX(t,ZX(e)),e=JX(e);return t}:eQ,xP=rQ,nQ=Lp,aQ=xP;function sQ(e,t){return nQ(e,aQ(e),t)}var iQ=sQ,oQ=K_,lQ=xP,cQ=sx;function uQ(e){return oQ(e,cQ,lQ)}var yP=uQ,dQ=Object.prototype,fQ=dQ.hasOwnProperty;function hQ(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&fQ.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var pQ=hQ,d3=G_;function mQ(e){var t=new e.constructor(e.byteLength);return new d3(t).set(new d3(e)),t}var P5=mQ,gQ=P5;function vQ(e,t){var r=t?gQ(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var xQ=vQ,yQ=/\w*$/;function bQ(e){var t=new e.constructor(e.source,yQ.exec(e));return t.lastIndex=e.lastIndex,t}var wQ=bQ,f3=Hd,h3=f3?f3.prototype:void 0,p3=h3?h3.valueOf:void 0;function NQ(e){return p3?Object(p3.call(e)):{}}var jQ=NQ,SQ=P5;function kQ(e,t){var r=t?SQ(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var CQ=kQ,DQ=P5,_Q=xQ,PQ=wQ,EQ=jQ,MQ=CQ,AQ="[object Boolean]",LQ="[object Date]",TQ="[object Map]",OQ="[object Number]",IQ="[object RegExp]",RQ="[object Set]",FQ="[object String]",$Q="[object Symbol]",UQ="[object ArrayBuffer]",zQ="[object DataView]",BQ="[object Float32Array]",WQ="[object Float64Array]",HQ="[object Int8Array]",YQ="[object Int16Array]",VQ="[object Int32Array]",qQ="[object Uint8Array]",GQ="[object Uint8ClampedArray]",KQ="[object Uint16Array]",XQ="[object Uint32Array]";function QQ(e,t,r){var n=e.constructor;switch(t){case UQ:return DQ(e);case AQ:case LQ:return new n(+e);case zQ:return _Q(e,r);case BQ:case WQ:case HQ:case YQ:case VQ:case qQ:case GQ:case KQ:case XQ:return MQ(e,r);case TQ:return new n;case OQ:case FQ:return new n(e);case IQ:return PQ(e);case RQ:return new n;case $Q:return EQ(e)}}var JQ=QQ,ZQ=Ao,m3=Object.create,eJ=function(){function e(){}return function(t){if(!ZQ(t))return{};if(m3)return m3(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),bP=eJ,tJ=bP,rJ=ix,nJ=w5;function aJ(e){return typeof e.constructor=="function"&&!nJ(e)?tJ(rJ(e)):{}}var sJ=aJ,iJ=ex,oJ=Rl,lJ="[object Map]";function cJ(e){return oJ(e)&&iJ(e)==lJ}var uJ=cJ,dJ=uJ,fJ=Zv,g3=y5,v3=g3&&g3.isMap,hJ=v3?fJ(v3):dJ,pJ=hJ,mJ=ex,gJ=Rl,vJ="[object Set]";function xJ(e){return gJ(e)&&mJ(e)==vJ}var yJ=xJ,bJ=yJ,wJ=Zv,x3=y5,y3=x3&&x3.isSet,NJ=y3?wJ(y3):bJ,jJ=NJ,SJ=m5,kJ=gP,CJ=vP,DJ=RX,_J=zX,PJ=BX,EJ=HX,MJ=GX,AJ=iQ,LJ=eP,TJ=yP,OJ=ex,IJ=pQ,RJ=JQ,FJ=sJ,$J=fs,UJ=Jv,zJ=pJ,BJ=Ao,WJ=jJ,HJ=Mp,YJ=sx,VJ=1,qJ=2,GJ=4,wP="[object Arguments]",KJ="[object Array]",XJ="[object Boolean]",QJ="[object Date]",JJ="[object Error]",NP="[object Function]",ZJ="[object GeneratorFunction]",eZ="[object Map]",tZ="[object Number]",jP="[object Object]",rZ="[object RegExp]",nZ="[object Set]",aZ="[object String]",sZ="[object Symbol]",iZ="[object WeakMap]",oZ="[object ArrayBuffer]",lZ="[object DataView]",cZ="[object Float32Array]",uZ="[object Float64Array]",dZ="[object Int8Array]",fZ="[object Int16Array]",hZ="[object Int32Array]",pZ="[object Uint8Array]",mZ="[object Uint8ClampedArray]",gZ="[object Uint16Array]",vZ="[object Uint32Array]",sr={};sr[wP]=sr[KJ]=sr[oZ]=sr[lZ]=sr[XJ]=sr[QJ]=sr[cZ]=sr[uZ]=sr[dZ]=sr[fZ]=sr[hZ]=sr[eZ]=sr[tZ]=sr[jP]=sr[rZ]=sr[nZ]=sr[aZ]=sr[sZ]=sr[pZ]=sr[mZ]=sr[gZ]=sr[vZ]=!0;sr[JJ]=sr[NP]=sr[iZ]=!1;function H0(e,t,r,n,a,s){var o,c=t&VJ,l=t&qJ,u=t&GJ;if(r&&(o=a?r(e,n,a,s):r(e)),o!==void 0)return o;if(!BJ(e))return e;var d=$J(e);if(d){if(o=IJ(e),!c)return EJ(e,o)}else{var f=OJ(e),p=f==NP||f==ZJ;if(UJ(e))return PJ(e,c);if(f==jP||f==wP||p&&!a){if(o=l||p?{}:FJ(e),!c)return l?AJ(e,_J(o,e)):MJ(e,DJ(o,e))}else{if(!sr[f])return a?e:{};o=RJ(e,f,c)}}s||(s=new SJ);var m=s.get(e);if(m)return m;s.set(e,o),WJ(e)?e.forEach(function(w){o.add(H0(w,t,r,w,e,s))}):zJ(e)&&e.forEach(function(w,g){o.set(g,H0(w,t,r,g,e,s))});var y=u?l?TJ:LJ:l?YJ:HJ,v=d?void 0:y(e);return kJ(v||e,function(w,g){v&&(g=w,w=e[g]),CJ(o,g,H0(w,t,r,g,e,s))}),o}var xZ=H0;function yZ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var bZ=yZ,wZ=rx,NZ=__;function jZ(e,t){return t.length<2?e:wZ(e,NZ(t,0,-1))}var SZ=jZ,kZ=tx,CZ=bZ,DZ=SZ,_Z=Ap;function PZ(e,t){return t=kZ(t,e),e=DZ(e,t),e==null||delete e[_Z(CZ(t))]}var EZ=PZ,MZ=Yd,AZ=ix,LZ=Rl,TZ="[object Object]",OZ=Function.prototype,IZ=Object.prototype,SP=OZ.toString,RZ=IZ.hasOwnProperty,FZ=SP.call(Object);function $Z(e){if(!LZ(e)||MZ(e)!=TZ)return!1;var t=AZ(e);if(t===null)return!0;var r=RZ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&SP.call(r)==FZ}var UZ=$Z,zZ=UZ;function BZ(e){return zZ(e)?void 0:e}var WZ=BZ,HZ=cP;function YZ(e){var t=e==null?0:e.length;return t?HZ(e,1):[]}var VZ=YZ,qZ=VZ,GZ=uP,KZ=fP;function XZ(e){return KZ(GZ(e,void 0,qZ),e+"")}var QZ=XZ,JZ=k5,ZZ=xZ,eee=EZ,tee=tx,ree=Lp,nee=WZ,aee=QZ,see=yP,iee=1,oee=2,lee=4,cee=aee(function(e,t){var r={};if(e==null)return r;var n=!1;t=JZ(t,function(s){return s=tee(s,e),n||(n=s.length>1),s}),ree(e,see(e),r),n&&(r=ZZ(r,iee|oee|lee,nee));for(var a=t.length;a--;)eee(r,t[a]);return r}),uee=cee;const dee=wa(uee);var fee=gP,hee=bP,pee=D5,mee=ax,gee=ix,vee=fs,xee=Jv,yee=Jw,bee=Ao,wee=b5;function Nee(e,t,r){var n=vee(e),a=n||xee(e)||wee(e);if(t=mee(t),r==null){var s=e&&e.constructor;a?r=n?new s:[]:bee(e)?r=yee(s)?hee(gee(e)):{}:r={}}return(a?fee:pee)(e,function(o,c,l){return t(r,o,c,l)}),r}var jee=Nee;const See=wa(jee);var kee={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ns,function(){return function(r,n,a){n.prototype.isBetween=function(s,o,c,l){var u=a(s),d=a(o),f=(l=l||"()")[0]==="(",p=l[1]===")";return(f?this.isAfter(u,c):!this.isBefore(u,c))&&(p?this.isBefore(d,c):!this.isAfter(d,c))||(f?this.isBefore(u,c):!this.isAfter(u,c))&&(p?this.isAfter(d,c):!this.isBefore(d,c))}}})})(kee);var Cee={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ns,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,s){return this.isSame(a,s)||this.isAfter(a,s)}}})})(Cee);var Dee={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ns,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,s){return this.isSame(a,s)||this.isBefore(a,s)}}})})(Dee);var _ee={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ns,function(){return function(r,n,a){var s=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},c=function(f,p,m,y,v){var w=f.name?f:f.$locale(),g=o(w[p]),x=o(w[m]),S=g||x.map(function(P){return P.slice(0,y)});if(!v)return S;var j=w.weekStart;return S.map(function(P,I){return S[(I+(j||0))%7]})},l=function(){return a.Ls[a.locale()]},u=function(f,p){return f.formats[p]||function(m){return m.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,v,w){return v||w.slice(1)})}(f.formats[p.toUpperCase()])},d=function(){var f=this;return{months:function(p){return p?p.format("MMMM"):c(f,"months")},monthsShort:function(p){return p?p.format("MMM"):c(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(p){return p?p.format("dddd"):c(f,"weekdays")},weekdaysMin:function(p){return p?p.format("dd"):c(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(p){return p?p.format("ddd"):c(f,"weekdaysShort","weekdays",3)},longDateFormat:function(p){return u(f.$locale(),p)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(p){return u(f,p)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return c(l(),"months")},a.monthsShort=function(){return c(l(),"monthsShort","months",3)},a.weekdays=function(f){return c(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return c(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return c(l(),"weekdaysMin","weekdays",2,f)}}})})(_ee);var Pee={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ns,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,s){var o=a.prototype,c=o.format;s.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,p){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,y,v){var w=v&&v.toUpperCase();return y||p[v]||r[v]||p[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,x,S){return x||S.slice(1)})})}(l,u===void 0?{}:u);return c.call(this,d)}}})})(Pee);var Eee={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ns,function(){return function(r,n,a){var s=function(o,c){if(!c||!c.length||c.length===1&&!c[0]||c.length===1&&Array.isArray(c[0])&&!c[0].length)return null;var l;c.length===1&&c[0].length>0&&(c=c[0]),l=(c=c.filter(function(d){return d}))[0];for(var u=1;u<c.length;u+=1)c[u].isValid()&&!c[u][o](l)||(l=c[u]);return l};a.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(Eee);var Mee={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ns,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(s,o,c){var l=o.prototype;c.utc=function(v){var w={date:v,utc:!0,args:arguments};return new o(w)},l.utc=function(v){var w=c(this.toDate(),{locale:this.$L,utc:!0});return v?w.add(this.utcOffset(),r):w},l.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),u.call(this,v)};var d=l.init;l.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(v,w){var g=this.$utils().u;if(g(v))return this.$u?0:g(this.$offset)?f.call(this):this.$offset;if(typeof v=="string"&&(v=function(P){P===void 0&&(P="");var I=P.match(n);if(!I)return null;var k=(""+I[0]).match(a)||["-",0,0],D=k[0],R=60*+k[1]+ +k[2];return R===0?0:D==="+"?R:-R}(v),v===null))return this;var x=Math.abs(v)<=16?60*v:v,S=this;if(w)return S.$offset=x,S.$u=v===0,S;if(v!==0){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(S=this.local().add(x+j,r)).$offset=x,S.$x.$localOffset=j}else S=this.utc();return S};var p=l.format;l.format=function(v){var w=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return p.call(this,w)},l.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var m=l.toDate;l.toDate=function(v){return v==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var y=l.diff;l.diff=function(v,w,g){if(v&&this.$u===v.$u)return y.call(this,v,w,g);var x=this.local(),S=c(v).local();return y.call(x,S,w,g)}}})})(Mee);var Aee={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ns,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(Aee);function li(e){return e.children}var xa={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},rr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},b3=Object.keys(rr).map(function(e){return rr[e]});Le.oneOfType([Le.string,Le.func]);Le.any;Le.func;Le.oneOfType([Le.arrayOf(Le.oneOf(b3)),Le.objectOf(function(e,t){var r=b3.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return Le.elementType.apply(Le,[e,t].concat(a))})]);Le.oneOfType([Le.oneOf(["overlap","no-overlap"]),Le.func]);var w3={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function kP(e,t){var r=Cn(e,"month");return Cn(r,"week",t.startOfWeek())}function CP(e,t){var r=Ug(e,"month");return Ug(r,"week",t.startOfWeek())}function Lee(e,t){for(var r=kP(e,t),n=CP(e,t),a=[];Bd(r,n,"day");)a.push(r),r=Bs(r,1,"day");return a}function Tee(e,t){var r=Cn(e,t);return jp(r,e)?r:Bs(r,1,t)}function Oee(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];Bd(n,t,r);)a.push(n),n=Bs(n,1,r);return a}function Iee(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Cn(e,"day"),e=Zh(e,Zh(t)),e=jd(e,jd(t)),e=Jh(e,Jh(t)),Qh(e,Qh(t)))}function N3(e){return Zh(e)===0&&jd(e)===0&&Jh(e)===0&&Qh(e)===0}function Ree(e,t,r,n){return r==="day"&&(r="date"),Math.abs(a4[r](e,void 0,n)-a4[r](t,void 0,n))}function E5(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Cn(e,r)/w3[r]-+Cn(t,r)/w3[r]))}var Fee=Le.oneOfType([Le.string,Le.func]);function $ee(e,t,r,n,a){var s=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return Yh(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function Uee(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function M5(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function zee(e,t){return E5(e,t,"minutes")+M5(e,t)}function Bee(e){var t=Cn(e,"day");return E5(t,e,"minutes")+M5(t,e)}function Wee(e,t){return Qw(e,t,"day")}function Hee(e,t,r){var n=jp(e,t,"minutes");return n?Sp(t,r,"minutes"):Yv(t,r,"minutes")}function x2(e,t){return Ree(e,t,"day")}function Yee(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,s=e.evtB,o=s.start,c=s.end,l=s.allDay,u=+Cn(r,"day")-+Cn(o,"day"),d=x2(r,n),f=x2(o,c);return u||f-d||!!l-!!a||+r-+o||+n-+c}function Vee(e){var t=e.event,r=t.start,n=t.end,a=e.range,s=a.start,o=a.end,c=Cn(r,"day"),l=Bd(c,o,"day"),u=Xw(c,n,"minutes"),d=u?Yv(n,s,"minutes"):Sp(n,s,"minutes");return l&&d}function qee(e,t){return jp(e,t,"day")}function Gee(e,t){return N3(e)&&N3(t)}var Kee=Zr(function e(t){var r=this;Jr(this,e),Yh(typeof t.format=="function","date localizer `format(..)` must be a function"),Yh(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Fee,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return $ee.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Iee,this.inRange=t.inRange||j_,this.lt=t.lt||Qw,this.lte=t.lte||Bd,this.gt=t.gt||Yv,this.gte=t.gte||Sp,this.eq=t.eq||jp,this.neq=t.neq||Xw,this.startOf=t.startOf||Cn,this.endOf=t.endOf||Ug,this.add=t.add||Bs,this.range=t.range||Oee,this.diff=t.diff||E5,this.ceil=t.ceil||Tee,this.min=t.min||w_,this.max=t.max||N_,this.minutes=t.minutes||jd,this.daySpan=t.daySpan||x2,this.firstVisibleDay=t.firstVisibleDay||kP,this.lastVisibleDay=t.lastVisibleDay||CP,this.visibleDays=t.visibleDays||Lee,this.getSlotDate=t.getSlotDate||Uee,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||M5,this.getTotalMin=t.getTotalMin||zee,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Bee,this.continuesPrior=t.continuesPrior||Wee,this.continuesAfter=t.continuesAfter||Hee,this.sortEvents=t.sortEvents||Yee,this.inEventRange=t.inEventRange||Vee,this.isSameDate=t.isSameDate||qee,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||Gee,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Xee(e,t,r,n){var a=Ie(Ie({},e.formats),r);return Ie(Ie({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,c){return e.format(o,a[c]||c,t)}})}var Qee=function(e){function t(){var r;Jr(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yn(this,t,[].concat(a)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return Dn(t,e),Zr(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,s=n.label;return re.createElement("div",{className:"rbc-toolbar"},re.createElement("span",{className:"rbc-btn-group"},re.createElement("button",{type:"button",onClick:this.navigate.bind(null,xa.TODAY)},a.today),re.createElement("button",{type:"button",onClick:this.navigate.bind(null,xa.PREVIOUS)},a.previous),re.createElement("button",{type:"button",onClick:this.navigate.bind(null,xa.NEXT)},a.next)),re.createElement("span",{className:"rbc-toolbar-label"},s),re.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(c){return re.createElement("button",{type:"button",key:c,className:Er({"rbc-active":o===c}),onClick:a.view.bind(null,c)},n[c])})}}])}(re.Component);function ur(e,t){e&&e.apply(null,[].concat(t))}var Jee={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Zee(e){return Ie(Ie({},Jee),e)}function ete(e){var t=e.ref,r=e.callback;O.useEffect(function(){var n=function(s){t.current&&!t.current.contains(s.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var tte=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],DP=function(e){function t(){return Jr(this,t),Yn(this,t,arguments)}return Dn(t,e),Zr(t,[{key:"render",value:function(){var n=this.props,a=n.style,s=n.className,o=n.event,c=n.selected,l=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,p=n.localizer,m=n.continuesPrior,y=n.continuesAfter,v=n.accessors,w=n.getters,g=n.children,x=n.components,S=x.event,j=x.eventWrapper,P=n.slotStart,I=n.slotEnd,k=on(n,tte);delete k.resizable;var D=v.title(o),R=v.tooltip(o),A=v.end(o),E=v.start(o),_=v.allDay(o),F=l||_||p.diff(E,p.ceil(A,"day"),"day")>1,L=w.eventProp(o,E,A,c),U=re.createElement("div",{className:"rbc-event-content",title:R||void 0},S?re.createElement(S,{event:o,continuesPrior:m,continuesAfter:y,title:D,isAllDay:_,localizer:p,slotStart:P,slotEnd:I}):D);return re.createElement(j,Object.assign({},this.props,{type:"date"}),re.createElement("div",Object.assign({},k,{style:Ie(Ie({},L.style),a),className:Er("rbc-event",s,L.className,{"rbc-selected":c,"rbc-event-allday":F,"rbc-event-continues-prior":m,"rbc-event-continues-after":y}),onClick:function(H){return u&&u(o,H)},onDoubleClick:function(H){return d&&d(o,H)},onKeyDown:function(H){return f&&f(o,H)}}),typeof g=="function"?g(U):U))}}])}(re.Component);function ox(e,t){return!e||t==null?!1:vV(e,t)}function _P(e,t){var r=e.right-e.left,n=r/t;return n}function PP(e,t,r,n){var a=_P(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function rte(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function nte(e,t,r,n,a){var s=-1,o=-1,c=n-1,l=_P(t,n),u=PP(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,p=e.y>t.bottom,m=t.top>e.y,y=r.top<t.top&&r.bottom>t.bottom;return y&&(s=0,o=c),d&&(m?(s=0,o=u):p&&(s=u,o=c)),f&&(s=o=a?c-Math.floor((e.x-t.left)/l):Math.floor((e.x-t.left)/l),d?u<s?s=u:o=u:e.y<r.y?o=c:s=0),{startIdx:s,endIdx:o}}function ate(e){var t=e.target,r=e.offset,n=e.container,a=e.box,s=vc(t),o=s.top,c=s.left,l=s.width,u=s.height,d=vc(n),f=d.top,p=d.left,m=d.width,y=d.height,v=vc(a),w=v.width,g=v.height,x=f+y,S=p+m,j=o+g,P=c+w,I=r.x,k=r.y,D=j>x?o-g-k:o+k+u,R=P>S?c+I-w+l:c+I;return{topOffset:D,leftOffset:R}}function ste(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,s=e.components,o=e.localizer,c=e.position,l=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,p=e.onSelect,m=e.onDoubleClick,y=e.onKeyPress,v=e.handleDragStart,w=e.popperRef,g=e.target,x=e.offset;ete({ref:w,callback:l}),O.useLayoutEffect(function(){var P=ate({target:g,offset:x,container:t.current,box:w.current}),I=P.topOffset,k=P.leftOffset;w.current.style.top="".concat(I,"px"),w.current.style.left="".concat(k,"px")},[x.x,x.y,g]);var S=c.width,j={minWidth:S+S/2};return re.createElement("div",{style:j,className:"rbc-overlay",ref:w},re.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(P,I){return re.createElement(DP,{key:I,type:"popup",localizer:o,event:P,getters:n,onSelect:p,accessors:r,components:s,onDoubleClick:m,onKeyPress:y,continuesPrior:o.lt(r.end(P),d,"day"),continuesAfter:o.gte(r.start(P),f,"day"),slotStart:d,slotEnd:f,selected:ox(P,a),draggable:!0,onDragStart:function(){return v(P)},onDragEnd:function(){return l()}})}))}var EP=re.forwardRef(function(e,t){return re.createElement(ste,Object.assign({},e,{popperRef:t}))});EP.propTypes={accessors:Le.object.isRequired,getters:Le.object.isRequired,selected:Le.object,components:Le.object.isRequired,localizer:Le.object.isRequired,position:Le.object.isRequired,show:Le.func.isRequired,events:Le.array.isRequired,slotStart:Le.instanceOf(Date).isRequired,slotEnd:Le.instanceOf(Date),onSelect:Le.func,onDoubleClick:Le.func,onKeyPress:Le.func,handleDragStart:Le.func,style:Le.object,offset:Le.shape({x:Le.number,y:Le.number})};function ite(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,s=e.accessors,o=e.localizer,c=e.components,l=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,p=e.handleKeyPressEvent,m=e.handleDragStart,y=e.onHide,v=e.overlayDisplay,w=O.useRef(null);if(!a.position)return null;var g=n;isNaN(n)||(g={x:n,y:n});var x=a.position,S=a.events,j=a.date,P=a.end;return re.createElement(f5,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:y,target:a.target},function(I){var k=I.props;return re.createElement(EP,Object.assign({},k,{containerRef:t,ref:w,target:a.target,offset:g,accessors:s,getters:l,selected:u,components:c,localizer:o,position:x,show:v,events:S,slotStart:j,slotEnd:P,onSelect:d,onDoubleClick:f,onKeyPress:p,handleDragStart:m}))})}var A5=re.forwardRef(function(e,t){return re.createElement(ite,Object.assign({},e,{containerRef:t}))});A5.propTypes={popupOffset:Le.oneOfType([Le.number,Le.shape({x:Le.number,y:Le.number})]),overlay:Le.shape({position:Le.object,events:Le.array,date:Le.instanceOf(Date),end:Le.instanceOf(Date)}),accessors:Le.object.isRequired,localizer:Le.object.isRequired,components:Le.object.isRequired,getters:Le.object.isRequired,selected:Le.object,handleSelectEvent:Le.func,handleDoubleClickEvent:Le.func,handleKeyPressEvent:Le.func,handleDragStart:Le.func,onHide:Le.func,overlayDisplay:Le.func};function Rn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return lh(r,e,t,{passive:!1})}function ote(e,t,r){return!e||ep(e,document.elementFromPoint(t,r))}function lte(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return nP(a,".rbc-event",e)}function cte(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return nP(a,".rbc-show-more",e)}function qg(e,t){return!!lte(e,t)}function ute(e,t){return!!cte(e,t)}function Gf(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var j3=5,dte=250,MP=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,s=r.longPressThreshold,o=s===void 0?250:s,c=r.validContainers,l=c===void 0?[]:c;Jr(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Rn("touchmove",function(){},window),this._removeKeyDownListener=Rn("keydown",this._keyListener),this._removeKeyUpListener=Rn("keyup",this._keyListener),this._removeDropFromOutsideListener=Rn("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Rn("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Zr(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var o,c=this._listeners[r]||[];return c.forEach(function(l){o===void 0&&(o=l.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:S3(n,Rc(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,s=null,o=null,c=null,l=function(p){s=setTimeout(function(){d(),r(p)},a.longPressThreshold),o=Rn("touchmove",function(){return d()}),c=Rn("touchend",function(){return d()})},u=Rn("touchstart",l),d=function(){s&&clearTimeout(s),o&&o(),c&&c(),s=null,o=null,c=null};return n&&l(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Rn("mousedown",function(s){r._removeInitialEventListener(),r._handleInitialEvent(s),r._removeInitialEventListener=Rn("mousedown",r._handleInitialEvent)}),a=Rn("touchstart",function(s){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,s)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=Gf(r),a=n.pageX,s=n.pageY,o=n.clientX,c=n.clientY;this.emit("dropFromOutside",{x:a,y:s,clientX:o,clientY:c}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=Gf(r),a=n.pageX,s=n.pageY,o=n.clientX,c=n.clientY;this.emit("dragOverFromOutside",{x:a,y:s,clientX:o,clientY:c}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=Gf(r),a=n.clientX,s=n.clientY,o=n.pageX,c=n.pageY,l=this.container(),u,d;if(!(r.which===3||r.button===2||!ote(l,a,s))){if(!this.globalMouse&&l&&!ep(l,r.target)){var f=fte(0),p=f.top,m=f.left,y=f.bottom,v=f.right;if(d=Rc(l),u=S3({top:d.top-p,left:d.left-m,bottom:d.bottom+y,right:d.right+v},{top:c,left:o}),!u)return}var w=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:c,clientX:a,clientY:s});if(w!==!1)switch(r.type){case"mousedown":this._removeEndListener=Rn("mouseup",this._handleTerminatingEvent),this._onEscListener=Rn("keydown",this._handleTerminatingEvent),this._removeMoveListener=Rn("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Rn("touchend",this._handleTerminatingEvent),this._removeMoveListener=Rn("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(s){return!!n.closest(s)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var s=!this.container||ep(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&s?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=Gf(r),a=n.pageX,s=n.pageY,o=n.clientX,c=n.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<dte?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:s,clientX:o,clientY:c})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:s,clientX:o,clientY:c}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,s=n.y,o=Gf(r),c=o.pageX,l=o.pageY,u=Math.abs(a-c),d=Math.abs(s-l),f=Math.min(c,a),p=Math.min(l,s),m=this.selecting,y=this.isClick(c,l);y&&!m&&!(u||d)||(!m&&!y&&this.emit("selectStart",this._initialEventData),y||(this.selecting=!0,this._selectRect={top:p,left:f,x:c,y:l,right:f+u,bottom:p+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,s=a.x,o=a.y,c=a.isTouch;return!c&&Math.abs(r-s)<=j3&&Math.abs(n-o)<=j3}}])}();function fte(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return wt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function S3(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Rc(e),a=n.top,s=n.left,o=n.right,c=o===void 0?s:o,l=n.bottom,u=l===void 0?a:l,d=Rc(t),f=d.top,p=d.left,m=d.right,y=m===void 0?p:m,v=d.bottom,w=v===void 0?f:v;return!(u-r<f||a+r>w||c-r<p||s+r>y)}function Rc(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+k3("left"),n=t.top+k3("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function k3(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var hte=function(e){function t(r,n){var a;return Jr(this,t),a=Yn(this,t,[r,n]),a.state={selecting:!1},a.containerRef=O.createRef(),a}return Dn(t,e),Zr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,s=n.getNow,o=n.getters,c=n.date,l=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,p=d.startIdx,m=d.endIdx,y=s();return re.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(v,w){var g=f&&w>=p&&w<=m,x=o.dayProp(v),S=x.className,j=x.style;return re.createElement(l,{key:w,value:v,range:a},re.createElement("div",{style:j,className:Er("rbc-day-bg",S,g&&"rbc-selected-cell",u.isSameDate(v,y)&&"rbc-today",c&&u.neq(c,v,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,s=this._selector=new MP(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,u){if(!qg(a,l)&&!ute(a,l)){var d=Rc(a),f=n.props,p=f.range,m=f.rtl;if(rte(d,l)){var y=PP(d,l.x,m,p.length);n._selectSlot({startIdx:y,endIdx:y,action:u,box:l})}}n._initial={},n.setState({selecting:!1})};s.on("selecting",function(c){var l=n.props,u=l.range,d=l.rtl,f=-1,p=-1;if(n.state.selecting||(ur(n.props.onSelectStart,[c]),n._initial={x:c.x,y:c.y}),s.isSelected(a)){var m=Rc(a),y=nte(n._initial,m,c,u.length,d);f=y.startIdx,p=y.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:p})}),s.on("beforeSelect",function(c){if(n.props.selectable==="ignoreEvents")return!qg(n.containerRef.current,c)}),s.on("click",function(c){return o(c,"click")}),s.on("doubleClick",function(c){return o(c,"doubleClick")}),s.on("select",function(c){n._selectSlot(Ie(Ie({},n.state),{},{action:"select",bounds:c})),n._initial={},n.setState({selecting:!1}),ur(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,s=n.startIdx,o=n.action,c=n.bounds,l=n.box;a!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:a,action:o,bounds:c,box:l,resourceId:this.props.resourceId})}}])}(re.Component),Qa={propTypes:{slotMetrics:Le.object.isRequired,selected:Le.object,isAllDay:Le.bool,accessors:Le.object.isRequired,localizer:Le.object.isRequired,components:Le.object.isRequired,getters:Le.object.isRequired,onSelect:Le.func,onDoubleClick:Le.func,onKeyPress:Le.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,s=t.getters,o=t.onSelect,c=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,p=t.resizable,m=d.continuesPrior(r),y=d.continuesAfter(r);return re.createElement(DP,{event:r,getters:s,localizer:u,accessors:a,components:f,onSelect:o,onDoubleClick:c,onKeyPress:l,continuesPrior:m,continuesAfter:y,slotStart:d.first,slotEnd:d.last,selected:ox(r,n),resizable:p})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(r)/t*100+"%";return re.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},a)}},AP=function(e){function t(){return Jr(this,t),Yn(this,t,arguments)}return Dn(t,e),Zr(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.segments,o=a.slotMetrics.slots,c=a.className,l=1;return re.createElement("div",{className:Er(c,"rbc-row")},s.reduce(function(u,d,f){var p=d.event,m=d.left,y=d.right,v=d.span,w="_lvl_"+f,g=m-l,x=Qa.renderEvent(n.props,p);return g&&u.push(Qa.renderSpan(o,g,"".concat(w,"_gap"))),u.push(Qa.renderSpan(o,v,w,x)),l=y+1,u},[]))}}])}(re.Component);AP.defaultProps=Ie({},Qa.defaultProps);function LP(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function pte(e,t,r,n){var a=LP({dateRange:t,localizer:n}),s=a.first,o=a.last,c=n.diff(s,o,"day"),l=n.max(n.startOf(r.start(e),"day"),s),u=n.min(n.ceil(r.end(e),"day"),o),d=xG(t,function(p){return n.isSameDate(p,l)}),f=n.diff(l,u,"day");return f=Math.min(f,c),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function y2(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,s=[],o=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<s.length&&mte(a,s[n]);n++);n>=t?o.push(a):(s[n]||(s[n]=[])).push(a)}for(r=0;r<s.length;r++)s[r].sort(function(c,l){return c.left-l.left});return{levels:s,extra:o}}function np(e,t,r,n,a){var s={start:n.start(e),end:n.end(e)},o={start:t,end:r};return a.inEventRange({event:s,range:o})}function mte(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function gte(e,t,r){var n=gc(e),a=[],s=[];n.forEach(function(l){var u=t.start(l),d=t.end(l);r.daySpan(u,d)>1?a.push(l):s.push(l)});var o=a.sort(function(l,u){return b2(l,u,t,r)}),c=s.sort(function(l,u){return b2(l,u,t,r)});return[].concat(gc(o),gc(c))}function b2(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},s={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:s})}var w2=function(t,r){return t.left<=r&&t.right>=r},P1=function(t,r){return t.filter(function(n){return w2(n,r)}).map(function(n){return n.event})},TP=function(e){function t(){return Jr(this,t),Yn(this,t,arguments)}return Dn(t,e),Zr(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,s=n.slotMetrics.slots,o=y2(a).levels[0],c=1,l=1,u=[];c<=s;){var d="_lvl_"+c,f=o.filter(function(j){return w2(j,c)})[0]||{},p=f.event,m=f.left,y=f.right,v=f.span;if(!p){var w=this.getHiddenEventsForSlot(a,c);if(w.length>0){var g=c-l;g&&u.push(Qa.renderSpan(s,g,d+"_gap")),u.push(Qa.renderSpan(s,1,d,this.renderShowMore(a,c))),l=c=c+1;continue}c++;continue}var x=Math.max(0,m-l);if(this.canRenderSlotEvent(m,v)){var S=Qa.renderEvent(this.props,p);x&&u.push(Qa.renderSpan(s,x,d+"_gap")),u.push(Qa.renderSpan(s,v,d,S)),l=c=y+1}else x&&u.push(Qa.renderSpan(s,x,d+"_gap")),u.push(Qa.renderSpan(s,1,d,this.renderShowMore(a,c))),l=c=c+1}return re.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var s=P1(n,a),o=y2(n).levels[0],c=o.filter(function(l){return w2(l,a)}).map(function(l){return l.event});return s.filter(function(l){return!c.some(function(u){return u===l})})}},{key:"canRenderSlotEvent",value:function(n,a){var s=this.props.segments;return EG(n,n+a).every(function(o){var c=P1(s,o).length;return c===1})}},{key:"renderShowMore",value:function(n,a){var s=this,o=this.props,c=o.localizer,l=o.slotMetrics,u=o.components,d=l.getEventsForSlot(a),f=P1(n,a),p=f.length;if(u!=null&&u.showMore){var m=u.showMore,y=l.getDateForSlot(a-1);return p?re.createElement(m,{localizer:c,slotDate:y,slot:a,count:p,events:d,remainingEvents:f}):!1}return p?re.createElement("button",{type:"button",key:"sm_"+a,className:Er("rbc-button-link","rbc-show-more"),onClick:function(w){return s.showMore(a,w)}},c.messages.showMore(p,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(re.Component);TP.defaultProps=Ie({},Qa.defaultProps);var vte=function(t){var r=t.children;return re.createElement("div",{className:"rbc-row-content-scroll-container"},r)},xte=function(t,r){return t.left<=r&&t.right>=r},yte=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function OP(){return C5(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,s=e.accessors,o=e.localizer,c=LP({dateRange:t,localizer:o}),l=c.first,u=c.last,d=r.map(function(v){return pte(v,t,s,o)}),f=y2(d,Math.max(n-1,1)),p=f.levels,m=f.extra,y=m.length>0?a-1:a;p.length<y;)p.push([]);return{first:l,last:u,levels:p,extra:m,range:t,slots:t.length,clone:function(w){var g=OP();return g(Ie(Ie({},e),w))},getDateForSlot:function(w){return t[w]},getSlotForDate:function(w){return t.find(function(g){return o.isSameDate(g,w)})},getEventsForSlot:function(w){return d.filter(function(g){return xte(g,w)}).map(function(g){return g.event})},continuesPrior:function(w){return o.continuesPrior(s.start(w),l)},continuesAfter:function(w){var g=s.start(w),x=s.end(w);return o.continuesAfter(g,x,u)}}},yte)}var ap=function(e){function t(){var r;Jr(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yn(this,t,[].concat(a)),r.handleSelectSlot=function(o){var c=r.props,l=c.range,u=c.onSelectSlot;u(l.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,c){var l=r.props,u=l.range,d=l.onShowMore,f=r.slotMetrics(r.props),p=g9(r.containerRef.current,".rbc-row-bg")[0],m;p&&(m=p.children[o-1]);var y=f.getEventsForSlot(o);d(y,u[o-1],m,o,c)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,c){var l=r.props,u=l.renderHeader,d=l.getNow,f=l.localizer;return u({date:o,key:"header_".concat(c),className:Er("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,c=o.className,l=o.range,u=o.renderHeader,d=o.showAllEvents;return re.createElement("div",{className:c,ref:r.containerRef},re.createElement("div",{className:Er("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&re.createElement("div",{className:"rbc-row",ref:r.headingRowRef},l.map(r.renderHeadingCell)),re.createElement("div",{className:"rbc-row",ref:r.eventRowRef},re.createElement("div",{className:"rbc-row-segment"},re.createElement("div",{className:"rbc-event"},re.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=O.createRef(),r.headingRowRef=O.createRef(),r.eventRowRef=O.createRef(),r.slotMetrics=OP(),r}return Dn(t,e),Zr(t,[{key:"getRowLimit",value:function(){var n,a=C1(this.eventRowRef.current),s=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?C1(this.headingRowRef.current):0,o=C1(this.containerRef.current)-s;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.rtl,o=n.range,c=n.className,l=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,p=n.getters,m=n.components,y=n.getNow,v=n.renderHeader,w=n.onSelect,g=n.localizer,x=n.onSelectStart,S=n.onSelectEnd,j=n.onDoubleClick,P=n.onKeyPress,I=n.resourceId,k=n.longPressThreshold,D=n.isAllDay,R=n.resizable,A=n.showAllEvents;if(d)return this.renderDummy();var E=this.slotMetrics(this.props),_=E.levels,F=E.extra,L=A?vte:li,U=m.weekWrapper,z={selected:l,accessors:f,getters:p,localizer:g,components:m,onSelect:w,onDoubleClick:j,onKeyPress:P,resourceId:I,slotMetrics:E,resizable:R};return re.createElement("div",{className:c,role:"rowgroup",ref:this.containerRef},re.createElement(hte,{localizer:g,date:a,getNow:y,rtl:s,range:o,selectable:u,container:this.getContainer,getters:p,onSelectStart:x,onSelectEnd:S,onSelectSlot:this.handleSelectSlot,components:m,longPressThreshold:k,resourceId:I}),re.createElement("div",{className:Er("rbc-row-content",A&&"rbc-row-content-scrollable"),role:"row"},v&&re.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),re.createElement(L,null,re.createElement(U,Object.assign({isAllDay:D},z,{rtl:this.props.rtl}),_.map(function(H,V){return re.createElement(AP,Object.assign({key:V,segments:H},z))}),!!F.length&&re.createElement(TP,Object.assign({segments:F,onShowMore:this.handleShowMore},z))))))}}])}(re.Component);ap.defaultProps={minRows:0,maxRows:1/0};var L5=function(t){var r=t.label;return re.createElement("span",{role:"columnheader","aria-sort":"none"},r)},bte=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?re.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):re.createElement("span",null,r)},wte=["date","className"],Nte=function(t,r,n,a,s){return t.filter(function(o){return np(o,r,n,a,s)})},lx=function(e){function t(){var r;Jr(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yn(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,c){var l=r.props,u=l.events,d=l.components,f=l.selectable,p=l.getNow,m=l.selected,y=l.date,v=l.localizer,w=l.longPressThreshold,g=l.accessors,x=l.getters,S=l.showAllEvents,j=r.state,P=j.needLimitMeasure,I=j.rowLimit,k=Nte(gc(u),o[0],o[o.length-1],g,v),D=gte(k,g,v);return re.createElement(ap,{key:c,ref:c===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:p,date:y,range:o,events:D,maxRows:S?1/0:I,selected:m,selectable:f,components:d,accessors:g,getters:x,localizer:v,renderHeader:r.readerDateHeading,renderForMeasure:P,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:w,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:S})},r.readerDateHeading=function(o){var c=o.date,l=o.className,u=on(o,wte),d=r.props,f=d.date,p=d.getDrilldownView,m=d.localizer,y=m.neq(f,c,"month"),v=m.isSameDate(c,f),w=p(c),g=m.format(c,"dateFormat"),x=r.props.components.dateHeader||bte;return re.createElement("div",Object.assign({},u,{className:Er(l,y&&"rbc-off-range",v&&"rbc-current"),role:"cell"}),re.createElement(x,{label:g,date:c,drilldownView:w,isOffRange:y,onDrillDown:function(j){return r.handleHeadingClick(c,w,j)}}))},r.handleSelectSlot=function(o,c){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(c)})},r.handleHeadingClick=function(o,c,l){l.preventDefault(),r.clearSelection(),ur(r.props.onDrillDown,[o,c])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onSelectEvent,c)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onDoubleClickEvent,c)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onKeyPressEvent,c)},r.handleShowMore=function(o,c,l,u,d){var f=r.props,p=f.popup,m=f.onDrillDown,y=f.onShowMore,v=f.getDrilldownView,w=f.doShowMoreDrillDown;if(r.clearSelection(),p){var g=I_(l,r.containerRef.current);r.setState({overlay:{date:c,events:o,position:g,target:d}})}else w&&ur(m,[c,v(c)||rr.DAY]);ur(y,[o,c,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=O.createRef(),r.slotRowRef=O.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Dn(t,e),Zr(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||R_(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,o=n.className,c=s.visibleDays(a,s),l=e9(c,7);return this._weekCount=l.length,re.createElement("div",{className:Er("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},re.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,s=a.localizer,o=a.components,c=n[0],l=n[n.length-1],u=o.header||L5;return s.range(c,l,"day").map(function(d,f){return re.createElement("div",{key:"header_"+f,className:"rbc-header"},re.createElement(u,{date:d,localizer:s,label:s.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,s=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},c=this.props,l=c.accessors,u=c.localizer,d=c.components,f=c.getters,p=c.selected,m=c.popupOffset,y=c.handleDragStart,v=function(){return s.setState({overlay:null})};return re.createElement(A5,{overlay:o,accessors:l,localizer:u,components:d,getters:f,selected:p,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:y,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(c,l){return+c-+l});var s=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),ur(this.props.onSelectSlot,{slots:a,start:s,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var s=n.date,o=n.localizer;return{date:s,needLimitMeasure:o.neq(s,a.date,"month")}}}])}(re.Component);lx.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};lx.navigate=function(e,t,r){var n=r.localizer;switch(t){case xa.PREVIOUS:return n.add(e,-1,"month");case xa.NEXT:return n.add(e,1,"month");default:return e}};lx.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var C3=function(t){var r=t.min,n=t.max,a=t.step,s=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(s)};function T5(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,s=e.localizer,o=C3({start:t,end:r,step:n,timeslots:a,localizer:s}),c=1+s.getTotalMin(t,r),l=s.getMinutesFromMidnight(t),u=Math.ceil((c-1)/(n*a)),d=u*a,f=new Array(u),p=new Array(d),m=0;m<u;m++){f[m]=new Array(a);for(var y=0;y<a;y++){var v=m*a+y,w=v*n;p[v]=f[m][y]=s.getSlotDate(t,l,w)}}var g=p.length*n;p.push(s.getSlotDate(t,l,g));function x(S){var j=s.diff(t,S,"minutes")+s.getDstOffset(t,S);return Math.min(j,c)}return{groups:f,update:function(j){return C3(j)!==o?T5(j):this},dateIsInGroup:function(j,P){var I=f[P+1];return s.inRange(j,f[P][0],I?I[0]:r,"minutes")},nextSlot:function(j){var P=p[Math.min(p.findIndex(function(I){return I===j||s.eq(I,j)})+1,p.length-1)];return s.eq(P,j)&&(P=s.add(j,n,"minutes")),P},closestSlotToPosition:function(j){var P=Math.min(p.length-1,Math.max(0,Math.floor(j*d)));return p[P]},closestSlotFromPoint:function(j,P){var I=Math.abs(P.top-P.bottom);return this.closestSlotToPosition((j.y-P.top)/I)},closestSlotFromDate:function(j){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(j,t,"minutes"))return p[0];if(s.gt(j,r,"minutes"))return p[p.length-1];var I=s.diff(t,j,"minutes");return p[(I-I%n)/n+P]},startsBeforeDay:function(j){return s.lt(j,t,"day")},startsAfterDay:function(j){return s.gt(j,r,"day")},startsBefore:function(j){return s.lt(s.merge(t,j),t,"minutes")},startsAfter:function(j){return s.gt(s.merge(r,j),r,"minutes")},getRange:function(j,P,I,k){I||(j=s.min(r,s.max(t,j))),k||(P=s.min(r,s.max(t,P)));var D=x(j),R=x(P),A=R>n*d&&!s.eq(r,P)?(D-n)/(n*d)*100:D/(n*d)*100;return{top:A,height:R/(n*d)*100-A,start:x(j),startDate:j,end:x(P),endDate:P}},getCurrentTimePosition:function(j){var P=x(j),I=P/(n*d)*100;return I}}}var jte=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;Jr(this,e);var s=a.getRange(n.start(t),n.end(t)),o=s.start,c=s.startDate,l=s.end,u=s.endDate,d=s.top,f=s.height;this.start=o,this.end=l,this.startMs=+c,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Zr(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,s){return Math.max(a,s.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,s=a.indexOf(this);return s===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,s=r._width,o=n.indexOf(this)+1;return a+o*s}}])}();function Ste(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function kte(e){for(var t=XK(e,["startMs",function(c){return-c.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var s=t[a];if(!(n.endMs>s.startMs)){if(a>0){var o=t.splice(a,1)[0];r.push(o)}break}}}return r}function IP(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,s=t.map(function(d){return new jte(d,{slotMetrics:n,accessors:a})}),o=kte(s),c=[],l=function(){var f=o[u],p=c.find(function(v){return v.end>f.start||Math.abs(f.start-v.start)<r});if(!p)return f.rows=[],c.push(f),1;f.container=p;for(var m=null,y=p.rows.length-1;!m&&y>=0;y--)Ste(p.rows[y],f,r)&&(m=p.rows[y]);m?(m.leaves.push(f),f.row=m):(f.leaves=[],p.rows.push(f))},u=0;u<o.length;u++)l();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function RP(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=RP(e.friends[n],t,r);t=t>a?t:a}return t}function Cte(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,s=IP({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});s.sort(function(U,z){return U=U.style,z=z.style,U.top!==z.top?U.top>z.top?1:-1:U.height!==z.height?U.top+U.height<z.top+z.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var c=0;c<s.length-1;++c)for(var l=s[c],u=l.style.top,d=l.style.top+l.style.height,f=c+1;f<s.length;++f){var p=s[f],m=p.style.top,y=p.style.top+p.style.height;(m>=u&&y<=d||y>u&&y<=d||m>=u&&m<d)&&(l.friends.push(p),p.friends.push(l))}for(var v=0;v<s.length;++v){for(var w=s[v],g=[],x=0;x<100;++x)g.push(1);for(var S=0;S<w.friends.length;++S)w.friends[S].idx!==void 0&&(g[w.friends[S].idx]=0);w.idx=g.indexOf(1)}for(var j=0;j<s.length;++j){var P=0;if(!s[j].size){var I=[],k=RP(s[j],0,I);P=100/(k+1),s[j].size=P;for(var D=0;D<I.length;++D)I[D].size=P}}for(var R=0;R<s.length;++R){var A=s[R];A.style.left=A.idx*A.size;for(var E=0,_=0;_<A.friends.length;++_){var F=A.friends[_].idx;E=E>F?E:F}E<=A.idx&&(A.size=100-A.idx*A.size);var L=A.idx===0?0:3;A.style.width="calc(".concat(A.size,"% - ").concat(L,"px)"),A.style.height="calc(".concat(A.style.height,"% - 2px)"),A.style.xOffset="calc(".concat(A.style.left,"% + ").concat(L,"px)")}return s}var D3={overlap:IP,"no-overlap":Cte};function Dte(e){return!!(e&&e.constructor&&e.call&&e.apply)}function _te(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in D3&&(r=D3[t]),Dte(r)?r.apply(this,arguments):[]}var FP=function(e){function t(){return Jr(this,t),Yn(this,t,arguments)}return Dn(t,e),Zr(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,s=n.resource,o=n.group,c=n.getters,l=n.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,f=d===void 0?li:d,p=c?c.slotGroupProp(o):{};return re.createElement("div",Object.assign({className:"rbc-timeslot-group"},p),o.map(function(m,y){var v=c?c.slotProp(m,s):{};return re.createElement(f,{key:y,value:m,resource:s},re.createElement("div",Object.assign({},v,{className:Er("rbc-time-slot",v.className)}),a&&a(m,y)))}))}}])}(O.Component);function o0(e){return typeof e=="string"?e:e+"%"}function Pte(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,s=e.rtl,o=e.selected,c=e.label,l=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,p=e.onDoubleClick,m=e.isBackgroundEvent,y=e.onKeyPress,v=e.components,w=v.event,g=v.eventWrapper,x=a.title(n),S=a.tooltip(n),j=a.end(n),P=a.start(n),I=d.eventProp(n,P,j,o),k=[re.createElement("div",{key:"1",className:"rbc-event-label"},c),re.createElement("div",{key:"2",className:"rbc-event-content"},w?re.createElement(w,{event:n,title:x}):x)],D=t.height,R=t.top,A=t.width,E=t.xOffset,_=Ie(Ie({},I.style),{},Ts({top:o0(R),height:o0(D),width:o0(A)},s?"right":"left",o0(E)));return re.createElement(g,Object.assign({type:"time"},e),re.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:p,style:_,onKeyDown:y,title:S?(typeof c=="string"?c+": ":"")+S:void 0,className:Er(m?"rbc-background-event":"rbc-event",r,I.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},k))}var Ete=function(t){var r=t.children,n=t.className,a=t.style,s=t.innerRef;return re.createElement("div",{className:n,style:a,ref:s},r)},Mte=re.forwardRef(function(e,t){return re.createElement(Ete,Object.assign({},e,{innerRef:t}))}),Ate=["dayProp"],Lte=["eventContainerWrapper","timeIndicatorWrapper"],$P=function(e){function t(){var r;Jr(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yn(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var c=o.events,l=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,p=u.accessors,m=u.localizer,y=u.getters,v=u.components,w=u.step,g=u.timeslots,x=u.dayLayoutAlgorithm,S=u.resizable,j=r,P=j.slotMetrics,I=m.messages,k=_te({events:c,accessors:p,slotMetrics:P,minimumStartDifference:Math.ceil(w*g/2),dayLayoutAlgorithm:x});return k.map(function(D,R){var A,E=D.event,_=D.style,F=p.end(E),L=p.start(E),U=(A=p.eventId(E))!==null&&A!==void 0?A:"evt_"+R,z="eventTimeRangeFormat",H,V=P.startsBeforeDay(L),ae=P.startsAfterDay(F);V?z="eventTimeRangeEndFormat":ae&&(z="eventTimeRangeStartFormat"),V&&ae?H=I.allDay:H=m.format({start:L,end:F},z);var le=V||P.startsBefore(L),oe=ae||P.startsAfter(F);return re.createElement(Pte,{style:_,event:E,label:H,key:U,getters:y,rtl:d,components:v,continuesPrior:le,continuesAfter:oe,accessors:p,resource:r.props.resource,selected:ox(E,f),onClick:function(Y){return r._select(Ie(Ie(Ie({},E),r.props.resource&&{sourceResource:r.props.resource}),l&&{isBackgroundEvent:!0}),Y)},onDoubleClick:function(Y){return r._doubleClick(E,Y)},isBackgroundEvent:l,onKeyPress:function(Y){return r._keyPress(E,Y)},resizable:S})})},r._selectable=function(){var o=r.containerRef.current,c=r.props,l=c.longPressThreshold,u=c.localizer,d=r._selector=new MP(function(){return o},{longPressThreshold:l}),f=function(v){var w=r.props.onSelecting,g=r.state||{},x=p(v),S=x.startDate,j=x.endDate;w&&(u.eq(g.startDate,S,"minutes")&&u.eq(g.endDate,j,"minutes")||w({start:S,end:j,resourceId:r.props.resource})===!1)||(r.state.start!==x.start||r.state.end!==x.end||r.state.selecting!==x.selecting)&&r.setState(x)},p=function(v){var w=r.slotMetrics.closestSlotFromPoint(v,Rc(o));r.state.selecting||(r._initialSlot=w);var g=r._initialSlot;u.lte(g,w)?w=r.slotMetrics.nextSlot(w):u.gt(g,w)&&(g=r.slotMetrics.nextSlot(g));var x=r.slotMetrics.getRange(u.min(g,w),u.max(g,w));return Ie(Ie({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},m=function(v,w){if(!qg(r.containerRef.current,v)){var g=p(v),x=g.startDate,S=g.endDate;r._selectSlot({startDate:x,endDate:S,action:w,box:v})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(y){if(r.props.selectable==="ignoreEvents")return!qg(r.containerRef.current,y)}),d.on("click",function(y){return m(y,"click")}),d.on("doubleClick",function(y){return m(y,"doubleClick")}),d.on("select",function(y){r.state.selecting&&(r._selectSlot(Ie(Ie({},r.state),{},{action:"select",bounds:y})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var c=o.startDate,l=o.endDate,u=o.action,d=o.bounds,f=o.box,p=c,m=[];r.props.localizer.lte(p,l);)m.push(p),p=new Date(+p+r.props.step*60*1e3);ur(r.props.onSelectSlot,{slots:m,start:c,end:l,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onSelectEvent,c)},r._doubleClick=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onDoubleClickEvent,c)},r._keyPress=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onKeyPressEvent,c)},r.slotMetrics=T5(r.props),r.containerRef=O.createRef(),r}return Dn(t,e),Zr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,c=s.isNow,l=s.localizer,u=s.date,d=s.min,f=s.max,p=l.neq(n.getNow(),o(),"minutes");if(n.isNow!==c||p){if(this.clearTimeIndicatorInterval(),c){var m=!p&&l.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(m)}}else c&&(l.neq(n.min,d,"minutes")||l.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,s=n.max,o=n.getNow,c=o();if(c>=a&&c<=s){var l=this.slotMetrics.getCurrentTimePosition(c);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.max,o=n.rtl,c=n.isNow,l=n.resource,u=n.accessors,d=n.localizer,f=n.getters,p=f.dayProp,m=on(f,Ate),y=n.components,v=y.eventContainerWrapper,w=y.timeIndicatorWrapper,g=on(y,Lte);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,S=this.state,j=S.selecting,P=S.top,I=S.height,k=S.startDate,D=S.endDate,R={start:k,end:D},A=p(s,l),E=A.className,_=A.style,F={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},L=g.dayColumnWrapper||Mte;return re.createElement(L,{ref:this.containerRef,date:a,style:_,className:Er(E,"rbc-day-slot","rbc-time-column",c&&"rbc-now",c&&"rbc-today",j&&"rbc-slot-selecting"),slotMetrics:x,resource:l},x.groups.map(function(U,z){return re.createElement(FP,{key:z,group:U,resource:l,getters:m,components:g})}),re.createElement(v,{localizer:d,resource:l,accessors:u,getters:m,components:g,slotMetrics:x},re.createElement("div",{className:Er("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),j&&re.createElement("div",{className:"rbc-slot-selection",style:{top:P,height:I}},re.createElement("span",null,d.format(R,"selectRangeFormat"))),c&&this.intervalTriggered&&re.createElement(w,F,re.createElement("div",F)))}}])}(re.Component);$P.defaultProps={dragThroughEvents:!0,timeslots:2};var UP=function(t){var r=t.label;return re.createElement(re.Fragment,null,r)},Tte=function(e){function t(){var r;Jr(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yn(this,t,[].concat(a)),r.handleHeaderClick=function(o,c,l){l.preventDefault(),ur(r.props.onDrillDown,[o,c])},r.renderRow=function(o){var c=r.props,l=c.events,u=c.rtl,d=c.selectable,f=c.getNow,p=c.range,m=c.getters,y=c.localizer,v=c.accessors,w=c.components,g=c.resizable,x=v.resourceId(o),S=o?l.filter(function(j){return v.resource(j)===x}):l;return re.createElement(ap,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:p,events:S,resourceId:x,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:w,accessors:v,getters:m,localizer:y,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:g})},r}return Dn(t,e),Zr(t,[{key:"renderHeaderCells",value:function(n){var a=this,s=this.props,o=s.localizer,c=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,d=s.components.header,f=d===void 0?L5:d,p=l();return n.map(function(m,y){var v=c(m),w=o.format(m,"dayFormat"),g=u(m),x=g.className,S=g.style,j=re.createElement(f,{date:m,label:w,localizer:o});return re.createElement("div",{key:y,style:S,className:Er("rbc-header",x,o.isSameDate(m,p)&&"rbc-today")},v?re.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(I){return a.handleHeaderClick(m,v,I)}},j):re.createElement("span",null,j))})}},{key:"render",value:function(){var n=this,a=this.props,s=a.width,o=a.rtl,c=a.resources,l=a.range,u=a.events,d=a.getNow,f=a.accessors,p=a.selectable,m=a.components,y=a.getters,v=a.scrollRef,w=a.localizer,g=a.isOverflowing,x=a.components,S=x.timeGutterHeader,j=x.resourceHeader,P=j===void 0?UP:j,I=a.resizable,k={};g&&(k[o?"marginLeft":"marginRight"]="".concat(d5()-1,"px"));var D=c.groupEvents(u);return re.createElement("div",{style:k,ref:v,className:Er("rbc-time-header",g&&"rbc-overflowing")},re.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},S&&re.createElement(S,null)),c.map(function(R,A){var E=zr(R,2),_=E[0],F=E[1];return re.createElement("div",{className:"rbc-time-header-content",key:_||A},F&&re.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(A)},re.createElement("div",{className:"rbc-header"},re.createElement(P,{index:A,label:f.resourceTitle(F),resource:F}))),re.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(l)),re.createElement(ap,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:l,events:D.get(_)||[],resourceId:F&&_,className:"rbc-allday-cell",selectable:p,selected:n.props.selected,components:m,accessors:f,getters:y,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:I}))}))}}])}(re.Component),Ote=function(e){function t(){var r;Jr(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yn(this,t,[].concat(a)),r.handleHeaderClick=function(o,c,l){l.preventDefault(),ur(r.props.onDrillDown,[o,c])},r}return Dn(t,e),Zr(t,[{key:"renderHeaderCells",value:function(n){var a=this,s=this.props,o=s.localizer,c=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,d=s.components,f=d.header,p=f===void 0?L5:f,m=d.resourceHeader,y=m===void 0?UP:m,v=s.resources,w=s.accessors,g=s.events,x=s.rtl,S=s.selectable,j=s.components,P=s.getters,I=s.resizable,k=l(),D=v.groupEvents(g);return n.map(function(R,A){var E=c(R),_=o.format(R,"dayFormat"),F=u(R),L=F.className,U=F.style,z=re.createElement(p,{date:R,label:_,localizer:o});return re.createElement("div",{key:A,className:"rbc-time-header-content rbc-resource-grouping"},re.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},re.createElement("div",{style:U,className:Er("rbc-header",L,o.isSameDate(R,k)&&"rbc-today")},E?re.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(V){return a.handleHeaderClick(R,E,V)}},z):re.createElement("span",null,z))),re.createElement("div",{className:"rbc-row"},v.map(function(H,V){var ae=zr(H,2),le=ae[0],oe=ae[1];return re.createElement("div",{key:"resource_".concat(le,"_").concat(V),className:Er("rbc-header",L,o.isSameDate(R,k)&&"rbc-today")},re.createElement(y,{index:V,label:w.resourceTitle(oe),resource:oe}))})),re.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},v.map(function(H,V){var ae=zr(H,2),le=ae[0],oe=ae[1],M=(D.get(le)||[]).filter(function(Y){return o.isSameDate(Y.start,R)||o.isSameDate(Y.end,R)});return re.createElement(ap,{key:"resource_".concat(le,"_").concat(V),isAllDay:!0,rtl:x,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[R],events:M,resourceId:oe&&le,className:"rbc-allday-cell",selectable:S,selected:a.props.selected,components:j,accessors:w,getters:P,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:I})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,s=n.rtl,o=n.range,c=n.scrollRef,l=n.isOverflowing,u=n.components.timeGutterHeader,d={};return l&&(d[s?"marginLeft":"marginRight"]="".concat(d5()-1,"px")),re.createElement("div",{style:d,ref:c,className:Er("rbc-time-header",l&&"rbc-overflowing")},re.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&re.createElement(u,null)),this.renderHeaderCells(o))}}])}(re.Component);function Ite(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var Rte=function(t){var r=t.min,n=t.max,a=t.timeslots,s=t.step,o=t.localizer,c=t.getNow,l=t.resource,u=t.components,d=t.getters,f=t.gutterRef,p=u.timeGutterWrapper,m=O.useMemo(function(){return Ite({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),y=m.start,v=m.end,w=O.useState(T5({min:y,max:v,timeslots:a,step:s,localizer:o})),g=zr(w,2),x=g[0],S=g[1];O.useEffect(function(){x&&S(x.update({min:y,max:v,timeslots:a,step:s,localizer:o}))},[y==null?void 0:y.toISOString(),v==null?void 0:v.toISOString(),a,s]);var j=O.useCallback(function(P,I){if(I)return null;var k=x.dateIsInGroup(c(),I);return re.createElement("span",{className:Er("rbc-label",k&&"rbc-now")},o.format(P,"timeGutterFormat"))},[x,o,c]);return re.createElement(p,{slotMetrics:x},re.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(P,I){return re.createElement(FP,{key:I,group:P,resource:l,components:u,renderSlot:j,getters:d})})))},Fte=re.forwardRef(function(e,t){return re.createElement(Rte,Object.assign({gutterRef:t},e))}),E1={};function $te(e,t){return{map:function(n){return e?e.map(function(a,s){return n([t.resourceId(a),a],s)}):[n([E1,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(s){var o=t.resource(s)||E1;if(Array.isArray(o))o.forEach(function(l){var u=a.get(l)||[];u.push(s),a.set(l,u)});else{var c=a.get(o)||[];c.push(s),a.set(o,c)}}),a):(a.set(E1,n),a)}}}var Qd=function(e){function t(r){var n;return Jr(this,t),n=Yn(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){h4(n.rafHandle),n.rafHandle=R_(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];ur(n.props.onKeyPressEvent,s)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];ur(n.props.onSelectEvent,s)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];ur(n.props.onDoubleClickEvent,s)},n.handleShowMore=function(a,s,o,c,l){var u=n.props,d=u.popup,f=u.onDrillDown,p=u.onShowMore,m=u.getDrilldownView,y=u.doShowMoreDrillDown;if(n.clearSelection(),d){var v=I_(o,n.containerRef.current);n.setState({overlay:{date:s,events:a,position:Ie(Ie({},v),{},{width:"200px"}),target:l}})}else y&&ur(f,[s,m(s)||rr.DAY]);ur(p,[a,s,c])},n.handleSelectAllDaySlot=function(a,s){var o=n.props.onSelectSlot,c=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),ur(o,{slots:a,start:c,end:l,action:s.action,resourceId:s.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var s=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==s&&(n._updatingOverflow=!0,n.setState({isOverflowing:s},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=C5(function(a,s){return $te(a,s)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=re.createRef(),n.contentRef=re.createRef(),n.containerRef=re.createRef(),n._scrollRatio=null,n.gutterRef=O.createRef(),n}return Dn(t,e),Zr(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),h4(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,s,o,c,l,u,d,f,p){var m=this.props,y=m.min,v=m.max,w=(o.get(a)||[]).filter(function(x){return l.inRange(n,u.start(x),u.end(x),"day")}),g=(c.get(a)||[]).filter(function(x){return l.inRange(n,u.start(x),u.end(x),"day")});return re.createElement($P,Object.assign({},this.props,{localizer:l,min:l.merge(n,y),max:l.merge(n,v),resource:s&&a,components:d,isNow:l.isSameDate(n,p),key:"".concat(a,"-").concat(n),date:n,events:w,backgroundEvents:g,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,s,o,c,l,u,d,f){var p=this;return a.map(function(m){var y=zr(m,2),v=y[0],w=y[1];return n.map(function(g){return p.renderDayColumn(g,v,w,s,o,c,l,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,s,o,c,l,u,d,f){var p=this;return n.map(function(m){return re.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:m},a.map(function(y){var v=zr(y,2),w=v[0],g=v[1];return re.createElement("div",{style:{flex:1},key:l.resourceId(g)},p.renderDayColumn(m,w,g,s,o,c,l,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,s,o){var c=this.props,l=c.accessors,u=c.localizer,d=c.resourceGroupingLayout,f=c.components,p=c.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,l),y=m.groupEvents(a),v=m.groupEvents(s);return d?this.renderRangeFirst(n,m,y,v,u,l,o,f,p):this.renderResourcesFirst(n,m,y,v,u,l,o,f,p)}},{key:"render",value:function(){var n,a=this.props,s=a.events,o=a.backgroundEvents,c=a.range,l=a.width,u=a.rtl,d=a.selected,f=a.getNow,p=a.resources,m=a.components,y=a.accessors,v=a.getters,w=a.localizer,g=a.min,x=a.max,S=a.showMultiDayTimes,j=a.longPressThreshold,P=a.resizable,I=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var k=c[0],D=c[c.length-1];this.slots=c.length;var R=[],A=[],E=[];s.forEach(function(F){if(np(F,k,D,y,w)){var L=y.start(F),U=y.end(F);y.allDay(F)||w.startAndEndAreDateOnly(L,U)||!S&&!w.isSameDate(L,U)?R.push(F):A.push(F)}}),o.forEach(function(F){np(F,k,D,y,w)&&E.push(F)}),R.sort(function(F,L){return b2(F,L,y,w)});var _={range:c,events:R,width:l,rtl:u,getNow:f,localizer:w,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(p,y),selectable:this.props.selectable,accessors:y,getters:v,components:m,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:j,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:P};return re.createElement("div",{className:Er("rbc-time-view",p&&"rbc-time-view-resources"),ref:this.containerRef},p&&p.length>1&&I?re.createElement(Ote,_):re.createElement(Tte,_),this.props.popup&&this.renderOverlay(),re.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},re.createElement(Fte,{date:k,ref:this.gutterRef,localizer:w,min:w.merge(k,g),max:w.merge(k,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:m,className:"rbc-time-gutter",getters:v}),this.renderEvents(c,A,E,f())))}},{key:"renderOverlay",value:function(){var n,a,s=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},c=this.props,l=c.accessors,u=c.localizer,d=c.components,f=c.getters,p=c.selected,m=c.popupOffset,y=c.handleDragStart,v=function(){return s.setState({overlay:null})};return re.createElement(A5,{overlay:o,accessors:l,localizer:u,components:d,getters:f,selected:p,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:y,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,s=(a=n.gutterRef)!==null&&a!==void 0&&a.current?v2(n.gutterRef.current):void 0;s&&n.state.gutterWidth!==s&&n.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,s=n.max,o=n.scrollToTime,c=n.localizer,l=c.diff(c.merge(o,a),o,"milliseconds"),u=c.diff(a,s,"milliseconds");this._scrollRatio=l/u}}])}(O.Component);Qd.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Ute=["date","localizer","min","max","scrollToTime","enableAutoScroll"],cx=function(e){function t(){return Jr(this,t),Yn(this,t,arguments)}return Dn(t,e),Zr(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,o=n.min,c=o===void 0?s.startOf(new Date,"day"):o,l=n.max,u=l===void 0?s.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,p=n.enableAutoScroll,m=p===void 0?!0:p,y=on(n,Ute),v=t.range(a,{localizer:s});return re.createElement(Qd,Object.assign({},y,{range:v,eventOffset:10,localizer:s,min:c,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(re.Component);cx.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};cx.navigate=function(e,t,r){var n=r.localizer;switch(t){case xa.PREVIOUS:return n.add(e,-1,"day");case xa.NEXT:return n.add(e,1,"day");default:return e}};cx.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var zte=["date","localizer","min","max","scrollToTime","enableAutoScroll"],_l=function(e){function t(){return Jr(this,t),Yn(this,t,arguments)}return Dn(t,e),Zr(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,o=n.min,c=o===void 0?s.startOf(new Date,"day"):o,l=n.max,u=l===void 0?s.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,p=n.enableAutoScroll,m=p===void 0?!0:p,y=on(n,zte),v=t.range(a,this.props);return re.createElement(Qd,Object.assign({},y,{range:v,eventOffset:15,localizer:s,min:c,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(re.Component);_l.defaultProps=Qd.defaultProps;_l.navigate=function(e,t,r){var n=r.localizer;switch(t){case xa.PREVIOUS:return n.add(e,-1,"week");case xa.NEXT:return n.add(e,1,"week");default:return e}};_l.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),s=r.endOf(e,"week",n);return r.range(a,s)};_l.title=function(e,t){var r=t.localizer,n=_l.range(e,{localizer:r}),a=pP(n),s=a[0],o=a.slice(1);return r.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Bte=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function O5(e,t){return _l.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Tp=function(e){function t(){return Jr(this,t),Yn(this,t,arguments)}return Dn(t,e),Zr(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,o=n.min,c=o===void 0?s.startOf(new Date,"day"):o,l=n.max,u=l===void 0?s.endOf(new Date,"day"):l,d=n.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,p=n.enableAutoScroll,m=p===void 0?!0:p,y=on(n,Bte),v=O5(a,this.props);return re.createElement(Qd,Object.assign({},y,{range:v,eventOffset:15,localizer:s,min:c,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(re.Component);Tp.defaultProps=Qd.defaultProps;Tp.range=O5;Tp.navigate=_l.navigate;Tp.title=function(e,t){var r=t.localizer,n=O5(e,{localizer:r}),a=pP(n),s=a[0],o=a.slice(1);return r.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var ux=30;function dx(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,s=e.getters,o=e.length,c=o===void 0?ux:o,l=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,p=O.useRef(null),m=O.useRef(null),y=O.useRef(null),v=O.useRef(null),w=O.useRef(null);O.useEffect(function(){S()});var g=function(D,R,A){var E=r.event,_=r.date;return R=R.filter(function(F){return np(F,l.startOf(D,"day"),l.endOf(D,"day"),t,l)}),R.map(function(F,L){var U=t.title(F),z=t.end(F),H=t.start(F),V=s.eventProp(F,H,z,ox(F,f)),ae=L===0&&l.format(D,"agendaDateFormat"),le=L===0?re.createElement("td",{rowSpan:R.length,className:"rbc-agenda-date-cell"},_?re.createElement(_,{day:D,label:ae}):ae):!1;return re.createElement("tr",{key:A+"_"+L,className:V.className,style:V.style},le,re.createElement("td",{className:"rbc-agenda-time-cell"},x(D,F)),re.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(M){return d&&d(F,M)},onDoubleClick:function(M){return u&&u(F,M)}},E?re.createElement(E,{event:F,title:U}):U))},[])},x=function(D,R){var A="",E=r.time,_=l.messages.allDay,F=t.end(R),L=t.start(R);return t.allDay(R)||(l.eq(L,F)?_=l.format(L,"agendaTimeFormat"):l.isSameDate(L,F)?_=l.format({start:L,end:F},"agendaTimeRangeFormat"):l.isSameDate(D,L)?_=l.format(L,"agendaTimeFormat"):l.isSameDate(D,F)&&(_=l.format(F,"agendaTimeFormat"))),l.gt(D,L,"day")&&(A="rbc-continues-prior"),l.lt(D,F,"day")&&(A+=" rbc-continues-after"),re.createElement("span",{className:A.trim()},E?re.createElement(E,{event:R,day:D,label:_}):_)},S=function(){if(w.current){var D=p.current,R=w.current.firstChild;if(R){var A=v.current.scrollHeight>v.current.clientHeight,E=[],_=E;E=[v2(R.children[0]),v2(R.children[1])],(_[0]!==E[0]||_[1]!==E[1])&&(m.current.style.width=E[0]+"px",y.current.style.width=E[1]+"px"),A?(zU(D,"rbc-header-overflowing"),D.style.marginRight=d5()+"px"):BU(D,"rbc-header-overflowing")}}},j=l.messages,P=l.add(n,c,"day"),I=l.range(n,P,"day");return a=a.filter(function(k){return np(k,l.startOf(n,"day"),l.endOf(P,"day"),t,l)}),a.sort(function(k,D){return+t.start(k)-+t.start(D)}),re.createElement("div",{className:"rbc-agenda-view"},a.length!==0?re.createElement(re.Fragment,null,re.createElement("table",{ref:p,className:"rbc-agenda-table"},re.createElement("thead",null,re.createElement("tr",null,re.createElement("th",{className:"rbc-header",ref:m},j.date),re.createElement("th",{className:"rbc-header",ref:y},j.time),re.createElement("th",{className:"rbc-header"},j.event)))),re.createElement("div",{className:"rbc-agenda-content",ref:v},re.createElement("table",{className:"rbc-agenda-table"},re.createElement("tbody",{ref:w},I.map(function(k,D){return g(k,a,D)}))))):re.createElement("span",{className:"rbc-agenda-empty"},j.noEventsInRange))}dx.range=function(e,t){var r=t.length,n=r===void 0?ux:r,a=t.localizer,s=a.add(e,n,"day");return{start:e,end:s}};dx.navigate=function(e,t,r){var n=r.length,a=n===void 0?ux:n,s=r.localizer;switch(t){case xa.PREVIOUS:return s.add(e,-a,"day");case xa.NEXT:return s.add(e,a,"day");default:return e}};dx.title=function(e,t){var r=t.length,n=r===void 0?ux:r,a=t.localizer,s=a.add(e,n,"day");return a.format({start:e,end:s},"agendaHeaderFormat")};var Y0=Ts(Ts(Ts(Ts(Ts({},rr.MONTH,lx),rr.WEEK,_l),rr.WORK_WEEK,Tp),rr.DAY,cx),rr.AGENDA,dx),Wte=["action","date","today"];function Hte(e,t){var r=t.action,n=t.date,a=t.today,s=on(t,Wte);switch(e=typeof e=="string"?Y0[e]:e,r){case xa.TODAY:n=a||new Date;break;case xa.DATE:break;default:Yh(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,s)}return n}function Yte(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&wt(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var to=function(t){return function(r){return Yte(r,t)}},Vte=["view","date","getNow","onNavigate"],qte=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function zP(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=zr(n[r],2),s=a[0],o=a[1];o&&t.push(s)}return t}function Gte(e,t){var r=t.views,n=zP(r);return n.indexOf(e)!==-1}var BP=function(e){function t(){var r;Jr(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Yn(this,t,[].concat(a)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?See(o,function(c,l){return c[l]=Y0[l]},{}):wt(o)==="object"?SX(o,function(c,l){return c===!0?Y0[l]:c}):Y0},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var c=r.props,l=c.view,u=c.drilldownView,d=c.getDrilldownView;return d?d(o,l,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,c,l){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&c.range&&d(c.range(o,{localizer:f}),l)},r.handleNavigate=function(o,c){var l=r.props,u=l.view,d=l.date,f=l.getNow,p=l.onNavigate,m=on(l,Vte),y=r.getView(),v=f();d=Hte(y,Ie(Ie({},m),{},{action:o,date:c||d||v,today:v})),p(d,u,o),r.handleRangeChange(d,y)},r.handleViewChange=function(o){o!==r.props.view&&Gte(o,r.props)&&r.props.onView(o);var c=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),c[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onSelectEvent,c)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onDoubleClickEvent,c)},r.handleKeyPressEvent=function(){for(var o=arguments.length,c=new Array(o),l=0;l<o;l++)c[l]=arguments[l];ur(r.props.onKeyPressEvent,c)},r.handleSelectSlot=function(o){ur(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,c){var l=r.props.onDrillDown;if(l){l(o,c,r.drilldownView);return}c&&r.handleViewChange(c),r.handleNavigate(xa.DATE,o)},r.state={context:t.getContext(r.props)},r}return Dn(t,e),Zr(t,[{key:"render",value:function(){var n=this.props,a=n.view,s=n.toolbar,o=n.events,c=n.backgroundEvents,l=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,p=n.date,m=n.getNow,y=n.length,v=n.showMultiDayTimes,w=n.onShowMore,g=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=on(n,qte);p=p||m();var S=this.getView(),j=this.state.context,P=j.accessors,I=j.components,k=j.getters,D=j.localizer,R=j.viewNames,A=I.toolbar||Qee,E=S.title(p,{localizer:D,length:y});return re.createElement("div",Object.assign({},f,{className:Er(d,"rbc-calendar",x.rtl&&"rbc-rtl"),style:u}),s&&re.createElement(A,{date:p,view:a,views:R,label:E,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:D}),re.createElement(S,Object.assign({},x,{events:o,backgroundEvents:c,date:p,getNow:m,length:y,localizer:D,getters:k,components:I,accessors:P,showMultiDayTimes:v,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:w,doShowMoreDrillDown:g,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,s=n.endAccessor,o=n.allDayAccessor,c=n.tooltipAccessor,l=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,p=n.eventIdAccessor,m=n.eventPropGetter,y=n.backgroundEventPropGetter,v=n.slotPropGetter,w=n.slotGroupPropGetter,g=n.dayPropGetter,x=n.view,S=n.views,j=n.localizer,P=n.culture,I=n.messages,k=I===void 0?{}:I,D=n.components,R=D===void 0?{}:D,A=n.formats,E=A===void 0?{}:A,_=zP(S),F=Zee(k);return{viewNames:_,localizer:Xee(j,P,E,F),getters:{eventProp:function(){return m&&m.apply(void 0,arguments)||{}},backgroundEventProp:function(){return y&&y.apply(void 0,arguments)||{}},slotProp:function(){return v&&v.apply(void 0,arguments)||{}},slotGroupProp:function(){return w&&w.apply(void 0,arguments)||{}},dayProp:function(){return g&&g.apply(void 0,arguments)||{}}},components:vX(R[x]||{},dee(R,_),{eventWrapper:li,backgroundEventWrapper:li,eventContainerWrapper:li,dateCellWrapper:li,weekWrapper:li,timeSlotWrapper:li,timeGutterWrapper:li,timeIndicatorWrapper:li}),accessors:{start:to(a),end:to(s),allDay:to(o),tooltip:to(c),title:to(l),resource:to(u),resourceId:to(d),resourceTitle:to(f),eventId:to(p)}}}}])}(re.Component);BP.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:rr.MONTH,views:[rr.MONTH,rr.WEEK,rr.DAY,rr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:rr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Kte=g_(BP,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Xte=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"MMMM DD",r)+"  "+n.format(s,n.eq(a,s,"month")?"DD":"MMMM DD",r)},Qte=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"L",r)+"  "+n.format(s,"L",r)},M1=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"LT",r)+"  "+n.format(s,"LT",r)},Jte=function(t,r,n){var a=t.start;return n.format(a,"LT",r)+"  "},Zte=function(t,r,n){var a=t.end;return"  "+n.format(a,"LT",r)},ere={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:M1,eventTimeRangeFormat:M1,eventTimeRangeStartFormat:Jte,eventTimeRangeEndFormat:Zte,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Xte,agendaHeaderFormat:Qte,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:M1};function el(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function tre(e){var t=function(M,Y){return Y?M.locale(Y):M};function r(oe){return e(oe).toDate().getTimezoneOffset()}function n(oe,M){var Y,Q,G=e(oe).local(),$=e(M).local();if(!e.tz)return G.toDate().getTimezoneOffset()-$.toDate().getTimezoneOffset();var X=(Y=G==null||(Q=G._z)===null||Q===void 0?void 0:Q.name)!==null&&Y!==void 0?Y:e.tz.guess(),Z=e.tz.zone(X).utcOffset(+G),te=e.tz.zone(X).utcOffset(+$);return Z-te}function a(oe){var M=e(oe).startOf("day");return n(M,oe)}function s(oe,M,Y){var Q=el(Y),G=Q?e(oe).startOf(Q):e(oe),$=Q?e(M).startOf(Q):e(M);return[G,$,Q]}function o(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,Y=el(M);return Y?e(oe).startOf(Y).toDate():e(oe).toDate()}function c(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,M=arguments.length>1?arguments[1]:void 0,Y=el(M);return Y?e(oe).endOf(Y).toDate():e(oe).toDate()}function l(oe,M,Y){var Q=s(oe,M,Y),G=zr(Q,3),$=G[0],X=G[1],Z=G[2];return $.isSame(X,Z)}function u(oe,M,Y){return!l(oe,M,Y)}function d(oe,M,Y){var Q=s(oe,M,Y),G=zr(Q,3),$=G[0],X=G[1],Z=G[2];return $.isAfter(X,Z)}function f(oe,M,Y){var Q=s(oe,M,Y),G=zr(Q,3),$=G[0],X=G[1],Z=G[2];return $.isBefore(X,Z)}function p(oe,M,Y){var Q=s(oe,M,Y),G=zr(Q,3),$=G[0],X=G[1],Z=G[2];return $.isSameOrBefore(X,Z)}function m(oe,M,Y){var Q=s(oe,M,Y),G=zr(Q,3),$=G[0],X=G[1],Z=G[2];return $.isSameOrBefore(X,Z)}function y(oe,M,Y){var Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",G=el(Q),$=e(oe),X=e(M),Z=e(Y);return $.isBetween(X,Z,G,"[]")}function v(oe,M){var Y=e(oe),Q=e(M),G=e.min(Y,Q);return G.toDate()}function w(oe,M){var Y=e(oe),Q=e(M),G=e.max(Y,Q);return G.toDate()}function g(oe,M){if(!oe&&!M)return null;var Y=e(M).format("HH:mm:ss"),Q=e(oe).startOf("day").format("MM/DD/YYYY");return e("".concat(Q," ").concat(Y),"MM/DD/YYYY HH:mm:ss").toDate()}function x(oe,M,Y){var Q=el(Y);return e(oe).add(M,Q).toDate()}function S(oe,M){for(var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Q=el(Y),G=e(oe).toDate(),$=[];m(G,M);)$.push(G),G=x(G,1,Q);return $}function j(oe,M){var Y=el(M),Q=o(oe,Y);return l(Q,oe)?Q:x(Q,1,Y)}function P(oe,M){var Y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Q=el(Y),G=e(oe),$=e(M);return $.diff(G,Q)}function I(oe){var M=e(oe);return M.minutes()}function k(oe){var M=oe?e.localeData(oe):e.localeData();return M?M.firstDayOfWeek():0}function D(oe){return e(oe).startOf("month").startOf("week").toDate()}function R(oe){return e(oe).endOf("month").endOf("week").toDate()}function A(oe){for(var M=D(oe),Y=R(oe),Q=[];m(M,Y);)Q.push(M),M=x(M,1,"d");return Q}function E(oe,M,Y){return e(oe).startOf("day").minute(M+Y).toDate()}function _(oe,M){return P(oe,M,"minutes")}function F(oe){var M=e(oe).startOf("day"),Y=e(oe);return Y.diff(M,"minutes")+a(oe)}function L(oe,M){var Y=e(oe),Q=e(M);return Y.isBefore(Q,"day")}function U(oe,M,Y){var Q=e(M),G=e(Y);return Q.isSameOrAfter(G,"minutes")}function z(oe,M){var Y=e(oe),Q=e(M),G=e.duration(Q.diff(Y));return G.days()}function H(oe){var M=oe.evtA,Y=M.start,Q=M.end,G=M.allDay,$=oe.evtB,X=$.start,Z=$.end,te=$.allDay,fe=+o(Y,"day")-+o(X,"day"),xe=z(Y,Q),ke=z(X,Z);return fe||ke-xe||!!te-!!G||+Y-+X||+Q-+Z}function V(oe){var M=oe.event,Y=M.start,Q=M.end,G=oe.range,$=G.start,X=G.end,Z=e(Y).startOf("day"),te=e(Q),fe=e($),xe=e(X),ke=Z.isSameOrBefore(xe,"day"),Pe=!Z.isSame(te,"minutes"),Je=Pe?te.isAfter(fe,"minutes"):te.isSameOrAfter(fe,"minutes");return ke&&Je}function ae(oe,M){var Y=e(oe),Q=e(M);return Y.isSame(Q,"day")}function le(){var oe=new Date,M=/-/.test(oe.toString())?"-":"",Y=oe.getTimezoneOffset(),Q=Number("".concat(M).concat(Math.abs(Y))),G=e().utcOffset();return G>Q?1:0}return new Kee({formats:ere,firstOfWeek:k,firstVisibleDay:D,lastVisibleDay:R,visibleDays:A,format:function(M,Y,Q){return t(e(M),Q).format(Y)},lt:f,lte:m,gt:d,gte:p,eq:l,neq:u,merge:g,inRange:y,startOf:o,endOf:c,range:S,add:x,diff:P,ceil:j,min:v,max:w,minutes:I,getSlotDate:E,getTimezoneOffset:r,getDstOffset:n,getTotalMin:_,getMinutesFromMidnight:F,continuesPrior:L,continuesAfter:U,sortEvents:H,inEventRange:V,isSameDate:ae,daySpan:z,browserTZOffset:le})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var WP;function Te(){return WP.apply(null,arguments)}function rre(e){WP=e}function Ws(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function yc(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Tt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function I5(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Tt(e,t))return!1;return!0}function ua(e){return e===void 0}function Do(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Op(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function HP(e,t){var r=[],n,a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function cl(e,t){for(var r in t)Tt(t,r)&&(e[r]=t[r]);return Tt(t,"toString")&&(e.toString=t.toString),Tt(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Ui(e,t,r,n){return hE(e,t,r,n,!0).utc()}function nre(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function yt(e){return e._pf==null&&(e._pf=nre()),e._pf}var N2;Array.prototype.some?N2=Array.prototype.some:N2=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function R5(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=yt(e),r=N2.call(t.parsedDateParts,function(a){return a!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function fx(e){var t=Ui(NaN);return e!=null?cl(yt(t),e):yt(t).userInvalidated=!0,t}var _3=Te.momentProperties=[],A1=!1;function F5(e,t){var r,n,a,s=_3.length;if(ua(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),ua(t._i)||(e._i=t._i),ua(t._f)||(e._f=t._f),ua(t._l)||(e._l=t._l),ua(t._strict)||(e._strict=t._strict),ua(t._tzm)||(e._tzm=t._tzm),ua(t._isUTC)||(e._isUTC=t._isUTC),ua(t._offset)||(e._offset=t._offset),ua(t._pf)||(e._pf=yt(t)),ua(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)n=_3[r],a=t[n],ua(a)||(e[n]=a);return e}function Ip(e){F5(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),A1===!1&&(A1=!0,Te.updateOffset(this),A1=!1)}function Hs(e){return e instanceof Ip||e!=null&&e._isAMomentObject!=null}function YP(e){Te.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function hs(e,t){var r=!0;return cl(function(){if(Te.deprecationHandler!=null&&Te.deprecationHandler(null,e),r){var n=[],a,s,o,c=arguments.length;for(s=0;s<c;s++){if(a="",typeof arguments[s]=="object"){a+=`
[`+s+"] ";for(o in arguments[0])Tt(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[s];n.push(a)}YP(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var P3={};function VP(e,t){Te.deprecationHandler!=null&&Te.deprecationHandler(e,t),P3[e]||(YP(t),P3[e]=!0)}Te.suppressDeprecationWarnings=!1;Te.deprecationHandler=null;function zi(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function are(e){var t,r;for(r in e)Tt(e,r)&&(t=e[r],zi(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function j2(e,t){var r=cl({},e),n;for(n in t)Tt(t,n)&&(yc(e[n])&&yc(t[n])?(r[n]={},cl(r[n],e[n]),cl(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Tt(e,n)&&!Tt(t,n)&&yc(e[n])&&(r[n]=cl({},r[n]));return r}function $5(e){e!=null&&this.set(e)}var S2;Object.keys?S2=Object.keys:S2=function(e){var t,r=[];for(t in e)Tt(e,t)&&r.push(t);return r};var sre={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ire(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return zi(n)?n.call(t,r):n}function Li(e,t,r){var n=""+Math.abs(e),a=t-n.length,s=e>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var U5=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,l0=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L1={},ld={};function nt(e,t,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),e&&(ld[e]=a),t&&(ld[t[0]]=function(){return Li(a.apply(this,arguments),t[1],t[2])}),r&&(ld[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function ore(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function lre(e){var t=e.match(U5),r,n;for(r=0,n=t.length;r<n;r++)ld[t[r]]?t[r]=ld[t[r]]:t[r]=ore(t[r]);return function(a){var s="",o;for(o=0;o<n;o++)s+=zi(t[o])?t[o].call(a,e):t[o];return s}}function V0(e,t){return e.isValid()?(t=qP(t,e.localeData()),L1[t]=L1[t]||lre(t),L1[t](e)):e.localeData().invalidDate()}function qP(e,t){var r=5;function n(a){return t.longDateFormat(a)||a}for(l0.lastIndex=0;r>=0&&l0.test(e);)e=e.replace(l0,n),l0.lastIndex=0,r-=1;return e}var cre={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function ure(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(U5).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var dre="Invalid date";function fre(){return this._invalidDate}var hre="%d",pre=/\d{1,2}/;function mre(e){return this._ordinal.replace("%d",e)}var gre={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function vre(e,t,r,n){var a=this._relativeTime[r];return zi(a)?a(e,t,r,n):a.replace(/%d/i,e)}function xre(e,t){var r=this._relativeTime[e>0?"future":"past"];return zi(r)?r(t):r.replace(/%s/i,t)}var E3={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ps(e){return typeof e=="string"?E3[e]||E3[e.toLowerCase()]:void 0}function z5(e){var t={},r,n;for(n in e)Tt(e,n)&&(r=ps(n),r&&(t[r]=e[n]));return t}var yre={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function bre(e){var t=[],r;for(r in e)Tt(e,r)&&t.push({unit:r,priority:yre[r]});return t.sort(function(n,a){return n.priority-a.priority}),t}var GP=/\d/,$a=/\d\d/,KP=/\d{3}/,B5=/\d{4}/,hx=/[+-]?\d{6}/,pr=/\d\d?/,XP=/\d\d\d\d?/,QP=/\d\d\d\d\d\d?/,px=/\d{1,3}/,W5=/\d{1,4}/,mx=/[+-]?\d{1,6}/,Jd=/\d+/,gx=/[+-]?\d+/,wre=/Z|[+-]\d\d:?\d\d/gi,vx=/Z|[+-]\d\d(?::?\d\d)?/gi,Nre=/[+-]?\d+(\.\d{1,3})?/,Rp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Zd=/^[1-9]\d?/,H5=/^([1-9]\d|\d)/,Gg;Gg={};function Ge(e,t,r){Gg[e]=zi(t)?t:function(n,a){return n&&r?r:t}}function jre(e,t){return Tt(Gg,e)?Gg[e](t._strict,t._locale):new RegExp(Sre(e))}function Sre(e){return ho(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,a,s){return r||n||a||s}))}function ho(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ts(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Ct(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=ts(t)),r}var k2={};function Jt(e,t){var r,n=t,a;for(typeof e=="string"&&(e=[e]),Do(t)&&(n=function(s,o){o[t]=Ct(s)}),a=e.length,r=0;r<a;r++)k2[e[r]]=n}function Fp(e,t){Jt(e,function(r,n,a,s){a._w=a._w||{},t(r,a._w,a,s)})}function kre(e,t,r){t!=null&&Tt(k2,e)&&k2[e](t,r._a,r,e)}function xx(e){return e%4===0&&e%100!==0||e%400===0}var Bn=0,lo=1,gi=2,an=3,Os=4,co=5,cc=6,Cre=7,Dre=8;nt("Y",0,0,function(){var e=this.year();return e<=9999?Li(e,4):"+"+e});nt(0,["YY",2],0,function(){return this.year()%100});nt(0,["YYYY",4],0,"year");nt(0,["YYYYY",5],0,"year");nt(0,["YYYYYY",6,!0],0,"year");Ge("Y",gx);Ge("YY",pr,$a);Ge("YYYY",W5,B5);Ge("YYYYY",mx,hx);Ge("YYYYYY",mx,hx);Jt(["YYYYY","YYYYYY"],Bn);Jt("YYYY",function(e,t){t[Bn]=e.length===2?Te.parseTwoDigitYear(e):Ct(e)});Jt("YY",function(e,t){t[Bn]=Te.parseTwoDigitYear(e)});Jt("Y",function(e,t){t[Bn]=parseInt(e,10)});function Sh(e){return xx(e)?366:365}Te.parseTwoDigitYear=function(e){return Ct(e)+(Ct(e)>68?1900:2e3)};var JP=ef("FullYear",!0);function _re(){return xx(this.year())}function ef(e,t){return function(r){return r!=null?(ZP(this,e,r),Te.updateOffset(this,t),this):sp(this,e)}}function sp(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function ZP(e,t,r){var n,a,s,o,c;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}s=r,o=e.month(),c=e.date(),c=c===29&&o===1&&!xx(s)?28:c,a?n.setUTCFullYear(s,o,c):n.setFullYear(s,o,c)}}function Pre(e){return e=ps(e),zi(this[e])?this[e]():this}function Ere(e,t){if(typeof e=="object"){e=z5(e);var r=bre(e),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(e=ps(e),zi(this[e]))return this[e](t);return this}function Mre(e,t){return(e%t+t)%t}var Ir;Array.prototype.indexOf?Ir=Array.prototype.indexOf:Ir=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Y5(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Mre(t,12);return e+=(t-r)/12,r===1?xx(e)?29:28:31-r%7%2}nt("M",["MM",2],"Mo",function(){return this.month()+1});nt("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});nt("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ge("M",pr,Zd);Ge("MM",pr,$a);Ge("MMM",function(e,t){return t.monthsShortRegex(e)});Ge("MMMM",function(e,t){return t.monthsRegex(e)});Jt(["M","MM"],function(e,t){t[lo]=Ct(e)-1});Jt(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);a!=null?t[lo]=a:yt(r).invalidMonth=e});var Are="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),eE="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),tE=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Lre=Rp,Tre=Rp;function Ore(e,t){return e?Ws(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||tE).test(t)?"format":"standalone"][e.month()]:Ws(this._months)?this._months:this._months.standalone}function Ire(e,t){return e?Ws(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[tE.test(t)?"format":"standalone"][e.month()]:Ws(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Rre(e,t,r){var n,a,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Ui([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?t==="MMM"?(a=Ir.call(this._shortMonthsParse,o),a!==-1?a:null):(a=Ir.call(this._longMonthsParse,o),a!==-1?a:null):t==="MMM"?(a=Ir.call(this._shortMonthsParse,o),a!==-1?a:(a=Ir.call(this._longMonthsParse,o),a!==-1?a:null)):(a=Ir.call(this._longMonthsParse,o),a!==-1?a:(a=Ir.call(this._shortMonthsParse,o),a!==-1?a:null))}function Fre(e,t,r){var n,a,s;if(this._monthsParseExact)return Rre.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=Ui([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function rE(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=Ct(t);else if(t=e.localeData().monthsParse(t),!Do(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,Y5(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function nE(e){return e!=null?(rE(this,e),Te.updateOffset(this,!0),this):sp(this,"Month")}function $re(){return Y5(this.year(),this.month())}function Ure(e){return this._monthsParseExact?(Tt(this,"_monthsRegex")||aE.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Tt(this,"_monthsShortRegex")||(this._monthsShortRegex=Lre),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function zre(e){return this._monthsParseExact?(Tt(this,"_monthsRegex")||aE.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Tt(this,"_monthsRegex")||(this._monthsRegex=Tre),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function aE(){function e(l,u){return u.length-l.length}var t=[],r=[],n=[],a,s,o,c;for(a=0;a<12;a++)s=Ui([2e3,a]),o=ho(this.monthsShort(s,"")),c=ho(this.months(s,"")),t.push(o),r.push(c),n.push(c),n.push(o);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Bre(e,t,r,n,a,s,o){var c;return e<100&&e>=0?(c=new Date(e+400,t,r,n,a,s,o),isFinite(c.getFullYear())&&c.setFullYear(e)):c=new Date(e,t,r,n,a,s,o),c}function ip(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Kg(e,t,r){var n=7+t-r,a=(7+ip(e,0,n).getUTCDay()-t)%7;return-a+n-1}function sE(e,t,r,n,a){var s=(7+r-n)%7,o=Kg(e,n,a),c=1+7*(t-1)+s+o,l,u;return c<=0?(l=e-1,u=Sh(l)+c):c>Sh(e)?(l=e+1,u=c-Sh(e)):(l=e,u=c),{year:l,dayOfYear:u}}function op(e,t,r){var n=Kg(e.year(),t,r),a=Math.floor((e.dayOfYear()-n-1)/7)+1,s,o;return a<1?(o=e.year()-1,s=a+po(o,t,r)):a>po(e.year(),t,r)?(s=a-po(e.year(),t,r),o=e.year()+1):(o=e.year(),s=a),{week:s,year:o}}function po(e,t,r){var n=Kg(e,t,r),a=Kg(e+1,t,r);return(Sh(e)-n+a)/7}nt("w",["ww",2],"wo","week");nt("W",["WW",2],"Wo","isoWeek");Ge("w",pr,Zd);Ge("ww",pr,$a);Ge("W",pr,Zd);Ge("WW",pr,$a);Fp(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=Ct(e)});function Wre(e){return op(e,this._week.dow,this._week.doy).week}var Hre={dow:0,doy:6};function Yre(){return this._week.dow}function Vre(){return this._week.doy}function qre(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Gre(e){var t=op(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}nt("d",0,"do","day");nt("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});nt("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});nt("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});nt("e",0,0,"weekday");nt("E",0,0,"isoWeekday");Ge("d",pr);Ge("e",pr);Ge("E",pr);Ge("dd",function(e,t){return t.weekdaysMinRegex(e)});Ge("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ge("dddd",function(e,t){return t.weekdaysRegex(e)});Fp(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);a!=null?t.d=a:yt(r).invalidWeekday=e});Fp(["d","e","E"],function(e,t,r,n){t[n]=Ct(e)});function Kre(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Xre(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function V5(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Qre="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),iE="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Jre="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Zre=Rp,ene=Rp,tne=Rp;function rne(e,t){var r=Ws(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?V5(r,this._week.dow):e?r[e.day()]:r}function nne(e){return e===!0?V5(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function ane(e){return e===!0?V5(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function sne(e,t,r){var n,a,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Ui([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?t==="dddd"?(a=Ir.call(this._weekdaysParse,o),a!==-1?a:null):t==="ddd"?(a=Ir.call(this._shortWeekdaysParse,o),a!==-1?a:null):(a=Ir.call(this._minWeekdaysParse,o),a!==-1?a:null):t==="dddd"?(a=Ir.call(this._weekdaysParse,o),a!==-1||(a=Ir.call(this._shortWeekdaysParse,o),a!==-1)?a:(a=Ir.call(this._minWeekdaysParse,o),a!==-1?a:null)):t==="ddd"?(a=Ir.call(this._shortWeekdaysParse,o),a!==-1||(a=Ir.call(this._weekdaysParse,o),a!==-1)?a:(a=Ir.call(this._minWeekdaysParse,o),a!==-1?a:null)):(a=Ir.call(this._minWeekdaysParse,o),a!==-1||(a=Ir.call(this._weekdaysParse,o),a!==-1)?a:(a=Ir.call(this._shortWeekdaysParse,o),a!==-1?a:null))}function ine(e,t,r){var n,a,s;if(this._weekdaysParseExact)return sne.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=Ui([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function one(e){if(!this.isValid())return e!=null?this:NaN;var t=sp(this,"Day");return e!=null?(e=Kre(e,this.localeData()),this.add(e-t,"d")):t}function lne(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function cne(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Xre(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function une(e){return this._weekdaysParseExact?(Tt(this,"_weekdaysRegex")||q5.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Tt(this,"_weekdaysRegex")||(this._weekdaysRegex=Zre),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function dne(e){return this._weekdaysParseExact?(Tt(this,"_weekdaysRegex")||q5.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Tt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ene),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function fne(e){return this._weekdaysParseExact?(Tt(this,"_weekdaysRegex")||q5.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Tt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=tne),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function q5(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],a=[],s,o,c,l,u;for(s=0;s<7;s++)o=Ui([2e3,1]).day(s),c=ho(this.weekdaysMin(o,"")),l=ho(this.weekdaysShort(o,"")),u=ho(this.weekdays(o,"")),t.push(c),r.push(l),n.push(u),a.push(c),a.push(l),a.push(u);t.sort(e),r.sort(e),n.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function G5(){return this.hours()%12||12}function hne(){return this.hours()||24}nt("H",["HH",2],0,"hour");nt("h",["hh",2],0,G5);nt("k",["kk",2],0,hne);nt("hmm",0,0,function(){return""+G5.apply(this)+Li(this.minutes(),2)});nt("hmmss",0,0,function(){return""+G5.apply(this)+Li(this.minutes(),2)+Li(this.seconds(),2)});nt("Hmm",0,0,function(){return""+this.hours()+Li(this.minutes(),2)});nt("Hmmss",0,0,function(){return""+this.hours()+Li(this.minutes(),2)+Li(this.seconds(),2)});function oE(e,t){nt(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}oE("a",!0);oE("A",!1);function lE(e,t){return t._meridiemParse}Ge("a",lE);Ge("A",lE);Ge("H",pr,H5);Ge("h",pr,Zd);Ge("k",pr,Zd);Ge("HH",pr,$a);Ge("hh",pr,$a);Ge("kk",pr,$a);Ge("hmm",XP);Ge("hmmss",QP);Ge("Hmm",XP);Ge("Hmmss",QP);Jt(["H","HH"],an);Jt(["k","kk"],function(e,t,r){var n=Ct(e);t[an]=n===24?0:n});Jt(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});Jt(["h","hh"],function(e,t,r){t[an]=Ct(e),yt(r).bigHour=!0});Jt("hmm",function(e,t,r){var n=e.length-2;t[an]=Ct(e.substr(0,n)),t[Os]=Ct(e.substr(n)),yt(r).bigHour=!0});Jt("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[an]=Ct(e.substr(0,n)),t[Os]=Ct(e.substr(n,2)),t[co]=Ct(e.substr(a)),yt(r).bigHour=!0});Jt("Hmm",function(e,t,r){var n=e.length-2;t[an]=Ct(e.substr(0,n)),t[Os]=Ct(e.substr(n))});Jt("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[an]=Ct(e.substr(0,n)),t[Os]=Ct(e.substr(n,2)),t[co]=Ct(e.substr(a))});function pne(e){return(e+"").toLowerCase().charAt(0)==="p"}var mne=/[ap]\.?m?\.?/i,gne=ef("Hours",!0);function vne(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var cE={calendar:sre,longDateFormat:cre,invalidDate:dre,ordinal:hre,dayOfMonthOrdinalParse:pre,relativeTime:gre,months:Are,monthsShort:eE,week:Hre,weekdays:Qre,weekdaysMin:Jre,weekdaysShort:iE,meridiemParse:mne},gr={},Kf={},lp;function xne(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function M3(e){return e&&e.toLowerCase().replace("_","-")}function yne(e){for(var t=0,r,n,a,s;t<e.length;){for(s=M3(e[t]).split("-"),r=s.length,n=M3(e[t+1]),n=n?n.split("-"):null;r>0;){if(a=yx(s.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&xne(s,n)>=r-1)break;r--}t++}return lp}function bne(e){return!!(e&&e.match("^[^/\\\\]*$"))}function yx(e){var t=null,r;if(gr[e]===void 0&&typeof module<"u"&&module&&module.exports&&bne(e))try{t=lp._abbr,r=require,r("./locale/"+e),bl(t)}catch{gr[e]=null}return gr[e]}function bl(e,t){var r;return e&&(ua(t)?r=Lo(e):r=K5(e,t),r?lp=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),lp._abbr}function K5(e,t){if(t!==null){var r,n=cE;if(t.abbr=e,gr[e]!=null)VP("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=gr[e]._config;else if(t.parentLocale!=null)if(gr[t.parentLocale]!=null)n=gr[t.parentLocale]._config;else if(r=yx(t.parentLocale),r!=null)n=r._config;else return Kf[t.parentLocale]||(Kf[t.parentLocale]=[]),Kf[t.parentLocale].push({name:e,config:t}),null;return gr[e]=new $5(j2(n,t)),Kf[e]&&Kf[e].forEach(function(a){K5(a.name,a.config)}),bl(e),gr[e]}else return delete gr[e],null}function wne(e,t){if(t!=null){var r,n,a=cE;gr[e]!=null&&gr[e].parentLocale!=null?gr[e].set(j2(gr[e]._config,t)):(n=yx(e),n!=null&&(a=n._config),t=j2(a,t),n==null&&(t.abbr=e),r=new $5(t),r.parentLocale=gr[e],gr[e]=r),bl(e)}else gr[e]!=null&&(gr[e].parentLocale!=null?(gr[e]=gr[e].parentLocale,e===bl()&&bl(e)):gr[e]!=null&&delete gr[e]);return gr[e]}function Lo(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return lp;if(!Ws(e)){if(t=yx(e),t)return t;e=[e]}return yne(e)}function Nne(){return S2(gr)}function X5(e){var t,r=e._a;return r&&yt(e).overflow===-2&&(t=r[lo]<0||r[lo]>11?lo:r[gi]<1||r[gi]>Y5(r[Bn],r[lo])?gi:r[an]<0||r[an]>24||r[an]===24&&(r[Os]!==0||r[co]!==0||r[cc]!==0)?an:r[Os]<0||r[Os]>59?Os:r[co]<0||r[co]>59?co:r[cc]<0||r[cc]>999?cc:-1,yt(e)._overflowDayOfYear&&(t<Bn||t>gi)&&(t=gi),yt(e)._overflowWeeks&&t===-1&&(t=Cre),yt(e)._overflowWeekday&&t===-1&&(t=Dre),yt(e).overflow=t),e}var jne=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sne=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,kne=/Z|[+-]\d\d(?::?\d\d)?/,c0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],T1=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Cne=/^\/?Date\((-?\d+)/i,Dne=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,_ne={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function uE(e){var t,r,n=e._i,a=jne.exec(n)||Sne.exec(n),s,o,c,l,u=c0.length,d=T1.length;if(a){for(yt(e).iso=!0,t=0,r=u;t<r;t++)if(c0[t][1].exec(a[1])){o=c0[t][0],s=c0[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(a[3]){for(t=0,r=d;t<r;t++)if(T1[t][1].exec(a[3])){c=(a[2]||" ")+T1[t][0];break}if(c==null){e._isValid=!1;return}}if(!s&&c!=null){e._isValid=!1;return}if(a[4])if(kne.exec(a[4]))l="Z";else{e._isValid=!1;return}e._f=o+(c||"")+(l||""),J5(e)}else e._isValid=!1}function Pne(e,t,r,n,a,s){var o=[Ene(e),eE.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return s&&o.push(parseInt(s,10)),o}function Ene(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Mne(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ane(e,t,r){if(e){var n=iE.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(n!==a)return yt(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Lne(e,t,r){if(e)return _ne[e];if(t)return 0;var n=parseInt(r,10),a=n%100,s=(n-a)/100;return s*60+a}function dE(e){var t=Dne.exec(Mne(e._i)),r;if(t){if(r=Pne(t[4],t[3],t[2],t[5],t[6],t[7]),!Ane(t[1],r,e))return;e._a=r,e._tzm=Lne(t[8],t[9],t[10]),e._d=ip.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),yt(e).rfc2822=!0}else e._isValid=!1}function Tne(e){var t=Cne.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(uE(e),e._isValid===!1)delete e._isValid;else return;if(dE(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Te.createFromInputFallback(e)}Te.createFromInputFallback=hs("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Ou(e,t,r){return e??t??r}function One(e){var t=new Date(Te.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Q5(e){var t,r,n=[],a,s,o;if(!e._d){for(a=One(e),e._w&&e._a[gi]==null&&e._a[lo]==null&&Ine(e),e._dayOfYear!=null&&(o=Ou(e._a[Bn],a[Bn]),(e._dayOfYear>Sh(o)||e._dayOfYear===0)&&(yt(e)._overflowDayOfYear=!0),r=ip(o,0,e._dayOfYear),e._a[lo]=r.getUTCMonth(),e._a[gi]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[an]===24&&e._a[Os]===0&&e._a[co]===0&&e._a[cc]===0&&(e._nextDay=!0,e._a[an]=0),e._d=(e._useUTC?ip:Bre).apply(null,n),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[an]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(yt(e).weekdayMismatch=!0)}}function Ine(e){var t,r,n,a,s,o,c,l,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,r=Ou(t.GG,e._a[Bn],op(hr(),1,4).year),n=Ou(t.W,1),a=Ou(t.E,1),(a<1||a>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,u=op(hr(),s,o),r=Ou(t.gg,e._a[Bn],u.year),n=Ou(t.w,u.week),t.d!=null?(a=t.d,(a<0||a>6)&&(l=!0)):t.e!=null?(a=t.e+s,(t.e<0||t.e>6)&&(l=!0)):a=s),n<1||n>po(r,s,o)?yt(e)._overflowWeeks=!0:l!=null?yt(e)._overflowWeekday=!0:(c=sE(r,n,a,s,o),e._a[Bn]=c.year,e._dayOfYear=c.dayOfYear)}Te.ISO_8601=function(){};Te.RFC_2822=function(){};function J5(e){if(e._f===Te.ISO_8601){uE(e);return}if(e._f===Te.RFC_2822){dE(e);return}e._a=[],yt(e).empty=!0;var t=""+e._i,r,n,a,s,o,c=t.length,l=0,u,d;for(a=qP(e._f,e._locale).match(U5)||[],d=a.length,r=0;r<d;r++)s=a[r],n=(t.match(jre(s,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&yt(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),l+=n.length),ld[s]?(n?yt(e).empty=!1:yt(e).unusedTokens.push(s),kre(s,n,e)):e._strict&&!n&&yt(e).unusedTokens.push(s);yt(e).charsLeftOver=c-l,t.length>0&&yt(e).unusedInput.push(t),e._a[an]<=12&&yt(e).bigHour===!0&&e._a[an]>0&&(yt(e).bigHour=void 0),yt(e).parsedDateParts=e._a.slice(0),yt(e).meridiem=e._meridiem,e._a[an]=Rne(e._locale,e._a[an],e._meridiem),u=yt(e).era,u!==null&&(e._a[Bn]=e._locale.erasConvertYear(u,e._a[Bn])),Q5(e),X5(e)}function Rne(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Fne(e){var t,r,n,a,s,o,c=!1,l=e._f.length;if(l===0){yt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<l;a++)s=0,o=!1,t=F5({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],J5(t),R5(t)&&(o=!0),s+=yt(t).charsLeftOver,s+=yt(t).unusedTokens.length*10,yt(t).score=s,c?s<n&&(n=s,r=t):(n==null||s<n||o)&&(n=s,r=t,o&&(c=!0));cl(e,r||t)}function $ne(e){if(!e._d){var t=z5(e._i),r=t.day===void 0?t.date:t.day;e._a=HP([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),Q5(e)}}function Une(e){var t=new Ip(X5(fE(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function fE(e){var t=e._i,r=e._f;return e._locale=e._locale||Lo(e._l),t===null||r===void 0&&t===""?fx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Hs(t)?new Ip(X5(t)):(Op(t)?e._d=t:Ws(r)?Fne(e):r?J5(e):zne(e),R5(e)||(e._d=null),e))}function zne(e){var t=e._i;ua(t)?e._d=new Date(Te.now()):Op(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Tne(e):Ws(t)?(e._a=HP(t.slice(0),function(r){return parseInt(r,10)}),Q5(e)):yc(t)?$ne(e):Do(t)?e._d=new Date(t):Te.createFromInputFallback(e)}function hE(e,t,r,n,a){var s={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(yc(e)&&I5(e)||Ws(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=r,s._i=e,s._f=t,s._strict=n,Une(s)}function hr(e,t,r,n){return hE(e,t,r,n,!1)}var Bne=hs("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=hr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:fx()}),Wne=hs("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=hr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:fx()});function pE(e,t){var r,n;if(t.length===1&&Ws(t[0])&&(t=t[0]),!t.length)return hr();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function Hne(){var e=[].slice.call(arguments,0);return pE("isBefore",e)}function Yne(){var e=[].slice.call(arguments,0);return pE("isAfter",e)}var Vne=function(){return Date.now?Date.now():+new Date},Xf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qne(e){var t,r=!1,n,a=Xf.length;for(t in e)if(Tt(e,t)&&!(Ir.call(Xf,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<a;++n)if(e[Xf[n]]){if(r)return!1;parseFloat(e[Xf[n]])!==Ct(e[Xf[n]])&&(r=!0)}return!0}function Gne(){return this._isValid}function Kne(){return Gs(NaN)}function bx(e){var t=z5(e),r=t.year||0,n=t.quarter||0,a=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,c=t.hour||0,l=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=qne(t),this._milliseconds=+d+u*1e3+l*6e4+c*1e3*60*60,this._days=+o+s*7,this._months=+a+n*3+r*12,this._data={},this._locale=Lo(),this._bubble()}function q0(e){return e instanceof bx}function C2(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Xne(e,t,r){var n=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0,o;for(o=0;o<n;o++)Ct(e[o])!==Ct(t[o])&&s++;return s+a}function mE(e,t){nt(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+Li(~~(r/60),2)+t+Li(~~r%60,2)})}mE("Z",":");mE("ZZ","");Ge("Z",vx);Ge("ZZ",vx);Jt(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Z5(vx,e)});var Qne=/([\+\-]|\d\d)/gi;function Z5(e,t){var r=(t||"").match(e),n,a,s;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(Qne)||["-",0,0],s=+(a[1]*60)+Ct(a[2]),s===0?0:a[0]==="+"?s:-s)}function eN(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Hs(e)||Op(e)?e.valueOf():hr(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Te.updateOffset(r,!1),r):hr(e).local()}function D2(e){return-Math.round(e._d.getTimezoneOffset())}Te.updateOffset=function(){};function Jne(e,t,r){var n=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Z5(vx,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=D2(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?xE(this,Gs(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:D2(this)}function Zne(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function eae(e){return this.utcOffset(0,e)}function tae(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(D2(this),"m")),this}function rae(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Z5(wre,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function nae(e){return this.isValid()?(e=e?hr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function aae(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function sae(){if(!ua(this._isDSTShifted))return this._isDSTShifted;var e={},t;return F5(e,this),e=fE(e),e._a?(t=e._isUTC?Ui(e._a):hr(e._a),this._isDSTShifted=this.isValid()&&Xne(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function iae(){return this.isValid()?!this._isUTC:!1}function oae(){return this.isValid()?this._isUTC:!1}function gE(){return this.isValid()?this._isUTC&&this._offset===0:!1}var lae=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,cae=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gs(e,t){var r=e,n=null,a,s,o;return q0(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:Do(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=lae.exec(e))?(a=n[1]==="-"?-1:1,r={y:0,d:Ct(n[gi])*a,h:Ct(n[an])*a,m:Ct(n[Os])*a,s:Ct(n[co])*a,ms:Ct(C2(n[cc]*1e3))*a}):(n=cae.exec(e))?(a=n[1]==="-"?-1:1,r={y:Jl(n[2],a),M:Jl(n[3],a),w:Jl(n[4],a),d:Jl(n[5],a),h:Jl(n[6],a),m:Jl(n[7],a),s:Jl(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=uae(hr(r.from),hr(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),s=new bx(r),q0(e)&&Tt(e,"_locale")&&(s._locale=e._locale),q0(e)&&Tt(e,"_isValid")&&(s._isValid=e._isValid),s}Gs.fn=bx.prototype;Gs.invalid=Kne;function Jl(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function A3(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function uae(e,t){var r;return e.isValid()&&t.isValid()?(t=eN(t,e),e.isBefore(t)?r=A3(e,t):(r=A3(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function vE(e,t){return function(r,n){var a,s;return n!==null&&!isNaN(+n)&&(VP(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),a=Gs(r,n),xE(this,a,e),this}}function xE(e,t,r,n){var a=t._milliseconds,s=C2(t._days),o=C2(t._months);e.isValid()&&(n=n??!0,o&&rE(e,sp(e,"Month")+o*r),s&&ZP(e,"Date",sp(e,"Date")+s*r),a&&e._d.setTime(e._d.valueOf()+a*r),n&&Te.updateOffset(e,s||o))}var dae=vE(1,"add"),fae=vE(-1,"subtract");function yE(e){return typeof e=="string"||e instanceof String}function hae(e){return Hs(e)||Op(e)||yE(e)||Do(e)||mae(e)||pae(e)||e===null||e===void 0}function pae(e){var t=yc(e)&&!I5(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,s,o=n.length;for(a=0;a<o;a+=1)s=n[a],r=r||Tt(e,s);return t&&r}function mae(e){var t=Ws(e),r=!1;return t&&(r=e.filter(function(n){return!Do(n)&&yE(e)}).length===0),t&&r}function gae(e){var t=yc(e)&&!I5(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,s;for(a=0;a<n.length;a+=1)s=n[a],r=r||Tt(e,s);return t&&r}function vae(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function xae(e,t){arguments.length===1&&(arguments[0]?hae(arguments[0])?(e=arguments[0],t=void 0):gae(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||hr(),n=eN(r,this).startOf("day"),a=Te.calendarFormat(this,n)||"sameElse",s=t&&(zi(t[a])?t[a].call(this,r):t[a]);return this.format(s||this.localeData().calendar(a,this,hr(r)))}function yae(){return new Ip(this)}function bae(e,t){var r=Hs(e)?e:hr(e);return this.isValid()&&r.isValid()?(t=ps(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function wae(e,t){var r=Hs(e)?e:hr(e);return this.isValid()&&r.isValid()?(t=ps(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function Nae(e,t,r,n){var a=Hs(e)?e:hr(e),s=Hs(t)?t:hr(t);return this.isValid()&&a.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function jae(e,t){var r=Hs(e)?e:hr(e),n;return this.isValid()&&r.isValid()?(t=ps(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function Sae(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function kae(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Cae(e,t,r){var n,a,s;if(!this.isValid())return NaN;if(n=eN(e,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,t=ps(t),t){case"year":s=G0(this,n)/12;break;case"month":s=G0(this,n);break;case"quarter":s=G0(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-a)/864e5;break;case"week":s=(this-n-a)/6048e5;break;default:s=this-n}return r?s:ts(s)}function G0(e,t){if(e.date()<t.date())return-G0(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),a,s;return t-n<0?(a=e.clone().add(r-1,"months"),s=(t-n)/(n-a)):(a=e.clone().add(r+1,"months"),s=(t-n)/(a-n)),-(r+s)||0}Te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Dae(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _ae(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?V0(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):zi(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",V0(r,"Z")):V0(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Pae(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,a,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(r+n+a+s)}function Eae(e){e||(e=this.isUtc()?Te.defaultFormatUtc:Te.defaultFormat);var t=V0(this,e);return this.localeData().postformat(t)}function Mae(e,t){return this.isValid()&&(Hs(e)&&e.isValid()||hr(e).isValid())?Gs({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Aae(e){return this.from(hr(),e)}function Lae(e,t){return this.isValid()&&(Hs(e)&&e.isValid()||hr(e).isValid())?Gs({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Tae(e){return this.to(hr(),e)}function bE(e){var t;return e===void 0?this._locale._abbr:(t=Lo(e),t!=null&&(this._locale=t),this)}var wE=hs("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function NE(){return this._locale}var Xg=1e3,cd=60*Xg,Qg=60*cd,jE=(365*400+97)*24*Qg;function ud(e,t){return(e%t+t)%t}function SE(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-jE:new Date(e,t,r).valueOf()}function kE(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-jE:Date.UTC(e,t,r)}function Oae(e){var t,r;if(e=ps(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?kE:SE,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ud(t+(this._isUTC?0:this.utcOffset()*cd),Qg);break;case"minute":t=this._d.valueOf(),t-=ud(t,cd);break;case"second":t=this._d.valueOf(),t-=ud(t,Xg);break}return this._d.setTime(t),Te.updateOffset(this,!0),this}function Iae(e){var t,r;if(e=ps(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?kE:SE,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=Qg-ud(t+(this._isUTC?0:this.utcOffset()*cd),Qg)-1;break;case"minute":t=this._d.valueOf(),t+=cd-ud(t,cd)-1;break;case"second":t=this._d.valueOf(),t+=Xg-ud(t,Xg)-1;break}return this._d.setTime(t),Te.updateOffset(this,!0),this}function Rae(){return this._d.valueOf()-(this._offset||0)*6e4}function Fae(){return Math.floor(this.valueOf()/1e3)}function $ae(){return new Date(this.valueOf())}function Uae(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function zae(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Bae(){return this.isValid()?this.toISOString():null}function Wae(){return R5(this)}function Hae(){return cl({},yt(this))}function Yae(){return yt(this).overflow}function Vae(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}nt("N",0,0,"eraAbbr");nt("NN",0,0,"eraAbbr");nt("NNN",0,0,"eraAbbr");nt("NNNN",0,0,"eraName");nt("NNNNN",0,0,"eraNarrow");nt("y",["y",1],"yo","eraYear");nt("y",["yy",2],0,"eraYear");nt("y",["yyy",3],0,"eraYear");nt("y",["yyyy",4],0,"eraYear");Ge("N",tN);Ge("NN",tN);Ge("NNN",tN);Ge("NNNN",nse);Ge("NNNNN",ase);Jt(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var a=r._locale.erasParse(e,n,r._strict);a?yt(r).era=a:yt(r).invalidEra=e});Ge("y",Jd);Ge("yy",Jd);Ge("yyy",Jd);Ge("yyyy",Jd);Ge("yo",sse);Jt(["y","yy","yyy","yyyy"],Bn);Jt(["yo"],function(e,t,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Bn]=r._locale.eraYearOrdinalParse(e,a):t[Bn]=parseInt(e,10)});function qae(e,t){var r,n,a,s=this._eras||Lo("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":a=Te(s[r].since).startOf("day"),s[r].since=a.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":a=Te(s[r].until).startOf("day").valueOf(),s[r].until=a.valueOf();break}}return s}function Gae(e,t,r){var n,a,s=this.eras(),o,c,l;for(e=e.toUpperCase(),n=0,a=s.length;n<a;++n)if(o=s[n].name.toUpperCase(),c=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(c===e)return s[n];break;case"NNNN":if(o===e)return s[n];break;case"NNNNN":if(l===e)return s[n];break}else if([o,c,l].indexOf(e)>=0)return s[n]}function Kae(e,t){var r=e.since<=e.until?1:-1;return t===void 0?Te(e.since).year():Te(e.since).year()+(t-e.offset)*r}function Xae(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function Qae(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function Jae(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function Zae(){var e,t,r,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return(this.year()-Te(a[e].since).year())*r+a[e].offset;return this.year()}function ese(e){return Tt(this,"_erasNameRegex")||rN.call(this),e?this._erasNameRegex:this._erasRegex}function tse(e){return Tt(this,"_erasAbbrRegex")||rN.call(this),e?this._erasAbbrRegex:this._erasRegex}function rse(e){return Tt(this,"_erasNarrowRegex")||rN.call(this),e?this._erasNarrowRegex:this._erasRegex}function tN(e,t){return t.erasAbbrRegex(e)}function nse(e,t){return t.erasNameRegex(e)}function ase(e,t){return t.erasNarrowRegex(e)}function sse(e,t){return t._eraYearOrdinalRegex||Jd}function rN(){var e=[],t=[],r=[],n=[],a,s,o,c,l,u=this.eras();for(a=0,s=u.length;a<s;++a)o=ho(u[a].name),c=ho(u[a].abbr),l=ho(u[a].narrow),t.push(o),e.push(c),r.push(l),n.push(o),n.push(c),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}nt(0,["gg",2],0,function(){return this.weekYear()%100});nt(0,["GG",2],0,function(){return this.isoWeekYear()%100});function wx(e,t){nt(0,[e,e.length],0,t)}wx("gggg","weekYear");wx("ggggg","weekYear");wx("GGGG","isoWeekYear");wx("GGGGG","isoWeekYear");Ge("G",gx);Ge("g",gx);Ge("GG",pr,$a);Ge("gg",pr,$a);Ge("GGGG",W5,B5);Ge("gggg",W5,B5);Ge("GGGGG",mx,hx);Ge("ggggg",mx,hx);Fp(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=Ct(e)});Fp(["gg","GG"],function(e,t,r,n){t[n]=Te.parseTwoDigitYear(e)});function ise(e){return CE.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ose(e){return CE.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function lse(){return po(this.year(),1,4)}function cse(){return po(this.isoWeekYear(),1,4)}function use(){var e=this.localeData()._week;return po(this.year(),e.dow,e.doy)}function dse(){var e=this.localeData()._week;return po(this.weekYear(),e.dow,e.doy)}function CE(e,t,r,n,a){var s;return e==null?op(this,n,a).year:(s=po(e,n,a),t>s&&(t=s),fse.call(this,e,t,r,n,a))}function fse(e,t,r,n,a){var s=sE(e,t,r,n,a),o=ip(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}nt("Q",0,"Qo","quarter");Ge("Q",GP);Jt("Q",function(e,t){t[lo]=(Ct(e)-1)*3});function hse(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}nt("D",["DD",2],"Do","date");Ge("D",pr,Zd);Ge("DD",pr,$a);Ge("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});Jt(["D","DD"],gi);Jt("Do",function(e,t){t[gi]=Ct(e.match(pr)[0])});var DE=ef("Date",!0);nt("DDD",["DDDD",3],"DDDo","dayOfYear");Ge("DDD",px);Ge("DDDD",KP);Jt(["DDD","DDDD"],function(e,t,r){r._dayOfYear=Ct(e)});function pse(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}nt("m",["mm",2],0,"minute");Ge("m",pr,H5);Ge("mm",pr,$a);Jt(["m","mm"],Os);var mse=ef("Minutes",!1);nt("s",["ss",2],0,"second");Ge("s",pr,H5);Ge("ss",pr,$a);Jt(["s","ss"],co);var gse=ef("Seconds",!1);nt("S",0,0,function(){return~~(this.millisecond()/100)});nt(0,["SS",2],0,function(){return~~(this.millisecond()/10)});nt(0,["SSS",3],0,"millisecond");nt(0,["SSSS",4],0,function(){return this.millisecond()*10});nt(0,["SSSSS",5],0,function(){return this.millisecond()*100});nt(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});nt(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});nt(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});nt(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ge("S",px,GP);Ge("SS",px,$a);Ge("SSS",px,KP);var ul,_E;for(ul="SSSS";ul.length<=9;ul+="S")Ge(ul,Jd);function vse(e,t){t[cc]=Ct(("0."+e)*1e3)}for(ul="S";ul.length<=9;ul+="S")Jt(ul,vse);_E=ef("Milliseconds",!1);nt("z",0,0,"zoneAbbr");nt("zz",0,0,"zoneName");function xse(){return this._isUTC?"UTC":""}function yse(){return this._isUTC?"Coordinated Universal Time":""}var Me=Ip.prototype;Me.add=dae;Me.calendar=xae;Me.clone=yae;Me.diff=Cae;Me.endOf=Iae;Me.format=Eae;Me.from=Mae;Me.fromNow=Aae;Me.to=Lae;Me.toNow=Tae;Me.get=Pre;Me.invalidAt=Yae;Me.isAfter=bae;Me.isBefore=wae;Me.isBetween=Nae;Me.isSame=jae;Me.isSameOrAfter=Sae;Me.isSameOrBefore=kae;Me.isValid=Wae;Me.lang=wE;Me.locale=bE;Me.localeData=NE;Me.max=Wne;Me.min=Bne;Me.parsingFlags=Hae;Me.set=Ere;Me.startOf=Oae;Me.subtract=fae;Me.toArray=Uae;Me.toObject=zae;Me.toDate=$ae;Me.toISOString=_ae;Me.inspect=Pae;typeof Symbol<"u"&&Symbol.for!=null&&(Me[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Me.toJSON=Bae;Me.toString=Dae;Me.unix=Fae;Me.valueOf=Rae;Me.creationData=Vae;Me.eraName=Xae;Me.eraNarrow=Qae;Me.eraAbbr=Jae;Me.eraYear=Zae;Me.year=JP;Me.isLeapYear=_re;Me.weekYear=ise;Me.isoWeekYear=ose;Me.quarter=Me.quarters=hse;Me.month=nE;Me.daysInMonth=$re;Me.week=Me.weeks=qre;Me.isoWeek=Me.isoWeeks=Gre;Me.weeksInYear=use;Me.weeksInWeekYear=dse;Me.isoWeeksInYear=lse;Me.isoWeeksInISOWeekYear=cse;Me.date=DE;Me.day=Me.days=one;Me.weekday=lne;Me.isoWeekday=cne;Me.dayOfYear=pse;Me.hour=Me.hours=gne;Me.minute=Me.minutes=mse;Me.second=Me.seconds=gse;Me.millisecond=Me.milliseconds=_E;Me.utcOffset=Jne;Me.utc=eae;Me.local=tae;Me.parseZone=rae;Me.hasAlignedHourOffset=nae;Me.isDST=aae;Me.isLocal=iae;Me.isUtcOffset=oae;Me.isUtc=gE;Me.isUTC=gE;Me.zoneAbbr=xse;Me.zoneName=yse;Me.dates=hs("dates accessor is deprecated. Use date instead.",DE);Me.months=hs("months accessor is deprecated. Use month instead",nE);Me.years=hs("years accessor is deprecated. Use year instead",JP);Me.zone=hs("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Zne);Me.isDSTShifted=hs("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",sae);function bse(e){return hr(e*1e3)}function wse(){return hr.apply(null,arguments).parseZone()}function PE(e){return e}var Ot=$5.prototype;Ot.calendar=ire;Ot.longDateFormat=ure;Ot.invalidDate=fre;Ot.ordinal=mre;Ot.preparse=PE;Ot.postformat=PE;Ot.relativeTime=vre;Ot.pastFuture=xre;Ot.set=are;Ot.eras=qae;Ot.erasParse=Gae;Ot.erasConvertYear=Kae;Ot.erasAbbrRegex=tse;Ot.erasNameRegex=ese;Ot.erasNarrowRegex=rse;Ot.months=Ore;Ot.monthsShort=Ire;Ot.monthsParse=Fre;Ot.monthsRegex=zre;Ot.monthsShortRegex=Ure;Ot.week=Wre;Ot.firstDayOfYear=Vre;Ot.firstDayOfWeek=Yre;Ot.weekdays=rne;Ot.weekdaysMin=ane;Ot.weekdaysShort=nne;Ot.weekdaysParse=ine;Ot.weekdaysRegex=une;Ot.weekdaysShortRegex=dne;Ot.weekdaysMinRegex=fne;Ot.isPM=pne;Ot.meridiem=vne;function Jg(e,t,r,n){var a=Lo(),s=Ui().set(n,t);return a[r](s,e)}function EE(e,t,r){if(Do(e)&&(t=e,e=void 0),e=e||"",t!=null)return Jg(e,t,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=Jg(e,n,r,"month");return a}function nN(e,t,r,n){typeof e=="boolean"?(Do(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,Do(t)&&(r=t,t=void 0),t=t||"");var a=Lo(),s=e?a._week.dow:0,o,c=[];if(r!=null)return Jg(t,(r+s)%7,n,"day");for(o=0;o<7;o++)c[o]=Jg(t,(o+s)%7,n,"day");return c}function Nse(e,t){return EE(e,t,"months")}function jse(e,t){return EE(e,t,"monthsShort")}function Sse(e,t,r){return nN(e,t,r,"weekdays")}function kse(e,t,r){return nN(e,t,r,"weekdaysShort")}function Cse(e,t,r){return nN(e,t,r,"weekdaysMin")}bl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=Ct(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});Te.lang=hs("moment.lang is deprecated. Use moment.locale instead.",bl);Te.langData=hs("moment.langData is deprecated. Use moment.localeData instead.",Lo);var ro=Math.abs;function Dse(){var e=this._data;return this._milliseconds=ro(this._milliseconds),this._days=ro(this._days),this._months=ro(this._months),e.milliseconds=ro(e.milliseconds),e.seconds=ro(e.seconds),e.minutes=ro(e.minutes),e.hours=ro(e.hours),e.months=ro(e.months),e.years=ro(e.years),this}function ME(e,t,r,n){var a=Gs(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function _se(e,t){return ME(this,e,t,1)}function Pse(e,t){return ME(this,e,t,-1)}function L3(e){return e<0?Math.floor(e):Math.ceil(e)}function Ese(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,a,s,o,c,l;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=L3(_2(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,a=ts(e/1e3),n.seconds=a%60,s=ts(a/60),n.minutes=s%60,o=ts(s/60),n.hours=o%24,t+=ts(o/24),l=ts(AE(t)),r+=l,t-=L3(_2(l)),c=ts(r/12),r%=12,n.days=t,n.months=r,n.years=c,this}function AE(e){return e*4800/146097}function _2(e){return e*146097/4800}function Mse(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=ps(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+AE(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(_2(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function To(e){return function(){return this.as(e)}}var LE=To("ms"),Ase=To("s"),Lse=To("m"),Tse=To("h"),Ose=To("d"),Ise=To("w"),Rse=To("M"),Fse=To("Q"),$se=To("y"),Use=LE;function zse(){return Gs(this)}function Bse(e){return e=ps(e),this.isValid()?this[e+"s"]():NaN}function qc(e){return function(){return this.isValid()?this._data[e]:NaN}}var Wse=qc("milliseconds"),Hse=qc("seconds"),Yse=qc("minutes"),Vse=qc("hours"),qse=qc("days"),Gse=qc("months"),Kse=qc("years");function Xse(){return ts(this.days()/7)}var ao=Math.round,Xu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Qse(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function Jse(e,t,r,n){var a=Gs(e).abs(),s=ao(a.as("s")),o=ao(a.as("m")),c=ao(a.as("h")),l=ao(a.as("d")),u=ao(a.as("M")),d=ao(a.as("w")),f=ao(a.as("y")),p=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||o<=1&&["m"]||o<r.m&&["mm",o]||c<=1&&["h"]||c<r.h&&["hh",c]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(p=p||d<=1&&["w"]||d<r.w&&["ww",d]),p=p||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],p[2]=t,p[3]=+e>0,p[4]=n,Qse.apply(null,p)}function Zse(e){return e===void 0?ao:typeof e=="function"?(ao=e,!0):!1}function eie(e,t){return Xu[e]===void 0?!1:t===void 0?Xu[e]:(Xu[e]=t,e==="s"&&(Xu.ss=t-1),!0)}function tie(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Xu,a,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Xu,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),a=this.localeData(),s=Jse(this,!r,n,a),r&&(s=a.pastFuture(+this,s)),a.postformat(s)}var O1=Math.abs;function Pu(e){return(e>0)-(e<0)||+e}function Nx(){if(!this.isValid())return this.localeData().invalidDate();var e=O1(this._milliseconds)/1e3,t=O1(this._days),r=O1(this._months),n,a,s,o,c=this.asSeconds(),l,u,d,f;return c?(n=ts(e/60),a=ts(n/60),e%=60,n%=60,s=ts(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=c<0?"-":"",u=Pu(this._months)!==Pu(c)?"-":"",d=Pu(this._days)!==Pu(c)?"-":"",f=Pu(this._milliseconds)!==Pu(c)?"-":"",l+"P"+(s?u+s+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(a||n||e?"T":"")+(a?f+a+"H":"")+(n?f+n+"M":"")+(e?f+o+"S":"")):"P0D"}var _t=bx.prototype;_t.isValid=Gne;_t.abs=Dse;_t.add=_se;_t.subtract=Pse;_t.as=Mse;_t.asMilliseconds=LE;_t.asSeconds=Ase;_t.asMinutes=Lse;_t.asHours=Tse;_t.asDays=Ose;_t.asWeeks=Ise;_t.asMonths=Rse;_t.asQuarters=Fse;_t.asYears=$se;_t.valueOf=Use;_t._bubble=Ese;_t.clone=zse;_t.get=Bse;_t.milliseconds=Wse;_t.seconds=Hse;_t.minutes=Yse;_t.hours=Vse;_t.days=qse;_t.weeks=Xse;_t.months=Gse;_t.years=Kse;_t.humanize=tie;_t.toISOString=Nx;_t.toString=Nx;_t.toJSON=Nx;_t.locale=bE;_t.localeData=NE;_t.toIsoString=hs("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Nx);_t.lang=wE;nt("X",0,0,"unix");nt("x",0,0,"valueOf");Ge("x",gx);Ge("X",Nre);Jt("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});Jt("x",function(e,t,r){r._d=new Date(Ct(e))});//! moment.js
Te.version="2.30.1";rre(hr);Te.fn=Me;Te.min=Hne;Te.max=Yne;Te.now=Vne;Te.utc=Ui;Te.unix=bse;Te.months=Nse;Te.isDate=Op;Te.locale=bl;Te.invalid=fx;Te.duration=Gs;Te.isMoment=Hs;Te.weekdays=Sse;Te.parseZone=wse;Te.localeData=Lo;Te.isDuration=q0;Te.monthsShort=jse;Te.weekdaysMin=Cse;Te.defineLocale=K5;Te.updateLocale=wne;Te.locales=Nne;Te.weekdaysShort=kse;Te.normalizeUnits=ps;Te.relativeTimeRounding=Zse;Te.relativeTimeThreshold=eie;Te.calendarFormat=vae;Te.prototype=Me;Te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var rie={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},nie=function(t,r,n){var a,s=rie[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+a:"hace "+a:a},aie={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},sie={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},iie={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},oie={date:nd({formats:aie,defaultWidth:"full"}),time:nd({formats:sie,defaultWidth:"full"}),dateTime:nd({formats:iie,defaultWidth:"full"})},lie={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},cie={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},uie=function(t,r,n,a){return r.getUTCHours()!==1?cie[t]:lie[t]},die={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},fie={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},hie={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},pie={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},mie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},gie={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},vie=function(t,r){var n=Number(t);return n+""},xie={ordinalNumber:vie,era:pi({values:die,defaultWidth:"wide"}),quarter:pi({values:fie,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:pi({values:hie,defaultWidth:"wide"}),day:pi({values:pie,defaultWidth:"wide"}),dayPeriod:pi({values:mie,defaultWidth:"wide",formattingValues:gie,defaultFormattingWidth:"wide"})},yie=/^(\d+)()?/i,bie=/\d+/i,wie={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},Nie={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},jie={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Sie={any:[/1/i,/2/i,/3/i,/4/i]},kie={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},Cie={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Die={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},_ie={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Pie={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},Eie={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Mie={ordinalNumber:$6({matchPattern:yie,parsePattern:bie,valueCallback:function(t){return parseInt(t,10)}}),era:mi({matchPatterns:wie,defaultMatchWidth:"wide",parsePatterns:Nie,defaultParseWidth:"any"}),quarter:mi({matchPatterns:jie,defaultMatchWidth:"wide",parsePatterns:Sie,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:mi({matchPatterns:kie,defaultMatchWidth:"wide",parsePatterns:Cie,defaultParseWidth:"any"}),day:mi({matchPatterns:Die,defaultMatchWidth:"wide",parsePatterns:_ie,defaultParseWidth:"any"}),dayPeriod:mi({matchPatterns:Pie,defaultMatchWidth:"any",parsePatterns:Eie,defaultParseWidth:"any"})},TE={code:"es",formatDistance:nie,formatLong:oie,formatRelative:uie,localize:xie,match:Mie,options:{weekStartsOn:1,firstWeekContainsDate:1}};class Aie{generateEventMessage(t){const r=st(t.start,"EEEE, d 'de' MMMM 'de' yyyy",{locale:TE}),n=st(t.start,"HH:mm"),a=st(t.end,"HH:mm");let s=` *${t.title}*

`;return s+=` *Fecha:* ${r}
`,s+=` *Hora:* ${n} - ${a}
`,t.description&&(s+=` *Descripcin:* ${t.description}
`),t.location&&(s+=` *Ubicacin:* ${t.location}
`),t.meetLink&&(s+=` *Enlace de reunin:* ${t.meetLink}
`),t.attendees.length>0&&(s+=` *Participantes:* ${t.attendees.map(o=>o.name||o.email).join(", ")}
`),s+=`
Te esperamos! `,s}generateCalendarInviteText(t){const r=st(t.start,"yyyyMMdd'T'HHmmss"),n=st(t.end,"yyyyMMdd'T'HHmmss");return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//CRM InnoMind//Calendar//ES","BEGIN:VEVENT",`UID:${t.id}@crm-innomind.com`,`DTSTART:${r}`,`DTEND:${n}`,`SUMMARY:${t.title}`,`DESCRIPTION:${t.description||""}`,`LOCATION:${t.location||""}`,"STATUS:CONFIRMED","END:VEVENT","END:VCALENDAR"].join(`
`)}createWhatsAppShareUrl(t,r=!1){const n=this.generateEventMessage(t);let a=encodeURIComponent(n);return r&&(a+=encodeURIComponent(`

 Archivo de calendario adjunto`)),`https://wa.me/?text=${a}`}createWhatsAppDirectUrl(t,r){const n=t.replace(/[^\d+]/g,""),a=this.generateEventMessage(r),s=encodeURIComponent(a);return`https://wa.me/${n}?text=${s}`}async sendEventNotification(t,r,n){try{let a="";if(n==="reminder"){const o=r.start.getTime()-Date.now(),c=Math.floor(o/(1e3*60));c<=15?a=` *Recordatorio:* Tu evento "${r.title}" comienza en ${c} minutos.

`:c<=60?a=` *Recordatorio:* Tu evento "${r.title}" comienza en 1 hora.

`:a=` *Recordatorio:* Tu evento "${r.title}" es maana.

`}else a=` *Evento iniciado:* "${r.title}" ha comenzado.

`;a+=this.generateEventMessage(r);const s=this.createWhatsAppDirectUrl(t,{...r,title:a});return window.open(s,"_blank"),!0}catch(a){return console.error("Error sending WhatsApp notification:",a),!1}}downloadCalendarFile(t){const r=this.generateCalendarInviteText(t),n=new Blob([r],{type:"text/calendar;charset=utf-8"}),a=window.URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.ics`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}}const u0=new Aie;function OE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=OE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Nn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=OE(e))&&(n&&(n+=" "),n+=t);return n}const IE=6048e5,Lie=864e5,jx=6e4,Sx=36e5,Tie=1e3,T3=Symbol.for("constructDateFrom");function Kt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&T3 in e?e[T3](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ze(e,t){return Kt(t||e,e)}function $s(e,t,r){const n=Ze(e,r==null?void 0:r.in);return isNaN(t)?Kt((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ys(e,t,r){const n=Ze(e,r==null?void 0:r.in);if(isNaN(t))return Kt(e,NaN);if(!t)return n;const a=n.getDate(),s=Kt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function RE(e,t,r){return Kt(e,+Ze(e)+t)}function Oie(e,t,r){return RE(e,t*Sx)}let Iie={};function Gc(){return Iie}function _o(e,t){var c,l,u,d;const r=Gc(),n=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=Ze(e,t==null?void 0:t.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function _d(e,t){return _o(e,{...t,weekStartsOn:1})}function FE(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getFullYear(),a=Kt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=_d(a),o=Kt(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const c=_d(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Zg(e){const t=Ze(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Oo(e,...t){const r=Kt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Fc(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function Pd(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t),s=Fc(n),o=Fc(a),c=+s-Zg(s),l=+o-Zg(o);return Math.round((c-l)/Lie)}function Rie(e,t){const r=FE(e,t),n=Kt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),_d(n)}function P2(e,t,r){const n=Ze(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*jx),n}function aN(e,t,r){return Ys(e,t*3,r)}function Fie(e,t,r){return RE(e,t*1e3)}function ev(e,t,r){return $s(e,t*7,r)}function mo(e,t,r){return Ys(e,t*12,r)}function O3(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Kt.bind(null,a));const s=Ze(a,n);(!r||r<s||isNaN(+s))&&(r=s)}),Kt(n,r||NaN)}function I3(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Kt.bind(null,a));const s=Ze(a,n);(!r||r>s||isNaN(+s))&&(r=s)}),Kt(n,r||NaN)}function $ie(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t);return+Fc(n)==+Fc(a)}function go(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function tv(e){return!(!go(e)&&typeof e!="number"||isNaN(+Ze(e)))}function rv(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t),s=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return s*12+o}function bc(e,t){const r=Ze(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function nv(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t),s=n.getFullYear()-a.getFullYear(),o=bc(n)-bc(a);return s*4+o}function av(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function Uie(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t),s=R3(n,a),o=Math.abs(Pd(n,a));n.setDate(n.getDate()-s*o);const c=+(R3(n,a)===-s),l=s*(o-c);return l===0?0:l}function R3(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function $E(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function UE(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function E2(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function zE(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function BE(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function kx(e,t){const r=Ze(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function zie(e,t){var c,l;const r=Gc(),n=r.weekStartsOn??((l=(c=r.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??0,a=Ze(e,t==null?void 0:t.in),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const Bie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wie=(e,t,r)=>{let n;const a=Bie[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function I1(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Hie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yie={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Vie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qie={date:I1({formats:Hie,defaultWidth:"full"}),time:I1({formats:Yie,defaultWidth:"full"}),dateTime:I1({formats:Vie,defaultWidth:"full"})},Gie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kie=(e,t,r,n)=>Gie[e];function Qf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=r!=null&&r.width?String(r.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Xie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eoe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},toe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},roe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},noe={ordinalNumber:roe,era:Qf({values:Xie,defaultWidth:"wide"}),quarter:Qf({values:Qie,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Qf({values:Jie,defaultWidth:"wide"}),day:Qf({values:Zie,defaultWidth:"wide"}),dayPeriod:Qf({values:eoe,defaultWidth:"wide",formattingValues:toe,defaultFormattingWidth:"wide"})};function Jf(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?soe(c,f=>f.test(o)):aoe(c,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function aoe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function soe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ioe(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const ooe=/^(\d+)(th|st|nd|rd)?/i,loe=/\d+/i,coe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},uoe={any:[/^b/i,/^(a|c)/i]},doe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},foe={any:[/1/i,/2/i,/3/i,/4/i]},hoe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},poe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},moe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},goe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},voe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xoe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},yoe={ordinalNumber:ioe({matchPattern:ooe,parsePattern:loe,valueCallback:e=>parseInt(e,10)}),era:Jf({matchPatterns:coe,defaultMatchWidth:"wide",parsePatterns:uoe,defaultParseWidth:"any"}),quarter:Jf({matchPatterns:doe,defaultMatchWidth:"wide",parsePatterns:foe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Jf({matchPatterns:hoe,defaultMatchWidth:"wide",parsePatterns:poe,defaultParseWidth:"any"}),day:Jf({matchPatterns:moe,defaultMatchWidth:"wide",parsePatterns:goe,defaultParseWidth:"any"}),dayPeriod:Jf({matchPatterns:voe,defaultMatchWidth:"any",parsePatterns:xoe,defaultParseWidth:"any"})},WE={code:"en-US",formatDistance:Wie,formatLong:qie,formatRelative:Kie,localize:noe,match:yoe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function boe(e,t){const r=Ze(e,t==null?void 0:t.in);return Pd(r,kx(r))+1}function sN(e,t){const r=Ze(e,t==null?void 0:t.in),n=+_d(r)-+Rie(r);return Math.round(n/IE)+1}function iN(e,t){var d,f,p,m;const r=Ze(e,t==null?void 0:t.in),n=r.getFullYear(),a=Gc(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(p=a.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=Kt((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const c=_o(o,t),l=Kt((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=_o(l,t);return+r>=+c?n+1:+r>=+u?n:n-1}function woe(e,t){var c,l,u,d;const r=Gc(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=iN(e,t),s=Kt((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),_o(s,t)}function HE(e,t){const r=Ze(e,t==null?void 0:t.in),n=+_o(r,t)-+woe(r,t);return Math.round(n/IE)+1}function qt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const tl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return qt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):qt(r+1,2)},d(e,t){return qt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return qt(e.getHours()%12||12,t.length)},H(e,t){return qt(e.getHours(),t.length)},m(e,t){return qt(e.getMinutes(),t.length)},s(e,t){return qt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return qt(a,t.length)}},Eu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},F3={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return tl.y(e,t)},Y:function(e,t,r,n){const a=iN(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return qt(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):qt(s,t.length)},R:function(e,t){const r=FE(e);return qt(r,t.length)},u:function(e,t){const r=e.getFullYear();return qt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return qt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return qt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return tl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return qt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=HE(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):qt(a,t.length)},I:function(e,t,r){const n=sN(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):qt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):tl.d(e,t)},D:function(e,t,r){const n=boe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):qt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return qt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return qt(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return qt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Eu.noon:n===0?a=Eu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Eu.evening:n>=12?a=Eu.afternoon:n>=4?a=Eu.morning:a=Eu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return tl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):tl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):qt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):tl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):tl.s(e,t)},S:function(e,t){return tl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return U3(n);case"XXXX":case"XX":return ac(n);case"XXXXX":case"XXX":default:return ac(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return U3(n);case"xxxx":case"xx":return ac(n);case"xxxxx":case"xxx":default:return ac(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$3(n,":");case"OOOO":default:return"GMT"+ac(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$3(n,":");case"zzzz":default:return"GMT"+ac(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return qt(n,t.length)},T:function(e,t,r){return qt(+e,t.length)}};function $3(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+qt(s,2)}function U3(e,t){return e%60===0?(e>0?"-":"+")+qt(Math.abs(e)/60,2):ac(e,t)}function ac(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=qt(Math.trunc(n/60),2),s=qt(n%60,2);return r+a+t+s}const z3=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},YE=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Noe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return z3(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",z3(n,t)).replace("{{time}}",YE(a,t))},M2={p:YE,P:Noe},joe=/^D+$/,Soe=/^Y+$/,koe=["D","DD","YY","YYYY"];function Coe(e){return joe.test(e)}function Doe(e){return Soe.test(e)}function _oe(e,t,r){const n=Poe(e,t,r);if(console.warn(n),koe.includes(e))throw new RangeError(n)}function Poe(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Eoe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Moe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Aoe=/^'([^]*?)'?$/,Loe=/''/g,Toe=/[a-zA-Z]/;function B3(e,t,r){var d,f,p,m,y,v,w,g;const n=Gc(),a=(r==null?void 0:r.locale)??n.locale??WE,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(p=n.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((g=(w=n.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??0,c=Ze(e,r==null?void 0:r.in);if(!tv(c))throw new RangeError("Invalid time value");let l=t.match(Moe).map(x=>{const S=x[0];if(S==="p"||S==="P"){const j=M2[S];return j(x,a.formatLong)}return x}).join("").match(Eoe).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const S=x[0];if(S==="'")return{isToken:!1,value:Ooe(x)};if(F3[S])return{isToken:!0,value:x};if(S.match(Toe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(l=a.localize.preprocessor(c,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return l.map(x=>{if(!x.isToken)return x.value;const S=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Doe(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Coe(S))&&_oe(S,t,String(e));const j=F3[S[0]];return j(c,S,a.localize,u)}).join("")}function Ooe(e){const t=e.match(Aoe);return t?t[1].replace(Loe,"'"):e}function W3(e,t){return Ze(e,t==null?void 0:t.in).getDate()}function Ioe(e,t){return Ze(e,t==null?void 0:t.in).getDay()}function Roe(e,t){const r=Ze(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),s=Kt(r,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Foe(){return Object.assign({},Gc())}function vo(e,t){return Ze(e,t==null?void 0:t.in).getHours()}function $oe(e,t){const r=Ze(e,t==null?void 0:t.in).getDay();return r===0?7:r}function xo(e,t){return Ze(e,t==null?void 0:t.in).getMinutes()}function zn(e,t){return Ze(e,t==null?void 0:t.in).getMonth()}function wl(e){return Ze(e).getSeconds()}function A2(e){return+Ze(e)}function bt(e,t){return Ze(e,t==null?void 0:t.in).getFullYear()}function Pl(e,t){return+Ze(e)>+Ze(t)}function $c(e,t){return+Ze(e)<+Ze(t)}function Uoe(e,t){return+Ze(e)==+Ze(t)}function zoe(e,t){const r=Boe(t)?new t(0):Kt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Boe(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const Woe=10;class VE{constructor(){qe(this,"subPriority",0)}validate(t,r){return!0}}class Hoe extends VE{constructor(t,r,n,a,s){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Yoe extends VE{constructor(r,n){super();qe(this,"priority",Woe);qe(this,"subPriority",-1);this.context=r||(a=>Kt(n,a))}set(r,n){return n.timestampIsSet?r:Kt(r,zoe(r,this.context))}}class Ut{run(t,r,n,a){const s=this.parse(t,r,n,a);return s?{setter:new Hoe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,r,n){return!0}}class Voe extends Ut{constructor(){super(...arguments);qe(this,"priority",140);qe(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Wr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},vi={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Hr(e,t){return e&&{value:t(e.value),rest:e.rest}}function wr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function xi(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*Sx+s*jx+o*Tie),rest:t.slice(r[0].length)}}function qE(e){return wr(Wr.anyDigitsSigned,e)}function Ar(e,t){switch(e){case 1:return wr(Wr.singleDigit,t);case 2:return wr(Wr.twoDigits,t);case 3:return wr(Wr.threeDigits,t);case 4:return wr(Wr.fourDigits,t);default:return wr(new RegExp("^\\d{1,"+e+"}"),t)}}function sv(e,t){switch(e){case 1:return wr(Wr.singleDigitSigned,t);case 2:return wr(Wr.twoDigitsSigned,t);case 3:return wr(Wr.threeDigitsSigned,t);case 4:return wr(Wr.fourDigitsSigned,t);default:return wr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function oN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function GE(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const s=n+50,o=Math.trunc(s/100)*100,c=e>=s%100;a=e+o-(c?100:0)}return r?a:1-a}function KE(e){return e%400===0||e%4===0&&e%100!==0}class qoe extends Ut{constructor(){super(...arguments);qe(this,"priority",130);qe(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Hr(Ar(4,r),s);case"yo":return Hr(a.ordinalNumber(r,{unit:"year"}),s);default:return Hr(Ar(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const s=r.getFullYear();if(a.isTwoDigitYear){const c=GE(a.year,s);return r.setFullYear(c,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class Goe extends Ut{constructor(){super(...arguments);qe(this,"priority",130);qe(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Hr(Ar(4,r),s);case"Yo":return Hr(a.ordinalNumber(r,{unit:"year"}),s);default:return Hr(Ar(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,s){const o=iN(r,s);if(a.isTwoDigitYear){const l=GE(a.year,o);return r.setFullYear(l,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),_o(r,s)}const c=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(c,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),_o(r,s)}}class Koe extends Ut{constructor(){super(...arguments);qe(this,"priority",130);qe(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return sv(n==="R"?4:n.length,r)}set(r,n,a){const s=Kt(r,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),_d(s)}}class Xoe extends Ut{constructor(){super(...arguments);qe(this,"priority",130);qe(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return sv(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Qoe extends Ut{constructor(){super(...arguments);qe(this,"priority",120);qe(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Ar(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Joe extends Ut{constructor(){super(...arguments);qe(this,"priority",120);qe(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Ar(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Zoe extends Ut{constructor(){super(...arguments);qe(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);qe(this,"priority",110)}parse(r,n,a){const s=o=>o-1;switch(n){case"M":return Hr(wr(Wr.month,r),s);case"MM":return Hr(Ar(2,r),s);case"Mo":return Hr(a.ordinalNumber(r,{unit:"month"}),s);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class ele extends Ut{constructor(){super(...arguments);qe(this,"priority",110);qe(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const s=o=>o-1;switch(n){case"L":return Hr(wr(Wr.month,r),s);case"LL":return Hr(Ar(2,r),s);case"Lo":return Hr(a.ordinalNumber(r,{unit:"month"}),s);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function tle(e,t,r){const n=Ze(e,r==null?void 0:r.in),a=HE(n,r)-t;return n.setDate(n.getDate()-a*7),Ze(n,r==null?void 0:r.in)}class rle extends Ut{constructor(){super(...arguments);qe(this,"priority",100);qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return wr(Wr.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Ar(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,s){return _o(tle(r,a,s),s)}}function nle(e,t,r){const n=Ze(e,r==null?void 0:r.in),a=sN(n,r)-t;return n.setDate(n.getDate()-a*7),n}class ale extends Ut{constructor(){super(...arguments);qe(this,"priority",100);qe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return wr(Wr.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Ar(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return _d(nle(r,a))}}const sle=[31,28,31,30,31,30,31,31,30,31,30,31],ile=[31,29,31,30,31,30,31,31,30,31,30,31];class ole extends Ut{constructor(){super(...arguments);qe(this,"priority",90);qe(this,"subPriority",1);qe(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return wr(Wr.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Ar(n.length,r)}}validate(r,n){const a=r.getFullYear(),s=KE(a),o=r.getMonth();return s?n>=1&&n<=ile[o]:n>=1&&n<=sle[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class lle extends Ut{constructor(){super(...arguments);qe(this,"priority",90);qe(this,"subpriority",1);qe(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return wr(Wr.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Ar(n.length,r)}}validate(r,n){const a=r.getFullYear();return KE(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function lN(e,t,r){var f,p,m,y;const n=Gc(),a=(r==null?void 0:r.weekStartsOn)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=Ze(e,r==null?void 0:r.in),o=s.getDay(),l=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(o+u)%7:(l+u)%7-(o+u)%7;return $s(s,d,r)}class cle extends Ut{constructor(){super(...arguments);qe(this,"priority",90);qe(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=lN(r,a,s),r.setHours(0,0,0,0),r}}class ule extends Ut{constructor(){super(...arguments);qe(this,"priority",90);qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,s){const o=c=>{const l=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+l};switch(n){case"e":case"ee":return Hr(Ar(n.length,r),o);case"eo":return Hr(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=lN(r,a,s),r.setHours(0,0,0,0),r}}class dle extends Ut{constructor(){super(...arguments);qe(this,"priority",90);qe(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,s){const o=c=>{const l=Math.floor((c-1)/7)*7;return(c+s.weekStartsOn+6)%7+l};switch(n){case"c":case"cc":return Hr(Ar(n.length,r),o);case"co":return Hr(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=lN(r,a,s),r.setHours(0,0,0,0),r}}function fle(e,t,r){const n=Ze(e,r==null?void 0:r.in),a=$oe(n,r),s=t-a;return $s(n,s,r)}class hle extends Ut{constructor(){super(...arguments);qe(this,"priority",90);qe(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return Ar(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return Hr(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiii":return Hr(a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Hr(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Hr(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=fle(r,a),r.setHours(0,0,0,0),r}}class ple extends Ut{constructor(){super(...arguments);qe(this,"priority",80);qe(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(oN(a),0,0,0),r}}class mle extends Ut{constructor(){super(...arguments);qe(this,"priority",80);qe(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(oN(a),0,0,0),r}}class gle extends Ut{constructor(){super(...arguments);qe(this,"priority",80);qe(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(oN(a),0,0,0),r}}class vle extends Ut{constructor(){super(...arguments);qe(this,"priority",70);qe(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return wr(Wr.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ar(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const s=r.getHours()>=12;return s&&a<12?r.setHours(a+12,0,0,0):!s&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class xle extends Ut{constructor(){super(...arguments);qe(this,"priority",70);qe(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return wr(Wr.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Ar(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class yle extends Ut{constructor(){super(...arguments);qe(this,"priority",70);qe(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return wr(Wr.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ar(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class ble extends Ut{constructor(){super(...arguments);qe(this,"priority",70);qe(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return wr(Wr.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Ar(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const s=a<=24?a%24:a;return r.setHours(s,0,0,0),r}}class wle extends Ut{constructor(){super(...arguments);qe(this,"priority",60);qe(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return wr(Wr.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Ar(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class Nle extends Ut{constructor(){super(...arguments);qe(this,"priority",50);qe(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return wr(Wr.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Ar(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class jle extends Ut{constructor(){super(...arguments);qe(this,"priority",30);qe(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=s=>Math.trunc(s*Math.pow(10,-n.length+3));return Hr(Ar(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class Sle extends Ut{constructor(){super(...arguments);qe(this,"priority",10);qe(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return xi(vi.basicOptionalMinutes,r);case"XX":return xi(vi.basic,r);case"XXXX":return xi(vi.basicOptionalSeconds,r);case"XXXXX":return xi(vi.extendedOptionalSeconds,r);case"XXX":default:return xi(vi.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Kt(r,r.getTime()-Zg(r)-a)}}class kle extends Ut{constructor(){super(...arguments);qe(this,"priority",10);qe(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return xi(vi.basicOptionalMinutes,r);case"xx":return xi(vi.basic,r);case"xxxx":return xi(vi.basicOptionalSeconds,r);case"xxxxx":return xi(vi.extendedOptionalSeconds,r);case"xxx":default:return xi(vi.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Kt(r,r.getTime()-Zg(r)-a)}}class Cle extends Ut{constructor(){super(...arguments);qe(this,"priority",40);qe(this,"incompatibleTokens","*")}parse(r){return qE(r)}set(r,n,a){return[Kt(r,a*1e3),{timestampIsSet:!0}]}}class Dle extends Ut{constructor(){super(...arguments);qe(this,"priority",20);qe(this,"incompatibleTokens","*")}parse(r){return qE(r)}set(r,n,a){return[Kt(r,a),{timestampIsSet:!0}]}}const _le={G:new Voe,y:new qoe,Y:new Goe,R:new Koe,u:new Xoe,Q:new Qoe,q:new Joe,M:new Zoe,L:new ele,w:new rle,I:new ale,d:new ole,D:new lle,E:new cle,e:new ule,c:new dle,i:new hle,a:new ple,b:new mle,B:new gle,h:new vle,H:new xle,K:new yle,k:new ble,m:new wle,s:new Nle,S:new jle,X:new Sle,x:new kle,t:new Cle,T:new Dle},Ple=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ele=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Mle=/^'([^]*?)'?$/,Ale=/''/g,Lle=/\S/,Tle=/[a-zA-Z]/;function Ole(e,t,r,n){var w,g,x,S,j,P,I,k;const a=()=>Kt((n==null?void 0:n.in)||r,NaN),s=Foe(),o=(n==null?void 0:n.locale)??s.locale??WE,c=(n==null?void 0:n.firstWeekContainsDate)??((g=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(x=s.locale)==null?void 0:x.options)==null?void 0:S.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((P=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:P.weekStartsOn)??s.weekStartsOn??((k=(I=s.locale)==null?void 0:I.options)==null?void 0:k.weekStartsOn)??0;if(!t)return e?a():Ze(r,n==null?void 0:n.in);const u={firstWeekContainsDate:c,weekStartsOn:l,locale:o},d=[new Yoe(n==null?void 0:n.in,r)],f=t.match(Ele).map(D=>{const R=D[0];if(R in M2){const A=M2[R];return A(D,o.formatLong)}return D}).join("").match(Ple),p=[];for(let D of f){const R=D[0],A=_le[R];if(A){const{incompatibleTokens:E}=A;if(Array.isArray(E)){const F=p.find(L=>E.includes(L.token)||L.token===R);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${D}\` at the same time`)}else if(A.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);p.push({token:R,fullToken:D});const _=A.run(e,D,o.match,u);if(!_)return a();d.push(_.setter),e=_.rest}else{if(R.match(Tle))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(D==="''"?D="'":R==="'"&&(D=Ile(D)),e.indexOf(D)===0)e=e.slice(D.length);else return a()}}if(e.length>0&&Lle.test(e))return a();const m=d.map(D=>D.priority).sort((D,R)=>R-D).filter((D,R,A)=>A.indexOf(D)===R).map(D=>d.filter(R=>R.priority===D).sort((R,A)=>A.subPriority-R.subPriority)).map(D=>D[0]);let y=Ze(r,n==null?void 0:n.in);if(isNaN(+y))return a();const v={};for(const D of m){if(!D.validate(y,u))return a();const R=D.set(y,v,u);Array.isArray(R)?(y=R[0],Object.assign(v,R[1])):y=R}return y}function Ile(e){return e.match(Mle)[1].replace(Ale,"'")}function Rle(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Fle(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t);return+E2(n)==+E2(a)}function $le(e,t,r){const[n,a]=Oo(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function cp(e,t,r){const n=+Ze(e,r==null?void 0:r.in),[a,s]=[+Ze(t.start,r==null?void 0:r.in),+Ze(t.end,r==null?void 0:r.in)].sort((o,c)=>o-c);return n>=a&&n<=s}function Ule(e,t,r){return $s(e,-t,r)}function zle(e,t){const r=()=>Kt(t==null?void 0:t.in,NaN),a=Yle(e);let s;if(a.date){const u=Vle(a.date,2);s=qle(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const o=+s;let c=0,l;if(a.time&&(c=Gle(a.time),isNaN(c)))return r();if(a.timezone){if(l=Kle(a.timezone),isNaN(l))return r()}else{const u=new Date(o+c),d=Ze(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return Ze(o+c+l,t==null?void 0:t.in)}const d0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ble=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Wle=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Hle=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Yle(e){const t={},r=e.split(d0.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],d0.timeZoneDelimiter.test(t.date)&&(t.date=e.split(d0.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=d0.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Vle(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function qle(e,t){if(t===null)return new Date(NaN);const r=e.match(Ble);if(!r)return new Date(NaN);const n=!!r[4],a=Zf(r[1]),s=Zf(r[2])-1,o=Zf(r[3]),c=Zf(r[4]),l=Zf(r[5])-1;if(n)return ece(t,c,l)?Xle(t,c,l):new Date(NaN);{const u=new Date(0);return!Jle(t,s,o)||!Zle(t,a)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(a,o)),u)}}function Zf(e){return e?parseInt(e):1}function Gle(e){const t=e.match(Wle);if(!t)return NaN;const r=R1(t[1]),n=R1(t[2]),a=R1(t[3]);return tce(r,n,a)?r*Sx+n*jx+a*1e3:NaN}function R1(e){return e&&parseFloat(e.replace(",","."))||0}function Kle(e){if(e==="Z")return 0;const t=e.match(Hle);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return rce(n,a)?r*(n*Sx+a*jx):NaN}function Xle(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Qle=[31,null,31,30,31,30,31,31,30,31,30,31];function XE(e){return e%400===0||e%4===0&&e%100!==0}function Jle(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Qle[t]||(XE(e)?29:28))}function Zle(e,t){return t>=1&&t<=(XE(e)?366:365)}function ece(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function tce(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function rce(e,t){return t>=0&&t<=59}function Ja(e,t,r){const n=Ze(e,r==null?void 0:r.in),a=n.getFullYear(),s=n.getDate(),o=Kt(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const c=Roe(o);return n.setMonth(t,Math.min(s,c)),n}function K0(e,t,r){const n=Ze(e,r==null?void 0:r.in);return n.setHours(t),n}function X0(e,t,r){const n=Ze(e,r==null?void 0:r.in);return n.setMinutes(t),n}function Iu(e,t,r){const n=Ze(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,s=t-a;return Ja(n,n.getMonth()+s*3)}function Q0(e,t,r){const n=Ze(e,r==null?void 0:r.in);return n.setSeconds(t),n}function ci(e,t,r){const n=Ze(e,r==null?void 0:r.in);return isNaN(+n)?Kt(e,NaN):(n.setFullYear(t),n)}function wc(e,t,r){return Ys(e,-t,r)}function QE(e,t,r){return aN(e,-t,r)}function H3(e,t,r){return ev(e,-t,r)}function Ed(e,t,r){return mo(e,-t,r)}function Cx(){return typeof window<"u"}function tf(e){return JE(e)?(e.nodeName||"").toLowerCase():"#document"}function La(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Bi(e){var t;return(t=(JE(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JE(e){return Cx()?e instanceof Node||e instanceof La(e).Node:!1}function Qn(e){return Cx()?e instanceof Element||e instanceof La(e).Element:!1}function Ti(e){return Cx()?e instanceof HTMLElement||e instanceof La(e).HTMLElement:!1}function Y3(e){return!Cx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof La(e).ShadowRoot}const nce=new Set(["inline","contents"]);function $p(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=ds(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!nce.has(a)}const ace=new Set(["table","td","th"]);function sce(e){return ace.has(tf(e))}const ice=[":popover-open",":modal"];function Dx(e){return ice.some(t=>{try{return e.matches(t)}catch{return!1}})}const oce=["transform","translate","scale","rotate","perspective"],lce=["transform","translate","scale","rotate","perspective","filter"],cce=["paint","layout","strict","content"];function cN(e){const t=uN(),r=Qn(e)?ds(e):e;return oce.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||lce.some(n=>(r.willChange||"").includes(n))||cce.some(n=>(r.contain||"").includes(n))}function uce(e){let t=El(e);for(;Ti(t)&&!Md(t);){if(cN(t))return t;if(Dx(t))return null;t=El(t)}return null}function uN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const dce=new Set(["html","body","#document"]);function Md(e){return dce.has(tf(e))}function ds(e){return La(e).getComputedStyle(e)}function _x(e){return Qn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function El(e){if(tf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Y3(e)&&e.host||Bi(e);return Y3(t)?t.host:t}function ZE(e){const t=El(e);return Md(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ti(t)&&$p(t)?t:ZE(t)}function up(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=ZE(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=La(a);if(s){const c=L2(o);return t.concat(o,o.visualViewport||[],$p(a)?a:[],c&&r?up(c):[])}return t.concat(a,up(a,[],r))}function L2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Ad=Math.min,Nc=Math.max,iv=Math.round,f0=Math.floor,Pi=e=>({x:e,y:e}),fce={left:"right",right:"left",bottom:"top",top:"bottom"},hce={start:"end",end:"start"};function pce(e,t,r){return Nc(e,Ad(t,r))}function Px(e,t){return typeof e=="function"?e(t):e}function Ld(e){return e.split("-")[0]}function Up(e){return e.split("-")[1]}function mce(e){return e==="x"?"y":"x"}function dN(e){return e==="y"?"height":"width"}const gce=new Set(["top","bottom"]);function uc(e){return gce.has(Ld(e))?"y":"x"}function fN(e){return mce(uc(e))}function vce(e,t,r){r===void 0&&(r=!1);const n=Up(e),a=fN(e),s=dN(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=ov(o)),[o,ov(o)]}function xce(e){const t=ov(e);return[T2(e),t,T2(t)]}function T2(e){return e.replace(/start|end/g,t=>hce[t])}const V3=["left","right"],q3=["right","left"],yce=["top","bottom"],bce=["bottom","top"];function wce(e,t,r){switch(e){case"top":case"bottom":return r?t?q3:V3:t?V3:q3;case"left":case"right":return t?yce:bce;default:return[]}}function Nce(e,t,r,n){const a=Up(e);let s=wce(Ld(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(T2)))),s}function ov(e){return e.replace(/left|right|bottom|top/g,t=>fce[t])}function jce(e){return{top:0,right:0,bottom:0,left:0,...e}}function eM(e){return typeof e!="number"?jce(e):{top:e,right:e,bottom:e,left:e}}function lv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}var Sce=typeof document<"u",kce=function(){},cv=Sce?O.useLayoutEffect:kce;const Cce={...sg},Dce=Cce.useInsertionEffect,_ce=Dce||(e=>e());function Pce(e){const t=O.useRef(()=>{});return _ce(()=>{t.current=e}),O.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function G3(e,t,r){let{reference:n,floating:a}=e;const s=uc(t),o=fN(t),c=dN(o),l=Ld(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,p=n[c]/2-a[c]/2;let m;switch(l){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Up(t)){case"start":m[o]-=p*(r&&u?-1:1);break;case"end":m[o]+=p*(r&&u?-1:1);break}return m}const Ece=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,c=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=G3(u,n,l),p=n,m={},y=0;for(let v=0;v<c.length;v++){const{name:w,fn:g}=c[v],{x,y:S,data:j,reset:P}=await g({x:d,y:f,initialPlacement:n,placement:p,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=S??f,m={...m,[w]:{...m[w],...j}},P&&y<=50&&(y++,typeof P=="object"&&(P.placement&&(p=P.placement),P.rects&&(u=P.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):P.rects),{x:d,y:f}=G3(u,p,l)),v=-1)}return{x:d,y:f,placement:p,strategy:a,middlewareData:m}};async function Mce(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Px(t,e),y=eM(m),w=c[p?f==="floating"?"reference":"floating":f],g=lv(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),j=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},P=lv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:x,offsetParent:S,strategy:l}):x);return{top:(g.top-P.top+y.top)/j.y,bottom:(P.bottom-g.bottom+y.bottom)/j.y,left:(g.left-P.left+y.left)/j.x,right:(P.right-g.right+y.right)/j.x}}const Ace=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=Px(e,t)||{};if(u==null)return{};const f=eM(d),p={x:r,y:n},m=fN(a),y=dN(m),v=await o.getDimensions(u),w=m==="y",g=w?"top":"left",x=w?"bottom":"right",S=w?"clientHeight":"clientWidth",j=s.reference[y]+s.reference[m]-p[m]-s.floating[y],P=p[m]-s.reference[m],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=I?I[S]:0;(!k||!await(o.isElement==null?void 0:o.isElement(I)))&&(k=c.floating[S]||s.floating[y]);const D=j/2-P/2,R=k/2-v[y]/2-1,A=Ad(f[g],R),E=Ad(f[x],R),_=A,F=k-v[y]-E,L=k/2-v[y]/2+D,U=pce(_,L,F),z=!l.arrow&&Up(a)!=null&&L!==U&&s.reference[y]/2-(L<_?A:E)-v[y]/2<0,H=z?L<_?L-_:L-F:0;return{[m]:p[m]+H,data:{[m]:U,centerOffset:L-U-H,...z&&{alignmentOffset:H}},reset:z}}}),Lce=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:c,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=Px(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const g=Ld(a),x=uc(c),S=Ld(c)===c,j=await(l.isRTL==null?void 0:l.isRTL(u.floating)),P=p||(S||!v?[ov(c)]:xce(c)),I=y!=="none";!p&&I&&P.push(...Nce(c,v,y,j));const k=[c,...P],D=await Mce(t,w),R=[];let A=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&R.push(D[g]),f){const L=vce(a,o,j);R.push(D[L[0]],D[L[1]])}if(A=[...A,{placement:a,overflows:R}],!R.every(L=>L<=0)){var E,_;const L=(((E=s.flip)==null?void 0:E.index)||0)+1,U=k[L];if(U&&(!(f==="alignment"?x!==uc(U):!1)||A.every(V=>V.overflows[0]>0&&uc(V.placement)===x)))return{data:{index:L,overflows:A},reset:{placement:U}};let z=(_=A.filter(H=>H.overflows[0]<=0).sort((H,V)=>H.overflows[1]-V.overflows[1])[0])==null?void 0:_.placement;if(!z)switch(m){case"bestFit":{var F;const H=(F=A.filter(V=>{if(I){const ae=uc(V.placement);return ae===x||ae==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ae=>ae>0).reduce((ae,le)=>ae+le,0)]).sort((V,ae)=>V[1]-ae[1])[0])==null?void 0:F[0];H&&(z=H);break}case"initialPlacement":z=c;break}if(a!==z)return{reset:{placement:z}}}return{}}}},Tce=new Set(["left","top"]);async function Oce(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Ld(r),c=Up(r),l=uc(r)==="y",u=Tce.has(o)?-1:1,d=s&&l?-1:1,f=Px(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof y=="number"&&(m=c==="end"?y*-1:y),l?{x:m*d,y:p*u}:{x:p*u,y:m*d}}const Ice=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:c}=t,l=await Oce(t,e);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:o}}}}};function tM(e){const t=ds(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ti(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,c=iv(r)!==s||iv(n)!==o;return c&&(r=s,n=o),{width:r,height:n,$:c}}function hN(e){return Qn(e)?e:e.contextElement}function dd(e){const t=hN(e);if(!Ti(t))return Pi(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=tM(t);let o=(s?iv(r.width):r.width)/n,c=(s?iv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const Rce=Pi(0);function rM(e){const t=La(e);return!uN()||!t.visualViewport?Rce:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Fce(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==La(e)?!1:t}function Uc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=hN(e);let o=Pi(1);t&&(n?Qn(n)&&(o=dd(n)):o=dd(e));const c=Fce(s,r,n)?rM(s):Pi(0);let l=(a.left+c.x)/o.x,u=(a.top+c.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const p=La(s),m=n&&Qn(n)?La(n):n;let y=p,v=L2(y);for(;v&&n&&m!==y;){const w=dd(v),g=v.getBoundingClientRect(),x=ds(v),S=g.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,j=g.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;l*=w.x,u*=w.y,d*=w.x,f*=w.y,l+=S,u+=j,y=La(v),v=L2(y)}}return lv({width:d,height:f,x:l,y:u})}function pN(e,t){const r=_x(e).scrollLeft;return t?t.left+r:Uc(Bi(e)).left+r}function nM(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:pN(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function $ce(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=Bi(n),c=t?Dx(t.floating):!1;if(n===o||c&&s)return r;let l={scrollLeft:0,scrollTop:0},u=Pi(1);const d=Pi(0),f=Ti(n);if((f||!f&&!s)&&((tf(n)!=="body"||$p(o))&&(l=_x(n)),Ti(n))){const m=Uc(n);u=dd(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const p=o&&!f&&!s?nM(o,l,!0):Pi(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-l.scrollTop*u.y+d.y+p.y}}function Uce(e){return Array.from(e.getClientRects())}function zce(e){const t=Bi(e),r=_x(e),n=e.ownerDocument.body,a=Nc(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Nc(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+pN(e);const c=-r.scrollTop;return ds(n).direction==="rtl"&&(o+=Nc(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:c}}function Bce(e,t){const r=La(e),n=Bi(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,c=0,l=0;if(a){s=a.width,o=a.height;const u=uN();(!u||u&&t==="fixed")&&(c=a.offsetLeft,l=a.offsetTop)}return{width:s,height:o,x:c,y:l}}const Wce=new Set(["absolute","fixed"]);function Hce(e,t){const r=Uc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Ti(e)?dd(e):Pi(1),o=e.clientWidth*s.x,c=e.clientHeight*s.y,l=a*s.x,u=n*s.y;return{width:o,height:c,x:l,y:u}}function K3(e,t,r){let n;if(t==="viewport")n=Bce(e,r);else if(t==="document")n=zce(Bi(e));else if(Qn(t))n=Hce(t,r);else{const a=rM(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return lv(n)}function aM(e,t){const r=El(e);return r===t||!Qn(r)||Md(r)?!1:ds(r).position==="fixed"||aM(r,t)}function Yce(e,t){const r=t.get(e);if(r)return r;let n=up(e,[],!1).filter(c=>Qn(c)&&tf(c)!=="body"),a=null;const s=ds(e).position==="fixed";let o=s?El(e):e;for(;Qn(o)&&!Md(o);){const c=ds(o),l=cN(o);!l&&c.position==="fixed"&&(a=null),(s?!l&&!a:!l&&c.position==="static"&&!!a&&Wce.has(a.position)||$p(o)&&!l&&aM(e,o))?n=n.filter(d=>d!==o):a=c,o=El(o)}return t.set(e,n),n}function Vce(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Dx(t)?[]:Yce(t,this._c):[].concat(r),n],c=o[0],l=o.reduce((u,d)=>{const f=K3(t,d,a);return u.top=Nc(f.top,u.top),u.right=Ad(f.right,u.right),u.bottom=Ad(f.bottom,u.bottom),u.left=Nc(f.left,u.left),u},K3(t,c,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function qce(e){const{width:t,height:r}=tM(e);return{width:t,height:r}}function Gce(e,t,r){const n=Ti(t),a=Bi(t),s=r==="fixed",o=Uc(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const l=Pi(0);function u(){l.x=pN(a)}if(n||!n&&!s)if((tf(t)!=="body"||$p(a))&&(c=_x(t)),n){const m=Uc(t,!0,s,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?nM(a,c):Pi(0),f=o.left+c.scrollLeft-l.x-d.x,p=o.top+c.scrollTop-l.y-d.y;return{x:f,y:p,width:o.width,height:o.height}}function F1(e){return ds(e).position==="static"}function X3(e,t){if(!Ti(e)||ds(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Bi(e)===r&&(r=r.ownerDocument.body),r}function sM(e,t){const r=La(e);if(Dx(e))return r;if(!Ti(e)){let a=El(e);for(;a&&!Md(a);){if(Qn(a)&&!F1(a))return a;a=El(a)}return r}let n=X3(e,t);for(;n&&sce(n)&&F1(n);)n=X3(n,t);return n&&Md(n)&&F1(n)&&!cN(n)?r:n||uce(e)||r}const Kce=async function(e){const t=this.getOffsetParent||sM,r=this.getDimensions,n=await r(e.floating);return{reference:Gce(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xce(e){return ds(e).direction==="rtl"}const Qce={convertOffsetParentRelativeRectToViewportRelativeRect:$ce,getDocumentElement:Bi,getClippingRect:Vce,getOffsetParent:sM,getElementRects:Kce,getClientRects:Uce,getDimensions:qce,getScale:dd,isElement:Qn,isRTL:Xce};function iM(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jce(e,t){let r=null,n;const a=Bi(e);function s(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,l){c===void 0&&(c=!1),l===void 0&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:p,height:m}=u;if(c||t(),!p||!m)return;const y=f0(f),v=f0(a.clientWidth-(d+p)),w=f0(a.clientHeight-(f+m)),g=f0(d),S={rootMargin:-y+"px "+-v+"px "+-w+"px "+-g+"px",threshold:Nc(0,Ad(1,l))||1};let j=!0;function P(I){const k=I[0].intersectionRatio;if(k!==l){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!iM(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(P,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(P,S)}r.observe(e)}return o(!0),s}function oM(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=hN(e),d=a||s?[...u?up(u):[],...up(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),s&&g.addEventListener("resize",r)});const f=u&&c?Jce(u,r):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),r()}),u&&!l&&m.observe(u),m.observe(t));let y,v=l?Uc(e):null;l&&w();function w(){const g=Uc(e);v&&!iM(v,g)&&r(),v=g,y=requestAnimationFrame(w)}return r(),()=>{var g;d.forEach(x=>{a&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const Zce=Ice,eue=Lce,Q3=Ace,tue=(e,t,r)=>{const n=new Map,a={platform:Qce,...r},s={...a.platform,_c:n};return Ece(e,t,{...a,platform:s})};var rue=typeof document<"u",nue=function(){},J0=rue?O.useLayoutEffect:nue;function uv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!uv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!uv(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function lM(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function J3(e,t){const r=lM(e);return Math.round(t*r)/r}function $1(e){const t=O.useRef(e);return J0(()=>{t.current=e}),t}function aue(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:c=!0,whileElementsMounted:l,open:u}=e,[d,f]=O.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=O.useState(n);uv(p,n)||m(n);const[y,v]=O.useState(null),[w,g]=O.useState(null),x=O.useCallback(V=>{V!==I.current&&(I.current=V,v(V))},[]),S=O.useCallback(V=>{V!==k.current&&(k.current=V,g(V))},[]),j=s||y,P=o||w,I=O.useRef(null),k=O.useRef(null),D=O.useRef(d),R=l!=null,A=$1(l),E=$1(a),_=$1(u),F=O.useCallback(()=>{if(!I.current||!k.current)return;const V={placement:t,strategy:r,middleware:p};E.current&&(V.platform=E.current),tue(I.current,k.current,V).then(ae=>{const le={...ae,isPositioned:_.current!==!1};L.current&&!uv(D.current,le)&&(D.current=le,Av.flushSync(()=>{f(le)}))})},[p,t,r,E,_]);J0(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[u]);const L=O.useRef(!1);J0(()=>(L.current=!0,()=>{L.current=!1}),[]),J0(()=>{if(j&&(I.current=j),P&&(k.current=P),j&&P){if(A.current)return A.current(j,P,F);F()}},[j,P,F,A,R]);const U=O.useMemo(()=>({reference:I,floating:k,setReference:x,setFloating:S}),[x,S]),z=O.useMemo(()=>({reference:j,floating:P}),[j,P]),H=O.useMemo(()=>{const V={position:r,left:0,top:0};if(!z.floating)return V;const ae=J3(z.floating,d.x),le=J3(z.floating,d.y);return c?{...V,transform:"translate("+ae+"px, "+le+"px)",...lM(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ae,top:le}},[r,c,z.floating,d.x,d.y]);return O.useMemo(()=>({...d,update:F,refs:U,elements:z,floatingStyles:H}),[d,F,U,z,H])}const sue=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Q3({element:n.current,padding:a}).fn(r):{}:n?Q3({element:n,padding:a}).fn(r):{}}}},iue=(e,t)=>({...Zce(e),options:[e,t]}),oue=(e,t)=>({...eue(e),options:[e,t]}),lue=(e,t)=>({...sue(e),options:[e,t]}),cue={...sg};let Z3=!1,uue=0;const ek=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+uue++;function due(){const[e,t]=O.useState(()=>Z3?ek():void 0);return cv(()=>{e==null&&t(ek())},[]),O.useEffect(()=>{Z3=!0},[]),e}const fue=cue.useId,cM=fue||due,hue=O.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:o}},width:c=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:p,d:m,style:{transform:y,...v}={},...w}=t,g=cM(),[x,S]=O.useState(!1);if(cv(()=>{if(!a)return;ds(a).direction==="rtl"&&S(!0)},[a]),!a)return null;const[j,P]=n.split("-"),I=j==="top"||j==="bottom";let k=f;(I&&o!=null&&o.x||!I&&o!=null&&o.y)&&(k=null);const D=d*2,R=D/2,A=c/2*(u/-8+1),E=l/2*u/4,_=!!m,F=k&&P==="end"?"bottom":"top";let L=k&&P==="end"?"right":"left";k&&x&&(L=P==="end"?"left":"right");const U=(s==null?void 0:s.x)!=null?k||s.x:"",z=(s==null?void 0:s.y)!=null?k||s.y:"",H=m||"M0,0"+(" H"+c)+(" L"+(c-A)+","+(l-E))+(" Q"+c/2+","+l+" "+A+","+(l-E))+" Z",V={top:_?"rotate(180deg)":"",left:_?"rotate(90deg)":"rotate(-90deg)",bottom:_?"":"rotate(180deg)",right:_?"rotate(-90deg)":"rotate(90deg)"}[j];return i.jsxs("svg",{...w,"aria-hidden":!0,ref:r,width:_?c:c+D,height:c,viewBox:"0 0 "+c+" "+(l>c?l:c),style:{position:"absolute",pointerEvents:"none",[L]:U,[F]:z,[j]:I||_?"100%":"calc(100% - "+D/2+"px)",transform:[V,y].filter(ae=>!!ae).join(" "),...v},children:[D>0&&i.jsx("path",{clipPath:"url(#"+g+")",fill:"none",stroke:p,strokeWidth:D+(m?0:1),d:H}),i.jsx("path",{stroke:D&&!m?w.fill:"none",d:H}),i.jsx("clipPath",{id:g,children:i.jsx("rect",{x:-R,y:R*(_?-1:1),width:c+D,height:c})})]})});function pue(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const mue=O.createContext(null),gue=O.createContext(null),vue=()=>{var e;return((e=O.useContext(mue))==null?void 0:e.id)||null},xue=()=>O.useContext(gue);function yue(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=cM(),s=O.useRef({}),[o]=O.useState(()=>pue()),c=vue()!=null,[l,u]=O.useState(n.reference),d=Pce((m,y,v)=>{s.current.openEvent=m?y:void 0,o.emit("openchange",{open:m,event:y,reason:v,nested:c}),r==null||r(m,y,v)}),f=O.useMemo(()=>({setPositionReference:u}),[]),p=O.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return O.useMemo(()=>({dataRef:s,open:t,onOpenChange:d,elements:p,events:o,floatingId:a,refs:f}),[t,d,p,o,a,f])}function bue(e){e===void 0&&(e={});const{nodeId:t}=e,r=yue({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[s,o]=O.useState(null),[c,l]=O.useState(null),d=(a==null?void 0:a.domReference)||s,f=O.useRef(null),p=xue();cv(()=>{d&&(f.current=d)},[d]);const m=aue({...e,elements:{...a,...c&&{reference:c}}}),y=O.useCallback(S=>{const j=Qn(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;l(j),m.refs.setReference(j)},[m.refs]),v=O.useCallback(S=>{(Qn(S)||S===null)&&(f.current=S,o(S)),(Qn(m.refs.reference.current)||m.refs.reference.current===null||S!==null&&!Qn(S))&&m.refs.setReference(S)},[m.refs]),w=O.useMemo(()=>({...m.refs,setReference:v,setPositionReference:y,domReference:f}),[m.refs,v,y]),g=O.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),x=O.useMemo(()=>({...m,...n,refs:w,elements:g,nodeId:t}),[m,w,g,t,n]);return cv(()=>{n.dataRef.current.floatingContext=x;const S=p==null?void 0:p.nodesRef.current.find(j=>j.id===t);S&&(S.context=x)}),O.useMemo(()=>({...m,context:x,refs:w,elements:g}),[m,w,g,x])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var O2=function(t,r){return O2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},O2(t,r)};function mn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");O2(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Mt=function(){return Mt=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Mt.apply(this,arguments)};function bi(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var wue=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,s=e.className,o=e.children,c=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return re.createElement("div",{className:s,role:"dialog","aria-label":c,"aria-modal":"true"},o)},Nue=function(e,t){var r=O.useRef(null),n=O.useRef(e);n.current=e;var a=O.useCallback(function(s){var o,c=s.composed&&s.composedPath&&s.composedPath().find(function(l){return l instanceof Node})||s.target;r.current&&!r.current.contains(c)&&(t&&c instanceof HTMLElement&&c.classList.contains(t)||(o=n.current)===null||o===void 0||o.call(n,s))},[t]);return O.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},Ex=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,s=e.style,o=e.ignoreClass,c=Nue(r,o);return re.createElement("div",{className:n,style:s,ref:function(l){c.current=l,a&&(a.current=l)}},t)},ze;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(ze||(ze={}));function Mx(){var e=typeof window<"u"?window:globalThis;return e}var zp=12;function Wt(e){if(e==null)return new Date;var t=typeof e=="string"?zle(e):Ze(e);return Ax(t)?t:new Date}function U1(e,t,r,n,a){a===void 0&&(a=Wt());for(var s=Td(r)||Td(mN()),o=Array.isArray(t)?t:[t],c=0,l=o;c<l.length;c++){var u=l[c],d=Ole(e,u,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(Ax(d)&&(!n||e===xr(d,u,r)))return d}return null}function Ax(e,t){return tv(e)&&!$c(e,new Date("1/1/1800"))}function xr(e,t,r){if(r==="en")return B3(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Td(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Td(mN()),B3(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function Ka(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&xr(e,a,n)||""}var uM=" - ";function jue(e,t,r){if(!e)return"";var n=Ka(e,r),a=t?Ka(t,r):"";return"".concat(n).concat(uM).concat(a)}function Sue(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?Ka(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=Ka(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function z1(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,s=a===void 0?0:a,o=t.second,c=o===void 0?0:o;return K0(X0(Q0(e,c),s),n)}function kue(e){return sN(e)}function Cue(e,t){return xr(e,"ddd",t)}function Z0(e){return Fc(e)}function Nl(e,t,r){var n=Td(t||mN());return _o(e,{locale:n,weekStartsOn:r})}function yo(e){return zE(e)}function ch(e){return kx(e)}function tk(e){return E2(e)}function rk(){return Fc(Wt())}function nk(e){return $E(e)}function Due(e){return zie(e)}function _ue(e){return UE(e)}function ui(e,t){return e&&t?$le(e,t):!e&&!t}function Xn(e,t){return e&&t?Rle(e,t):!e&&!t}function dv(e,t){return e&&t?Fle(e,t):!e&&!t}function Et(e,t){return e&&t?$ie(e,t):!e&&!t}function dc(e,t){return e&&t?Uoe(e,t):!e&&!t}function uh(e,t,r){var n,a=Fc(t),s=$E(r);try{n=cp(e,{start:a,end:s})}catch{n=!1}return n}function Pue(e,t){var r=Mx();r.__localeData__||(r.__localeData__={}),r.__localeData__[e]=t}function Eue(e){var t=Mx();t.__localeId__=e}function mN(){var e=Mx();return e.__localeId__}function Td(e){if(typeof e=="string"){var t=Mx();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function Mue(e,t,r){return t(xr(e,"EEEE",r))}function Aue(e,t){return xr(e,"EEEEEE",t)}function Lue(e,t){return xr(e,"EEE",t)}function gN(e,t){return xr(Ja(Wt(),e),"LLLL",t)}function dM(e,t){return xr(Ja(Wt(),e),"LLL",t)}function Tue(e,t){return xr(Iu(Wt(),e),"QQQ",t)}function rs(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.excludeDateIntervals,c=r.includeDates,l=r.includeDateIntervals,u=r.filterDate;return Bp(e,{minDate:n,maxDate:a})||s&&s.some(function(d){return d instanceof Date?Et(e,d):Et(e,d.date)})||o&&o.some(function(d){var f=d.start,p=d.end;return cp(e,{start:f,end:p})})||c&&!c.some(function(d){return Et(e,d)})||l&&!l.some(function(d){var f=d.start,p=d.end;return cp(e,{start:f,end:p})})||u&&!u(Wt(e))||!1}function vN(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var o=s.start,c=s.end;return cp(e,{start:o,end:c})}):n&&n.some(function(s){var o;return s instanceof Date?Et(e,s):Et(e,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function fM(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,c=r.filterDate;return Bp(e,{minDate:n?zE(n):void 0,maxDate:a?UE(a):void 0})||(s==null?void 0:s.some(function(l){return Xn(e,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return Xn(e,l)})||c&&!c(Wt(e))||!1}function h0(e,t,r,n){var a=bt(e),s=zn(e),o=bt(t),c=zn(t),l=bt(n);return a===o&&a===l?s<=r&&r<=c:a<o?l===a&&s<=r||l===o&&c>=r||l<o&&l>a:!1}function Oue(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates;return Bp(e,{minDate:n,maxDate:a})||s&&s.some(function(c){return Xn(c instanceof Date?c:c.date,e)})||o&&!o.some(function(c){return Xn(c,e)})||!1}function p0(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,c=r.filterDate;return Bp(e,{minDate:n,maxDate:a})||(s==null?void 0:s.some(function(l){return dv(e,l instanceof Date?l:l.date)}))||o&&!o.some(function(l){return dv(e,l)})||c&&!c(Wt(e))||!1}function m0(e,t,r){if(!t||!r||!tv(t)||!tv(r))return!1;var n=bt(t),a=bt(r);return n<=e&&a>=e}function eg(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,c=r.filterDate,l=new Date(e,0,1);return Bp(l,{minDate:n?kx(n):void 0,maxDate:a?BE(a):void 0})||(s==null?void 0:s.some(function(u){return ui(l,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return ui(l,u)})||c&&!c(Wt(l))||!1}function g0(e,t,r,n){var a=bt(e),s=bc(e),o=bt(t),c=bc(t),l=bt(n);return a===o&&a===l?s<=r&&r<=c:a<o?l===a&&s<=r||l===o&&c>=r||l<o&&l>a:!1}function Bp(e,t){var r,n=t===void 0?{}:t,a=n.minDate,s=n.maxDate;return(r=a&&Pd(e,a)<0||s&&Pd(e,s)>0)!==null&&r!==void 0?r:!1}function ak(e,t){return t.some(function(r){return vo(r)===vo(e)&&xo(r)===xo(e)&&wl(r)===wl(e)})}function sk(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,s=r.filterTime;return n&&ak(e,n)||a&&!ak(e,a)||s&&!s(e)||!1}function ik(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=Wt();a=K0(a,vo(e)),a=X0(a,xo(e)),a=Q0(a,wl(e));var s=Wt();s=K0(s,vo(r)),s=X0(s,xo(r)),s=Q0(s,wl(r));var o=Wt();o=K0(o,vo(n)),o=X0(o,xo(n)),o=Q0(o,wl(n));var c;try{c=!cp(a,{start:s,end:o})}catch{c=!1}return c}function ok(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=wc(e,1);return n&&rv(n,s)>0||a&&a.every(function(o){return rv(o,s)>0})||!1}function lk(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=Ys(e,1);return n&&rv(s,n)>0||a&&a.every(function(o){return rv(s,o)>0})||!1}function Iue(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=kx(e),o=QE(s,1);return n&&nv(n,o)>0||a&&a.every(function(c){return nv(c,o)>0})||!1}function Rue(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=BE(e),o=aN(s,1);return n&&nv(o,n)>0||a&&a.every(function(c){return nv(o,c)>0})||!1}function ck(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=Ed(e,1);return n&&av(n,s)>0||a&&a.every(function(o){return av(o,s)>0})||!1}function Fue(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,s=a===void 0?zp:a,o=ch(Ed(e,s)),c=dl(o,s).endPeriod,l=n&&bt(n);return l&&l>c||!1}function uk(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=mo(e,1);return n&&av(s,n)>0||a&&a.every(function(o){return av(s,o)>0})||!1}function $ue(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,s=a===void 0?zp:a,o=mo(e,s),c=dl(o,s).startPeriod,l=n&&bt(n);return l&&l<c||!1}function hM(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Pd(a,t)>=0});return I3(n)}else return r?I3(r):t}function pM(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return Pd(a,t)<=0});return O3(n)}else return r?O3(r):t}function dk(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,s=e.length;a<s;a++){var o=e[a];if(go(o)){var c=xr(o,"MM.dd.yyyy"),l=n.get(c)||[];l.includes(t)||(l.push(t),n.set(c,l))}else if(typeof o=="object"){var u=Object.keys(o),d=(r=u[0])!==null&&r!==void 0?r:"",f=o[d];if(typeof d=="string"&&Array.isArray(f))for(var p=0,m=f.length;p<m;p++){var y=f[p];if(y){var c=xr(y,"MM.dd.yyyy"),l=n.get(c)||[];l.includes(d)||(l.push(d),n.set(c,l))}}}}return n}function Uue(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function zue(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,s=n.holidayName;if(go(a)){var o=xr(a,"MM.dd.yyyy"),c=r.get(o)||{className:"",holidayNames:[]};if(!("className"in c&&c.className===t&&Uue(c.holidayNames,[s]))){c.className=t;var l=c.holidayNames;c.holidayNames=l?bi(bi([],l,!0),[s],!1):[s],r.set(o,c)}}}),r}function Bue(e,t,r,n,a){for(var s=a.length,o=[],c=0;c<s;c++){var l=e,u=a[c];u&&(l=Oie(l,vo(u)),l=P2(l,xo(u)),l=Fie(l,wl(u)));var d=P2(e,(r+1)*n);Pl(l,t)&&$c(l,d)&&u!=null&&o.push(u)}return o}function fk(e){return e<10?"0".concat(e):"".concat(e)}function dl(e,t){t===void 0&&(t=zp);var r=Math.ceil(bt(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function Wue(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function hk(e){var t=e.getSeconds(),r=e.getMilliseconds();return Ze(e.getTime()-t*1e3-r)}function Hue(e,t){return hk(e).getTime()===hk(t).getTime()}function pk(e){if(!go(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function mk(e,t){if(!go(e)||!go(t))throw new Error("Invalid date received");var r=pk(e),n=pk(t);return $c(r,n)}function mM(e){return e.key===ze.Space}var Yue=function(e){mn(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=re.createRef(),n.onTimeChange=function(a){var s,o;n.setState({time:a});var c=n.props.date,l=c instanceof Date&&!isNaN(+c),u=l?c:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],p=d[1];u.setHours(Number(f)),u.setMinutes(Number(p))}(o=(s=n.props).onChange)===null||o===void 0||o.call(s,u)},n.renderTimeInput=function(){var a=n.state.time,s=n.props,o=s.date,c=s.timeString,l=s.customTimeInput;return l?O.cloneElement(l,{date:o,value:a,onChange:n.onTimeChange}):re.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||c)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return re.createElement("div",{className:"react-datepicker__input-time-container"},re.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),re.createElement("div",{className:"react-datepicker-time__input-container"},re.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(O.Component),Vue=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=O.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,s,o=n.key;o===ze.Space&&(n.preventDefault(),n.key=ze.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isSameDay=function(n){return Et(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),s=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!s},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),rs(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return vN(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Et(r.props.day,Nl(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Et(n,Nl(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,s=n.highlightDates;if(!s)return!1;var o=xr(a,"MM.dd.yyyy");return s.get(o)},r.getHolidaysClass=function(){var n,a=r.props,s=a.day,o=a.holidays;if(!o)return[void 0];var c=xr(s,"MM.dd.yyyy");return o.has(c)?[(n=o.get(c))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:uh(a,s,o)},r.isInSelectingRange=function(){var n,a=r.props,s=a.day,o=a.selectsStart,c=a.selectsEnd,l=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,p=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(o||c||l)||!p||!u&&r.isDisabled()?!1:o&&f&&($c(p,f)||dc(p,f))?uh(s,p,f):c&&d&&(Pl(p,d)||dc(p,d))||l&&d&&!f&&(Pl(p,d)||dc(p,d))?uh(s,d,p):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,o=a.startDate,c=a.selectsStart,l=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return c?Et(s,l):Et(s,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,o=a.endDate,c=a.selectsEnd,l=a.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return c||l?Et(s,u):Et(s,o)},r.isRangeStart=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Et(s,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Et(o,a)},r.isWeekend=function(){var n=Ioe(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===zn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(zn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Wt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return Nn("react-datepicker__day",a,"react-datepicker__day--"+Cue(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,s=n.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,c=n.ariaLabelPrefixWhenDisabled,l=c===void 0?"Not available":c,u=r.isDisabled()||r.isExcluded()?l:o;return"".concat(u," ").concat(xr(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,s=n.holidays,o=s===void 0?new Map:s,c=n.excludeDates,l=xr(a,"MM.dd.yyyy"),u=[];return o.has(l)&&u.push.apply(u,o.get(l).holidayNames),r.isExcluded()&&u.push(c==null?void 0:c.filter(function(d){return d instanceof Date?Et(d,a):Et(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,s=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Et(a,n))?0:-1;return s},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(W3(r.props.day),r.props.day):W3(r.props.day)},r.render=function(){return re.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&re.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(O.Component),que=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=O.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,s,o=n.key;o===ze.Space&&(n.preventDefault(),n.key=ze.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Et(r.props.date,r.props.selected)&&Et(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Et(r.props.date,r.props.selected)&&Et(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Et(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,s=r.ariaLabelPrefix,o=s===void 0?t.defaultProps.ariaLabelPrefix:s,c=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!c&&!a,"react-datepicker__week-number--selected":!!c&&Et(this.props.date,this.props.selected)};return re.createElement("div",{ref:this.weekNumberEl,className:Nn(l),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(O.Component),Gue=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return rs(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,s){for(var o,c,l,u=new Date(n),d=0;d<7;d++){var f=new Date(n);f.setDate(f.getDate()+d);var p=!r.isDisabled(f);if(p){u=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,s),r.props.showWeekPicker&&r.handleDayClick(u,s),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((l=(c=r.props).setOpen)===null||l===void 0||l.call(c,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):kue(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=$s(n,6),s=new Date(n);s<=a;){if(!r.isDisabled(s))return!1;s=$s(s,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],s=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,s):void 0;a.push(re.createElement(que,Mt({key:"W"},t.defaultProps,r.props,{weekNumber:s,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(c){var l=$s(n,c);return re.createElement(Vue,Mt({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:l.valueOf(),day:l,onClick:r.handleDayClick.bind(r,l),onMouseEnter:r.handleDayMouseEnter.bind(r,l)}))}))},r.startOfWeek=function(){return Nl(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Et(r.startOfWeek(),r.props.selected)&&Et(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Et(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return re.createElement("div",{className:Nn(r)},this.renderDays())},t}(O.Component),eh,Kue=6,fd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},B1=(eh={},eh[fd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},eh[fd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},eh[fd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},eh),v0=1;function gk(e,t){return e?fd.FOUR_COLUMNS:t?fd.TWO_COLUMNS:fd.THREE_COLUMNS}var Xue=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=bi([],Array(12),!0).map(function(){return O.createRef()}),r.QUARTER_REFS=bi([],Array(4),!0).map(function(){return O.createRef()}),r.isDisabled=function(n){return rs(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return vN(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var s,o;(o=(s=r.props).onDayClick)===null||o===void 0||o.call(s,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,s;(s=(a=r.props).onDayMouseEnter)===null||s===void 0||s.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,s=a.day,o=a.startDate,c=a.endDate;return!o||!c?!1:Xn(Ja(s,n),o)},r.isRangeStartQuarter=function(n){var a=r.props,s=a.day,o=a.startDate,c=a.endDate;return!o||!c?!1:dv(Iu(s,n),o)},r.isRangeEndMonth=function(n){var a=r.props,s=a.day,o=a.startDate,c=a.endDate;return!o||!c?!1:Xn(Ja(s,n),c)},r.isRangeEndQuarter=function(n){var a=r.props,s=a.day,o=a.startDate,c=a.endDate;return!o||!c?!1:dv(Iu(s,n),c)},r.isInSelectingRangeMonth=function(n){var a,s=r.props,o=s.day,c=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,p=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(c||l||u)||!p?!1:c&&f?h0(p,f,n,o):l&&d||u&&d&&!f?h0(d,p,n,o):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,c=s.startDate,l=s.selectsStart,u=Ja(o,n),d=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return l?Xn(u,d):Xn(u,c)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,c=s.endDate,l=s.selectsEnd,u=s.selectsRange,d=Ja(o,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return l||u?Xn(d,f):Xn(d,c)},r.isInSelectingRangeQuarter=function(n){var a,s=r.props,o=s.day,c=s.selectsStart,l=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,p=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(c||l||u)||!p?!1:c&&f?g0(p,f,n,o):l&&d||u&&d&&!f?g0(d,p,n,o):!1},r.isWeekInMonth=function(n){var a=r.props.day,s=$s(n,6);return Xn(n,a)||Xn(s,a)},r.isCurrentMonth=function(n,a){return bt(n)===bt(Wt())&&a===zn(Wt())},r.isCurrentQuarter=function(n,a){return bt(n)===bt(Wt())&&a===bc(Wt())},r.isSelectedMonth=function(n,a,s){return zn(s)===a&&bt(n)===bt(s)},r.isSelectMonthInList=function(n,a,s){return s.some(function(o){return r.isSelectedMonth(n,a,o)})},r.isSelectedQuarter=function(n,a,s){return bc(n)===a&&bt(n)===bt(s)},r.isMonthSelected=function(){var n=r.props,a=n.day,s=n.selected,o=n.selectedDates,c=n.selectsMultiple,l=zn(a);return c?o==null?void 0:o.some(function(u){return r.isSelectedMonth(a,l,u)}):!!s&&r.isSelectedMonth(a,l,s)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,s=0,o=!1,c=Nl(yo(r.props.day),r.props.locale,r.props.calendarStartDay),l=function(y){return r.props.showWeekPicker?Nl(y,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(y){return r.props.showWeekPicker?Nl(y,r.props.locale,r.props.calendarStartDay):r.props.selected},d=r.props.selected?u(r.props.selected):void 0,f=r.props.preSelection?l(r.props.preSelection):void 0;n.push(re.createElement(Gue,Mt({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:s,day:c,month:zn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!o;){s++,c=ev(c,1);var p=a&&s>=Kue,m=!a&&!r.isWeekInMonth(c);if(p||m)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,a){var s=r.isMonthDisabledForLabelDate(a),o=s.isDisabled,c=s.labelDate;o||r.handleDayClick(yo(c),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),s=a.isDisabled,o=a.labelDate;s||r.handleDayMouseEnter(yo(o))},r.handleMonthNavigation=function(n,a){var s,o,c,l;(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,a),(l=(c=r.MONTH_REFS[n])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus()},r.handleKeyboardNavigation=function(n,a,s){var o,c=r.props,l=c.selected,u=c.preSelection,d=c.setPreSelection,f=c.minDate,p=c.maxDate,m=c.showFourColumnMonthYearPicker,y=c.showTwoColumnMonthYearPicker;if(u){var v=gk(m,y),w=r.getVerticalOffset(v),g=(o=B1[v])===null||o===void 0?void 0:o.grid,x=function(k,D,R){var A,E,_=D,F=R;switch(k){case ze.ArrowRight:_=Ys(D,v0),F=R===11?0:R+v0;break;case ze.ArrowLeft:_=wc(D,v0),F=R===0?11:R-v0;break;case ze.ArrowUp:_=wc(D,w),F=!((A=g==null?void 0:g[0])===null||A===void 0)&&A.includes(R)?R+12-w:R-w;break;case ze.ArrowDown:_=Ys(D,w),F=!((E=g==null?void 0:g[g.length-1])===null||E===void 0)&&E.includes(R)?R-12+w:R+w;break}return{newCalculatedDate:_,newCalculatedMonth:F}},S=function(k,D,R){for(var A=40,E=k,_=!1,F=0,L=x(E,D,R),U=L.newCalculatedDate,z=L.newCalculatedMonth;!_;){if(F>=A){U=D,z=R;break}if(f&&U<f){E=ze.ArrowRight;var H=x(E,U,z);U=H.newCalculatedDate,z=H.newCalculatedMonth}if(p&&U>p){E=ze.ArrowLeft;var H=x(E,U,z);U=H.newCalculatedDate,z=H.newCalculatedMonth}if(Oue(U,r.props)){var H=x(E,U,z);U=H.newCalculatedDate,z=H.newCalculatedMonth}else _=!0;F++}return{newCalculatedDate:U,newCalculatedMonth:z}};if(a===ze.Enter){r.isMonthDisabled(s)||(r.onMonthClick(n,s),d==null||d(l));return}var j=S(a,u,s),P=j.newCalculatedDate,I=j.newCalculatedMonth;switch(a){case ze.ArrowRight:case ze.ArrowLeft:case ze.ArrowUp:case ze.ArrowDown:r.handleMonthNavigation(I,P);break}}},r.getVerticalOffset=function(n){var a,s;return(s=(a=B1[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},r.onMonthKeyDown=function(n,a){var s=r.props,o=s.disabledKeyboardNavigation,c=s.handleOnMonthKeyDown,l=n.key;l!==ze.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,l,a),c&&c(n)},r.onQuarterClick=function(n,a){var s=Iu(r.props.day,a);p0(s,r.props)||r.handleDayClick(tk(s),n)},r.onQuarterMouseEnter=function(n){var a=Iu(r.props.day,n);p0(a,r.props)||r.handleDayMouseEnter(tk(a))},r.handleQuarterNavigation=function(n,a){var s,o,c,l;r.isDisabled(a)||r.isExcluded(a)||((o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,a),(l=(c=r.QUARTER_REFS[n-1])===null||c===void 0?void 0:c.current)===null||l===void 0||l.focus())},r.onQuarterKeyDown=function(n,a){var s,o,c=n.key;if(!r.props.disabledKeyboardNavigation)switch(c){case ze.Enter:r.onQuarterClick(n,a),(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,r.props.selected);break;case ze.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,aN(r.props.preSelection,1));break;case ze.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,QE(r.props.preSelection,1));break}},r.isMonthDisabledForLabelDate=function(n){var a,s=r.props,o=s.day,c=s.minDate,l=s.maxDate,u=s.excludeDates,d=s.includeDates,f=Ja(o,n);return{isDisabled:(a=(c||l||u||d)&&fM(f,r.props))!==null&&a!==void 0?a:!1,labelDate:f}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,s=a.day,o=a.startDate,c=a.endDate,l=a.preSelection,u=a.monthClassName,d=u?u(Ja(s,n)):void 0,f=r.getSelection();return Nn("react-datepicker__month-text","react-datepicker__month-".concat(n),d,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(s,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&l&&r.isSelectedMonth(s,n,l)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&c?h0(o,c,n,s):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(s,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=zn(r.props.preSelection),s=r.isMonthDisabledForLabelDate(a).isDisabled,o=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=bc(r.props.preSelection),s=p0(r.props.day,r.props),o=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var a=r.props,s=a.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,c=a.disabledDayAriaLabelPrefix,l=c===void 0?"Not available":c,u=a.day,d=a.locale,f=Ja(u,n),p=r.isDisabled(f)||r.isExcluded(f)?l:o;return"".concat(p," ").concat(xr(f,"MMMM yyyy",d))},r.getQuarterClassNames=function(n){var a=r.props,s=a.day,o=a.startDate,c=a.endDate,l=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,p=a.includeDates,m=a.filterDate,y=a.preSelection,v=a.disabledKeyboardNavigation,w=(u||d||f||p||m)&&p0(Iu(s,n),r.props);return Nn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":l?r.isSelectedQuarter(s,n,l):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&y&&r.isSelectedQuarter(s,n,y)&&!w,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&c?g0(o,c,n,s):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(s,n)})},r.getMonthContent=function(n){var a=r.props,s=a.showFullMonthYearPicker,o=a.renderMonthContent,c=a.locale,l=a.day,u=dM(n,c),d=gN(n,c);return o?o(n,u,d,l):s?d:u},r.getQuarterContent=function(n){var a,s=r.props,o=s.renderQuarterContent,c=s.locale,l=Tue(n,c);return(a=o==null?void 0:o(n,l))!==null&&a!==void 0?a:l},r.renderMonths=function(){var n,a=r.props,s=a.showTwoColumnMonthYearPicker,o=a.showFourColumnMonthYearPicker,c=a.day,l=a.selected,u=(n=B1[gk(o,s)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(d,f){return re.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(p,m){return re.createElement("div",{ref:r.MONTH_REFS[p],key:m,onClick:function(y){r.onMonthClick(y,p)},onKeyDown:function(y){mM(y)&&(y.preventDefault(),y.key=ze.Enter),r.onMonthKeyDown(y,p)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(p)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(p)}:void 0,tabIndex:Number(r.getTabIndex(p)),className:r.getMonthClassNames(p),"aria-disabled":r.isMonthDisabled(p),role:"option","aria-label":r.getAriaLabel(p),"aria-current":r.isCurrentMonth(c,p)?"date":void 0,"aria-selected":l?r.isSelectedMonth(c,p,l):void 0},r.getMonthContent(p))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,s=n.selected,o=[1,2,3,4];return re.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(c,l){return re.createElement("div",{key:l,ref:r.QUARTER_REFS[l],role:"option",onClick:function(u){r.onQuarterClick(u,c)},onKeyDown:function(u){r.onQuarterKeyDown(u,c)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(c)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(c)}:void 0,className:r.getQuarterClassNames(c),"aria-selected":s?r.isSelectedQuarter(a,c,s):void 0,tabIndex:Number(r.getQuarterTabIndex(c)),"aria-current":r.isCurrentQuarter(a,c)?"date":void 0},r.getQuarterContent(c))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,s=n.selectsStart,o=n.selectsEnd,c=n.showMonthYearPicker,l=n.showQuarterYearPicker,u=n.showWeekPicker;return Nn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||o)},{"react-datepicker__monthPicker":c},{"react-datepicker__quarterPicker":l},{"react-datepicker__weekPicker":u})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,s=r.selectsMultiple;if(s)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,s=r.day,o=r.ariaLabelPrefix,c=o===void 0?"Month ":o,l=c?c.trim()+" ":"";return re.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(l).concat(xr(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(O.Component),Que=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,a){return re.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?re.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return re.createElement(Ex,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(O.Component),Jue=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,s){return re.createElement("option",{key:a,value:s},a)})},r.renderSelectMode=function(n){return re.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return re.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return re.createElement(Que,Mt({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,s=[r.renderReadView(!a,n)];return a&&s.unshift(r.renderDropdown(n)),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return dM(s,r.props.locale)}:function(s){return gN(s,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return re.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(O.Component);function Zue(e,t){for(var r=[],n=yo(e),a=yo(t);!Pl(n,a);)r.push(Wt(n)),n=Ys(n,1);return r}var ede=function(e){mn(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var s=A2(a),o=ui(n.props.date,a)&&Xn(n.props.date,a);return re.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?re.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",xr(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Zue(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=Nn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return re.createElement(Ex,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(O.Component),tde=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=yo(r.props.minDate),a=yo(r.props.maxDate),s=[];!Pl(n,a);){var o=A2(n);s.push(re.createElement("option",{key:o,value:o},xr(n,r.props.dateFormat,r.props.locale))),n=Ys(n,1)}return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return re.createElement("select",{value:A2(yo(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=xr(r.props.date,r.props.dateFormat,r.props.locale);return re.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},re.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return re.createElement(ede,Mt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=Wt(n);ui(r.props.date,a)&&Xn(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(O.Component),rde=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,s;r.list&&(r.list.scrollTop=(s=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&s!==void 0?s:0)})},r.handleClick=function(n){var a,s;(r.props.minTime||r.props.maxTime)&&ik(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&sk(n,r.props)||(s=(a=r.props).onChange)===null||s===void 0||s.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&Hue(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&ik(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&sk(n,r.props)},r.liClasses=function(n){var a,s=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(vo(n)*3600+xo(n)*60+wl(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},r.handleOnKeyDown=function(n,a){var s,o;n.key===ze.Space&&(n.preventDefault(),n.key=ze.Enter),(n.key===ze.ArrowUp||n.key===ze.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===ze.ArrowDown||n.key===ze.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===ze.Enter&&r.handleClick(a),(o=(s=r.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},r.renderTimes=function(){for(var n,a=[],s=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,c=r.props.selected||r.props.openToDate||Wt(),l=Z0(c),u=r.props.injectTimes&&r.props.injectTimes.sort(function(w,g){return w.getTime()-g.getTime()}),d=60*Wue(c),f=d/o,p=0;p<f;p++){var m=P2(l,p*o);if(a.push(m),u){var y=Bue(l,m,p,o,u);a=a.concat(y)}}var v=a.reduce(function(w,g){return g.getTime()<=c.getTime()?g:w},a[0]);return a.map(function(w){return re.createElement("li",{key:w.valueOf(),onClick:r.handleClick.bind(r,w),className:r.liClasses(w),ref:function(g){w===v&&(r.centerLi=g)},onKeyDown:function(g){r.handleOnKeyDown(g,w)},tabIndex:w===v?0:-1,role:"option","aria-selected":r.isSelectedTime(w)?"true":void 0,"aria-disabled":r.isDisabledTime(w)?"true":void 0},xr(w,s,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?re.createElement(re.Fragment,null):re.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},re.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,a=this.state.height;return re.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),re.createElement("div",{className:"react-datepicker__time"},re.createElement("div",{className:"react-datepicker__time-box"},re.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){r.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(O.Component),vk=3,nde=function(e){mn(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=bi([],Array(n.props.yearItemNumber),!0).map(function(){return O.createRef()}),n.isDisabled=function(a){return rs(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return vN(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var s=function(){var o,c;(c=(o=n.YEAR_REFS[a])===null||o===void 0?void 0:o.current)===null||c===void 0||c.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(a,s){n.props.onDayClick&&n.props.onDayClick(a,s)},n.handleYearNavigation=function(a,s){var o,c,l,u,d=n.props,f=d.date,p=d.yearItemNumber;if(!(f===void 0||p===void 0)){var m=dl(f,p).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,s),a-m<0?n.updateFocusOnPaginate(p-(m-a)):a-m>=p?n.updateFocusOnPaginate(Math.abs(p-(a-m))):(u=(l=n.YEAR_REFS[a-m])===null||l===void 0?void 0:l.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,s){return Et(a,s)},n.isCurrentYear=function(a){return a===bt(Wt())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&ui(ci(Wt(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&ui(ci(Wt(),a),n.props.endDate)},n.isInRange=function(a){return m0(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var s=n.props,o=s.selectsStart,c=s.selectsEnd,l=s.selectsRange,u=s.startDate,d=s.endDate;return!(o||c||l)||!n.selectingDate()?!1:o&&d?m0(a,n.selectingDate(),d):c&&u||l&&u&&!d?m0(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var s;if(!n.isInSelectingRange(a))return!1;var o=n.props,c=o.startDate,l=o.selectsStart,u=ci(Wt(),a);return l?ui(u,(s=n.selectingDate())!==null&&s!==void 0?s:null):ui(u,c??null)},n.isSelectingRangeEnd=function(a){var s;if(!n.isInSelectingRange(a))return!1;var o=n.props,c=o.endDate,l=o.selectsEnd,u=o.selectsRange,d=ci(Wt(),a);return l||u?ui(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):ui(d,c??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var s=n.props,o=s.minDate,c=s.maxDate,l=s.excludeDates,u=s.includeDates,d=s.filterDate,f=ch(ci(n.props.date,a)),p=(o||c||l||u||d)&&eg(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!Et(f,ch(n.props.selected))&&Et(f,ch(n.props.preSelection))&&!p}},n.isSelectedYear=function(a){var s=n.props,o=s.selectsMultiple,c=s.selected,l=s.selectedDates;return o?l==null?void 0:l.some(function(u){return a===bt(u)}):!!c&&a===bt(c)},n.onYearClick=function(a,s){var o=n.props.date;o!==void 0&&n.handleYearClick(ch(ci(o,s)),a)},n.onYearKeyDown=function(a,s){var o,c,l=a.key,u=n.props,d=u.date,f=u.yearItemNumber,p=u.handleOnKeyDown;if(l!==ze.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(l){case ze.Enter:if(n.props.selected==null)break;n.onYearClick(a,s),(c=(o=n.props).setPreSelection)===null||c===void 0||c.call(o,n.props.selected);break;case ze.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,mo(n.props.preSelection,1));break;case ze.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Ed(n.props.preSelection,1));break;case ze.ArrowUp:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var m=dl(d,f).startPeriod,y=vk,v=s-y;if(v<m){var w=f%y;s>=m&&s<m+w?y=w:y+=w,v=s-y}n.handleYearNavigation(v,Ed(n.props.preSelection,y));break}case ze.ArrowDown:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var g=dl(d,f).endPeriod,y=vk,v=s+y;if(v>g){var w=f%y;s<=g&&s>g-w?y=w:y+=w,v=s+y}n.handleYearNavigation(v,mo(n.props.preSelection,y));break}}p&&p(a)},n.getYearClassNames=function(a){var s=n.props,o=s.date,c=s.minDate,l=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,p=s.yearClassName;return Nn("react-datepicker__year-text","react-datepicker__year-".concat(a),o?p==null?void 0:p(ci(o,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(c||l||u||d||f)&&eg(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=bt(n.props.preSelection),o=eg(a,n.props);return a===s&&!o?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,s=a.date,o=a.yearItemNumber,c=a.onYearMouseEnter,l=a.onYearMouseLeave;if(s===void 0)return null;for(var u=dl(s,o),d=u.startPeriod,f=u.endPeriod,p=function(v){n.push(re.createElement("div",{ref:m.YEAR_REFS[v-d],onClick:function(w){r.onYearClick(w,v)},onKeyDown:function(w){mM(w)&&(w.preventDefault(),w.key=ze.Enter),r.onYearKeyDown(w,v)},tabIndex:Number(m.getYearTabIndex(v)),className:m.getYearClassNames(v),onMouseEnter:m.props.usePointerEvent?void 0:function(w){return c(w,v)},onPointerEnter:m.props.usePointerEvent?function(w){return c(w,v)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(w){return l(w,v)},onPointerLeave:m.props.usePointerEvent?function(w){return l(w,v)}:void 0,key:v,"aria-current":m.isCurrentYear(v)?"date":void 0},m.getYearContent(v)))},m=this,y=d;y<=f;y++)p(y);return re.createElement("div",{className:"react-datepicker__year"},re.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(O.Component);function ade(e,t,r,n){for(var a=[],s=0;s<2*t+1;s++){var o=e+t-s,c=!0;r&&(c=bt(r)<=o),n&&c&&(c=bt(n)>=o),c&&a.push(o)}return a}var sde=function(e){mn(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var c=n.props.year,l=n.state.yearsList.map(function(f){return re.createElement("div",{className:c===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),"aria-selected":c===f?"true":void 0},c===f?re.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),u=n.props.minDate?bt(n.props.minDate):null,d=n.props.maxDate?bt(n.props.maxDate):null;return(!d||!n.state.yearsList.find(function(f){return f===d}))&&l.unshift(re.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(f){return f===u}))&&l.push(re.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},re.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l},n.onChange=function(c){n.props.onChange(c)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(c){var l=n.state.yearsList.map(function(u){return u+c});n.setState({yearsList:l})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,o=a||(s?10:5);return n.state={yearsList:ade(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=O.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(s){return s.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=Nn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return re.createElement(Ex,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(O.Component),ide=function(e){mn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?bt(r.props.minDate):1900,a=r.props.maxDate?bt(r.props.maxDate):2100,s=[],o=n;o<=a;o++)s.push(re.createElement("option",{key:o,value:o},o));return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return re.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return re.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},re.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),re.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return re.createElement(sde,Mt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var s;(s=r.onSelect)===null||s===void 0||s.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var s,o;(o=(s=r.props).onSelect)===null||o===void 0||o.call(s,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return re.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(O.Component),ode=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],lde=function(e){var t=(e.className||"").split(/\s+/);return ode.some(function(r){return t.indexOf(r)>=0})},cde=function(e){mn(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var s,o;lde(a.target)&&((o=(s=n.props).onDropdownFocus)===null||o===void 0||o.call(s,a))},n.getDateInView=function(){var a=n.props,s=a.preSelection,o=a.selected,c=a.openToDate,l=hM(n.props),u=pM(n.props),d=Wt(),f=c||o||s;return f||(l&&$c(d,l)?l:u&&Pl(d,u)?u:d)},n.increaseMonth=function(){n.setState(function(a){var s=a.date;return{date:Ys(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var s=a.date;return{date:wc(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,s,o){n.props.onSelect(a,s,o),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,s){n.setState({selectingDate:ci(Wt(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,s)},n.handleYearMouseLeave=function(a,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,s)},n.handleYearChange=function(a){var s,o,c,l;(o=(s=n.props).onYearChange)===null||o===void 0||o.call(s,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(l=(c=n.props).setOpen)===null||l===void 0||l.call(c,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!rs(a,n.props))return a;for(var s=yo(a),o=_ue(a),c=Uie(o,s),l=null,u=0;u<=c;u++){var d=$s(s,u);if(!rs(d,n.props)){l=d;break}}return l},n.handleMonthChange=function(a){var s,o,c,l=(s=n.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;n.handleCustomMonthChange(l),n.props.adjustDateOnChange&&(n.props.onSelect(l),(c=(o=n.props).setOpen)===null||c===void 0||c.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(l)},n.handleCustomMonthChange=function(a){var s,o;(o=(s=n.props).onMonthChange)===null||o===void 0||o.call(s,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(s){var o=s.date;return{date:ci(o,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(s){var o=s.date;return{date:Ja(o,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(s){var o=s.date;return{date:ci(Ja(o,zn(a)),bt(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var s=Nl(a,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(re.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(c){var l=$s(s,c),u=n.formatWeekday(l,n.props.locale),d=n.props.weekDayClassName?n.props.weekDayClassName(l):void 0;return re.createElement("div",{key:c,"aria-label":xr(l,"EEEE",n.props.locale),className:Nn("react-datepicker__day-name",d)},u)}))},n.formatWeekday=function(a,s){return n.props.formatWeekDay?Mue(a,n.props.formatWeekDay,s):n.props.useWeekdaysShort?Lue(a,s):Aue(a,s)},n.decreaseYear=function(){n.setState(function(a){var s,o=a.date;return{date:Ed(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,s,o;if(!n.props.renderCustomHeader){var c=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,l=n.props.showPreviousMonths?c-1:0,u=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:l,d=wc(n.state.date,u),f;switch(!0){case n.props.showMonthYearPicker:f=ck(n.state.date,n.props);break;case n.props.showYearPicker:f=Fue(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=Iue(n.state.date,n.props);break;default:f=ok(d,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],y=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(y=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),y=void 0);var v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,w=n.props,g=w.previousMonthButtonLabel,x=g===void 0?t.defaultProps.previousMonthButtonLabel:g,S=w.previousYearButtonLabel,j=S===void 0?t.defaultProps.previousYearButtonLabel:S,P=n.props,I=P.previousMonthAriaLabel,k=I===void 0?typeof x=="string"?x:"Previous Month":I,D=P.previousYearAriaLabel,R=D===void 0?typeof j=="string"?j:"Previous Year":D;return re.createElement("button",{type:"button",className:m.join(" "),onClick:y,onKeyDown:n.props.handleOnKeyDown,"aria-label":v?R:k},re.createElement("span",{className:p.join(" ")},v?j:x))}}},n.increaseYear=function(){n.setState(function(a){var s,o=a.date;return{date:mo(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=uk(n.state.date,n.props);break;case n.props.showYearPicker:s=$ue(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=Rue(n.state.date,n.props);break;default:s=lk(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],c=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var l=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(l=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),l=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,d=n.props,f=d.nextMonthButtonLabel,p=f===void 0?t.defaultProps.nextMonthButtonLabel:f,m=d.nextYearButtonLabel,y=m===void 0?t.defaultProps.nextYearButtonLabel:m,v=n.props,w=v.nextMonthAriaLabel,g=w===void 0?typeof p=="string"?p:"Next Month":w,x=v.nextYearAriaLabel,S=x===void 0?typeof y=="string"?y:"Next Year":x;return re.createElement("button",{type:"button",className:o.join(" "),onClick:l,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?S:g},re.createElement("span",{className:c.join(" ")},u?y:p))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),re.createElement("h2",{className:s.join(" ")},xr(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return re.createElement(ide,Mt({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:bt(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return re.createElement(Jue,Mt({},t.defaultProps,n.props,{month:zn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return re.createElement(tde,Mt({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(rk(),a),n.props.setPreSelection&&n.props.setPreSelection(rk())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return re.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var s=a.monthDate,o=a.i;return re.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),re.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),re.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))},n.renderCustomHeader=function(a){var s,o,c=a.monthDate,l=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=ok(n.state.date,n.props),d=lk(n.state.date,n.props),f=ck(n.state.date,n.props),p=uk(n.state.date,n.props),m=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return re.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(s=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Mt(Mt({},n.state),{customHeaderCount:l,monthDate:c,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:p})),m&&re.createElement("div",{className:"react-datepicker__day-names"},n.header(c)))},n.renderYearHeader=function(a){var s=a.monthDate,o=n.props,c=o.showYearPicker,l=o.yearItemNumber,u=l===void 0?t.defaultProps.yearItemNumber:l,d=dl(s,u),f=d.startPeriod,p=d.endPeriod;return re.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},c?"".concat(f," - ").concat(p):bt(s))},n.renderHeader=function(a){var s=a.monthDate,o=a.i,c=o===void 0?0:o,l={monthDate:s,i:c};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(l);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(l);default:return n.renderDefaultHeader(l)}},n.renderMonths=function(){var a,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],c=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,l=n.props.showPreviousMonths?c-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?mo(n.state.date,l):wc(n.state.date,l),d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:l,f=0;f<c;++f){var p=f-d+l,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?mo(u,p):Ys(u,p),y="month-".concat(f),v=f<c-1,w=f>0;o.push(re.createElement("div",{key:y,ref:function(g){n.monthContainer=g??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:m,i:f}),re.createElement(Xue,Mt({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:m,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:w}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return re.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),re.createElement(nde,Mt({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return re.createElement(rde,Mt({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,s=a&&Ax(a)&&!!n.props.selected,o=s?"".concat(fk(a.getHours()),":").concat(fk(a.getMinutes())):"";if(n.props.showTimeInput)return re.createElement(Yue,Mt({},t.defaultProps,n.props,{date:a,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,s=dl(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),o=s.startPeriod,c=s.endPeriod,l;return n.props.showYearPicker?l="".concat(o," - ").concat(c):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?l=bt(n.state.date):l="".concat(gN(zn(n.state.date),n.props.locale)," ").concat(bt(n.state.date)),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&l)},n.renderChildren=function(){if(n.props.children)return re.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=O.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:zp}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Et(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Xn(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Et(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||wue;return re.createElement(Ex,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},re.createElement("div",{style:{display:"contents"},ref:this.containerRef},re.createElement(r,{className:Nn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(O.Component),ude=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return re.createElement("i",{className:"".concat(s," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(re.isValidElement(t)){var o=t;return re.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(n),onClick:function(c){typeof o.props.onClick=="function"&&o.props.onClick(c),typeof a=="function"&&a(c)}})}return re.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},re.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},gM=function(e){mn(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return Ow.createPortal(this.props.children,this.el)},t}(O.Component),dde="[tabindex], a, button, input, select, textarea",fde=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},vM=function(e){mn(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(dde),1,-1).filter(fde)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=O.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?re.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},re.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,re.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(O.Component);function hde(e){var t=function(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,s=O.useRef(null),o=bue(Mt({open:!a,whileElementsMounted:oM,placement:r.popperPlacement,middleware:bi([oue({padding:15}),iue(10),lue({element:s})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),c=Mt(Mt({},r),{hidePopper:a,popperProps:Mt(Mt({},o),{arrowRef:s})});return re.createElement(e,Mt({},c))};return t}var pde=function(e){mn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,a=r.wrapperClassName,s=r.hidePopper,o=s===void 0?t.defaultProps.hidePopper:s,c=r.popperComponent,l=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,p=r.portalHost,m=r.popperProps,y=r.showArrow,v=void 0;if(!o){var w=Nn("react-datepicker-popper",n);v=re.createElement(vM,{enableTabLoop:u},re.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:d},c,y&&re.createElement(hue,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=O.createElement(this.props.popperContainer,{},v)),f&&!o&&(v=re.createElement(gM,{portalId:f,portalHost:p},v));var g=Nn("react-datepicker-wrapper",a);return re.createElement(re.Fragment,null,re.createElement("div",{ref:m.refs.setReference,className:g},l),v)},t}(O.Component),mde=hde(pde),xk="react-datepicker-ignore-onclickoutside";function gde(e,t){return e&&t?zn(e)!==zn(t)||bt(e)!==bt(t):e!==t}var W1="Date input not valid.",yk=function(e){mn(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Wt()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,o){var c=new Date(o.date);return Ax(c)?bi(bi([],s,!0),[Mt(Mt({},o),{date:c})],!1):s},[])},n.calcInitialState=function(){var a,s=n.getPreSelection(),o=hM(n.props),c=pM(n.props),l=o&&$c(s,Z0(o))?o:c&&Pl(s,nk(c))?c:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:l,highlightDates:dk(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Mt(Mt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Mt(Mt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},n.setBlur=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,s){s===void 0&&(s=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:H1},function(){a||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return go(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var s,o,c=n.state.wasHidden,l=c?n.state.open:!0;c&&n.resetHiddenStatus(),n.state.preventFocus||((o=(s=n.props).onFocus)===null||o===void 0||o.call(s,a),l&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var s,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(s=n.props).onBlur)===null||o===void 0||o.call(s,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var s,o;n.props.inline||n.setOpen(!1),(o=(s=n.props).onClickOutside)===null||o===void 0||o.call(s,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,s,o,c,l,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){n.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:vde});var p=n.props,m=p.selectsRange,y=p.startDate,v=p.endDate,w=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,g=(s=n.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,x=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(m){var S=x.split(w.includes("-")?uM:"-",2).map(function(E){return E.trim()}),j=S[0],P=S[1],I=U1(j??"",w,n.props.locale,g),k=U1(P??"",w,n.props.locale,g),D=(y==null?void 0:y.getTime())!==(I==null?void 0:I.getTime()),R=(v==null?void 0:v.getTime())!==(k==null?void 0:k.getTime());if(!D&&!R||I&&rs(I,n.props)||k&&rs(k,n.props))return;(c=(o=n.props).onChange)===null||c===void 0||c.call(o,[I,k],f)}else{var A=U1(x,w,n.props.locale,g,(l=n.props.selected)!==null&&l!==void 0?l:void 0);(A||!x)&&n.setSelected(A,f,!0)}}},n.handleSelect=function(a,s,o){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(a,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var c=n.props,l=c.startDate,u=c.endDate;l&&!u&&(n.props.swapRange||!mk(a,l))&&n.setOpen(!1)}}},n.setSelected=function(a,s,o,c){var l,u,d=a;if(n.props.showYearPicker){if(d!==null&&eg(bt(d),n.props))return}else if(n.props.showMonthYearPicker){if(d!==null&&fM(d,n.props))return}else if(d!==null&&rs(d,n.props))return;var f=n.props,p=f.onChange,m=f.selectsRange,y=f.startDate,v=f.endDate,w=f.selectsMultiple,g=f.selectedDates,x=f.minTime,S=f.swapRange;if(!dc(n.props.selected,d)||n.props.allowSameDay||m||w)if(d!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(d=z1(d,{hour:vo(n.props.selected),minute:xo(n.props.selected),second:wl(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&x&&(d=z1(d,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),n.props.inline||n.setState({preSelection:d}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:c})),m){var j=!y&&!v,P=y&&!v,I=y&&v;j?p==null||p([d,null],s):P&&(d===null?p==null||p([null,null],s):mk(d,y)?S?p==null||p([d,y],s):p==null||p([d,null],s):p==null||p([y,d],s)),I&&(p==null||p([d,null],s))}else if(w){if(d!==null)if(!(g!=null&&g.length))p==null||p([d],s);else{var k=g.some(function(R){return Et(R,d)});if(k){var D=g.filter(function(R){return!Et(R,d)});p==null||p(D,s)}else p==null||p(bi(bi([],g,!0),[d],!1),s)}}else p==null||p(d,s);o||((u=(l=n.props).onSelect)===null||u===void 0||u.call(l,d,s),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var s=go(n.props.minDate),o=go(n.props.maxDate),c=!0;if(a){var l=Z0(a);if(s&&o)c=uh(a,n.props.minDate,n.props.maxDate);else if(s){var u=Z0(n.props.minDate);c=Pl(a,u)||dc(l,u)}else if(o){var d=nk(n.props.maxDate);c=$c(a,d)||dc(l,d)}}c&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var s,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var c=n.props.selected?n.props.selected:n.getPreSelection(),l=n.props.selected?a:z1(c,{hour:vo(a),minute:xo(a)});n.setState({preSelection:l}),(o=(s=n.props).onChange)===null||o===void 0||o.call(s,l),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(a=n.props).onInputClick)===null||s===void 0||s.call(a)},n.onInputKeyDown=function(a){var s,o,c,l,u,d;(o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,a);var f=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===ze.ArrowDown||f===ze.ArrowUp||f===ze.Enter)&&((c=n.onInputClick)===null||c===void 0||c.call(n));return}if(n.state.open){if(f===ze.ArrowDown||f===ze.ArrowUp){a.preventDefault();var p=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((l=n.calendar)===null||l===void 0?void 0:l.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(p);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var y=Wt(n.state.preSelection);f===ze.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===H1?(n.handleSelect(y,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(y)):n.setOpen(!1)):f===ze.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===ze.Tab&&n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:W1})}},n.onPortalKeyDown=function(a){var s=a.key;s===ze.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var s,o,c,l,u,d,f=n.props,p=f.minDate,m=f.maxDate,y=f.disabledKeyboardNavigation,v=f.showWeekPicker,w=f.shouldCloseOnSelect,g=f.locale,x=f.calendarStartDay,S=f.adjustDateOnChange,j=f.inline;if((o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,a),!y){var P=a.key,I=a.shiftKey,k=Wt(n.state.preSelection),D=function(U,z){var H=z;switch(U){case ze.ArrowRight:H=v?ev(z,1):$s(z,1);break;case ze.ArrowLeft:H=v?H3(z,1):Ule(z,1);break;case ze.ArrowUp:H=H3(z,1);break;case ze.ArrowDown:H=ev(z,1);break;case ze.PageUp:H=I?Ed(z,1):wc(z,1);break;case ze.PageDown:H=I?mo(z,1):Ys(z,1);break;case ze.Home:H=Nl(z,g,x);break;case ze.End:H=Due(z);break}return H},R=function(U,z){for(var H=40,V=U,ae=!1,le=0,oe=D(U,z);!ae;){if(le>=H){oe=z;break}p&&oe<p&&(V=ze.ArrowRight,oe=rs(p,n.props)?D(V,oe):p),m&&oe>m&&(V=ze.ArrowLeft,oe=rs(m,n.props)?D(V,oe):m),rs(oe,n.props)?((V===ze.PageUp||V===ze.Home)&&(V=ze.ArrowRight),(V===ze.PageDown||V===ze.End)&&(V=ze.ArrowLeft),oe=D(V,oe)):ae=!0,le++}return oe};if(P===ze.Enter){a.preventDefault(),n.handleSelect(k,a),!w&&n.setPreSelection(k);return}else if(P===ze.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(l=(c=n.props).onInputError)===null||l===void 0||l.call(c,{code:1,msg:W1});return}var A=null;switch(P){case ze.ArrowLeft:case ze.ArrowRight:case ze.ArrowUp:case ze.ArrowDown:case ze.PageUp:case ze.PageDown:case ze.Home:case ze.End:A=R(P,k);break}if(!A){(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:W1});return}if(a.preventDefault(),n.setState({lastPreSelectChange:H1}),S&&n.setSelected(A),n.setPreSelection(A),j){var E=zn(k),_=zn(A),F=bt(k),L=bt(A);E!==_||F!==L?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var s=a.key;s===ze.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var s=n.props,o=s.selectsRange,c=s.onChange;o?c==null||c([null,null],a):c==null||c(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,s;return!n.props.inline&&!n.isCalendarOpen()?null:re.createElement(cde,Mt({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:zue(n.modifyHolidays()),outsideClickIgnoreClass:xk,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,s=a.dateFormat,o=s===void 0?t.defaultProps.dateFormat:s,c=a.locale,l=n.props.showTimeInput||n.props.showTimeSelect,u=l?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(Ka(n.props.startDate,{dateFormat:u,locale:c}),". ").concat(n.props.endDate?"End date: "+Ka(n.props.endDate,{dateFormat:u,locale:c}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(Ka(n.props.selected,{dateFormat:o,locale:c})):n.props.showYearPicker?d="Selected year: ".concat(Ka(n.props.selected,{dateFormat:"yyyy",locale:c})):n.props.showMonthYearPicker?d="Selected month: ".concat(Ka(n.props.selected,{dateFormat:"MMMM yyyy",locale:c})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(Ka(n.props.selected,{dateFormat:"yyyy, QQQ",locale:c})):d="Selected date: ".concat(Ka(n.props.selected,{dateFormat:u,locale:c})),re.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,s,o,c=Nn(n.props.className,(a={},a[xk]=n.state.open,a)),l=n.props.customInput||re.createElement("input",{type:"text"}),u=n.props.customInputRef||"ref",d=n.props,f=d.dateFormat,p=f===void 0?t.defaultProps.dateFormat:f,m=d.locale,y=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?jue(n.props.startDate,n.props.endDate,{dateFormat:p,locale:m}):n.props.selectsMultiple?Sue((o=n.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:p,locale:m}):Ka(n.props.selected,{dateFormat:p,locale:m});return O.cloneElement(l,(s={},s[u]=function(v){n.input=v},s.value=y,s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=Nn(l.props.className,c),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var a=n.props,s=a.isClearable,o=a.disabled,c=a.selected,l=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,p=f===void 0?"":f,m=a.ariaLabelClose,y=m===void 0?"Close":m,v=a.selectedDates,w=a.readOnly;return s&&!w&&(c!=null||l!=null||u!=null||v!=null&&v.length)?re.createElement("button",{type:"button",className:Nn("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":y,onClick:n.onClearClick,title:d,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:zp,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,s,o,c;r.inline&&gde(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:dk(this.props.highlightDates)}),!n.focused&&!dc(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),n.open===!0&&this.state.open===!1&&((c=(o=this.props).onCalendarClose)===null||c===void 0||c.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,s=r.calendarIconClassname,o=r.calendarIconClassName,c=r.toggleCalendarOnIconClick,l=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),re.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&re.createElement(ude,Mt({icon:a,className:Nn(o,!o&&s,l&&"react-datepicker-ignore-onclickoutside")},c?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?re.createElement(vM,{enableTabLoop:this.props.enableTabLoop},re.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=re.createElement(gM,Mt({portalId:this.props.portalId},this.props),n)),re.createElement("div",null,this.renderInputContainer(),n)}return re.createElement(mde,Mt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(O.Component),vde="input",H1="navigate",xde=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function yde(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,a=n===void 0?!1:n,s=e.defaultValue,o=s===void 0?null:s,c=e.inputValue,l=e.menuIsOpen,u=e.onChange,d=e.onInputChange,f=e.onMenuClose,p=e.onMenuOpen,m=e.value,y=on(e,xde),v=O.useState(c!==void 0?c:r),w=zr(v,2),g=w[0],x=w[1],S=O.useState(l!==void 0?l:a),j=zr(S,2),P=j[0],I=j[1],k=O.useState(m!==void 0?m:o),D=zr(k,2),R=D[0],A=D[1],E=O.useCallback(function(V,ae){typeof u=="function"&&u(V,ae),A(V)},[u]),_=O.useCallback(function(V,ae){var le;typeof d=="function"&&(le=d(V,ae)),x(le!==void 0?le:V)},[d]),F=O.useCallback(function(){typeof p=="function"&&p(),I(!0)},[p]),L=O.useCallback(function(){typeof f=="function"&&f(),I(!1)},[f]),U=c!==void 0?c:g,z=l!==void 0?l:P,H=m!==void 0?m:R;return Ie(Ie({},y),{},{inputValue:U,menuIsOpen:z,onChange:E,onInputChange:_,onMenuClose:L,onMenuOpen:F,value:H})}var bde=!1;function wde(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Nde(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var jde=function(){function e(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!bde:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Nde(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=wde(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Fn="-ms-",fv="-moz-",Ft="-webkit-",xM="comm",xN="rule",yN="decl",Sde="@import",yM="@keyframes",kde="@layer",Cde=Math.abs,Lx=String.fromCharCode,Dde=Object.assign;function _de(e,t){return wn(e,0)^45?(((t<<2^wn(e,0))<<2^wn(e,1))<<2^wn(e,2))<<2^wn(e,3):0}function bM(e){return e.trim()}function Pde(e,t){return(e=t.exec(e))?e[0]:e}function $t(e,t,r){return e.replace(t,r)}function I2(e,t){return e.indexOf(t)}function wn(e,t){return e.charCodeAt(t)|0}function dp(e,t,r){return e.slice(t,r)}function di(e){return e.length}function bN(e){return e.length}function x0(e,t){return t.push(e),e}function Ede(e,t){return e.map(t).join("")}var Tx=1,Od=1,wM=0,ba=0,Kr=0,rf="";function Ox(e,t,r,n,a,s,o){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:Tx,column:Od,length:o,return:""}}function th(e,t){return Dde(Ox("",null,null,"",null,null,0),e,{length:-e.length},t)}function Mde(){return Kr}function Ade(){return Kr=ba>0?wn(rf,--ba):0,Od--,Kr===10&&(Od=1,Tx--),Kr}function Ta(){return Kr=ba<wM?wn(rf,ba++):0,Od++,Kr===10&&(Od=1,Tx++),Kr}function Ei(){return wn(rf,ba)}function tg(){return ba}function Wp(e,t){return dp(rf,e,t)}function fp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NM(e){return Tx=Od=1,wM=di(rf=e),ba=0,[]}function jM(e){return rf="",e}function rg(e){return bM(Wp(ba-1,R2(e===91?e+2:e===40?e+1:e)))}function Lde(e){for(;(Kr=Ei())&&Kr<33;)Ta();return fp(e)>2||fp(Kr)>3?"":" "}function Tde(e,t){for(;--t&&Ta()&&!(Kr<48||Kr>102||Kr>57&&Kr<65||Kr>70&&Kr<97););return Wp(e,tg()+(t<6&&Ei()==32&&Ta()==32))}function R2(e){for(;Ta();)switch(Kr){case e:return ba;case 34:case 39:e!==34&&e!==39&&R2(Kr);break;case 40:e===41&&R2(e);break;case 92:Ta();break}return ba}function Ode(e,t){for(;Ta()&&e+Kr!==57;)if(e+Kr===84&&Ei()===47)break;return"/*"+Wp(t,ba-1)+"*"+Lx(e===47?e:Ta())}function Ide(e){for(;!fp(Ei());)Ta();return Wp(e,ba)}function Rde(e){return jM(ng("",null,null,null,[""],e=NM(e),0,[0],e))}function ng(e,t,r,n,a,s,o,c,l){for(var u=0,d=0,f=o,p=0,m=0,y=0,v=1,w=1,g=1,x=0,S="",j=a,P=s,I=n,k=S;w;)switch(y=x,x=Ta()){case 40:if(y!=108&&wn(k,f-1)==58){I2(k+=$t(rg(x),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:k+=rg(x);break;case 9:case 10:case 13:case 32:k+=Lde(y);break;case 92:k+=Tde(tg()-1,7);continue;case 47:switch(Ei()){case 42:case 47:x0(Fde(Ode(Ta(),tg()),t,r),l);break;default:k+="/"}break;case 123*v:c[u++]=di(k)*g;case 125*v:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+d:g==-1&&(k=$t(k,/\f/g,"")),m>0&&di(k)-f&&x0(m>32?wk(k+";",n,r,f-1):wk($t(k," ","")+";",n,r,f-2),l);break;case 59:k+=";";default:if(x0(I=bk(k,t,r,u,d,a,c,S,j=[],P=[],f),s),x===123)if(d===0)ng(k,t,I,I,j,s,f,c,P);else switch(p===99&&wn(k,3)===110?100:p){case 100:case 108:case 109:case 115:ng(e,I,I,n&&x0(bk(e,I,I,0,0,a,c,S,a,j=[],f),P),a,P,f,c,n?j:P);break;default:ng(k,I,I,I,[""],P,0,c,P)}}u=d=m=0,v=g=1,S=k="",f=o;break;case 58:f=1+di(k),m=y;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&Ade()==125)continue}switch(k+=Lx(x),x*v){case 38:g=d>0?1:(k+="\f",-1);break;case 44:c[u++]=(di(k)-1)*g,g=1;break;case 64:Ei()===45&&(k+=rg(Ta())),p=Ei(),d=f=di(S=k+=Ide(tg())),x++;break;case 45:y===45&&di(k)==2&&(v=0)}}return s}function bk(e,t,r,n,a,s,o,c,l,u,d){for(var f=a-1,p=a===0?s:[""],m=bN(p),y=0,v=0,w=0;y<n;++y)for(var g=0,x=dp(e,f+1,f=Cde(v=o[y])),S=e;g<m;++g)(S=bM(v>0?p[g]+" "+x:$t(x,/&\f/g,p[g])))&&(l[w++]=S);return Ox(e,t,r,a===0?xN:c,l,u,d)}function Fde(e,t,r){return Ox(e,t,r,xM,Lx(Mde()),dp(e,2,-2),0)}function wk(e,t,r,n){return Ox(e,t,r,yN,dp(e,0,n),dp(e,n+1,-1),n)}function hd(e,t){for(var r="",n=bN(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function $de(e,t,r,n){switch(e.type){case kde:if(e.children.length)break;case Sde:case yN:return e.return=e.return||e.value;case xM:return"";case yM:return e.return=e.value+"{"+hd(e.children,n)+"}";case xN:e.value=e.props.join(",")}return di(r=hd(e.children,n))?e.return=e.value+"{"+r+"}":""}function Ude(e){var t=bN(e);return function(r,n,a,s){for(var o="",c=0;c<t;c++)o+=e[c](r,n,a,s)||"";return o}}function zde(e){return function(t){t.root||(t=t.return)&&e(t)}}function Bde(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Wde=function(t,r,n){for(var a=0,s=0;a=s,s=Ei(),a===38&&s===12&&(r[n]=1),!fp(s);)Ta();return Wp(t,ba)},Hde=function(t,r){var n=-1,a=44;do switch(fp(a)){case 0:a===38&&Ei()===12&&(r[n]=1),t[n]+=Wde(ba-1,r,n);break;case 2:t[n]+=rg(a);break;case 4:if(a===44){t[++n]=Ei()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=Lx(a)}while(a=Ta());return t},Yde=function(t,r){return jM(Hde(NM(t),r))},Nk=new WeakMap,Vde=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!Nk.get(n))&&!a){Nk.set(t,!0);for(var s=[],o=Yde(r,s),c=n.props,l=0,u=0;l<o.length;l++)for(var d=0;d<c.length;d++,u++)t.props[u]=s[l]?o[l].replace(/&\f/g,c[d]):c[d]+" "+o[l]}}},qde=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function SM(e,t){switch(_de(e,t)){case 5103:return Ft+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ft+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ft+e+fv+e+Fn+e+e;case 6828:case 4268:return Ft+e+Fn+e+e;case 6165:return Ft+e+Fn+"flex-"+e+e;case 5187:return Ft+e+$t(e,/(\w+).+(:[^]+)/,Ft+"box-$1$2"+Fn+"flex-$1$2")+e;case 5443:return Ft+e+Fn+"flex-item-"+$t(e,/flex-|-self/,"")+e;case 4675:return Ft+e+Fn+"flex-line-pack"+$t(e,/align-content|flex-|-self/,"")+e;case 5548:return Ft+e+Fn+$t(e,"shrink","negative")+e;case 5292:return Ft+e+Fn+$t(e,"basis","preferred-size")+e;case 6060:return Ft+"box-"+$t(e,"-grow","")+Ft+e+Fn+$t(e,"grow","positive")+e;case 4554:return Ft+$t(e,/([^-])(transform)/g,"$1"+Ft+"$2")+e;case 6187:return $t($t($t(e,/(zoom-|grab)/,Ft+"$1"),/(image-set)/,Ft+"$1"),e,"")+e;case 5495:case 3959:return $t(e,/(image-set\([^]*)/,Ft+"$1$`$1");case 4968:return $t($t(e,/(.+:)(flex-)?(.*)/,Ft+"box-pack:$3"+Fn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ft+e+e;case 4095:case 3583:case 4068:case 2532:return $t(e,/(.+)-inline(.+)/,Ft+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(di(e)-1-t>6)switch(wn(e,t+1)){case 109:if(wn(e,t+4)!==45)break;case 102:return $t(e,/(.+:)(.+)-([^]+)/,"$1"+Ft+"$2-$3$1"+fv+(wn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~I2(e,"stretch")?SM($t(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(wn(e,t+1)!==115)break;case 6444:switch(wn(e,di(e)-3-(~I2(e,"!important")&&10))){case 107:return $t(e,":",":"+Ft)+e;case 101:return $t(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ft+(wn(e,14)===45?"inline-":"")+"box$3$1"+Ft+"$2$3$1"+Fn+"$2box$3")+e}break;case 5936:switch(wn(e,t+11)){case 114:return Ft+e+Fn+$t(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ft+e+Fn+$t(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ft+e+Fn+$t(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ft+e+Fn+e+e}return e}var Gde=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case yN:t.return=SM(t.value,t.length);break;case yM:return hd([th(t,{value:$t(t.value,"@","@"+Ft)})],a);case xN:if(t.length)return Ede(t.props,function(s){switch(Pde(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hd([th(t,{props:[$t(s,/:(read-\w+)/,":"+fv+"$1")]})],a);case"::placeholder":return hd([th(t,{props:[$t(s,/:(plac\w+)/,":"+Ft+"input-$1")]}),th(t,{props:[$t(s,/:(plac\w+)/,":"+fv+"$1")]}),th(t,{props:[$t(s,/:(plac\w+)/,Fn+"input-$1")]})],a)}return""})}},Kde=[Gde],Xde=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var w=v.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=t.stylisPlugins||Kde,s={},o,c=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var w=v.getAttribute("data-emotion").split(" "),g=1;g<w.length;g++)s[w[g]]=!0;c.push(v)});var l,u=[Vde,qde];{var d,f=[$de,zde(function(v){d.insert(v)})],p=Ude(u.concat(a,f)),m=function(w){return hd(Rde(w),p)};l=function(w,g,x,S){d=x,m(w?w+"{"+g.styles+"}":g.styles),S&&(y.inserted[g.name]=!0)}}var y={key:r,sheet:new jde({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(c),y},kM={exports:{}},Xt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gn=typeof Symbol=="function"&&Symbol.for,wN=gn?Symbol.for("react.element"):60103,NN=gn?Symbol.for("react.portal"):60106,Ix=gn?Symbol.for("react.fragment"):60107,Rx=gn?Symbol.for("react.strict_mode"):60108,Fx=gn?Symbol.for("react.profiler"):60114,$x=gn?Symbol.for("react.provider"):60109,Ux=gn?Symbol.for("react.context"):60110,jN=gn?Symbol.for("react.async_mode"):60111,zx=gn?Symbol.for("react.concurrent_mode"):60111,Bx=gn?Symbol.for("react.forward_ref"):60112,Wx=gn?Symbol.for("react.suspense"):60113,Qde=gn?Symbol.for("react.suspense_list"):60120,Hx=gn?Symbol.for("react.memo"):60115,Yx=gn?Symbol.for("react.lazy"):60116,Jde=gn?Symbol.for("react.block"):60121,Zde=gn?Symbol.for("react.fundamental"):60117,efe=gn?Symbol.for("react.responder"):60118,tfe=gn?Symbol.for("react.scope"):60119;function Ua(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wN:switch(e=e.type,e){case jN:case zx:case Ix:case Fx:case Rx:case Wx:return e;default:switch(e=e&&e.$$typeof,e){case Ux:case Bx:case Yx:case Hx:case $x:return e;default:return t}}case NN:return t}}}function CM(e){return Ua(e)===zx}Xt.AsyncMode=jN;Xt.ConcurrentMode=zx;Xt.ContextConsumer=Ux;Xt.ContextProvider=$x;Xt.Element=wN;Xt.ForwardRef=Bx;Xt.Fragment=Ix;Xt.Lazy=Yx;Xt.Memo=Hx;Xt.Portal=NN;Xt.Profiler=Fx;Xt.StrictMode=Rx;Xt.Suspense=Wx;Xt.isAsyncMode=function(e){return CM(e)||Ua(e)===jN};Xt.isConcurrentMode=CM;Xt.isContextConsumer=function(e){return Ua(e)===Ux};Xt.isContextProvider=function(e){return Ua(e)===$x};Xt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wN};Xt.isForwardRef=function(e){return Ua(e)===Bx};Xt.isFragment=function(e){return Ua(e)===Ix};Xt.isLazy=function(e){return Ua(e)===Yx};Xt.isMemo=function(e){return Ua(e)===Hx};Xt.isPortal=function(e){return Ua(e)===NN};Xt.isProfiler=function(e){return Ua(e)===Fx};Xt.isStrictMode=function(e){return Ua(e)===Rx};Xt.isSuspense=function(e){return Ua(e)===Wx};Xt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ix||e===zx||e===Fx||e===Rx||e===Wx||e===Qde||typeof e=="object"&&e!==null&&(e.$$typeof===Yx||e.$$typeof===Hx||e.$$typeof===$x||e.$$typeof===Ux||e.$$typeof===Bx||e.$$typeof===Zde||e.$$typeof===efe||e.$$typeof===tfe||e.$$typeof===Jde)};Xt.typeOf=Ua;kM.exports=Xt;var rfe=kM.exports,DM=rfe,nfe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},afe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_M={};_M[DM.ForwardRef]=nfe;_M[DM.Memo]=afe;var sfe=!0;function ife(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var PM=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||sfe===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},ofe=function(t,r,n){PM(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+a:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function lfe(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var cfe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ufe=!1,dfe=/[A-Z]|^ms/g,ffe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,EM=function(t){return t.charCodeAt(1)===45},jk=function(t){return t!=null&&typeof t!="boolean"},Y1=Bde(function(e){return EM(e)?e:e.replace(dfe,"-$&").toLowerCase()}),Sk=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(ffe,function(n,a,s){return fi={name:a,styles:s,next:fi},a})}return cfe[t]!==1&&!EM(t)&&typeof r=="number"&&r!==0?r+"px":r},hfe="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function hp(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return fi={name:a.name,styles:a.styles,next:fi},a.name;var s=r;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)fi={name:o.name,styles:o.styles,next:fi},o=o.next;var c=s.styles+";";return c}return pfe(e,t,r)}case"function":{if(e!==void 0){var l=fi,u=r(e);return fi=l,hp(e,t,u)}break}}var d=r;return d}function pfe(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=hp(e,t,r[a])+";";else for(var s in r){var o=r[s];if(typeof o!="object"){var c=o;jk(c)&&(n+=Y1(s)+":"+Sk(s,c)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&ufe)throw new Error(hfe);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var l=0;l<o.length;l++)jk(o[l])&&(n+=Y1(s)+":"+Sk(s,o[l])+";");else{var u=hp(e,t,o);switch(s){case"animation":case"animationName":{n+=Y1(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}}return n}var kk=/label:\s*([^\s;{]+)\s*(;|$)/g,fi;function MM(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";fi=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,a+=hp(r,t,s);else{var o=s;a+=o[0]}for(var c=1;c<e.length;c++)if(a+=hp(r,t,e[c]),n){var l=s;a+=l[c]}kk.lastIndex=0;for(var u="",d;(d=kk.exec(a))!==null;)u+="-"+d[1];var f=lfe(a)+u;return{name:f,styles:a,next:fi}}var mfe=function(t){return t()},gfe=sg.useInsertionEffect?sg.useInsertionEffect:!1,vfe=gfe||mfe,xfe=!1,AM=O.createContext(typeof HTMLElement<"u"?Xde({key:"css"}):null);AM.Provider;var yfe=function(t){return O.forwardRef(function(r,n){var a=O.useContext(AM);return t(r,a,n)})},bfe=O.createContext({}),SN={}.hasOwnProperty,F2="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",wfe=function(t,r){var n={};for(var a in r)SN.call(r,a)&&(n[a]=r[a]);return n[F2]=t,n},Nfe=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return PM(r,n,a),vfe(function(){return ofe(r,n,a)}),null},jfe=yfe(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[F2],s=[n],o="";typeof e.className=="string"?o=ife(t.registered,s,e.className):e.className!=null&&(o=e.className+" ");var c=MM(s,void 0,O.useContext(bfe));o+=t.key+"-"+c.name;var l={};for(var u in e)SN.call(e,u)&&u!=="css"&&u!==F2&&!xfe&&(l[u]=e[u]);return l.className=o,r&&(l.ref=r),O.createElement(O.Fragment,null,O.createElement(Nfe,{cache:t,serialized:c,isStringTag:typeof a=="string"}),O.createElement(a,l))}),Sfe=jfe,rt=function(t,r){var n=arguments;if(r==null||!SN.call(r,"css"))return O.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Sfe,s[1]=wfe(t,r);for(var o=2;o<a;o++)s[o]=n[o];return O.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(rt||(rt={}));function kN(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return MM(t)}function kfe(){var e=kN.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Cfe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var $2=O.useLayoutEffect,Dfe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],hv=function(){};function _fe(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Pfe(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&s.push("".concat(_fe(e,o)));return s.filter(function(c){return c}).map(function(c){return String(c).trim()}).join(" ")}var Ck=function(t){return Ffe(t)?t.filter(Boolean):wt(t)==="object"&&t!==null?[t]:[]},LM=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=on(t,Dfe);return Ie({},r)},Mr=function(t,r,n){var a=t.cx,s=t.getStyles,o=t.getClassNames,c=t.className;return{css:s(r,t),className:a(n??{},o(r,t),c)}};function Vx(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Efe(e){return Vx(e)?window.innerHeight:e.clientHeight}function TM(e){return Vx(e)?window.pageYOffset:e.scrollTop}function pv(e,t){if(Vx(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Mfe(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}function Afe(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function y0(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:hv,a=TM(e),s=t-a,o=10,c=0;function l(){c+=o;var u=Afe(c,a,s,r);pv(e,u),c<r?window.requestAnimationFrame(l):n(e)}l()}function Dk(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=t.offsetHeight/3;n.bottom+a>r.bottom?pv(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):n.top-a<r.top&&pv(e,Math.max(t.offsetTop-a,0))}function Lfe(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function _k(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Tfe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var OM=!1,Ofe={get passive(){return OM=!0}},b0=typeof window<"u"?window:{};b0.addEventListener&&b0.removeEventListener&&(b0.addEventListener("p",hv,Ofe),b0.removeEventListener("p",hv,!1));var Ife=OM;function Rfe(e){return e!=null}function Ffe(e){return Array.isArray(e)}function w0(e,t,r){return e?t:r}var $fe=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(t).filter(function(o){var c=zr(o,1),l=c[0];return!n.includes(l)});return s.reduce(function(o,c){var l=zr(c,2),u=l[0],d=l[1];return o[u]=d,o},{})},Ufe=["children","innerProps"],zfe=["children","innerProps"];function Bfe(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,a=e.placement,s=e.shouldScroll,o=e.isFixedPosition,c=e.controlHeight,l=Mfe(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var d=l.getBoundingClientRect(),f=d.height,p=r.getBoundingClientRect(),m=p.bottom,y=p.height,v=p.top,w=r.offsetParent.getBoundingClientRect(),g=w.top,x=o?window.innerHeight:Efe(l),S=TM(l),j=parseInt(getComputedStyle(r).marginBottom,10),P=parseInt(getComputedStyle(r).marginTop,10),I=g-P,k=x-v,D=I+S,R=f-S-v,A=m-x+S+j,E=S+v-P,_=160;switch(a){case"auto":case"bottom":if(k>=y)return{placement:"bottom",maxHeight:t};if(R>=y&&!o)return s&&y0(l,A,_),{placement:"bottom",maxHeight:t};if(!o&&R>=n||o&&k>=n){s&&y0(l,A,_);var F=o?k-j:R-j;return{placement:"bottom",maxHeight:F}}if(a==="auto"||o){var L=t,U=o?I:D;return U>=n&&(L=Math.min(U-j-c,t)),{placement:"top",maxHeight:L}}if(a==="bottom")return s&&pv(l,A),{placement:"bottom",maxHeight:t};break;case"top":if(I>=y)return{placement:"top",maxHeight:t};if(D>=y&&!o)return s&&y0(l,E,_),{placement:"top",maxHeight:t};if(!o&&D>=n||o&&I>=n){var z=t;return(!o&&D>=n||o&&I>=n)&&(z=o?I-P:D-P),s&&y0(l,E,_),{placement:"top",maxHeight:z}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Wfe(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var IM=function(t){return t==="auto"?"bottom":t},Hfe=function(t,r){var n,a=t.placement,s=t.theme,o=s.borderRadius,c=s.spacing,l=s.colors;return Ie((n={label:"menu"},Ts(n,Wfe(a),"100%"),Ts(n,"position","absolute"),Ts(n,"width","100%"),Ts(n,"zIndex",1),n),r?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:c.menuGutter,marginTop:c.menuGutter})},RM=O.createContext(null),Yfe=function(t){var r=t.children,n=t.minMenuHeight,a=t.maxMenuHeight,s=t.menuPlacement,o=t.menuPosition,c=t.menuShouldScrollIntoView,l=t.theme,u=O.useContext(RM)||{},d=u.setPortalPlacement,f=O.useRef(null),p=O.useState(a),m=zr(p,2),y=m[0],v=m[1],w=O.useState(null),g=zr(w,2),x=g[0],S=g[1],j=l.spacing.controlHeight;return $2(function(){var P=f.current;if(P){var I=o==="fixed",k=c&&!I,D=Bfe({maxHeight:a,menuEl:P,minHeight:n,placement:s,shouldScroll:k,isFixedPosition:I,controlHeight:j});v(D.maxHeight),S(D.placement),d==null||d(D.placement)}},[a,s,o,c,n,d,j]),r({ref:f,placerProps:Ie(Ie({},t),{},{placement:x||IM(s),maxHeight:y})})},Vfe=function(t){var r=t.children,n=t.innerRef,a=t.innerProps;return rt("div",Ye({},Mr(t,"menu",{menu:!0}),{ref:n},a),r)},qfe=Vfe,Gfe=function(t,r){var n=t.maxHeight,a=t.theme.spacing.baseUnit;return Ie({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Kfe=function(t){var r=t.children,n=t.innerProps,a=t.innerRef,s=t.isMulti;return rt("div",Ye({},Mr(t,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},FM=function(t,r){var n=t.theme,a=n.spacing.baseUnit,s=n.colors;return Ie({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Xfe=FM,Qfe=FM,Jfe=function(t){var r=t.children,n=r===void 0?"No options":r,a=t.innerProps,s=on(t,Ufe);return rt("div",Ye({},Mr(Ie(Ie({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Zfe=function(t){var r=t.children,n=r===void 0?"Loading...":r,a=t.innerProps,s=on(t,zfe);return rt("div",Ye({},Mr(Ie(Ie({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},ehe=function(t){var r=t.rect,n=t.offset,a=t.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},the=function(t){var r=t.appendTo,n=t.children,a=t.controlElement,s=t.innerProps,o=t.menuPlacement,c=t.menuPosition,l=O.useRef(null),u=O.useRef(null),d=O.useState(IM(o)),f=zr(d,2),p=f[0],m=f[1],y=O.useMemo(function(){return{setPortalPlacement:m}},[]),v=O.useState(null),w=zr(v,2),g=w[0],x=w[1],S=O.useCallback(function(){if(a){var k=Lfe(a),D=c==="fixed"?0:window.pageYOffset,R=k[p]+D;(R!==(g==null?void 0:g.offset)||k.left!==(g==null?void 0:g.rect.left)||k.width!==(g==null?void 0:g.rect.width))&&x({offset:R,rect:k})}},[a,c,p,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);$2(function(){S()},[S]);var j=O.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&l.current&&(u.current=oM(a,l.current,S,{elementResize:"ResizeObserver"in window}))},[a,S]);$2(function(){j()},[j]);var P=O.useCallback(function(k){l.current=k,j()},[j]);if(!r&&c!=="fixed"||!g)return null;var I=rt("div",Ye({ref:P},Mr(Ie(Ie({},t),{},{offset:g.offset,position:c,rect:g.rect}),"menuPortal",{"menu-portal":!0}),s),n);return rt(RM.Provider,{value:y},r?Av.createPortal(I,r):I)},rhe=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},nhe=function(t){var r=t.children,n=t.innerProps,a=t.isDisabled,s=t.isRtl;return rt("div",Ye({},Mr(t,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},ahe=function(t,r){var n=t.theme.spacing,a=t.isMulti,s=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Ie({alignItems:"center",display:a&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},she=function(t){var r=t.children,n=t.innerProps,a=t.isMulti,s=t.hasValue;return rt("div",Ye({},Mr(t,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},ihe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},ohe=function(t){var r=t.children,n=t.innerProps;return rt("div",Ye({},Mr(t,"indicatorsContainer",{indicators:!0}),n),r)},Pk,lhe=["size"],che=["innerProps","isRtl","size"],uhe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},$M=function(t){var r=t.size,n=on(t,lhe);return rt("svg",Ye({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:uhe},n))},CN=function(t){return rt($M,Ye({size:20},t),rt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},UM=function(t){return rt($M,Ye({size:20},t),rt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zM=function(t,r){var n=t.isFocused,a=t.theme,s=a.spacing.baseUnit,o=a.colors;return Ie({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:s*2,":hover":{color:n?o.neutral80:o.neutral40}})},dhe=zM,fhe=function(t){var r=t.children,n=t.innerProps;return rt("div",Ye({},Mr(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||rt(UM,null))},hhe=zM,phe=function(t){var r=t.children,n=t.innerProps;return rt("div",Ye({},Mr(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||rt(CN,null))},mhe=function(t,r){var n=t.isDisabled,a=t.theme,s=a.spacing.baseUnit,o=a.colors;return Ie({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},ghe=function(t){var r=t.innerProps;return rt("span",Ye({},r,Mr(t,"indicatorSeparator",{"indicator-separator":!0})))},vhe=kfe(Pk||(Pk=Cfe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),xhe=function(t,r){var n=t.isFocused,a=t.size,s=t.theme,o=s.colors,c=s.spacing.baseUnit;return Ie({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:c*2})},V1=function(t){var r=t.delay,n=t.offset;return rt("span",{css:kN({animation:"".concat(vhe," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},yhe=function(t){var r=t.innerProps,n=t.isRtl,a=t.size,s=a===void 0?4:a,o=on(t,che);return rt("div",Ye({},Mr(Ie(Ie({},o),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),rt(V1,{delay:0,offset:n}),rt(V1,{delay:160,offset:!0}),rt(V1,{delay:320,offset:!n}))},bhe=function(t,r){var n=t.isDisabled,a=t.isFocused,s=t.theme,o=s.colors,c=s.borderRadius,l=s.spacing;return Ie({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:c,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},whe=function(t){var r=t.children,n=t.isDisabled,a=t.isFocused,s=t.innerRef,o=t.innerProps,c=t.menuIsOpen;return rt("div",Ye({ref:s},Mr(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":c}),o,{"aria-disabled":n||void 0}),r)},Nhe=whe,jhe=["data"],She=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},khe=function(t){var r=t.children,n=t.cx,a=t.getStyles,s=t.getClassNames,o=t.Heading,c=t.headingProps,l=t.innerProps,u=t.label,d=t.theme,f=t.selectProps;return rt("div",Ye({},Mr(t,"group",{group:!0}),l),rt(o,Ye({},c,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),rt("div",null,r))},Che=function(t,r){var n=t.theme,a=n.colors,s=n.spacing;return Ie({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},Dhe=function(t){var r=LM(t);r.data;var n=on(r,jhe);return rt("div",Ye({},Mr(t,"groupHeading",{"group-heading":!0}),n))},_he=khe,Phe=["innerRef","isDisabled","isHidden","inputClassName"],Ehe=function(t,r){var n=t.isDisabled,a=t.value,s=t.theme,o=s.spacing,c=s.colors;return Ie(Ie({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},Mhe),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:c.neutral80})},BM={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Mhe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ie({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},BM)},Ahe=function(t){return Ie({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},BM)},Lhe=function(t){var r=t.cx,n=t.value,a=LM(t),s=a.innerRef,o=a.isDisabled,c=a.isHidden,l=a.inputClassName,u=on(a,Phe);return rt("div",Ye({},Mr(t,"input",{"input-container":!0}),{"data-value":n||""}),rt("input",Ye({className:r({input:!0},l),ref:s,style:Ahe(c),disabled:o},u)))},The=Lhe,Ohe=function(t,r){var n=t.theme,a=n.spacing,s=n.borderRadius,o=n.colors;return Ie({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},Ihe=function(t,r){var n=t.theme,a=n.borderRadius,s=n.colors,o=t.cropWithEllipsis;return Ie({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Rhe=function(t,r){var n=t.theme,a=n.spacing,s=n.borderRadius,o=n.colors,c=t.isFocused;return Ie({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:c?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},WM=function(t){var r=t.children,n=t.innerProps;return rt("div",n,r)},Fhe=WM,$he=WM;function Uhe(e){var t=e.children,r=e.innerProps;return rt("div",Ye({role:"button"},r),t||rt(CN,{size:14}))}var zhe=function(t){var r=t.children,n=t.components,a=t.data,s=t.innerProps,o=t.isDisabled,c=t.removeProps,l=t.selectProps,u=n.Container,d=n.Label,f=n.Remove;return rt(u,{data:a,innerProps:Ie(Ie({},Mr(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},rt(d,{data:a,innerProps:Ie({},Mr(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},r),rt(f,{data:a,innerProps:Ie(Ie({},Mr(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},c),selectProps:l}))},Bhe=zhe,Whe=function(t,r){var n=t.isDisabled,a=t.isFocused,s=t.isSelected,o=t.theme,c=o.spacing,l=o.colors;return Ie({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?l.primary:a?l.primary25:"transparent",color:n?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(c.baseUnit*2,"px ").concat(c.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?l.primary:l.primary50}})},Hhe=function(t){var r=t.children,n=t.isDisabled,a=t.isFocused,s=t.isSelected,o=t.innerRef,c=t.innerProps;return rt("div",Ye({},Mr(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:o,"aria-disabled":n},c),r)},Yhe=Hhe,Vhe=function(t,r){var n=t.theme,a=n.spacing,s=n.colors;return Ie({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},qhe=function(t){var r=t.children,n=t.innerProps;return rt("div",Ye({},Mr(t,"placeholder",{placeholder:!0}),n),r)},Ghe=qhe,Khe=function(t,r){var n=t.isDisabled,a=t.theme,s=a.spacing,o=a.colors;return Ie({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},Xhe=function(t){var r=t.children,n=t.isDisabled,a=t.innerProps;return rt("div",Ye({},Mr(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},Qhe=Xhe,Jhe={ClearIndicator:phe,Control:Nhe,DropdownIndicator:fhe,DownChevron:UM,CrossIcon:CN,Group:_he,GroupHeading:Dhe,IndicatorsContainer:ohe,IndicatorSeparator:ghe,Input:The,LoadingIndicator:yhe,Menu:qfe,MenuList:Kfe,MenuPortal:the,LoadingMessage:Zfe,NoOptionsMessage:Jfe,MultiValue:Bhe,MultiValueContainer:Fhe,MultiValueLabel:$he,MultiValueRemove:Uhe,Option:Yhe,Placeholder:Ghe,SelectContainer:nhe,SingleValue:Qhe,ValueContainer:she},Zhe=function(t){return Ie(Ie({},Jhe),t.components)},epe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},tpe=function(t){return rt("span",Ye({css:epe},t))},Ek=tpe,rpe={guidance:function(t){var r=t.isSearchable,n=t.isMulti,a=t.tabSelectsValue,s=t.context,o=t.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,a=n===void 0?"":n,s=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,a=t.options,s=t.label,o=s===void 0?"":s,c=t.selectValue,l=t.isDisabled,u=t.isSelected,d=t.isAppleDevice,f=function(v,w){return v&&v.length?"".concat(v.indexOf(w)+1," of ").concat(v.length):""};if(r==="value"&&c)return"value ".concat(o," focused, ").concat(f(c,n),".");if(r==="menu"&&d){var p=l?" disabled":"",m="".concat(u?" selected":"").concat(p);return"".concat(o).concat(m,", ").concat(f(a,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},npe=function(t){var r=t.ariaSelection,n=t.focusedOption,a=t.focusedValue,s=t.focusableOptions,o=t.isFocused,c=t.selectValue,l=t.selectProps,u=t.id,d=t.isAppleDevice,f=l.ariaLiveMessages,p=l.getOptionLabel,m=l.inputValue,y=l.isMulti,v=l.isOptionDisabled,w=l.isSearchable,g=l.menuIsOpen,x=l.options,S=l.screenReaderStatus,j=l.tabSelectsValue,P=l.isLoading,I=l["aria-label"],k=l["aria-live"],D=O.useMemo(function(){return Ie(Ie({},rpe),f||{})},[f]),R=O.useMemo(function(){var U="";if(r&&D.onChange){var z=r.option,H=r.options,V=r.removedValue,ae=r.removedValues,le=r.value,oe=function(Z){return Array.isArray(Z)?null:Z},M=V||z||oe(le),Y=M?p(M):"",Q=H||ae||void 0,G=Q?Q.map(p):[],$=Ie({isDisabled:M&&v(M,c),label:Y,labels:G},r);U=D.onChange($)}return U},[r,D,v,c,p]),A=O.useMemo(function(){var U="",z=n||a,H=!!(n&&c&&c.includes(n));if(z&&D.onFocus){var V={focused:z,label:p(z),isDisabled:v(z,c),isSelected:H,options:s,context:z===n?"menu":"value",selectValue:c,isAppleDevice:d};U=D.onFocus(V)}return U},[n,a,p,v,D,s,c,d]),E=O.useMemo(function(){var U="";if(g&&x.length&&!P&&D.onFilter){var z=S({count:s.length});U=D.onFilter({inputValue:m,resultsMessage:z})}return U},[s,m,g,D,x,S,P]),_=(r==null?void 0:r.action)==="initial-input-focus",F=O.useMemo(function(){var U="";if(D.guidance){var z=a?"value":g?"menu":"input";U=D.guidance({"aria-label":I,context:z,isDisabled:n&&v(n,c),isMulti:y,isSearchable:w,tabSelectsValue:j,isInitialFocus:_})}return U},[I,n,a,y,v,w,g,D,c,j,_]),L=rt(O.Fragment,null,rt("span",{id:"aria-selection"},R),rt("span",{id:"aria-focused"},A),rt("span",{id:"aria-results"},E),rt("span",{id:"aria-guidance"},F));return rt(O.Fragment,null,rt(Ek,{id:u},_&&L),rt(Ek,{"aria-live":k,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!_&&L))},ape=npe,U2=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],spe=new RegExp("["+U2.map(function(e){return e.letters}).join("")+"]","g"),HM={};for(var q1=0;q1<U2.length;q1++)for(var G1=U2[q1],K1=0;K1<G1.letters.length;K1++)HM[G1.letters[K1]]=G1.base;var YM=function(t){return t.replace(spe,function(r){return HM[r]})},ipe=C5(YM),Mk=function(t){return t.replace(/^\s+|\s+$/g,"")},ope=function(t){return"".concat(t.label," ").concat(t.value)},lpe=function(t){return function(r,n){if(r.data.__isNew__)return!0;var a=Ie({ignoreCase:!0,ignoreAccents:!0,stringify:ope,trim:!0,matchFrom:"any"},t),s=a.ignoreCase,o=a.ignoreAccents,c=a.stringify,l=a.trim,u=a.matchFrom,d=l?Mk(n):n,f=l?Mk(c(r)):c(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),o&&(d=ipe(d),f=YM(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},cpe=["innerRef"];function upe(e){var t=e.innerRef,r=on(e,cpe),n=$fe(r,"onExited","in","enter","exit","appear");return rt("input",Ye({ref:t},n,{css:kN({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var dpe=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function fpe(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,a=e.onTopArrive,s=e.onTopLeave,o=O.useRef(!1),c=O.useRef(!1),l=O.useRef(0),u=O.useRef(null),d=O.useCallback(function(w,g){if(u.current!==null){var x=u.current,S=x.scrollTop,j=x.scrollHeight,P=x.clientHeight,I=u.current,k=g>0,D=j-P-S,R=!1;D>g&&o.current&&(n&&n(w),o.current=!1),k&&c.current&&(s&&s(w),c.current=!1),k&&g>D?(r&&!o.current&&r(w),I.scrollTop=j,R=!0,o.current=!0):!k&&-g>S&&(a&&!c.current&&a(w),I.scrollTop=0,R=!0,c.current=!0),R&&dpe(w)}},[r,n,a,s]),f=O.useCallback(function(w){d(w,w.deltaY)},[d]),p=O.useCallback(function(w){l.current=w.changedTouches[0].clientY},[]),m=O.useCallback(function(w){var g=l.current-w.changedTouches[0].clientY;d(w,g)},[d]),y=O.useCallback(function(w){if(w){var g=Ife?{passive:!1}:!1;w.addEventListener("wheel",f,g),w.addEventListener("touchstart",p,g),w.addEventListener("touchmove",m,g)}},[m,p,f]),v=O.useCallback(function(w){w&&(w.removeEventListener("wheel",f,!1),w.removeEventListener("touchstart",p,!1),w.removeEventListener("touchmove",m,!1))},[m,p,f]);return O.useEffect(function(){if(t){var w=u.current;return y(w),function(){v(w)}}},[t,y,v]),function(w){u.current=w}}var Ak=["boxSizing","height","overflow","paddingRight","position"],Lk={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Tk(e){e.cancelable&&e.preventDefault()}function Ok(e){e.stopPropagation()}function Ik(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function Rk(){return"ontouchstart"in window||navigator.maxTouchPoints}var Fk=!!(typeof window<"u"&&window.document&&window.document.createElement),rh=0,Mu={capture:!1,passive:!1};function hpe(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,a=O.useRef({}),s=O.useRef(null),o=O.useCallback(function(l){if(Fk){var u=document.body,d=u&&u.style;if(n&&Ak.forEach(function(y){var v=d&&d[y];a.current[y]=v}),n&&rh<1){var f=parseInt(a.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,m=window.innerWidth-p+f||0;Object.keys(Lk).forEach(function(y){var v=Lk[y];d&&(d[y]=v)}),d&&(d.paddingRight="".concat(m,"px"))}u&&Rk()&&(u.addEventListener("touchmove",Tk,Mu),l&&(l.addEventListener("touchstart",Ik,Mu),l.addEventListener("touchmove",Ok,Mu))),rh+=1}},[n]),c=O.useCallback(function(l){if(Fk){var u=document.body,d=u&&u.style;rh=Math.max(rh-1,0),n&&rh<1&&Ak.forEach(function(f){var p=a.current[f];d&&(d[f]=p)}),u&&Rk()&&(u.removeEventListener("touchmove",Tk,Mu),l&&(l.removeEventListener("touchstart",Ik,Mu),l.removeEventListener("touchmove",Ok,Mu)))}},[n]);return O.useEffect(function(){if(t){var l=s.current;return o(l),function(){c(l)}}},[t,o,c]),function(l){s.current=l}}var ppe=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},mpe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function gpe(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,a=n===void 0?!0:n,s=e.onBottomArrive,o=e.onBottomLeave,c=e.onTopArrive,l=e.onTopLeave,u=fpe({isEnabled:a,onBottomArrive:s,onBottomLeave:o,onTopArrive:c,onTopLeave:l}),d=hpe({isEnabled:r}),f=function(m){u(m),d(m)};return rt(O.Fragment,null,r&&rt("div",{onClick:ppe,css:mpe}),t(f))}var vpe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},xpe=function(t){var r=t.name,n=t.onFocus;return rt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:vpe,value:"",onChange:function(){}})},ype=xpe;function DN(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function bpe(){return DN(/^iPhone/i)}function VM(){return DN(/^Mac/i)}function wpe(){return DN(/^iPad/i)||VM()&&navigator.maxTouchPoints>1}function Npe(){return bpe()||wpe()}function jpe(){return VM()||Npe()}var Spe=function(t){return t.label},kpe=function(t){return t.label},Cpe=function(t){return t.value},Dpe=function(t){return!!t.isDisabled},_pe={clearIndicator:hhe,container:rhe,control:bhe,dropdownIndicator:dhe,group:She,groupHeading:Che,indicatorsContainer:ihe,indicatorSeparator:mhe,input:Ehe,loadingIndicator:xhe,loadingMessage:Qfe,menu:Hfe,menuList:Gfe,menuPortal:ehe,multiValue:Ohe,multiValueLabel:Ihe,multiValueRemove:Rhe,noOptionsMessage:Xfe,option:Whe,placeholder:Vhe,singleValue:Khe,valueContainer:ahe},Ppe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Epe=4,qM=4,Mpe=38,Ape=qM*2,Lpe={baseUnit:qM,controlHeight:Mpe,menuGutter:Ape},X1={borderRadius:Epe,colors:Ppe,spacing:Lpe},Tpe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:_k(),captureMenuScroll:!_k(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:lpe(),formatGroupLabel:Spe,getOptionLabel:kpe,getOptionValue:Cpe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Dpe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Tfe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function $k(e,t,r,n){var a=XM(e,t,r),s=QM(e,t,r),o=KM(e,t),c=mv(e,t);return{type:"option",data:t,isDisabled:a,isSelected:s,label:o,value:c,index:n}}function ag(e,t){return e.options.map(function(r,n){if("options"in r){var a=r.options.map(function(o,c){return $k(e,o,t,c)}).filter(function(o){return zk(e,o)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=$k(e,r,t,n);return zk(e,s)?s:void 0}).filter(Rfe)}function GM(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,gc(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function Uk(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,gc(n.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function Ope(e,t){return GM(ag(e,t))}function zk(e,t){var r=e.inputValue,n=r===void 0?"":r,a=t.data,s=t.isSelected,o=t.label,c=t.value;return(!ZM(e)||!s)&&JM(e,{label:o,value:c,data:a},n)}function Ipe(e,t){var r=e.focusedValue,n=e.selectValue,a=n.indexOf(r);if(a>-1){var s=t.indexOf(r);if(s>-1)return r;if(a<t.length)return t[a]}return null}function Rpe(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var Q1=function(t,r){var n,a=(n=t.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},KM=function(t,r){return t.getOptionLabel(r)},mv=function(t,r){return t.getOptionValue(r)};function XM(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function QM(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=mv(e,t);return r.some(function(a){return mv(e,a)===n})}function JM(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var ZM=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},Fpe=1,eA=function(e){Dn(r,e);var t=GI(r);function r(n){var a;if(Jr(this,r),a=t.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=jpe(),a.controlRef=null,a.getControlRef=function(l){a.controlRef=l},a.focusedOptionRef=null,a.getFocusedOptionRef=function(l){a.focusedOptionRef=l},a.menuListRef=null,a.getMenuListRef=function(l){a.menuListRef=l},a.inputRef=null,a.getInputRef=function(l){a.inputRef=l},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(l,u){var d=a.props,f=d.onChange,p=d.name;u.name=p,a.ariaOnChange(l,u),f(l,u)},a.setValue=function(l,u,d){var f=a.props,p=f.closeMenuOnSelect,m=f.isMulti,y=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:y}),p&&(a.setState({inputIsHiddenAfterUpdate:!m}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(l,{action:u,option:d})},a.selectOption=function(l){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,p=u.name,m=a.state.selectValue,y=f&&a.isOptionSelected(l,m),v=a.isOptionDisabled(l,m);if(y){var w=a.getOptionValue(l);a.setValue(m.filter(function(g){return a.getOptionValue(g)!==w}),"deselect-option",l)}else if(!v)f?a.setValue([].concat(gc(m),[l]),"select-option",l):a.setValue(l,"select-option");else{a.ariaOnChange(l,{action:"select-option",option:l,name:p});return}d&&a.blurInput()},a.removeValue=function(l){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(l),p=d.filter(function(y){return a.getOptionValue(y)!==f}),m=w0(u,p,p[0]||null);a.onChange(m,{action:"remove-value",removedValue:l}),a.focusInput()},a.clearValue=function(){var l=a.state.selectValue;a.onChange(w0(a.props.isMulti,[],null),{action:"clear",removedValues:l})},a.popValue=function(){var l=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),p=w0(l,f,f[0]||null);d&&a.onChange(p,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(l){return Q1(a.state.focusableOptionsWithIds,l)},a.getFocusableOptionsWithIds=function(){return Uk(ag(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return Pfe.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(l){return KM(a.props,l)},a.getOptionValue=function(l){return mv(a.props,l)},a.getStyles=function(l,u){var d=a.props.unstyled,f=_pe[l](u,d);f.boxSizing="border-box";var p=a.props.styles[l];return p?p(f,u):f},a.getClassNames=function(l,u){var d,f;return(d=(f=a.props.classNames)[l])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(l){return"".concat(a.state.instancePrefix,"-").concat(l)},a.getComponents=function(){return Zhe(a.props)},a.buildCategorizedOptions=function(){return ag(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return GM(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(l,u){a.setState({ariaSelection:Ie({value:l},u)})},a.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(l){a.blockOptionHover=!1},a.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},a.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),l.preventDefault()}},a.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(a.clearValue(),l.preventDefault(),a.openAfterFocus=!1,l.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(l){typeof a.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&Vx(l.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(l)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),p=Math.abs(d.clientY-a.initialTouchY),m=5;a.userIsDragging=f>m||p>m}},a.onTouchEnd=function(l){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(l.target)&&a.menuListRef&&!a.menuListRef.contains(l.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(l){a.userIsDragging||a.onControlMouseDown(l)},a.onClearIndicatorTouchEnd=function(l){a.userIsDragging||a.onClearIndicatorMouseDown(l)},a.onDropdownIndicatorTouchEnd=function(l){a.userIsDragging||a.onDropdownIndicatorMouseDown(l)},a.handleInputChange=function(l){var u=a.props.inputValue,d=l.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(l){a.props.onFocus&&a.props.onFocus(l),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(l){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(l),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(l){if(!(a.blockOptionHover||a.state.focusedOption===l)){var u=a.getFocusableOptions(),d=u.indexOf(l);a.setState({focusedOption:l,focusedOptionId:d>-1?a.getFocusedOptionId(l):null})}},a.shouldHideSelectedOptions=function(){return ZM(a.props)},a.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),a.focus()},a.onKeyDown=function(l){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,p=u.escapeClearsValue,m=u.inputValue,y=u.isClearable,v=u.isDisabled,w=u.menuIsOpen,g=u.onKeyDown,x=u.tabSelectsValue,S=u.openMenuOnFocus,j=a.state,P=j.focusedOption,I=j.focusedValue,k=j.selectValue;if(!v&&!(typeof g=="function"&&(g(l),l.defaultPrevented))){switch(a.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||m)return;a.focusValue("previous");break;case"ArrowRight":if(!d||m)return;a.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(I)a.removeValue(I);else{if(!f)return;d?a.popValue():y&&a.clearValue()}break;case"Tab":if(a.isComposing||l.shiftKey||!w||!x||!P||S&&a.isOptionSelected(P,k))return;a.selectOption(P);break;case"Enter":if(l.keyCode===229)break;if(w){if(!P||a.isComposing)return;a.selectOption(P);break}return;case"Escape":w?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:m}),a.onMenuClose()):y&&p&&a.clearValue();break;case" ":if(m)return;if(!w){a.openMenu("first");break}if(!P)return;a.selectOption(P);break;case"ArrowUp":w?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":w?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!w)return;a.focusOption("pageup");break;case"PageDown":if(!w)return;a.focusOption("pagedown");break;case"Home":if(!w)return;a.focusOption("first");break;case"End":if(!w)return;a.focusOption("last");break;default:return}l.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Fpe),a.state.selectValue=Ck(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),o=a.buildFocusableOptions(),c=o.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=o[c],a.state.focusedOptionId=Q1(s,o[c])}return a}return Zr(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Dk(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isDisabled,c=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&a.isDisabled||l&&c&&!a.menuIsOpen)&&this.focusInput(),l&&o&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Dk(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,o=this.state,c=o.selectValue,l=o.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(c[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,o=s.selectValue,c=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(c);c||(l=-1);var u=o.length-1,d=-1;if(o.length){switch(a){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,c=this.getFocusableOptions();if(c.length){var l=0,u=c.indexOf(o);o||(u=-1),a==="up"?l=u>0?u-1:c.length-1:a==="down"?l=(u+1)%c.length:a==="pageup"?(l=u-s,l<0&&(l=0)):a==="pagedown"?(l=u+s,l>c.length-1&&(l=c.length-1)):a==="last"&&(l=c.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:c[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(c[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(X1):Ie(Ie({},X1),this.props.theme):X1}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,o=this.getStyles,c=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,p=f.isMulti,m=f.isRtl,y=f.options,v=this.hasValue();return{clearValue:a,cx:s,getStyles:o,getClassNames:c,getValue:l,hasValue:v,isMulti:p,isRtl:m,options:y,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,o=a.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(a,s){return XM(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return QM(this.props,a,s)}},{key:"filterOption",value:function(a,s){return JM(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,c=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:o,selectValue:c})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,o=a.isSearchable,c=a.inputId,l=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,p=a.required,m=this.getComponents(),y=m.Input,v=this.state,w=v.inputIsHidden,g=v.ariaSelection,x=this.commonProps,S=c||this.getElementId("input"),j=Ie(Ie(Ie({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?O.createElement(y,Ye({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:s,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},j)):O.createElement(upe,Ye({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:hv,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},j))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),o=s.MultiValue,c=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,p=this.commonProps,m=this.props,y=m.controlShouldRenderValue,v=m.isDisabled,w=m.isMulti,g=m.inputValue,x=m.placeholder,S=this.state,j=S.selectValue,P=S.focusedValue,I=S.isFocused;if(!this.hasValue()||!y)return g?null:O.createElement(f,Ye({},p,{key:"placeholder",isDisabled:v,isFocused:I,innerProps:{id:this.getElementId("placeholder")}}),x);if(w)return j.map(function(D,R){var A=D===P,E="".concat(a.getOptionLabel(D),"-").concat(a.getOptionValue(D));return O.createElement(o,Ye({},p,{components:{Container:c,Label:l,Remove:u},isFocused:A,isDisabled:v,key:E,index:R,removeProps:{onClick:function(){return a.removeValue(D)},onTouchEnd:function(){return a.removeValue(D)},onMouseDown:function(F){F.preventDefault()}},data:D}),a.formatOptionLabel(D,"value"))});if(g)return null;var k=j[0];return O.createElement(d,Ye({},p,{data:k,isDisabled:v}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(s,Ye({},o,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,o=this.commonProps,c=this.props,l=c.isDisabled,u=c.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return O.createElement(s,Ye({},o,{innerProps:f,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,o=a.IndicatorSeparator;if(!s||!o)return null;var c=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return O.createElement(o,Ye({},c,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var o=this.commonProps,c=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return O.createElement(s,Ye({},o,{innerProps:u,isDisabled:c,isFocused:l}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),o=s.Group,c=s.GroupHeading,l=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,p=s.NoOptionsMessage,m=s.Option,y=this.commonProps,v=this.state.focusedOption,w=this.props,g=w.captureMenuScroll,x=w.inputValue,S=w.isLoading,j=w.loadingMessage,P=w.minMenuHeight,I=w.maxMenuHeight,k=w.menuIsOpen,D=w.menuPlacement,R=w.menuPosition,A=w.menuPortalTarget,E=w.menuShouldBlockScroll,_=w.menuShouldScrollIntoView,F=w.noOptionsMessage,L=w.onMenuScrollToTop,U=w.onMenuScrollToBottom;if(!k)return null;var z=function(Y,Q){var G=Y.type,$=Y.data,X=Y.isDisabled,Z=Y.isSelected,te=Y.label,fe=Y.value,xe=v===$,ke=X?void 0:function(){return a.onOptionHover($)},Pe=X?void 0:function(){return a.selectOption($)},Je="".concat(a.getElementId("option"),"-").concat(Q),ye={id:Je,onClick:Pe,onMouseMove:ke,onMouseOver:ke,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:Z};return O.createElement(m,Ye({},y,{innerProps:ye,data:$,isDisabled:X,isSelected:Z,key:Je,label:te,type:G,value:fe,isFocused:xe,innerRef:xe?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(Y.data,"menu"))},H;if(this.hasOptions())H=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var Y=M.data,Q=M.options,G=M.index,$="".concat(a.getElementId("group"),"-").concat(G),X="".concat($,"-heading");return O.createElement(o,Ye({},y,{key:$,data:Y,options:Q,Heading:c,headingProps:{id:X,data:M.data},label:a.formatGroupLabel(M.data)}),M.options.map(function(Z){return z(Z,"".concat(G,"-").concat(Z.index))}))}else if(M.type==="option")return z(M,"".concat(M.index))});else if(S){var V=j({inputValue:x});if(V===null)return null;H=O.createElement(f,y,V)}else{var ae=F({inputValue:x});if(ae===null)return null;H=O.createElement(p,y,ae)}var le={minMenuHeight:P,maxMenuHeight:I,menuPlacement:D,menuPosition:R,menuShouldScrollIntoView:_},oe=O.createElement(Yfe,Ye({},y,le),function(M){var Y=M.ref,Q=M.placerProps,G=Q.placement,$=Q.maxHeight;return O.createElement(l,Ye({},y,le,{innerRef:Y,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:S,placement:G}),O.createElement(gpe,{captureEnabled:g,onTopArrive:L,onBottomArrive:U,lockEnabled:E},function(X){return O.createElement(u,Ye({},y,{innerRef:function(te){a.getMenuListRef(te),X(te)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:a.getElementId("listbox")},isLoading:S,maxHeight:$,focusedOption:v}),H)}))});return A||R==="fixed"?O.createElement(d,Ye({},y,{appendTo:A,controlElement:this.controlRef,menuPlacement:D,menuPosition:R}),oe):oe}},{key:"renderFormField",value:function(){var a=this,s=this.props,o=s.delimiter,c=s.isDisabled,l=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!c)return O.createElement(ype,{name:u,onFocus:this.onValueInputFocus});if(!(!u||c))if(l)if(o){var p=f.map(function(v){return a.getOptionValue(v)}).join(o);return O.createElement("input",{name:u,type:"hidden",value:p})}else{var m=f.length>0?f.map(function(v,w){return O.createElement("input",{key:"i-".concat(w),name:u,type:"hidden",value:a.getOptionValue(v)})}):O.createElement("input",{name:u,type:"hidden",value:""});return O.createElement("div",null,m)}else{var y=f[0]?this.getOptionValue(f[0]):"";return O.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,o=s.ariaSelection,c=s.focusedOption,l=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return O.createElement(ape,Ye({},a,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:c,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,o=a.IndicatorsContainer,c=a.SelectContainer,l=a.ValueContainer,u=this.props,d=u.className,f=u.id,p=u.isDisabled,m=u.menuIsOpen,y=this.state.isFocused,v=this.commonProps=this.getCommonProps();return O.createElement(c,Ye({},v,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:y}),this.renderLiveRegion(),O.createElement(s,Ye({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:y,menuIsOpen:m}),O.createElement(l,Ye({},v,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),O.createElement(o,Ye({},v,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var o=s.prevProps,c=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,p=s.instancePrefix,m=a.options,y=a.value,v=a.menuIsOpen,w=a.inputValue,g=a.isMulti,x=Ck(y),S={};if(o&&(y!==o.value||m!==o.options||v!==o.menuIsOpen||w!==o.inputValue)){var j=v?Ope(a,x):[],P=v?Uk(ag(a,x),"".concat(p,"-option")):[],I=c?Ipe(s,x):null,k=Rpe(s,j),D=Q1(P,k);S={selectValue:x,focusedOption:k,focusedOptionId:D,focusableOptionsWithIds:P,focusedValue:I,clearFocusValueOnUpdate:!1}}var R=l!=null&&a!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},A=u,E=d&&f;return d&&!E&&(A={value:w0(g,x,x[0]||null),options:x,action:"initial-input-focus"},E=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(A=null),Ie(Ie(Ie({},S),R),{},{prevProps:a,ariaSelection:A,prevWasFocused:E})}}]),r}(O.Component);eA.defaultProps=Tpe;var $pe=O.forwardRef(function(e,t){var r=yde(e);return O.createElement(eA,Ye({ref:t},r))}),Bk=$pe;Pue("es",TE);Eue("es");const Upe=({event:e,initialSlot:t,onSave:r,onDelete:n,onClose:a})=>{var L,U,z;const{categories:s,settings:o,isGoogleConnected:c}=Iv(),[l,u]=O.useState(!1),[d,f]=O.useState("details"),[p,m]=O.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",start:(e==null?void 0:e.start)||(t==null?void 0:t.start)||new Date,end:(e==null?void 0:e.end)||(t==null?void 0:t.end)||new Date(Date.now()+60*60*1e3),location:(e==null?void 0:e.location)||"",meetLink:(e==null?void 0:e.meetLink)||"",categoryId:((L=e==null?void 0:e.category)==null?void 0:L.id)||((U=s[0])==null?void 0:U.id)||"",color:(e==null?void 0:e.color)||((z=s[0])==null?void 0:z.color)||"#3174ad",isRecurring:(e==null?void 0:e.isRecurring)||!1,recurrenceRule:(e==null?void 0:e.recurrenceRule)||"",visibility:(e==null?void 0:e.visibility)||"public"}),[y,v]=O.useState((e==null?void 0:e.attendees)||[]),[w,g]=O.useState((e==null?void 0:e.reminders)||o.defaultReminders),[x,S]=O.useState(""),j=s.find(H=>H.id===p.categoryId);O.useEffect(()=>{j&&m(H=>({...H,color:j.color}))},[j]);const P=(H,V)=>{m(ae=>({...ae,[H]:V}))},I=()=>{if(x&&!y.find(H=>H.email===x)){const H={id:Date.now().toString(),email:x,name:x.split("@")[0],status:"needsAction",isOptional:!1};v(V=>[...V,H]),S("")}},k=H=>{v(V=>V.filter(ae=>ae.id!==H))},D=H=>{g(V=>V.map(ae=>ae.id===H?{...ae,enabled:!ae.enabled}:ae))},R=async H=>{H.preventDefault(),u(!0);try{const V={...p,category:j,attendees:y,reminders:w};await r(V)}catch(V){console.error("Error saving event:",V)}finally{u(!1)}},A=H=>{if(e)switch(H){case"whatsapp":const V=u0.createWhatsAppShareUrl(e);window.open(V,"_blank");break;case"email":const ae=encodeURIComponent(`Invitacin: ${e.title}`),le=encodeURIComponent(u0.generateEventMessage(e));window.open(`mailto:?subject=${ae}&body=${le}`,"_blank");break;case"copy":navigator.clipboard.writeText(u0.generateEventMessage(e)),alert("Informacin del evento copiada al portapapeles");break}},E=()=>{e&&u0.downloadCalendarFile(e)},_=s.map(H=>({value:H.id,label:H.name,color:H.color})),F=[{value:"",label:"No repetir"},{value:"FREQ=DAILY",label:"Diariamente"},{value:"FREQ=WEEKLY",label:"Semanalmente"},{value:"FREQ=MONTHLY",label:"Mensualmente"},{value:"FREQ=YEARLY",label:"Anualmente"}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-screen overflow-y-auto m-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?"Editar Evento":"Nuevo Evento"}),i.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(zs,{className:"h-6 w-6"})})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"details",label:"Detalles",icon:Sn},{id:"attendees",label:"Participantes",icon:Zn},{id:"reminders",label:"Recordatorios",icon:Wh},{id:"share",label:"Compartir",icon:M7}].map(H=>{const V=H.icon;return i.jsxs("button",{onClick:()=>f(H.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${d===H.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(V,{className:"h-4 w-4"}),H.label]},H.id)})})}),i.jsxs("form",{onSubmit:R,className:"p-6",children:[d==="details"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo del evento *"}),i.jsx("input",{type:"text",value:p.title,onChange:H=>P("title",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Reunin con cliente",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y hora de inicio *"}),i.jsx(yk,{selected:p.start,onChange:H=>P("start",H),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",locale:"es",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y hora de fin *"}),i.jsx(yk,{selected:p.end,onChange:H=>P("end",H),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",locale:"es",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),i.jsx(Bk,{value:_.find(H=>H.value===p.categoryId),onChange:H=>P("categoryId",H==null?void 0:H.value),options:_,formatOptionLabel:H=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:H.color}}),H.label]}),className:"react-select-container",classNamePrefix:"react-select",placeholder:"Seleccionar categora"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visibilidad"}),i.jsxs("select",{value:p.visibility,onChange:H=>P("visibility",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"public",children:"Pblico"}),i.jsx("option",{value:"private",children:"Privado"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{value:p.description,onChange:H=>P("description",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripcin del evento..."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i.jsx(Rv,{className:"h-4 w-4 inline mr-1"}),"Ubicacin"]}),i.jsx("input",{type:"text",value:p.location,onChange:H=>P("location",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Direccin o lugar del evento"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i.jsx(Lg,{className:"h-4 w-4 inline mr-1"}),"Enlace de reunin"]}),i.jsx("input",{type:"url",value:p.meetLink,onChange:H=>P("meetLink",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://meet.google.com/..."}),c&&o.autoCreateMeetLinks&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se generar automticamente un enlace de Google Meet si se deja vaco"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isRecurring",checked:p.isRecurring,onChange:H=>P("isRecurring",H.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),i.jsxs("label",{htmlFor:"isRecurring",className:"text-sm font-medium text-gray-700",children:[i.jsx(E7,{className:"h-4 w-4 inline mr-1"}),"Evento recurrente"]})]}),p.isRecurring&&i.jsx("div",{className:"mt-2",children:i.jsx(Bk,{value:F.find(H=>H.value===p.recurrenceRule),onChange:H=>P("recurrenceRule",H==null?void 0:H.value),options:F,placeholder:"Seleccionar frecuencia",className:"react-select-container",classNamePrefix:"react-select"})})]})]})}),d==="attendees"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agregar participantes"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"email",value:x,onChange:H=>S(H.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"correo@ejemplo.com",onKeyPress:H=>H.key==="Enter"&&(H.preventDefault(),I())}),i.jsx("button",{type:"button",onClick:I,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar"})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Participantes (",y.length,")"]}),i.jsxs("div",{className:"space-y-2",children:[y.map(H=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium mr-3",children:(H.name||H.email).charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.name||H.email}),i.jsx("p",{className:"text-xs text-gray-500",children:H.email})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${H.status==="accepted"?"bg-green-100 text-green-800":H.status==="declined"?"bg-red-100 text-red-800":H.status==="tentative"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:H.status==="accepted"?"Acept":H.status==="declined"?"Rechaz":H.status==="tentative"?"Tentativo":"Pendiente"}),i.jsx("button",{type:"button",onClick:()=>k(H.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(zs,{className:"h-4 w-4"})})]})]},H.id)),y.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay participantes agregados"})]})]})]}),d==="reminders"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Configurar recordatorios"}),i.jsx("div",{className:"space-y-3",children:w.map(H=>i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:H.enabled,onChange:()=>D(H.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:H.method==="email"?"Email":H.method==="popup"?"Notificacin":"WhatsApp"}),i.jsx("p",{className:"text-xs text-gray-500",children:H.minutes===0?"En el momento":H.minutes<60?`${H.minutes} minutos antes`:H.minutes<1440?`${H.minutes/60} horas antes`:`${H.minutes/1440} das antes`})]})]}),i.jsx(Wh,{className:`h-4 w-4 ${H.enabled?"text-blue-600":"text-gray-400"}`})]},H.id))})]})}),d==="share"&&e&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Compartir evento"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("button",{type:"button",onClick:()=>A("whatsapp"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx("span",{className:"text-white text-xl",children:""})}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Compartir por WhatsApp"})]})}),i.jsx("button",{type:"button",onClick:()=>A("email"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx("span",{className:"text-white text-xl",children:""})}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Enviar por correo"})]})}),i.jsx("button",{type:"button",onClick:()=>A("copy"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx("span",{className:"text-white text-xl",children:""})}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Copiar"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Copiar al portapapeles"})]})}),i.jsx("button",{type:"button",onClick:E,className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(is,{className:"h-6 w-6 text-white"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Descargar"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Archivo .ics"})]})})]})]})}),i.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200 mt-6",children:[i.jsx("div",{children:e&&n&&i.jsxs("button",{type:"button",onClick:n,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[i.jsx(Qr,{className:"h-4 w-4"}),"Eliminar"]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[i.jsx(zd,{className:"h-4 w-4"}),l?"Guardando...":"Guardar"]})]})]})]})]})})},zpe=({onClose:e})=>{const{settings:t,categories:r,isGoogleConnected:n,updateSettings:a,addCategory:s,updateCategory:o,deleteCategory:c,connectToGoogle:l,disconnectFromGoogle:u}=Iv(),[d,f]=O.useState("general"),[p,m]=O.useState(t),[y,v]=O.useState({name:"",color:"#3174ad",description:""}),w=(k,D)=>{m(R=>({...R,[k]:D}))},g=()=>{a(p),e()},x=()=>{y.name.trim()&&(s(y),v({name:"",color:"#3174ad",description:""}))},S=k=>{window.confirm("Ests seguro de que deseas eliminar esta categora?")&&c(k)},j=[{value:"America/Mexico_City",label:"Ciudad de Mxico (GMT-6)"},{value:"America/New_York",label:"Nueva York (GMT-5)"},{value:"America/Los_Angeles",label:"Los ngeles (GMT-8)"},{value:"Europe/Madrid",label:"Madrid (GMT+1)"},{value:"Europe/London",label:"Londres (GMT+0)"},{value:"Asia/Tokyo",label:"Tokio (GMT+9)"},{value:"Australia/Sydney",label:"Sdney (GMT+11)"}],P=["#3174ad","#28a745","#ffc107","#dc3545","#6f42c1","#fd7e14","#20c997","#6c757d","#e83e8c","#17a2b8"],I=[{value:"month",label:"Mes"},{value:"week",label:"Semana"},{value:"day",label:"Da"},{value:"agenda",label:"Agenda"}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-screen overflow-y-auto m-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuracin del Calendario"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(zs,{className:"h-6 w-6"})})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"general",label:"General",icon:Sn},{id:"categories",label:"Categoras",icon:D7},{id:"notifications",label:"Notificaciones",icon:Wh},{id:"integration",label:"Integracin",icon:T6}].map(k=>{const D=k.icon;return i.jsxs("button",{onClick:()=>f(k.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${d===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(D,{className:"h-4 w-4"}),k.label]},k.id)})})}),i.jsxs("div",{className:"p-6",children:[d==="general"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vista predeterminada"}),i.jsx("select",{value:p.defaultView,onChange:k=>w("defaultView",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:I.map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zona horaria"}),i.jsx("select",{value:p.timezone,onChange:k=>w("timezone",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:j.map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de inicio laboral"}),i.jsx("input",{type:"time",value:p.workingHours.start,onChange:k=>w("workingHours",{...p.workingHours,start:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de fin laboral"}),i.jsx("input",{type:"time",value:p.workingHours.end,onChange:k=>w("workingHours",{...p.workingHours,end:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"autoCreateMeetLinks",checked:p.autoCreateMeetLinks,onChange:k=>w("autoCreateMeetLinks",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),i.jsx("label",{htmlFor:"autoCreateMeetLinks",className:"text-sm font-medium text-gray-700",children:"Crear automticamente enlaces de Google Meet"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"notificationsEnabled",checked:p.notificationsEnabled,onChange:k=>w("notificationsEnabled",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),i.jsx("label",{htmlFor:"notificationsEnabled",className:"text-sm font-medium text-gray-700",children:"Habilitar notificaciones"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"syncWithGoogle",checked:p.syncWithGoogle,onChange:k=>w("syncWithGoogle",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3",disabled:!n}),i.jsx("label",{htmlFor:"syncWithGoogle",className:"text-sm font-medium text-gray-700",children:"Sincronizar automticamente con Google Calendar"})]})]})]}),d==="categories"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agregar nueva categora"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),i.jsx("input",{type:"text",value:y.name,onChange:k=>v(D=>({...D,name:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la categora"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),i.jsx("div",{className:"flex gap-2",children:P.map(k=>i.jsx("button",{type:"button",onClick:()=>v(D=>({...D,color:k})),className:`w-8 h-8 rounded-full border-2 ${y.color===k?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:k}},k))})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"button",onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Categoras existentes"}),i.jsx("div",{className:"space-y-3",children:r.map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:k.color}}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.name}),k.description&&i.jsx("p",{className:"text-xs text-gray-500",children:k.description})]})]}),i.jsx("button",{type:"button",onClick:()=>S(k.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(zs,{className:"h-4 w-4"})})]},k.id))})]})]}),d==="notifications"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recordatorios predeterminados"}),i.jsx("div",{className:"space-y-3",children:p.defaultReminders.map((k,D)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:k.enabled,onChange:R=>{const A=[...p.defaultReminders];A[D]={...k,enabled:R.target.checked},w("defaultReminders",A)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.method==="email"?"Email":k.method==="popup"?"Notificacin":"WhatsApp"}),i.jsx("p",{className:"text-xs text-gray-500",children:k.minutes===0?"En el momento":k.minutes<60?`${k.minutes} minutos antes`:k.minutes<1440?`${k.minutes/60} horas antes`:`${k.minutes/1440} das antes`})]})]}),i.jsx(Wh,{className:`h-4 w-4 ${k.enabled?"text-blue-600":"text-gray-400"}`})]},k.id))})]})}),d==="integration"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Google Calendar"}),i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Estado de conexin"}),i.jsx("p",{className:"text-xs text-gray-500",children:n?"Conectado a Google Calendar":"No conectado a Google Calendar"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${n?"bg-green-500":"bg-red-500"}`}),n?i.jsx("button",{onClick:u,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Desconectar"}):i.jsx("button",{onClick:l,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Conectar"})]})]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Integracin WhatsApp"}),i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Compartir eventos"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Permite compartir eventos directamente por WhatsApp"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{className:"text-sm text-green-600",children:"Disponible"})]})]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seguridad"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(_c,{className:"h-5 w-5 text-green-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Conexin segura"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Todas las conexiones estn cifradas"})]})]}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(_c,{className:"h-5 w-5 text-green-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Tokens seguros"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Los tokens se almacenan de forma segura"})]})]}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-6 border-t border-gray-200 mt-6",children:[i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"button",onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(zd,{className:"h-4 w-4"}),"Guardar Configuracin"]})]})]})]})})},nh={months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],weekdays:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],weekdaysShort:["dom","lun","mar","mi","jue","vie","sb"],weekdaysMin:["D","L","M","X","J","V","S"]},Bpe=()=>{Te.defineLocale("es-custom",{months:nh.months,monthsShort:nh.monthsShort,weekdays:nh.weekdays,weekdaysShort:nh.weekdaysShort,weekdaysMin:nh.weekdaysMin,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoy a las] LT",nextDay:"[Maana a las] LT",nextWeek:"dddd [a las] LT",lastDay:"[Ayer a las] LT",lastWeek:"[el] dddd [pasado a las] LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),Te.locale("es-custom")};Bpe();const Wpe=tre(Te),Hpe=()=>{const{events:e,settings:t,isGoogleConnected:r,isLoading:n,error:a,addEvent:s,updateEvent:o,deleteEvent:c,syncWithGoogle:l,connectToGoogle:u}=Iv(),[d,f]=O.useState(t.defaultView),[p,m]=O.useState(new Date),[y,v]=O.useState(!1),[w,g]=O.useState(!1),[x,S]=O.useState(null),[j,P]=O.useState(null),I=e.map(U=>({id:U.id,title:U.title,start:new Date(U.start),end:new Date(U.end),resource:U,style:{backgroundColor:U.color,borderColor:U.color}})),k=U=>{S(U.resource),P(null),v(!0)},D=U=>{S(null),P({start:U.start,end:U.end}),v(!0)},R=async U=>{try{x?await o(x.id,U):await s(U),v(!1),S(null),P(null)}catch(z){console.error("Error saving event:",z)}},A=async()=>{if(x)try{await c(x.id),v(!1),S(null)}catch(U){console.error("Error deleting event:",U)}},E=async()=>{if(r)try{await l()}catch(U){console.error("Error syncing with Google:",U)}},_=U=>({style:{backgroundColor:U.resource.color,borderColor:U.resource.color,color:"white",borderRadius:"4px",border:"none",fontSize:"12px",padding:"2px 4px"}}),F=U=>{switch(U){case rr.MONTH:return i.jsx(w7,{className:"h-4 w-4"});case rr.WEEK:return i.jsx(Sn,{className:"h-4 w-4"});case rr.DAY:return i.jsx(pn,{className:"h-4 w-4"});case rr.AGENDA:return i.jsx(j7,{className:"h-4 w-4"});default:return i.jsx(Sn,{className:"h-4 w-4"})}},L=U=>{switch(U){case rr.MONTH:return"Mes";case rr.WEEK:return"Semana";case rr.DAY:return"Da";case rr.AGENDA:return"Agenda";default:return U}};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Calendario"}),i.jsx("p",{className:"text-gray-600",children:"Gestiona tus eventos y reuniones"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[rr.MONTH,rr.WEEK,rr.DAY,rr.AGENDA].map(U=>i.jsxs("button",{onClick:()=>f(U),className:`flex items-center gap-1 px-3 py-1 rounded text-sm font-medium transition-colors ${d===U?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[F(U),L(U)]},U))}),r?i.jsxs("button",{onClick:E,disabled:n,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[i.jsx(T6,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Sincronizar"]}):i.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Sn,{className:"h-4 w-4"}),"Conectar Google"]}),i.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nuevo Evento"]}),i.jsxs("button",{onClick:()=>g(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(pc,{className:"h-4 w-4"}),"Configuracin"]})]})]}),a&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsx("div",{className:"flex items-center",children:i.jsx("div",{className:"text-red-600 text-sm",children:a})})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsx("div",{style:{height:"600px"},children:i.jsx(Kte,{localizer:Wpe,events:I,startAccessor:"start",endAccessor:"end",view:d,onView:f,date:p,onNavigate:m,onSelectEvent:k,onSelectSlot:D,selectable:!0,eventPropGetter:_,popup:!0,showMultiDayTimes:!0,step:30,timeslots:2,defaultDate:new Date,messages:{next:"Siguiente",previous:"Anterior",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:U=>`+ Ver ${U} ms`,allDay:"Todo el da",work_week:"Semana laboral",yesterday:"Ayer",tomorrow:"Maana"},formats:{timeGutterFormat:"HH:mm",eventTimeRangeFormat:({start:U,end:z})=>`${Te(U).format("HH:mm")} - ${Te(z).format("HH:mm")}`,dayHeaderFormat:U=>Te(U).format("dddd DD/MM"),dayRangeHeaderFormat:({start:U,end:z})=>`${Te(U).format("DD/MM")} - ${Te(z).format("DD/MM")}`,monthHeaderFormat:U=>Te(U).format("MMMM YYYY"),weekdayFormat:U=>Te(U).format("ddd"),agendaHeaderFormat:({start:U,end:z})=>`${Te(U).format("DD/MM/YYYY")} - ${Te(z).format("DD/MM/YYYY")}`,agendaDateFormat:U=>Te(U).format("ddd DD/MM"),agendaTimeFormat:U=>Te(U).format("HH:mm"),agendaTimeRangeFormat:({start:U,end:z})=>`${Te(U).format("HH:mm")} - ${Te(z).format("HH:mm")}`},culture:"es-custom"})})}),y&&i.jsx(Upe,{event:x,initialSlot:j,onSave:R,onDelete:A,onClose:()=>{v(!1),S(null),P(null)}}),w&&i.jsx(zpe,{onClose:()=>g(!1)})]})},Ype=()=>{const{syncWithGoogle:e}=Iv(),[t,r]=O.useState("loading"),[n,a]=O.useState("");return O.useEffect(()=>{(async()=>{try{const o=new URLSearchParams(window.location.search),c=o.get("code"),l=o.get("error");if(l)throw new Error(`Authentication error: ${l}`);if(!c)throw new Error("No authorization code received");await bh.exchangeCodeForTokens(c),await e(),r("success"),a("Conexin exitosa! Tu calendario se ha sincronizado con Google Calendar."),setTimeout(()=>{window.location.href="/calendar"},3e3)}catch(o){console.error("Auth callback error:",o),r("error"),a(o instanceof Error?o.message:"Error durante la autenticacin")}})()},[e]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsx("div",{className:"max-w-md w-full bg-white rounded-xl shadow-sm border border-gray-200 p-8",children:i.jsxs("div",{className:"text-center",children:[t==="loading"&&i.jsxs(i.Fragment,{children:[i.jsx(S7,{className:"h-12 w-12 text-blue-600 mx-auto mb-4 animate-spin"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Conectando con Google Calendar"}),i.jsx("p",{className:"text-gray-600",children:"Por favor espera mientras procesamos tu autenticacin..."})]}),t==="success"&&i.jsxs(i.Fragment,{children:[i.jsx(Si,{className:"h-12 w-12 text-green-600 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Conexin Exitosa!"}),i.jsx("p",{className:"text-gray-600 mb-4",children:n}),i.jsx("p",{className:"text-sm text-gray-500",children:"Sers redirigido al calendario en unos segundos..."})]}),t==="error"&&i.jsxs(i.Fragment,{children:[i.jsx(Pa,{className:"h-12 w-12 text-red-600 mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error de Conexin"}),i.jsx("p",{className:"text-gray-600 mb-4",children:n}),i.jsx("button",{onClick:()=>window.location.href="/calendar",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Volver al Calendario"})]})]})})})},Vpe=({onProjectSelect:e,onNewProject:t,onNewClient:r})=>{var k,D;const{projects:n,clients:a,getSalesMetrics:s,getUpcomingPayments:o,getUpcomingMeetings:c,getOverdueTasks:l}=Ol(),[u,d]=O.useState(""),[f,p]=O.useState({}),[m,y]=O.useState("grid"),v=s(),w=o(30),g=c(7),x=l(),S=n.filter(R=>{var U,z,H;const A=a.find(V=>V.id===R.clientId),E=R.name.toLowerCase().includes(u.toLowerCase())||R.description.toLowerCase().includes(u.toLowerCase())||(A==null?void 0:A.companyName.toLowerCase().includes(u.toLowerCase())),_=!((U=f.status)!=null&&U.length)||f.status.includes(R.status),F=!((z=f.type)!=null&&z.length)||f.type.includes(R.type),L=!((H=f.priority)!=null&&H.length)||f.priority.includes(R.priority);return E&&_&&F&&L}),j=R=>({planning:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",testing:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800","on-hold":"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[R],P=R=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[R],I=R=>R.milestones.length===0?0:R.milestones.filter(E=>E.status==="completed").length/R.milestones.length*100;return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Proyectos"}),i.jsx("p",{className:"text-gray-600",children:"Administra proyectos de clientes y seguimiento financiero"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:r,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(Zn,{className:"h-4 w-4"}),"Nuevo Cliente"]}),i.jsxs("button",{onClick:t,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nuevo Proyecto"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Proyectos Activos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.activeProjects})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(Yb,{className:"h-6 w-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Ingresos del Mes"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",v.monthlyRevenue.toLocaleString()]})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(ki,{className:"h-6 w-6 text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pagos Pendientes"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:i.jsx(pn,{className:"h-6 w-6 text-yellow-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Tareas Vencidas"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),i.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:i.jsx(ji,{className:"h-6 w-6 text-red-600"})})]})})]}),(w.length>0||g.length>0||x.length>0)&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.length>0&&i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(ki,{className:"h-5 w-5 text-yellow-600 mr-2"}),i.jsx("h3",{className:"font-semibold text-yellow-800",children:"Pagos Prximos"})]}),i.jsxs("div",{className:"space-y-2",children:[w.slice(0,3).map(R=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("p",{className:"font-medium text-yellow-900",children:["$",R.amount.toLocaleString()]}),i.jsx("p",{className:"text-yellow-700",children:st(R.dueDate,"dd/MM/yyyy")})]},R.id)),w.length>3&&i.jsxs("p",{className:"text-xs text-yellow-600",children:["+",w.length-3," ms"]})]})]}),g.length>0&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(Sn,{className:"h-5 w-5 text-blue-600 mr-2"}),i.jsx("h3",{className:"font-semibold text-blue-800",children:"Reuniones Prximas"})]}),i.jsxs("div",{className:"space-y-2",children:[g.slice(0,3).map(R=>i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-blue-900",children:R.title}),i.jsx("p",{className:"text-blue-700",children:st(R.scheduledDate,"dd/MM HH:mm")})]},R.id)),g.length>3&&i.jsxs("p",{className:"text-xs text-blue-600",children:["+",g.length-3," ms"]})]})]}),x.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(ji,{className:"h-5 w-5 text-red-600 mr-2"}),i.jsx("h3",{className:"font-semibold text-red-800",children:"Tareas Vencidas"})]}),i.jsxs("div",{className:"space-y-2",children:[x.slice(0,3).map(R=>i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-red-900",children:R.title}),i.jsx("p",{className:"text-red-700",children:st(R.dueDate,"dd/MM/yyyy")})]},R.id)),x.length>3&&i.jsxs("p",{className:"text-xs text-red-600",children:["+",x.length-3," ms"]})]})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar proyectos o clientes...",value:u,onChange:R=>d(R.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:((k=f.status)==null?void 0:k[0])||"",onChange:R=>p(A=>({...A,status:R.target.value?[R.target.value]:void 0})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Todos los estados"}),i.jsx("option",{value:"planning",children:"Planificacin"}),i.jsx("option",{value:"in-progress",children:"En Progreso"}),i.jsx("option",{value:"testing",children:"Pruebas"}),i.jsx("option",{value:"completed",children:"Completado"}),i.jsx("option",{value:"on-hold",children:"En Pausa"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]}),i.jsxs("select",{value:((D=f.type)==null?void 0:D[0])||"",onChange:R=>p(A=>({...A,type:R.target.value?[R.target.value]:void 0})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Todos los tipos"}),i.jsx("option",{value:"chatbot",children:"Chatbot"}),i.jsx("option",{value:"app",children:"Aplicacin"}),i.jsx("option",{value:"website",children:"Sitio Web"}),i.jsx("option",{value:"crm",children:"CRM"}),i.jsx("option",{value:"automation",children:"Automatizacin"}),i.jsx("option",{value:"other",children:"Otro"})]}),i.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>y("grid"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${m==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Grid"}),i.jsx("button",{onClick:()=>y("list"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${m==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Lista"})]})]})]})}),m==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(R=>{const A=a.find(_=>_.id===R.clientId),E=I(R);return i.jsxs("div",{onClick:()=>e(R),className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:R.name}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:A==null?void 0:A.companyName}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${j(R.status)}`,children:R.status}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${P(R.priority)}`,children:R.priority})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"Progreso"}),i.jsxs("span",{className:"font-medium",children:[Math.round(E),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${E}%`}})})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Valor:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",R.totalValue.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Entrega:"}),i.jsx("span",{className:"text-gray-900",children:st(R.endDate,"dd/MM/yyyy")})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(Zn,{className:"h-4 w-4 mr-1"}),R.assignedTo.length," miembros"]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(Sn,{className:"h-4 w-4 mr-1"}),R.milestones.length," hitos"]})]})]})]},R.id)})}):i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proyecto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progreso"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entrega"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(R=>{const A=a.find(_=>_.id===R.clientId),E=I(R);return i.jsxs("tr",{onClick:()=>e(R),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.name}),i.jsx("div",{className:"text-sm text-gray-500",children:R.type})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:A==null?void 0:A.companyName}),i.jsx("div",{className:"text-sm text-gray-500",children:A==null?void 0:A.contactPerson})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(R.status)}`,children:R.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${E}%`}})}),i.jsxs("span",{className:"text-sm text-gray-900",children:[Math.round(E),"%"]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",R.totalValue.toLocaleString()]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:st(R.endDate,"dd/MM/yyyy")})]},R.id)})})]})})}),S.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Yb,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron proyectos"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros o crear un nuevo proyecto."}),i.jsx("button",{onClick:t,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Crear Primer Proyecto"})]})]})},qpe=({project:e})=>{const{addMilestone:t,updateMilestone:r,deleteMilestone:n}=Ol(),[a,s]=O.useState(!1),[o,c]=O.useState(null),[l,u]=O.useState({title:"",description:"",dueDate:"",assignedTo:"",dependencies:[]}),d=x=>{x.preventDefault();const S={title:l.title,description:l.description,dueDate:new Date(l.dueDate),status:"pending",progress:0,dependencies:l.dependencies,assignedTo:l.assignedTo};o?r(e.id,o.id,S):t(e.id,S),f()},f=()=>{u({title:"",description:"",dueDate:"",assignedTo:"",dependencies:[]}),s(!1),c(null)},p=x=>{u({title:x.title,description:x.description,dueDate:st(x.dueDate,"yyyy-MM-dd"),assignedTo:x.assignedTo,dependencies:x.dependencies}),c(x),s(!0)},m=x=>{window.confirm("Ests seguro de que deseas eliminar este hito?")&&n(e.id,x)},y=(x,S)=>{const j={status:S};S==="completed"&&!x.completedDate?(j.completedDate=new Date,j.progress=100):S!=="completed"&&(j.completedDate=void 0,j.progress=S==="in-progress"?50:0),r(e.id,x.id,j)},v=x=>{switch(x){case"completed":return i.jsx(Si,{className:"h-5 w-5 text-green-500"});case"in-progress":return i.jsx(pn,{className:"h-5 w-5 text-yellow-500"});case"overdue":return i.jsx(ji,{className:"h-5 w-5 text-red-500"});default:return i.jsx(Sn,{className:"h-5 w-5 text-gray-400"})}},w=x=>({pending:"bg-gray-100 text-gray-800","in-progress":"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[x],g=[...e.milestones].sort((x,S)=>x.dueDate.getTime()-S.dueDate.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cronograma del Proyecto"}),i.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nuevo Hito"]})]}),a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Editar Hito":"Nuevo Hito"}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo *"}),i.jsx("input",{type:"text",value:l.title,onChange:x=>u(S=>({...S,title:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Vencimiento *"}),i.jsx("input",{type:"date",value:l.dueDate,onChange:x=>u(S=>({...S,dueDate:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{value:l.description,onChange:x=>u(S=>({...S,description:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asignado a"}),i.jsxs("select",{value:l.assignedTo,onChange:x=>u(S=>({...S,assignedTo:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar miembro del equipo"}),e.assignedTo.map(x=>i.jsx("option",{value:x,children:x},x))]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Actualizar":"Crear"," Hito"]})]})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"space-y-6",children:[g.map((x,S)=>i.jsxs("div",{className:"relative",children:[S<g.length-1&&i.jsx("div",{className:"absolute left-6 top-12 w-0.5 h-16 bg-gray-200"}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:v(x.status)}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900",children:x.title}),x.description&&i.jsx("p",{className:"text-gray-600 mt-1",children:x.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${w(x.status)}`,children:x.status}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Vence: ",st(x.dueDate,"dd/MM/yyyy")]}),x.assignedTo&&i.jsxs("span",{className:"text-sm text-gray-600",children:["Asignado: ",x.assignedTo]}),x.completedDate&&i.jsxs("span",{className:"text-sm text-green-600",children:["Completado: ",st(x.completedDate,"dd/MM/yyyy")]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"Progreso"}),i.jsxs("span",{className:"font-medium",children:[x.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.progress}%`}})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs("select",{value:x.status,onChange:j=>y(x,j.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"in-progress",children:"En Progreso"}),i.jsx("option",{value:"completed",children:"Completado"})]}),i.jsx("button",{onClick:()=>p(x),className:"text-blue-600 hover:text-blue-800 transition-colors",children:i.jsx(Hn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>m(x.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]})})]})]},x.id)),g.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Sn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay hitos definidos para este proyecto"}),i.jsx("p",{className:"text-sm",children:"Agrega hitos para hacer seguimiento del progreso"})]})]})})]})},Gpe=({project:e})=>{const{addNote:t,updateNote:r,deleteNote:n}=Ol(),[a,s]=O.useState(!1),[o,c]=O.useState(null),[l,u]=O.useState("all"),[d,f]=O.useState({content:"",type:"general",isImportant:!1}),p=j=>{j.preventDefault();const P={content:d.content,type:d.type,createdBy:"Usuario Actual",isImportant:d.isImportant,attachments:[]};o?r(e.id,o.id,P):t(e.id,P),m()},m=()=>{f({content:"",type:"general",isImportant:!1}),s(!1),c(null)},y=j=>{f({content:j.content,type:j.type,isImportant:j.isImportant}),c(j),s(!0)},v=j=>{window.confirm("Ests seguro de que deseas eliminar esta nota?")&&n(e.id,j)},w=j=>{r(e.id,j.id,{isImportant:!j.isImportant})},g=j=>({update:"bg-blue-100 text-blue-800",improvement:"bg-green-100 text-green-800",issue:"bg-red-100 text-red-800",meeting:"bg-purple-100 text-purple-800",general:"bg-gray-100 text-gray-800"})[j],x=j=>({update:"",improvement:"",issue:"",meeting:"",general:""})[j],S=e.notes.filter(j=>l==="all"||j.type===l).sort((j,P)=>j.isImportant&&!P.isImportant?-1:!j.isImportant&&P.isImportant?1:P.createdAt.getTime()-j.createdAt.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notas del Proyecto"}),i.jsxs("select",{value:l,onChange:j=>u(j.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:[i.jsx("option",{value:"all",children:"Todas las notas"}),i.jsx("option",{value:"update",children:"Actualizaciones"}),i.jsx("option",{value:"improvement",children:"Mejoras"}),i.jsx("option",{value:"issue",children:"Problemas"}),i.jsx("option",{value:"meeting",children:"Reuniones"}),i.jsx("option",{value:"general",children:"General"})]})]}),i.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nueva Nota"]})]}),a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Editar Nota":"Nueva Nota"}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Nota"}),i.jsxs("select",{value:d.type,onChange:j=>f(P=>({...P,type:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"general",children:"General"}),i.jsx("option",{value:"update",children:"Actualizacin"}),i.jsx("option",{value:"improvement",children:"Mejora"}),i.jsx("option",{value:"issue",children:"Problema"}),i.jsx("option",{value:"meeting",children:"Reunin"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isImportant",checked:d.isImportant,onChange:j=>f(P=>({...P,isImportant:j.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),i.jsx("label",{htmlFor:"isImportant",className:"text-sm font-medium text-gray-700",children:"Marcar como importante"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contenido *"}),i.jsx("textarea",{value:d.content,onChange:j=>f(P=>({...P,content:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Escribe tu nota aqu...",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Actualizar":"Crear"," Nota"]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[S.map(j=>i.jsx("div",{className:`bg-white rounded-xl shadow-sm border p-6 ${j.isImportant?"border-yellow-300 bg-yellow-50":"border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("span",{className:"text-lg",children:x(j.type)}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${g(j.type)}`,children:j.type}),j.isImportant&&i.jsx(CS,{className:"h-4 w-4 text-yellow-500 fill-current"}),i.jsx("span",{className:"text-sm text-gray-500",children:st(j.createdAt,"dd/MM/yyyy HH:mm")}),i.jsxs("span",{className:"text-sm text-gray-500",children:["por ",j.createdBy]})]}),i.jsx("div",{className:"prose prose-sm max-w-none",children:i.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:j.content})}),j.attachments.length>0&&i.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[i.jsx(_7,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[j.attachments.length," archivo(s) adjunto(s)"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("button",{onClick:()=>w(j),className:`transition-colors ${j.isImportant?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"}`,title:j.isImportant?"Quitar de importantes":"Marcar como importante",children:j.isImportant?i.jsx(CS,{className:"h-4 w-4 fill-current"}):i.jsx(A7,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>y(j),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Editar nota",children:i.jsx(Hn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>v(j.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Eliminar nota",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]})},j.id)),S.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Hc,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:["No hay notas ",l!=="all"?`de tipo "${l}"`:""," para este proyecto"]}),i.jsx("p",{className:"text-sm",children:"Agrega notas para documentar el progreso y comunicacin"})]})]})]})},Kpe=({project:e})=>{const{addPayment:t,updatePayment:r,deletePayment:n,generateInvoice:a}=Ol(),[s,o]=O.useState(!1),[c,l]=O.useState(null),[u,d]=O.useState({description:"",amount:0,dueDate:"",notes:""}),f=k=>{k.preventDefault();const D={description:u.description,amount:u.amount,dueDate:new Date(u.dueDate),status:"pending",notes:u.notes};c?r(e.id,c.id,D):t(e.id,D),p()},p=()=>{d({description:"",amount:0,dueDate:"",notes:""}),o(!1),l(null)},m=k=>{d({description:k.description,amount:k.amount,dueDate:st(k.dueDate,"yyyy-MM-dd"),notes:k.notes}),l(k),o(!0)},y=k=>{window.confirm("Ests seguro de que deseas eliminar este pago?")&&n(e.id,k)},v=(k,D)=>{const R={status:D};D==="paid"&&!k.paidDate?R.paidDate=new Date:D!=="paid"&&(R.paidDate=void 0),r(e.id,k.id,R)},w=k=>{try{const D=a(e.id,k.id);alert(`Factura ${D.number} generada exitosamente`)}catch{alert("Error al generar la factura")}},g=k=>({pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[k],x=k=>{switch(k){case"paid":return i.jsx(Si,{className:"h-5 w-5 text-green-500"});case"overdue":return i.jsx(ji,{className:"h-5 w-5 text-red-500"});case"pending":return i.jsx(pn,{className:"h-5 w-5 text-yellow-500"});default:return i.jsx(ki,{className:"h-5 w-5 text-gray-400"})}},S=e.paymentSchedule.reduce((k,D)=>k+D.amount,0),j=e.paymentSchedule.filter(k=>k.status==="paid").reduce((k,D)=>k+D.amount,0),P=S-j,I=[...e.paymentSchedule].sort((k,D)=>k.dueDate.getTime()-D.dueDate.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total del Proyecto"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",S.toLocaleString()]})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(ki,{className:"h-6 w-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pagado"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",j.toLocaleString()]})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Si,{className:"h-6 w-6 text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pendiente"}),i.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["$",P.toLocaleString()]})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:i.jsx(pn,{className:"h-6 w-6 text-yellow-600"})})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-gray-600",children:"Progreso de Pagos"}),i.jsxs("span",{className:"font-medium",children:[S>0?Math.round(j/S*100):0,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${S>0?j/S*100:0}%`}})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cronograma de Pagos"}),i.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nuevo Pago"]})]}),s&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:c?"Editar Pago":"Nuevo Pago"}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin *"}),i.jsx("input",{type:"text",value:u.description,onChange:k=>d(D=>({...D,description:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Anticipo 50%, Pago final",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto *"}),i.jsx("input",{type:"number",value:u.amount,onChange:k=>d(D=>({...D,amount:Number(k.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Vencimiento *"}),i.jsx("input",{type:"date",value:u.dueDate,onChange:k=>d(D=>({...D,dueDate:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),i.jsx("textarea",{value:u.notes,onChange:k=>d(D=>({...D,notes:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Notas adicionales sobre el pago"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:p,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[c?"Actualizar":"Crear"," Pago"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Vencimiento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.map(k=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[x(k.status),i.jsxs("div",{className:"ml-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.description}),k.invoiceNumber&&i.jsxs("div",{className:"text-sm text-gray-500",children:["Factura: ",k.invoiceNumber]})]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",k.amount.toLocaleString()]}),k.paymentMethod&&i.jsx("div",{className:"text-sm text-gray-500",children:k.paymentMethod})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:st(k.dueDate,"dd/MM/yyyy")}),k.paidDate&&i.jsxs("div",{className:"text-sm text-green-600",children:["Pagado: ",st(k.paidDate,"dd/MM/yyyy")]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("select",{value:k.status,onChange:D=>v(k,D.target.value),className:`text-xs px-2 py-1 rounded-full border-0 font-semibold ${g(k.status)}`,children:[i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"paid",children:"Pagado"}),i.jsx("option",{value:"overdue",children:"Vencido"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[k.status==="pending"&&i.jsx("button",{onClick:()=>w(k),className:"text-purple-600 hover:text-purple-900 transition-colors",title:"Generar factura",children:i.jsx(Br,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>m(k),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Editar pago",children:i.jsx(Hn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>y(k.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar pago",children:i.jsx(Qr,{className:"h-4 w-4"})})]})})]},k.id))})]})}),I.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(ki,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay pagos programados para este proyecto"}),i.jsx("p",{className:"text-sm",children:"Agrega un cronograma de pagos para hacer seguimiento"})]})]})]})},Xpe=({project:e})=>{const{addMeeting:t,updateMeeting:r,deleteMeeting:n}=Ol(),[a,s]=O.useState(!1),[o,c]=O.useState(null),[l,u]=O.useState({title:"",description:"",type:"review",scheduledDate:"",duration:60,attendees:[],meetLink:"",notes:""}),d=j=>{j.preventDefault();const P={title:l.title,description:l.description,type:l.type,scheduledDate:new Date(l.scheduledDate),duration:l.duration,attendees:l.attendees,meetLink:l.meetLink,status:"scheduled",notes:l.notes};o?r(e.id,o.id,P):t(e.id,P),f()},f=()=>{u({title:"",description:"",type:"review",scheduledDate:"",duration:60,attendees:[],meetLink:"",notes:""}),s(!1),c(null)},p=j=>{u({title:j.title,description:j.description,type:j.type,scheduledDate:st(j.scheduledDate,"yyyy-MM-dd'T'HH:mm"),duration:j.duration,attendees:j.attendees,meetLink:j.meetLink||"",notes:j.notes}),c(j),s(!0)},m=j=>{window.confirm("Ests seguro de que deseas eliminar esta reunin?")&&n(e.id,j)},y=(j,P)=>{r(e.id,j.id,{status:P})},v=j=>{const P=j.split(",").map(I=>I.trim()).filter(I=>I);u(I=>({...I,attendees:P}))},w=()=>{const P=`https://meet.google.com/${Math.random().toString(36).substr(2,9)}`;u(I=>({...I,meetLink:P}))},g=j=>({scheduled:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",rescheduled:"bg-yellow-100 text-yellow-800"})[j],x=j=>({review:"bg-purple-100 text-purple-800",planning:"bg-blue-100 text-blue-800",status:"bg-yellow-100 text-yellow-800",demo:"bg-green-100 text-green-800",kickoff:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"})[j],S=[...e.meetings].sort((j,P)=>P.scheduledDate.getTime()-j.scheduledDate.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reuniones del Proyecto"}),i.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nueva Reunin"]})]}),a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Editar Reunin":"Nueva Reunin"}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo *"}),i.jsx("input",{type:"text",value:l.title,onChange:j=>u(P=>({...P,title:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Revisin de Progreso",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Reunin"}),i.jsxs("select",{value:l.type,onChange:j=>u(P=>({...P,type:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"review",children:"Revisin"}),i.jsx("option",{value:"planning",children:"Planificacin"}),i.jsx("option",{value:"status",children:"Estado"}),i.jsx("option",{value:"demo",children:"Demostracin"}),i.jsx("option",{value:"kickoff",children:"Inicio"}),i.jsx("option",{value:"other",children:"Otro"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{value:l.description,onChange:j=>u(P=>({...P,description:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripcin de la reunin"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y Hora *"}),i.jsx("input",{type:"datetime-local",value:l.scheduledDate,onChange:j=>u(P=>({...P,scheduledDate:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duracin (minutos)"}),i.jsx("input",{type:"number",value:l.duration,onChange:j=>u(P=>({...P,duration:Number(j.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"15",step:"15"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Participantes (emails separados por comas)"}),i.jsx("textarea",{value:l.attendees.join(", "),onChange:j=>v(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"email1@ejemplo.com, email2@ejemplo.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enlace de Reunin"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"url",value:l.meetLink,onChange:j=>u(P=>({...P,meetLink:j.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://meet.google.com/..."}),i.jsx("button",{type:"button",onClick:w,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Generar Meet"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),i.jsx("textarea",{value:l.notes,onChange:j=>u(P=>({...P,notes:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Notas adicionales sobre la reunin"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Actualizar":"Crear"," Reunin"]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[S.map(j=>i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Lg,{className:"h-5 w-5 text-blue-600"}),i.jsx("h4",{className:"text-lg font-medium text-gray-900",children:j.title}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${x(j.type)}`,children:j.type}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${g(j.status)}`,children:j.status})]}),j.description&&i.jsx("p",{className:"text-gray-600 mb-3",children:j.description}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Sn,{className:"h-4 w-4 mr-2"}),st(j.scheduledDate,"dd/MM/yyyy HH:mm")]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(pn,{className:"h-4 w-4 mr-2"}),j.duration," minutos"]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Zn,{className:"h-4 w-4 mr-2"}),j.attendees.length," participantes"]})]}),j.attendees.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Participantes:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:j.attendees.map((P,I)=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded",children:P},I))})]}),j.meetLink&&i.jsx("div",{className:"mt-3",children:i.jsxs("a",{href:j.meetLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[i.jsx(v7,{className:"h-4 w-4 mr-1"}),"Unirse a la reunin"]})}),j.notes&&i.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-gray-700",children:j.notes})})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs("select",{value:j.status,onChange:P=>y(j,P.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[i.jsx("option",{value:"scheduled",children:"Programada"}),i.jsx("option",{value:"completed",children:"Completada"}),i.jsx("option",{value:"cancelled",children:"Cancelada"}),i.jsx("option",{value:"rescheduled",children:"Reprogramada"})]}),i.jsx("button",{onClick:()=>p(j),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Editar reunin",children:i.jsx(Hn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>m(j.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Eliminar reunin",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]})},j.id)),S.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Lg,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay reuniones programadas para este proyecto"}),i.jsx("p",{className:"text-sm",children:"Programa reuniones para mantener comunicacin con el cliente"})]})]})]})},Qpe=({project:e})=>{const{updateProject:t}=Ol(),[r,n]=O.useState(!1),[a,s]=O.useState(null),[o,c]=O.useState(""),[l,u]=O.useState("all"),[d,f]=O.useState({name:"",type:"documentation",url:"",description:"",version:"1.0"}),p=j=>{j.preventDefault();const P={id:(a==null?void 0:a.id)||Date.now().toString(),name:d.name,type:d.type,url:d.url,size:0,uploadedBy:"Usuario Actual",uploadedAt:new Date,version:d.version,description:d.description},I=a?e.documents.map(k=>k.id===a.id?P:k):[...e.documents,P];t(e.id,{documents:I}),m()},m=()=>{f({name:"",type:"documentation",url:"",description:"",version:"1.0"}),n(!1),s(null)},y=j=>{f({name:j.name,type:j.type,url:j.url,description:j.description,version:j.version}),s(j),n(!0)},v=j=>{if(window.confirm("Ests seguro de que deseas eliminar este documento?")){const P=e.documents.filter(I=>I.id!==j);t(e.id,{documents:P})}},w=j=>({contract:"bg-red-100 text-red-800",specification:"bg-blue-100 text-blue-800",design:"bg-purple-100 text-purple-800",code:"bg-green-100 text-green-800",documentation:"bg-yellow-100 text-yellow-800",communication:"bg-pink-100 text-pink-800",other:"bg-gray-100 text-gray-800"})[j],g=j=>({contract:"",specification:"",design:"",code:"",documentation:"",communication:"",other:""})[j],x=j=>{if(j===0)return"0 Bytes";const P=1024,I=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(j)/Math.log(P));return parseFloat((j/Math.pow(P,k)).toFixed(2))+" "+I[k]},S=e.documents.filter(j=>{const P=j.name.toLowerCase().includes(o.toLowerCase())||j.description.toLowerCase().includes(o.toLowerCase()),I=l==="all"||j.type===l;return P&&I}).sort((j,P)=>P.uploadedAt.getTime()-j.uploadedAt.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos del Proyecto"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"h-4 w-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:o,onChange:j=>c(j.target.value),className:"pl-9 pr-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("select",{value:l,onChange:j=>u(j.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"all",children:"Todos los tipos"}),i.jsx("option",{value:"contract",children:"Contratos"}),i.jsx("option",{value:"specification",children:"Especificaciones"}),i.jsx("option",{value:"design",children:"Diseos"}),i.jsx("option",{value:"code",children:"Cdigo"}),i.jsx("option",{value:"documentation",children:"Documentacin"}),i.jsx("option",{value:"communication",children:"Comunicacin"}),i.jsx("option",{value:"other",children:"Otros"})]})]})]}),i.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Agregar Documento"]})]}),r&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:a?"Editar Documento":"Nuevo Documento"}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Documento *"}),i.jsx("input",{type:"text",value:d.name,onChange:j=>f(P=>({...P,name:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Especificaciones Tcnicas v2.0",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),i.jsxs("select",{value:d.type,onChange:j=>f(P=>({...P,type:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"contract",children:"Contrato"}),i.jsx("option",{value:"specification",children:"Especificacin"}),i.jsx("option",{value:"design",children:"Diseo"}),i.jsx("option",{value:"code",children:"Cdigo"}),i.jsx("option",{value:"documentation",children:"Documentacin"}),i.jsx("option",{value:"communication",children:"Comunicacin"}),i.jsx("option",{value:"other",children:"Otro"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL del Documento *"}),i.jsx("input",{type:"url",value:d.url,onChange:j=>f(P=>({...P,url:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://drive.google.com/...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Versin"}),i.jsx("input",{type:"text",value:d.version,onChange:j=>f(P=>({...P,version:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"1.0"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{value:d.description,onChange:j=>f(P=>({...P,description:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripcin del documento"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a?"Actualizar":"Agregar"," Documento"]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(j=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-2xl mr-3",children:g(j.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:j.name}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${w(j.type)}`,children:j.type})]})]})}),j.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:j.description}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Versin:"}),i.jsx("span",{className:"font-medium",children:j.version})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subido por:"}),i.jsx("span",{className:"font-medium",children:j.uploadedBy})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Fecha:"}),i.jsx("span",{className:"font-medium",children:st(j.uploadedAt,"dd/MM/yyyy")})]}),j.size>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Tamao:"}),i.jsx("span",{className:"font-medium",children:x(j.size)})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Ver documento",children:i.jsx(ya,{className:"h-4 w-4"})}),i.jsx("a",{href:j.url,download:!0,className:"text-green-600 hover:text-green-800 transition-colors",title:"Descargar documento",children:i.jsx(is,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>y(j),className:"text-gray-600 hover:text-gray-800 transition-colors",title:"Editar documento",children:i.jsx(Hn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>v(j.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Eliminar documento",children:i.jsx(Qr,{className:"h-4 w-4"})})]})]})]},j.id))}),S.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Br,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:["No hay documentos ",o||l!=="all"?"que coincidan con los filtros":"para este proyecto"]}),i.jsx("p",{className:"text-sm",children:"Agrega documentos para mantener un repositorio organizado"})]})]})},Jpe=({project:e})=>{const{addExpense:t,updateExpense:r,deleteExpense:n}=Ol(),[a,s]=O.useState(!1),[o,c]=O.useState(null),[l,u]=O.useState("all"),[d,f]=O.useState({description:"",category:"tools",amount:0,date:st(new Date,"yyyy-MM-dd"),vendor:"",billable:!0,receipt:""}),p=D=>{D.preventDefault();const R={description:d.description,category:d.category,amount:d.amount,date:new Date(d.date),vendor:d.vendor,receipt:d.receipt,billable:d.billable,approved:!1,approvedBy:void 0};o?r(e.id,o.id,R):t(e.id,R),m()},m=()=>{f({description:"",category:"tools",amount:0,date:st(new Date,"yyyy-MM-dd"),vendor:"",billable:!0,receipt:""}),s(!1),c(null)},y=D=>{f({description:D.description,category:D.category,amount:D.amount,date:st(D.date,"yyyy-MM-dd"),vendor:D.vendor,billable:D.billable,receipt:D.receipt||""}),c(D),s(!0)},v=D=>{window.confirm("Ests seguro de que deseas eliminar este gasto?")&&n(e.id,D)},w=(D,R)=>{r(e.id,D.id,{approved:R,approvedBy:R?"Usuario Actual":void 0})},g=D=>({license:"bg-blue-100 text-blue-800",subscription:"bg-purple-100 text-purple-800",hosting:"bg-green-100 text-green-800",tools:"bg-yellow-100 text-yellow-800",travel:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"})[D],x=D=>({license:"",subscription:"",hosting:"",tools:"",travel:"",other:""})[D],S=e.expenses.filter(D=>l==="all"||D.category===l).sort((D,R)=>R.date.getTime()-D.date.getTime()),j=e.expenses.reduce((D,R)=>D+R.amount,0),P=e.expenses.filter(D=>D.approved).reduce((D,R)=>D+R.amount,0),I=e.expenses.filter(D=>D.billable).reduce((D,R)=>D+R.amount,0),k=e.expenses.filter(D=>!D.approved).length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Gastos"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",j.toLocaleString()]})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(Vb,{className:"h-6 w-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Aprobados"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",P.toLocaleString()]})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Si,{className:"h-6 w-6 text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Facturables"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",I.toLocaleString()]})]}),i.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:i.jsx(ki,{className:"h-6 w-6 text-purple-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:k})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:i.jsx(pn,{className:"h-6 w-6 text-yellow-600"})})]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gastos del Proyecto"}),i.jsxs("select",{value:l,onChange:D=>u(D.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"all",children:"Todas las categoras"}),i.jsx("option",{value:"license",children:"Licencias"}),i.jsx("option",{value:"subscription",children:"Suscripciones"}),i.jsx("option",{value:"hosting",children:"Hosting"}),i.jsx("option",{value:"tools",children:"Herramientas"}),i.jsx("option",{value:"travel",children:"Viajes"}),i.jsx("option",{value:"other",children:"Otros"})]})]}),i.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(or,{className:"h-4 w-4"}),"Nuevo Gasto"]})]}),a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Editar Gasto":"Nuevo Gasto"}),i.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin *"}),i.jsx("input",{type:"text",value:d.description,onChange:D=>f(R=>({...R,description:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Licencia Adobe Creative Suite",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),i.jsxs("select",{value:d.category,onChange:D=>f(R=>({...R,category:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"license",children:"Licencia"}),i.jsx("option",{value:"subscription",children:"Suscripcin"}),i.jsx("option",{value:"hosting",children:"Hosting"}),i.jsx("option",{value:"tools",children:"Herramientas"}),i.jsx("option",{value:"travel",children:"Viajes"}),i.jsx("option",{value:"other",children:"Otros"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto *"}),i.jsx("input",{type:"number",value:d.amount,onChange:D=>f(R=>({...R,amount:Number(D.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),i.jsx("input",{type:"date",value:d.date,onChange:D=>f(R=>({...R,date:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proveedor"}),i.jsx("input",{type:"text",value:d.vendor,onChange:D=>f(R=>({...R,vendor:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del proveedor"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recibo/Factura (URL)"}),i.jsx("input",{type:"url",value:d.receipt,onChange:D=>f(R=>({...R,receipt:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]}),i.jsxs("div",{className:"flex items-center pt-6",children:[i.jsx("input",{type:"checkbox",id:"billable",checked:d.billable,onChange:D=>f(R=>({...R,billable:D.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),i.jsx("label",{htmlFor:"billable",className:"text-sm font-medium text-gray-700",children:"Facturable al cliente"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Actualizar":"Crear"," Gasto"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categora"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(D=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg mr-3",children:x(D.category)}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.description}),D.vendor&&i.jsx("div",{className:"text-sm text-gray-500",children:D.vendor})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${g(D.category)}`,children:D.category})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",D.amount.toLocaleString()]}),D.billable&&i.jsx("div",{className:"text-xs text-green-600",children:"Facturable"})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:st(D.date,"dd/MM/yyyy")}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:D.approved,onChange:R=>w(D,R.target.checked),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${D.approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:D.approved?"Aprobado":"Pendiente"})]}),D.approvedBy&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["por ",D.approvedBy]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[D.receipt&&i.jsx("a",{href:D.receipt,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-900 transition-colors",title:"Ver recibo",children:i.jsx(is,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>y(D),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Editar gasto",children:i.jsx(Hn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>v(D.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar gasto",children:i.jsx(Qr,{className:"h-4 w-4"})})]})})]},D.id))})]})}),S.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Vb,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:["No hay gastos ",l!=="all"?`de categora "${l}"`:""," para este proyecto"]}),i.jsx("p",{className:"text-sm",children:"Registra gastos para hacer seguimiento del presupuesto"})]})]})]})},Zpe=({project:e,onClose:t,onEdit:r})=>{const{getClient:n}=Ol(),[a,s]=O.useState("overview"),o=n(e.clientId),c=y=>({planning:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",testing:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800","on-hold":"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[y],l=y=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[y],u=()=>e.milestones.length===0?0:e.milestones.filter(v=>v.status==="completed").length/e.milestones.length*100,f=(()=>{const y=u(),v=Math.ceil((e.endDate.getTime()-new Date().getTime())/(1e3*60*60*24));return e.milestones.filter(g=>g.status!=="completed"&&g.dueDate<new Date).length>0?{status:"at-risk",color:"text-red-600",icon:ji}:y>=80?{status:"on-track",color:"text-green-600",icon:Si}:v<7?{status:"urgent",color:"text-orange-600",icon:pn}:{status:"on-track",color:"text-green-600",icon:Si}})(),p=f.icon,m=[{id:"overview",label:"Resumen",icon:Br},{id:"timeline",label:"Cronograma",icon:Sn},{id:"notes",label:"Notas",icon:Hc},{id:"payments",label:"Pagos",icon:ki},{id:"meetings",label:"Reuniones",icon:Lg},{id:"documents",label:"Documentos",icon:Br},{id:"expenses",label:"Gastos",icon:Vb}];return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:[i.jsx(Np,{className:"h-5 w-5 mr-2"}),"Volver"]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),i.jsx("p",{className:"text-gray-600",children:o==null?void 0:o.companyName})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:`flex items-center gap-1 ${f.color}`,children:[i.jsx(p,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:f.status})]}),i.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Hn,{className:"h-4 w-4"}),"Editar"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${c(e.status)}`,children:e.status})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(Si,{className:"h-6 w-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Progreso"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(u()),"%"]})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Sn,{className:"h-6 w-6 text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.totalValue.toLocaleString()]})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:i.jsx(ki,{className:"h-6 w-6 text-yellow-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Das Restantes"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.ceil((e.endDate.getTime()-new Date().getTime())/(1e3*60*60*24))})]}),i.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:i.jsx(pn,{className:"h-6 w-6 text-purple-600"})})]})})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:m.map(y=>{const v=y.icon;return i.jsxs("button",{onClick:()=>s(y.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 whitespace-nowrap ${a===y.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(v,{className:"h-4 w-4"}),y.label]},y.id)})})}),i.jsxs("div",{className:"min-h-96",children:[a==="overview"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Informacin del Proyecto"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripcin"}),i.jsx("p",{className:"text-gray-900 mt-1",children:e.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo"}),i.jsx("p",{className:"text-gray-900 mt-1 capitalize",children:e.type})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prioridad"}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full mt-1 ${l(e.priority)}`,children:e.priority})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Inicio"}),i.jsx("p",{className:"text-gray-900 mt-1",children:st(e.startDate,"dd/MM/yyyy")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Entrega"}),i.jsx("p",{className:"text-gray-900 mt-1",children:st(e.endDate,"dd/MM/yyyy")})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progreso General"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-gray-600",children:"Progreso del Proyecto"}),i.jsxs("span",{className:"font-medium",children:[Math.round(u()),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${u()}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Horas Estimadas:"}),i.jsxs("span",{className:"font-medium ml-2",children:[e.estimatedHours,"h"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Horas Trabajadas:"}),i.jsxs("span",{className:"font-medium ml-2",children:[e.actualHours,"h"]})]})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cliente"}),o&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:o.companyName}),i.jsx("p",{className:"text-sm text-gray-600",children:o.contactPerson})]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx("p",{className:"text-gray-600",children:o.email}),i.jsx("p",{className:"text-gray-600",children:o.phone})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Equipo"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Project Manager"}),i.jsx("p",{className:"text-gray-900",children:e.projectManager})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Asignados (",e.assignedTo.length,")"]}),i.jsx("div",{className:"space-y-1",children:e.assignedTo.map((y,v)=>i.jsx("p",{className:"text-gray-900 text-sm",children:y},v))})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estadsticas"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Hitos:"}),i.jsx("span",{className:"font-medium",children:e.milestones.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Notas:"}),i.jsx("span",{className:"font-medium",children:e.notes.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Documentos:"}),i.jsx("span",{className:"font-medium",children:e.documents.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Reuniones:"}),i.jsx("span",{className:"font-medium",children:e.meetings.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Gastos:"}),i.jsxs("span",{className:"font-medium",children:["$",e.expenses.reduce((y,v)=>y+v.amount,0).toLocaleString()]})]})]})]})]})]}),a==="timeline"&&i.jsx(qpe,{project:e}),a==="notes"&&i.jsx(Gpe,{project:e}),a==="payments"&&i.jsx(Kpe,{project:e}),a==="meetings"&&i.jsx(Xpe,{project:e}),a==="documents"&&i.jsx(Qpe,{project:e}),a==="expenses"&&i.jsx(Jpe,{project:e})]})]})},N0=({title:e,value:t,icon:r,trend:n,trendLabel:a,color:s})=>{const o=()=>{switch(s){case"green":return"bg-green-50 text-green-600 border-green-200";case"red":return"bg-red-50 text-red-600 border-red-200";case"blue":return"bg-blue-50 text-blue-600 border-blue-200";case"orange":return"bg-orange-50 text-orange-600 border-orange-200";default:return"bg-gray-50 text-gray-600 border-gray-200"}},c=()=>n>0?"text-green-600":n<0?"text-red-600":"text-gray-600",l=n>0?Fs:L7;return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg ${o()}`,children:r}),n!==0&&i.jsxs("div",{className:`flex items-center ${c()}`,children:[i.jsx(l,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(n).toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t})]}),i.jsx("p",{className:"text-sm text-gray-500",children:a})]})},eme=()=>{const{cashFlowData:e}=Mo(),t=Math.max(...e.map(n=>Math.abs(n.balance))),r=200;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Flujo de Efectivo Diario"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),i.jsx("span",{children:"Positivo"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),i.jsx("span",{children:"Negativo"})]})]})]}),i.jsxs("div",{className:"relative",style:{height:r},children:[i.jsx("div",{className:"absolute inset-0 flex items-end justify-between",children:e.slice(0,7).map((n,a)=>{const s=Math.abs(n.balance)/t*r,o=n.balance>=0;return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-8 ${o?"bg-green-500":"bg-red-500"} rounded-t-sm`,style:{height:`${s}px`},title:`${n.date}: $${n.balance.toLocaleString("es-MX")}`}),i.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(n.date).getDate()})]},a)})}),i.jsx("div",{className:"absolute inset-x-0 bottom-0 h-px bg-gray-300"})]}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-sm text-gray-600",children:"ltimos 7 das"})})]})},tme=()=>{const{roiData:e}=Mo(),t=n=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),r=n=>n>=100?"text-green-600 bg-green-50":n>=50?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50";return i.jsxs("div",{className:"space-y-4",children:[e.map(n=>i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:n.projectName}),i.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${r(n.roiPercentage)}`,children:[n.roiPercentage.toFixed(1),"%"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Inversin"}),i.jsx("p",{className:"font-medium",children:t(n.investment)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Ingresos"}),i.jsx("p",{className:"font-medium",children:t(n.revenue)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Beneficio"}),i.jsx("p",{className:"font-medium",children:t(n.profit)})]})]}),i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${n.roiPercentage>=100?"bg-green-500":n.roiPercentage>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(n.roiPercentage,100)}%`}})})})]},n.projectId)),e.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"No hay datos de ROI disponibles"}),i.jsx("p",{className:"text-sm",children:"Completa algunos proyectos para ver el seguimiento de ROI"})]})]})},rme=()=>{const{alerts:e,markAlertAsRead:t}=Mo(),r=o=>{switch(o){case"overdue":return i.jsx(ji,{className:"w-5 h-5 text-red-500"});case"upcoming":return i.jsx(pn,{className:"w-5 h-5 text-yellow-500"});case"budget_exceeded":return i.jsx(Fs,{className:"w-5 h-5 text-orange-500"});default:return i.jsx(ji,{className:"w-5 h-5 text-gray-500"})}},n=o=>{switch(o){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-green-500";default:return"border-l-gray-500"}},a=o=>{switch(o){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},s=o=>{switch(o){case"high":return"Alta";case"medium":return"Media";case"low":return"Baja";default:return o}};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alertas de Pagos"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[e.filter(o=>!o.read).length," sin leer"]})]}),i.jsxs("div",{className:"space-y-4",children:[e.map(o=>i.jsx("div",{className:`p-4 border-l-4 ${n(o.priority)} bg-gray-50 rounded-lg ${o.read?"":"bg-blue-50"}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[r(o.type),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:o.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(o.priority)}`,children:s(o.priority)})]}),i.jsx("p",{className:"text-gray-700 text-sm",children:o.message}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(o.createdAt).toLocaleString("es-ES")})]})]}),!o.read&&i.jsx("button",{onClick:()=>t(o.id),className:"text-gray-400 hover:text-gray-600 ml-2",title:"Marcar como leda",children:i.jsx(zs,{className:"w-4 h-4"})})]})},o.id)),e.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(ji,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No hay alertas en este momento"}),i.jsx("p",{className:"text-sm",children:"Vers alertas de pagos y presupuestos aqu"})]})]})]})},nme=()=>{const e=[{name:"Agregar Transaccin",icon:i.jsx(or,{className:"w-5 h-5"}),color:"bg-blue-500 hover:bg-blue-600",onClick:()=>console.log("Agregar transaccin")},{name:"Crear Factura",icon:i.jsx(Br,{className:"w-5 h-5"}),color:"bg-green-500 hover:bg-green-600",onClick:()=>console.log("Crear factura")},{name:"Registrar Pago",icon:i.jsx(A6,{className:"w-5 h-5"}),color:"bg-purple-500 hover:bg-purple-600",onClick:()=>console.log("Registrar pago")},{name:"Crear Presupuesto",icon:i.jsx(Hw,{className:"w-5 h-5"}),color:"bg-orange-500 hover:bg-orange-600",onClick:()=>console.log("Crear presupuesto")},{name:"Exportar Reporte",icon:i.jsx(is,{className:"w-5 h-5"}),color:"bg-gray-500 hover:bg-gray-600",onClick:()=>console.log("Exportar reporte")}];return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rpidas"}),i.jsx("div",{className:"space-y-3",children:e.map((t,r)=>i.jsxs("button",{onClick:t.onClick,className:`w-full flex items-center space-x-3 p-3 rounded-lg text-white transition-colors ${t.color}`,children:[t.icon,i.jsx("span",{className:"font-medium",children:t.name})]},r))}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Actividad Reciente"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("p",{children:" Factura INV-2024-001 pagada"}),i.jsx("p",{className:"text-xs text-gray-500",children:"hace 2 horas"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("p",{children:" Nuevo gasto agregado: $21,600 MXN"}),i.jsx("p",{className:"text-xs text-gray-500",children:"hace 5 horas"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("p",{children:" Presupuesto actualizado: Q1 2024"}),i.jsx("p",{className:"text-xs text-gray-500",children:"hace 1 da"})]})]})]})]})},Wk=()=>{const{metrics:e,alerts:t}=Mo(),[r,n]=O.useState("month"),a=o=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(o),s=t.filter(o=>!o.read);return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Panel de Finanzas"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Monitorea tu rendimiento financiero y mtricas"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("select",{value:r,onChange:o=>n(o.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"week",children:"Esta Semana"}),i.jsx("option",{value:"month",children:"Este Mes"}),i.jsx("option",{value:"quarter",children:"Este Trimestre"}),i.jsx("option",{value:"year",children:"Este Ao"})]}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Exportar Reporte"})]})]}),s.length>0&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(ji,{className:"w-5 h-5 text-yellow-600 mr-2"}),i.jsxs("span",{className:"text-yellow-800 font-medium",children:["Tienes ",s.length," alerta",s.length>1?"s":""," sin leer"]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(N0,{title:"Ingresos Totales",value:a(e.totalRevenue),icon:i.jsx(ki,{className:"w-6 h-6"}),trend:e.monthlyGrowth,trendLabel:"vs mes anterior",color:"green"}),i.jsx(N0,{title:"Gastos Totales",value:a(e.totalExpenses),icon:i.jsx(A6,{className:"w-6 h-6"}),trend:-5.2,trendLabel:"vs mes anterior",color:"red"}),i.jsx(N0,{title:"Beneficio Neto",value:a(e.netProfit),icon:i.jsx(Fs,{className:"w-6 h-6"}),trend:e.netProfit>0?15.3:-8.1,trendLabel:"vs mes anterior",color:e.netProfit>0?"green":"red"}),i.jsx(N0,{title:"Pagos Pendientes",value:a(e.pendingPayments),icon:i.jsx(Br,{className:"w-6 h-6"}),trend:0,trendLabel:"esperando pago",color:"orange"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Flujo de Efectivo"}),i.jsx(Hw,{className:"w-5 h-5 text-gray-500"})]}),i.jsx(eme,{})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ROI por Proyecto"}),i.jsx(Fs,{className:"w-5 h-5 text-gray-500"})]}),i.jsx(tme,{})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(rme,{})}),i.jsx("div",{children:i.jsx(nme,{})})]})]})},ame=({onEditTransaction:e})=>{const{transactions:t,deleteTransaction:r}=Mo(),[n,a]=O.useState(""),[s,o]=O.useState("all"),[c,l]=O.useState("all"),[u,d]=O.useState("date"),[f,p]=O.useState("desc"),m=O.useMemo(()=>{let P=t.filter(I=>{var A;const k=I.description.toLowerCase().includes(n.toLowerCase())||I.category.toLowerCase().includes(n.toLowerCase())||((A=I.reference)==null?void 0:A.toLowerCase().includes(n.toLowerCase())),D=s==="all"||I.type===s,R=c==="all"||I.status===c;return k&&D&&R});return P.sort((I,k)=>{let D,R;switch(u){case"date":D=new Date(I.date).getTime(),R=new Date(k.date).getTime();break;case"amount":D=I.amount,R=k.amount;break;case"category":D=I.category.toLowerCase(),R=k.category.toLowerCase();break;default:D=I.date,R=k.date}return f==="asc"?D>R?1:-1:D<R?1:-1}),P},[t,n,s,c,u,f]),y=P=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(P),v=P=>{switch(P){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=P=>{switch(P){case"completed":return"Completado";case"pending":return"Pendiente";case"cancelled":return"Cancelado";default:return P}},g=P=>{switch(P){case"income":return"text-green-600";case"expense":return"text-red-600";case"payment":return"text-blue-600";default:return"text-gray-600"}},x=P=>{switch(P){case"income":return"Ingreso";case"expense":return"Gasto";case"payment":return"Pago";default:return P}},S=P=>{u===P?p(f==="asc"?"desc":"asc"):(d(P),p("asc"))},j=P=>{window.confirm("Ests seguro de que quieres eliminar esta transaccin?")&&r(P)};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Transacciones"}),i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ii,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Buscar transacciones...",value:n,onChange:P=>a(P.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("select",{value:s,onChange:P=>o(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los Tipos"}),i.jsx("option",{value:"income",children:"Ingresos"}),i.jsx("option",{value:"expense",children:"Gastos"}),i.jsx("option",{value:"payment",children:"Pagos"})]}),i.jsxs("select",{value:c,onChange:P=>l(P.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los Estados"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"completed",children:"Completado"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]})]})}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>S("date"),children:["Fecha ",u==="date"&&(f==="asc"?"":"")]}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),i.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>S("category"),children:["Categora ",u==="category"&&(f==="asc"?"":"")]}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),i.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>S("amount"),children:["Monto ",u==="amount"&&(f==="asc"?"":"")]}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(P=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(P.date).toLocaleDateString("es-MX")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("span",{className:`${g(P.type)} capitalize`,children:x(P.type)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P.category}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:P.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("span",{className:g(P.type),children:[P.type==="expense"?"-":"+",y(P.amount)]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v(P.status)}`,children:w(P.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>e(P),className:"text-blue-600 hover:text-blue-800",title:"Editar",children:i.jsx(Ww,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>j(P.id),className:"text-red-600 hover:text-red-800",title:"Eliminar",children:i.jsx(Qr,{className:"w-4 h-4"})})]})})]},P.id))})]}),m.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx("p",{children:"No se encontraron transacciones"}),i.jsx("p",{className:"text-sm",children:"Intenta ajustar tu bsqueda o filtros"})]})]})]})},sme=({isOpen:e,onClose:t,editTransaction:r})=>{const{addTransaction:n,updateTransaction:a}=Mo(),[s,o]=O.useState({type:(r==null?void 0:r.type)||"income",category:(r==null?void 0:r.category)||"",amount:(r==null?void 0:r.amount)||"",description:(r==null?void 0:r.description)||"",date:(r==null?void 0:r.date)||new Date().toISOString().split("T")[0],clientId:(r==null?void 0:r.clientId)||"",projectId:(r==null?void 0:r.projectId)||"",status:(r==null?void 0:r.status)||"pending",paymentMethod:(r==null?void 0:r.paymentMethod)||"",reference:(r==null?void 0:r.reference)||""}),c=u=>{u.preventDefault();const d={...s,amount:parseFloat(s.amount)};r?a(r.id,d):n(d),t(),o({type:"income",category:"",amount:"",description:"",date:new Date().toISOString().split("T")[0],clientId:"",projectId:"",status:"pending",paymentMethod:"",reference:""})},l=u=>{o({...s,[u.target.name]:u.target.value})};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsx("h2",{className:"text-lg font-semibold",children:r?"Editar Transaccin":"Agregar Transaccin"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(zs,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),i.jsxs("select",{name:"type",value:s.type,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"income",children:"Ingreso"}),i.jsx("option",{value:"expense",children:"Gasto"}),i.jsx("option",{value:"payment",children:"Pago"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),i.jsxs("select",{name:"status",value:s.status,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"completed",children:"Completado"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categora"}),i.jsx("input",{type:"text",name:"category",value:s.category,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ej. Licencia de Software, Marketing, etc.",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),i.jsx("input",{type:"number",name:"amount",value:s.amount,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",step:"0.01",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),i.jsx("textarea",{name:"description",value:s.description,onChange:l,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripcin de la transaccin...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),i.jsx("input",{type:"date",name:"date",value:s.date,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mtodo de Pago"}),i.jsxs("select",{name:"paymentMethod",value:s.paymentMethod,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar mtodo de pago"}),i.jsx("option",{value:"Bank Transfer",children:"Transferencia Bancaria"}),i.jsx("option",{value:"Credit Card",children:"Tarjeta de Crdito"}),i.jsx("option",{value:"PayPal",children:"PayPal"}),i.jsx("option",{value:"Cash",children:"Efectivo"}),i.jsx("option",{value:"Check",children:"Cheque"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referencia"}),i.jsx("input",{type:"text",name:"reference",value:s.reference,onChange:l,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nmero de factura, referencia de pago, etc."})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[r?"Actualizar":"Agregar"," Transaccin"]})]})]})]})}):null},ime=()=>{const{invoices:e,addInvoice:t,updateInvoice:r,deleteInvoice:n}=Mo(),[a,s]=O.useState(!1),[o,c]=O.useState(null),[l,u]=O.useState(null),d=g=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(g),f=g=>{switch(g){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=g=>{switch(g){case"paid":return"Pagada";case"sent":return"Enviada";case"draft":return"Borrador";case"overdue":return"Vencida";default:return g}},m=g=>{c(g),s(!0)},y=g=>{window.confirm("Ests seguro de que quieres eliminar esta factura?")&&n(g)},v=g=>{r(g,{status:"sent"})},w=g=>{r(g,{status:"paid"})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Facturas"}),i.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(or,{className:"w-4 h-4"}),i.jsx("span",{children:"Crear Factura"})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(g=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:g.number}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",g.clientId]})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f(g.status)}`,children:p(g.status)})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Monto:"}),i.jsx("span",{className:"font-medium",children:d(g.amount)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Impuestos:"}),i.jsx("span",{className:"font-medium",children:d(g.tax)})]}),i.jsxs("div",{className:"flex justify-between text-sm font-semibold border-t pt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:d(g.total)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Fecha de Vencimiento:"}),i.jsx("span",{className:"font-medium",children:new Date(g.dueDate).toLocaleDateString("es-MX")})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>u(g),className:"text-blue-600 hover:text-blue-800",title:"Ver Detalles",children:i.jsx(ya,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>m(g),className:"text-green-600 hover:text-green-800",title:"Editar",children:i.jsx(Ww,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>y(g.id),className:"text-red-600 hover:text-red-800",title:"Eliminar",children:i.jsx(Qr,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex space-x-2",children:[g.status==="draft"&&i.jsx("button",{onClick:()=>v(g.id),className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"Enviar"}),g.status==="sent"&&i.jsx("button",{onClick:()=>w(g.id),className:"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Marcar Pagada"}),i.jsx("button",{className:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700",children:i.jsx(is,{className:"w-3 h-3"})})]})]})]},g.id))}),e.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx("p",{children:"No se encontraron facturas"}),i.jsx("p",{className:"text-sm",children:"Crea tu primera factura para comenzar"})]}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Detalles de la Factura"}),i.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nmero de Factura"}),i.jsx("p",{className:"text-gray-900",children:l.number})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f(l.status)}`,children:p(l.status)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Emisin"}),i.jsx("p",{className:"text-gray-900",children:new Date(l.issueDate).toLocaleDateString("es-MX")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Vencimiento"}),i.jsx("p",{className:"text-gray-900",children:new Date(l.dueDate).toLocaleDateString("es-MX")})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artculos"}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Descripcin"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cant."}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Precio"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.items.map(g=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:g.description}),i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:g.quantity}),i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:d(g.unitPrice)}),i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:d(g.total)})]},g.id))})]})})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:d(l.amount)})]}),i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Impuestos:"}),i.jsx("span",{children:d(l.tax)})]}),i.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:d(l.total)})]})]}),l.notes&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),i.jsx("p",{className:"text-sm text-gray-900",children:l.notes})]})]})]})})})]})},ome=()=>{const{budgets:e,addBudget:t,updateBudget:r,deleteBudget:n}=Mo(),[a,s]=O.useState(!1),[o,c]=O.useState(null),l=v=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(v),u=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"exceeded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"active":return"Activo";case"completed":return"Completado";case"exceeded":return"Excedido";default:return v}},f=v=>{switch(v){case"monthly":return"Mensual";case"quarterly":return"Trimestral";case"yearly":return"Anual";default:return v}},p=v=>v>=90?"bg-red-500":v>=75?"bg-yellow-500":"bg-green-500",m=v=>{c(v),s(!0)},y=v=>{window.confirm("Ests seguro de que quieres eliminar este presupuesto?")&&n(v)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestin de Presupuestos"}),i.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(or,{className:"w-4 h-4"}),i.jsx("span",{children:"Crear Presupuesto"})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(v=>{const w=v.spent/v.totalBudget*100,g=v.spent>v.totalBudget;return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:v.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[f(v.period),"  ",new Date(v.startDate).toLocaleDateString("es-MX")," - ",new Date(v.endDate).toLocaleDateString("es-MX")]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(v.status)}`,children:d(v.status)}),g&&i.jsx(ji,{className:"w-4 h-4 text-red-500"})]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Presupuesto Total:"}),i.jsx("span",{className:"font-medium",children:l(v.totalBudget)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Gastado:"}),i.jsx("span",{className:`font-medium ${g?"text-red-600":"text-gray-900"}`,children:l(v.spent)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Restante:"}),i.jsx("span",{className:`font-medium ${v.remaining<0?"text-red-600":"text-green-600"}`,children:l(v.remaining)})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"Uso"}),i.jsxs("span",{className:`font-medium ${g?"text-red-600":"text-gray-900"}`,children:[w.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${p(w)}`,style:{width:`${Math.min(w,100)}%`}})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categoras"}),i.jsx("div",{className:"space-y-2",children:v.categories.map(x=>{const S=x.spent/x.allocated*100;return i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:x.name}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-gray-900",children:l(x.spent)}),i.jsx("span",{className:"text-gray-500",children:"/"}),i.jsx("span",{className:"text-gray-600",children:l(x.allocated)}),i.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${p(S)}`,style:{width:`${Math.min(S,100)}%`}})})]})]},x.id)})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>m(v),className:"text-blue-600 hover:text-blue-800",title:"Editar Presupuesto",children:i.jsx(Ww,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>y(v.id),className:"text-red-600 hover:text-red-800",title:"Eliminar Presupuesto",children:i.jsx(Qr,{className:"w-4 h-4"})})]}),i.jsx("button",{className:"text-xs bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Ver Detalles"})]})]},v.id)})}),e.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx($v,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No se encontraron presupuestos"}),i.jsx("p",{className:"text-sm",children:"Crea tu primer presupuesto para comenzar a rastrear gastos"})]})]})},lme=()=>{const{transactions:e,invoices:t,budgets:r,exportReport:n}=Mo(),[a,s]=O.useState("income"),[o,c]=O.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[l,u]=O.useState("pdf"),d=[{id:"income",name:"Reporte de Ingresos",icon:Fs,color:"bg-green-500"},{id:"expense",name:"Reporte de Gastos",icon:Fs,color:"bg-red-500"},{id:"balance",name:"Balance General",icon:Hw,color:"bg-blue-500"},{id:"roi",name:"Anlisis ROI",icon:Fs,color:"bg-purple-500"},{id:"cashflow",name:"Flujo de Efectivo",icon:Br,color:"bg-orange-500"}],f=x=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(x),m=(()=>{const x=new Date(o.start),S=new Date(o.end),j=e.filter(P=>{const I=new Date(P.date);return I>=x&&I<=S});switch(a){case"income":return{title:"Reporte de Ingresos",data:j.filter(k=>k.type==="income"),summary:{total:j.filter(k=>k.type==="income").reduce((k,D)=>k+D.amount,0),count:j.filter(k=>k.type==="income").length}};case"expense":return{title:"Reporte de Gastos",data:j.filter(k=>k.type==="expense"),summary:{total:j.filter(k=>k.type==="expense").reduce((k,D)=>k+D.amount,0),count:j.filter(k=>k.type==="expense").length}};case"balance":const P=j.filter(k=>k.type==="income").reduce((k,D)=>k+D.amount,0),I=j.filter(k=>k.type==="expense").reduce((k,D)=>k+D.amount,0);return{title:"Balance General",data:{income:P,expense:I,balance:P-I},summary:{total:P-I,count:j.length}};default:return{title:"Reporte",data:j,summary:{total:0,count:j.length}}}})(),y=()=>{n(a,l)},v=x=>{const S=new Date,j=new Date(S.getTime()-30*24*60*60*1e3);c({start:j.toISOString().split("T")[0],end:S.toISOString().split("T")[0]}),s(x)},w=x=>{switch(x){case"completed":return"Completado";case"pending":return"Pendiente";case"cancelled":return"Cancelado";default:return x}},g=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reportes Financieros"}),i.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(is,{className:"w-4 h-4"}),i.jsx("span",{children:"Exportar Reporte"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:d.map(x=>{const S=x.icon;return i.jsxs("button",{onClick:()=>v(x.id),className:`p-4 rounded-lg text-white hover:opacity-90 transition-opacity ${x.color}`,children:[i.jsx(S,{className:"w-6 h-6 mb-2"}),i.jsx("h3",{className:"font-semibold text-sm",children:x.name}),i.jsx("p",{className:"text-xs opacity-90",children:"ltimos 30 das"})]},x.id)})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuracin del Reporte"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Reporte"}),i.jsx("select",{value:a,onChange:x=>s(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.map(x=>i.jsx("option",{value:x.id,children:x.name},x.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Inicio"}),i.jsx("input",{type:"date",value:o.start,onChange:x=>c({...o,start:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Fin"}),i.jsx("input",{type:"date",value:o.end,onChange:x=>c({...o,end:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de Exportacin"}),i.jsxs("select",{value:l,onChange:x=>u(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"pdf",children:"PDF"}),i.jsx("option",{value:"excel",children:"Excel"}),i.jsx("option",{value:"csv",children:"CSV"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.title}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Sn,{className:"w-4 h-4"}),i.jsxs("span",{children:[new Date(o.start).toLocaleDateString("es-MX")," - ",new Date(o.end).toLocaleDateString("es-MX")]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Monto Total"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:f(m.summary.total)})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Total de Transacciones"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:m.summary.count})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-purple-800",children:"Monto Promedio"}),i.jsx("p",{className:"text-2xl font-bold text-purple-900",children:f(m.summary.count>0?m.summary.total/m.summary.count:0)})]})]}),a==="balance"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Ingresos Totales"}),i.jsx("span",{className:"text-green-600 font-bold",children:f(m.data.income)})]}),i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Gastos Totales"}),i.jsx("span",{className:"text-red-600 font-bold",children:f(m.data.expense)})]}),i.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[i.jsx("span",{className:"font-bold text-blue-800",children:"Balance Neto"}),i.jsx("span",{className:`font-bold ${m.data.balance>=0?"text-green-600":"text-red-600"}`,children:f(m.data.balance)})]})]}):i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categora"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripcin"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(m.data)&&m.data.map(x=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(x.date).toLocaleDateString("es-MX")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.category}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:x.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("span",{className:x.type==="income"?"text-green-600":"text-red-600",children:f(x.amount)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(x.status)}`,children:w(x.status)})})]},x.id))})]}),Array.isArray(m.data)&&m.data.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx("p",{children:"No hay datos disponibles para el perodo seleccionado"}),i.jsx("p",{className:"text-sm",children:"Intenta ajustar el rango de fechas o el tipo de reporte"})]})]})]})]})},cme=()=>{const[e,t]=O.useState("dashboard"),[r,n]=O.useState(!1),[a,s]=O.useState(null),o=[{id:"dashboard",name:"Panel",icon:O6},{id:"transactions",name:"Transacciones",icon:u7},{id:"invoices",name:"Facturas",icon:Br},{id:"budgets",name:"Presupuestos",icon:$v},{id:"reports",name:"Reportes",icon:Yb}],c=d=>{s(d),n(!0)},l=()=>{n(!1),s(null)},u=()=>{switch(e){case"dashboard":return i.jsx(Wk,{});case"transactions":return i.jsx(ame,{onEditTransaction:c});case"invoices":return i.jsx(ime,{});case"budgets":return i.jsx(ome,{});case"reports":return i.jsx(lme,{});default:return i.jsx(Wk,{})}};return i.jsx(Bw,{children:i.jsxs("div",{className:"min-h-screen bg-gray-100",children:[i.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsx("div",{className:"flex space-x-8",children:o.map(d=>{const f=d.icon;return i.jsxs("button",{onClick:()=>t(d.id),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${e===d.id?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(f,{className:"w-4 h-4"}),i.jsx("span",{children:d.name})]},d.id)})}),e==="transactions"&&i.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(or,{className:"w-4 h-4"}),i.jsx("span",{children:"Agregar Transaccin"})]})]})})}),i.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:u()}),i.jsx(sme,{isOpen:r,onClose:l,editTransaction:a})]})})},ume=()=>{const[e,t]=O.useState("dashboard"),[r,n]=O.useState("quotes"),[a,s]=O.useState({}),[o,c]=O.useState(null),{selectedProspect:l,selectProspect:u,prospects:d,quotes:f}=ra();if(window.location.pathname==="/auth/google/callback")return i.jsx(Ype,{});const p=(w,g)=>{if(t(w),w!=="quotes"&&n("quotes"),s(g||{}),g!=null&&g.prospectId&&g.showDetail){const x=d.find(S=>S.id===g.prospectId);x&&u(x)}if(g!=null&&g.quoteId&&g.showDetail){const S=[...f,...d.flatMap(j=>j.cotizaciones)].find(j=>j.id===g.quoteId);S&&s({...g,quote:S})}},m=()=>({dashboard:"Dashboard",prospects:"Gestin de Prospectos",kanban:"Embudo de Ventas",quotes:"Gestin de Cotizaciones",projects:"Gestin de Proyectos",finance:"Mdulo de Finanzas",calendar:"Calendario",users:"Gestin de Usuarios",webhook:"Webhook Test",settings:"Configuracin"})[e]||"CRM",y=()=>{var x;const w=[{id:"quotes",label:"Cotizaciones",component:t4},{id:"catalog",label:"Catlogo",component:oF},{id:"templates",label:"Plantillas",component:lF}],g=((x=w.find(S=>S.id===r))==null?void 0:x.component)||t4;return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"border-b",children:i.jsx("nav",{className:"flex space-x-4",children:w.map(S=>i.jsx("button",{onClick:()=>n(S.id),className:S.id===r?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700",children:S.label},S.id))})}),i.jsx(g,{navigationParams:a})]})},v=()=>{if(o)return i.jsx(Zpe,{project:o,onClose:()=>c(null),onEdit:()=>console.log("Edit project",o.id)});if(l&&(e==="prospects"||e==="kanban"))return i.jsx(JI,{});switch(e){case"dashboard":return i.jsx(DS,{onNavigate:p});case"prospects":return i.jsx(QI,{navigationParams:a});case"kanban":return i.jsx(ZI,{});case"quotes":return y();case"projects":return i.jsx(Vpe,{onProjectSelect:c,onNewProject:()=>console.log("New project"),onNewClient:()=>console.log("New client")});case"finance":return i.jsx(cme,{});case"calendar":return i.jsx(Hpe,{});case"users":return i.jsx(B6,{});case"webhook":return i.jsx(eR,{});case"settings":return i.jsx(sR,{navigationParams:a});default:return i.jsx(DS,{onNavigate:p})}};return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(U7,{activeView:e,onViewChange:p}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(z7,{title:m(),onNavigate:p}),i.jsx("main",{className:"flex-1 overflow-auto",children:v()})]})]})};function dme(){return i.jsx(b6,{children:i.jsx(F7,{children:i.jsx(N6,{children:i.jsx(S6,{children:i.jsx(C6,{children:i.jsx(_6,{children:i.jsx(Bw,{children:i.jsx(ume,{})})})})})})})})}r6(document.getElementById("root")).render(i.jsx(O.StrictMode,{children:i.jsx(O8,{children:i.jsx(b6,{children:i.jsx(N6,{children:i.jsx(S6,{children:i.jsx(C6,{children:i.jsx(_6,{children:i.jsx(Bw,{children:i.jsx(dme,{})})})})})})})})}));export{Ts as _,ns as c,wa as g};
