var sO=Object.defineProperty;var iO=(e,t,r)=>t in e?sO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Ge=(e,t,r)=>iO(e,typeof t!="symbol"?t+"":t,r);function oO(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var cs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Da(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var UC={exports:{}},Tv={},zC={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=Symbol.for("react.element"),lO=Symbol.for("react.portal"),cO=Symbol.for("react.fragment"),uO=Symbol.for("react.strict_mode"),dO=Symbol.for("react.profiler"),fO=Symbol.for("react.provider"),hO=Symbol.for("react.context"),pO=Symbol.for("react.forward_ref"),mO=Symbol.for("react.suspense"),gO=Symbol.for("react.memo"),vO=Symbol.for("react.lazy"),zj=Symbol.iterator;function xO(e){return e===null||typeof e!="object"?null:(e=zj&&e[zj]||e["@@iterator"],typeof e=="function"?e:null)}var BC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HC=Object.assign,WC={};function Vd(e,t,r){this.props=e,this.context=t,this.refs=WC,this.updater=r||BC}Vd.prototype.isReactComponent={};Vd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YC(){}YC.prototype=Vd.prototype;function Nw(e,t,r){this.props=e,this.context=t,this.refs=WC,this.updater=r||BC}var jw=Nw.prototype=new YC;jw.constructor=Nw;HC(jw,Vd.prototype);jw.isPureReactComponent=!0;var Bj=Array.isArray,VC=Object.prototype.hasOwnProperty,Sw={current:null},qC={key:!0,ref:!0,__self:!0,__source:!0};function GC(e,t,r){var n,a={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)VC.call(t,n)&&!qC.hasOwnProperty(n)&&(a[n]=t[n]);var l=arguments.length-2;if(l===1)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)a[n]===void 0&&(a[n]=l[n]);return{$$typeof:Cp,type:e,key:s,ref:o,props:a,_owner:Sw.current}}function yO(e,t){return{$$typeof:Cp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function kw(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cp}function bO(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Hj=/\/+/g;function o1(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bO(""+e.key):t.toString(36)}function R0(e,t,r,n,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Cp:case lO:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+o1(o,0):n,Bj(a)?(r="",e!=null&&(r=e.replace(Hj,"$&/")+"/"),R0(a,t,r,"",function(u){return u})):a!=null&&(kw(a)&&(a=yO(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Hj,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Bj(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+o1(s,l);o+=R0(s,t,r,c,a)}else if(c=xO(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+o1(s,l++),o+=R0(s,t,r,c,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Gm(e,t,r){if(e==null)return e;var n=[],a=0;return R0(e,n,"","",function(s){return t.call(r,s,a++)}),n}function wO(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var aa={current:null},F0={transition:null},NO={ReactCurrentDispatcher:aa,ReactCurrentBatchConfig:F0,ReactCurrentOwner:Sw};function KC(){throw Error("act(...) is not supported in production builds of React.")}kt.Children={map:Gm,forEach:function(e,t,r){Gm(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Gm(e,function(){t++}),t},toArray:function(e){return Gm(e,function(t){return t})||[]},only:function(e){if(!kw(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=Vd;kt.Fragment=cO;kt.Profiler=dO;kt.PureComponent=Nw;kt.StrictMode=uO;kt.Suspense=mO;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NO;kt.act=KC;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=HC({},e.props),a=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Sw.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)VC.call(t,c)&&!qC.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Cp,type:e.type,key:a,ref:s,props:n,_owner:o}};kt.createContext=function(e){return e={$$typeof:hO,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fO,_context:e},e.Consumer=e};kt.createElement=GC;kt.createFactory=function(e){var t=GC.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:pO,render:e}};kt.isValidElement=kw;kt.lazy=function(e){return{$$typeof:vO,_payload:{_status:-1,_result:e},_init:wO}};kt.memo=function(e,t){return{$$typeof:gO,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=F0.transition;F0.transition={};try{e()}finally{F0.transition=t}};kt.unstable_act=KC;kt.useCallback=function(e,t){return aa.current.useCallback(e,t)};kt.useContext=function(e){return aa.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return aa.current.useDeferredValue(e)};kt.useEffect=function(e,t){return aa.current.useEffect(e,t)};kt.useId=function(){return aa.current.useId()};kt.useImperativeHandle=function(e,t,r){return aa.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return aa.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return aa.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return aa.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return aa.current.useReducer(e,t,r)};kt.useRef=function(e){return aa.current.useRef(e)};kt.useState=function(e){return aa.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return aa.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return aa.current.useTransition()};kt.version="18.3.1";zC.exports=kt;var L=zC.exports;const ee=Da(L),Ng=oO({__proto__:null,default:ee},[L]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jO=L,SO=Symbol.for("react.element"),kO=Symbol.for("react.fragment"),CO=Object.prototype.hasOwnProperty,DO=jO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_O={key:!0,ref:!0,__self:!0,__source:!0};function XC(e,t,r){var n,a={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)CO.call(t,n)&&!_O.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:SO,type:e,key:s,ref:o,props:a,_owner:DO.current}}Tv.Fragment=kO;Tv.jsx=XC;Tv.jsxs=XC;UC.exports=Tv;var i=UC.exports,QC={exports:{}},Ha={},JC={exports:{}},ZC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,re){var oe=q.length;q.push(re);e:for(;0<oe;){var le=oe-1>>>1,_=q[le];if(0<a(_,re))q[le]=re,q[oe]=_,oe=le;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var re=q[0],oe=q.pop();if(oe!==re){q[0]=oe;e:for(var le=0,_=q.length,$=_>>>1;le<$;){var Y=2*(le+1)-1,W=q[Y],X=Y+1,Z=q[X];if(0>a(W,oe))X<_&&0>a(Z,W)?(q[le]=Z,q[X]=oe,le=X):(q[le]=W,q[Y]=oe,le=Y);else if(X<_&&0>a(Z,oe))q[le]=Z,q[X]=oe,le=X;else break e}}return re}function a(q,re){var oe=q.sortIndex-re.sortIndex;return oe!==0?oe:q.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,y=!1,v=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(q){for(var re=r(u);re!==null;){if(re.callback===null)n(u);else if(re.startTime<=q)n(u),re.sortIndex=re.expirationTime,t(c,re);else break;re=r(u)}}function j(q){if(v=!1,S(q),!y)if(r(c)!==null)y=!0,z(E);else{var re=r(u);re!==null&&V(j,re.startTime-q)}}function E(q,re){y=!1,v&&(v=!1,g(D),D=-1),m=!0;var oe=h;try{for(S(re),f=r(c);f!==null&&(!(f.expirationTime>re)||q&&!M());){var le=f.callback;if(typeof le=="function"){f.callback=null,h=f.priorityLevel;var _=le(f.expirationTime<=re);re=e.unstable_now(),typeof _=="function"?f.callback=_:f===r(c)&&n(c),S(re)}else n(c);f=r(c)}if(f!==null)var $=!0;else{var Y=r(u);Y!==null&&V(j,Y.startTime-re),$=!1}return $}finally{f=null,h=oe,m=!1}}var T=!1,k=null,D=-1,I=5,R=-1;function M(){return!(e.unstable_now()-R<I)}function P(){if(k!==null){var q=e.unstable_now();R=q;var re=!0;try{re=k(!0,q)}finally{re?F():(T=!1,k=null)}}else T=!1}var F;if(typeof x=="function")F=function(){x(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,U=O.port2;O.port1.onmessage=P,F=function(){U.postMessage(null)}}else F=function(){w(P,0)};function z(q){k=q,T||(T=!0,F())}function V(q,re){D=w(function(){q(e.unstable_now())},re)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){y||m||(y=!0,z(E))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var re=3;break;default:re=h}var oe=h;h=re;try{return q()}finally{h=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,re){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var oe=h;h=q;try{return re()}finally{h=oe}},e.unstable_scheduleCallback=function(q,re,oe){var le=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?le+oe:le):oe=le,q){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=oe+_,q={id:d++,callback:re,priorityLevel:q,startTime:oe,expirationTime:_,sortIndex:-1},oe>le?(q.sortIndex=oe,t(u,q),r(c)===null&&q===r(u)&&(v?(g(D),D=-1):v=!0,V(j,oe-le))):(q.sortIndex=_,t(c,q),y||m||(y=!0,z(E))),q},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(q){var re=h;return function(){var oe=h;h=re;try{return q.apply(this,arguments)}finally{h=oe}}}})(ZC);JC.exports=ZC;var PO=JC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EO=L,za=PO;function Me(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var eD=new Set,Ih={};function Jc(e,t){Sd(e,t),Sd(e+"Capture",t)}function Sd(e,t){for(Ih[e]=t,e=0;e<t.length;e++)eD.add(t[e])}var _o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Db=Object.prototype.hasOwnProperty,MO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wj={},Yj={};function AO(e){return Db.call(Yj,e)?!0:Db.call(Wj,e)?!1:MO.test(e)?Yj[e]=!0:(Wj[e]=!0,!1)}function LO(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OO(e,t,r,n){if(t===null||typeof t>"u"||LO(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sa(e,t,r,n,a,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var _n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_n[e]=new sa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_n[t]=new sa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_n[e]=new sa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_n[e]=new sa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_n[e]=new sa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_n[e]=new sa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_n[e]=new sa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_n[e]=new sa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_n[e]=new sa(e,5,!1,e.toLowerCase(),null,!1,!1)});var Cw=/[\-:]([a-z])/g;function Dw(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Cw,Dw);_n[t]=new sa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Cw,Dw);_n[t]=new sa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Cw,Dw);_n[t]=new sa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_n[e]=new sa(e,1,!1,e.toLowerCase(),null,!1,!1)});_n.xlinkHref=new sa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_n[e]=new sa(e,1,!1,e.toLowerCase(),null,!0,!0)});function _w(e,t,r,n){var a=_n.hasOwnProperty(t)?_n[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OO(t,r,a,n)&&(r=null),n||a===null?AO(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ro=EO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Km=Symbol.for("react.element"),qu=Symbol.for("react.portal"),Gu=Symbol.for("react.fragment"),Pw=Symbol.for("react.strict_mode"),_b=Symbol.for("react.profiler"),tD=Symbol.for("react.provider"),rD=Symbol.for("react.context"),Ew=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),Eb=Symbol.for("react.suspense_list"),Mw=Symbol.for("react.memo"),ul=Symbol.for("react.lazy"),nD=Symbol.for("react.offscreen"),Vj=Symbol.iterator;function Vf(e){return e===null||typeof e!="object"?null:(e=Vj&&e[Vj]||e["@@iterator"],typeof e=="function"?e:null)}var Cr=Object.assign,l1;function gh(e){if(l1===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);l1=t&&t[1]||""}return`
`+l1+e}var c1=!1;function u1(e,t){if(!e||c1)return"";c1=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),s=n.stack.split(`
`),o=a.length-1,l=s.length-1;1<=o&&0<=l&&a[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(a[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||a[o]!==s[l]){var c=`
`+a[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{c1=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gh(e):""}function TO(e){switch(e.tag){case 5:return gh(e.type);case 16:return gh("Lazy");case 13:return gh("Suspense");case 19:return gh("SuspenseList");case 0:case 2:case 15:return e=u1(e.type,!1),e;case 11:return e=u1(e.type.render,!1),e;case 1:return e=u1(e.type,!0),e;default:return""}}function Mb(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gu:return"Fragment";case qu:return"Portal";case _b:return"Profiler";case Pw:return"StrictMode";case Pb:return"Suspense";case Eb:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rD:return(e.displayName||"Context")+".Consumer";case tD:return(e._context.displayName||"Context")+".Provider";case Ew:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Mw:return t=e.displayName||null,t!==null?t:Mb(e.type)||"Memo";case ul:t=e._payload,e=e._init;try{return Mb(e(t))}catch{}}return null}function IO(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mb(t);case 8:return t===Pw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ml(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aD(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function RO(e){var t=aD(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xm(e){e._valueTracker||(e._valueTracker=RO(e))}function sD(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aD(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function jg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ab(e,t){var r=t.checked;return Cr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ml(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iD(e,t){t=t.checked,t!=null&&_w(e,"checked",t,!1)}function Lb(e,t){iD(e,t);var r=Ml(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ob(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ob(e,t.type,Ml(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ob(e,t,r){(t!=="number"||jg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vh=Array.isArray;function od(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ml(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Tb(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Me(91));return Cr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kj(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Me(92));if(vh(r)){if(1<r.length)throw Error(Me(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ml(r)}}function oD(e,t){var r=Ml(t.value),n=Ml(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function lD(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ib(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?lD(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qm,cD=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qm=Qm||document.createElement("div"),Qm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FO=["Webkit","ms","Moz","O"];Object.keys(jh).forEach(function(e){FO.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jh[t]=jh[e]})});function uD(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jh.hasOwnProperty(e)&&jh[e]?(""+t).trim():t+"px"}function dD(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=uD(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var $O=Cr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rb(e,t){if(t){if($O[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Me(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Me(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Me(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Me(62))}}function Fb(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $b=null;function Aw(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ub=null,ld=null,cd=null;function Qj(e){if(e=Pp(e)){if(typeof Ub!="function")throw Error(Me(280));var t=e.stateNode;t&&(t=Uv(t),Ub(e.stateNode,e.type,t))}}function fD(e){ld?cd?cd.push(e):cd=[e]:ld=e}function hD(){if(ld){var e=ld,t=cd;if(cd=ld=null,Qj(e),t)for(e=0;e<t.length;e++)Qj(t[e])}}function pD(e,t){return e(t)}function mD(){}var d1=!1;function gD(e,t,r){if(d1)return e(t,r);d1=!0;try{return pD(e,t,r)}finally{d1=!1,(ld!==null||cd!==null)&&(mD(),hD())}}function Fh(e,t){var r=e.stateNode;if(r===null)return null;var n=Uv(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Me(231,t,typeof r));return r}var zb=!1;if(_o)try{var qf={};Object.defineProperty(qf,"passive",{get:function(){zb=!0}}),window.addEventListener("test",qf,qf),window.removeEventListener("test",qf,qf)}catch{zb=!1}function UO(e,t,r,n,a,s,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Sh=!1,Sg=null,kg=!1,Bb=null,zO={onError:function(e){Sh=!0,Sg=e}};function BO(e,t,r,n,a,s,o,l,c){Sh=!1,Sg=null,UO.apply(zO,arguments)}function HO(e,t,r,n,a,s,o,l,c){if(BO.apply(this,arguments),Sh){if(Sh){var u=Sg;Sh=!1,Sg=null}else throw Error(Me(198));kg||(kg=!0,Bb=u)}}function Zc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vD(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Jj(e){if(Zc(e)!==e)throw Error(Me(188))}function WO(e){var t=e.alternate;if(!t){if(t=Zc(e),t===null)throw Error(Me(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var s=a.alternate;if(s===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===r)return Jj(a),e;if(s===n)return Jj(a),t;s=s.sibling}throw Error(Me(188))}if(r.return!==n.return)r=a,n=s;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o)throw Error(Me(189))}}if(r.alternate!==n)throw Error(Me(190))}if(r.tag!==3)throw Error(Me(188));return r.stateNode.current===r?e:t}function xD(e){return e=WO(e),e!==null?yD(e):null}function yD(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=yD(e);if(t!==null)return t;e=e.sibling}return null}var bD=za.unstable_scheduleCallback,Zj=za.unstable_cancelCallback,YO=za.unstable_shouldYield,VO=za.unstable_requestPaint,Ur=za.unstable_now,qO=za.unstable_getCurrentPriorityLevel,Lw=za.unstable_ImmediatePriority,wD=za.unstable_UserBlockingPriority,Cg=za.unstable_NormalPriority,GO=za.unstable_LowPriority,ND=za.unstable_IdlePriority,Iv=null,Pi=null;function KO(e){if(Pi&&typeof Pi.onCommitFiberRoot=="function")try{Pi.onCommitFiberRoot(Iv,e,void 0,(e.current.flags&128)===128)}catch{}}var Bs=Math.clz32?Math.clz32:JO,XO=Math.log,QO=Math.LN2;function JO(e){return e>>>=0,e===0?32:31-(XO(e)/QO|0)|0}var Jm=64,Zm=4194304;function xh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~a;l!==0?n=xh(l):(s&=o,s!==0&&(n=xh(s)))}else o=r&~a,o!==0?n=xh(o):s!==0&&(n=xh(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Bs(t),a=1<<r,n|=e[r],t&=~a;return n}function ZO(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eT(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Bs(s),l=1<<o,c=a[o];c===-1?(!(l&r)||l&n)&&(a[o]=ZO(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Hb(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function jD(){var e=Jm;return Jm<<=1,!(Jm&4194240)&&(Jm=64),e}function f1(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Dp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Bs(t),e[t]=r}function tT(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Bs(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}function Ow(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Bs(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Xt=0;function SD(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kD,Tw,CD,DD,_D,Wb=!1,e0=[],bl=null,wl=null,Nl=null,$h=new Map,Uh=new Map,fl=[],rT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eS(e,t){switch(e){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":wl=null;break;case"mouseover":case"mouseout":Nl=null;break;case"pointerover":case"pointerout":$h.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uh.delete(t.pointerId)}}function Gf(e,t,r,n,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Pp(t),t!==null&&Tw(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function nT(e,t,r,n,a){switch(t){case"focusin":return bl=Gf(bl,e,t,r,n,a),!0;case"dragenter":return wl=Gf(wl,e,t,r,n,a),!0;case"mouseover":return Nl=Gf(Nl,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return $h.set(s,Gf($h.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Uh.set(s,Gf(Uh.get(s)||null,e,t,r,n,a)),!0}return!1}function PD(e){var t=pc(e.target);if(t!==null){var r=Zc(t);if(r!==null){if(t=r.tag,t===13){if(t=vD(r),t!==null){e.blockedOn=t,_D(e.priority,function(){CD(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Yb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$b=n,r.target.dispatchEvent(n),$b=null}else return t=Pp(r),t!==null&&Tw(t),e.blockedOn=r,!1;t.shift()}return!0}function tS(e,t,r){$0(e)&&r.delete(t)}function aT(){Wb=!1,bl!==null&&$0(bl)&&(bl=null),wl!==null&&$0(wl)&&(wl=null),Nl!==null&&$0(Nl)&&(Nl=null),$h.forEach(tS),Uh.forEach(tS)}function Kf(e,t){e.blockedOn===t&&(e.blockedOn=null,Wb||(Wb=!0,za.unstable_scheduleCallback(za.unstable_NormalPriority,aT)))}function zh(e){function t(a){return Kf(a,e)}if(0<e0.length){Kf(e0[0],e);for(var r=1;r<e0.length;r++){var n=e0[r];n.blockedOn===e&&(n.blockedOn=null)}}for(bl!==null&&Kf(bl,e),wl!==null&&Kf(wl,e),Nl!==null&&Kf(Nl,e),$h.forEach(t),Uh.forEach(t),r=0;r<fl.length;r++)n=fl[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fl.length&&(r=fl[0],r.blockedOn===null);)PD(r),r.blockedOn===null&&fl.shift()}var ud=Ro.ReactCurrentBatchConfig,_g=!0;function sT(e,t,r,n){var a=Xt,s=ud.transition;ud.transition=null;try{Xt=1,Iw(e,t,r,n)}finally{Xt=a,ud.transition=s}}function iT(e,t,r,n){var a=Xt,s=ud.transition;ud.transition=null;try{Xt=4,Iw(e,t,r,n)}finally{Xt=a,ud.transition=s}}function Iw(e,t,r,n){if(_g){var a=Yb(e,t,r,n);if(a===null)N1(e,t,n,Pg,r),eS(e,n);else if(nT(a,e,t,r,n))n.stopPropagation();else if(eS(e,n),t&4&&-1<rT.indexOf(e)){for(;a!==null;){var s=Pp(a);if(s!==null&&kD(s),s=Yb(e,t,r,n),s===null&&N1(e,t,n,Pg,r),s===a)break;a=s}a!==null&&n.stopPropagation()}else N1(e,t,n,null,r)}}var Pg=null;function Yb(e,t,r,n){if(Pg=null,e=Aw(n),e=pc(e),e!==null)if(t=Zc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vD(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pg=e,null}function ED(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qO()){case Lw:return 1;case wD:return 4;case Cg:case GO:return 16;case ND:return 536870912;default:return 16}default:return 16}}var pl=null,Rw=null,U0=null;function MD(){if(U0)return U0;var e,t=Rw,r=t.length,n,a="value"in pl?pl.value:pl.textContent,s=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[s-n];n++);return U0=a.slice(e,1<n?1-n:void 0)}function z0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function t0(){return!0}function rS(){return!1}function Wa(e){function t(r,n,a,s,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?t0:rS,this.isPropagationStopped=rS,this}return Cr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=t0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=t0)},persist:function(){},isPersistent:t0}),t}var qd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fw=Wa(qd),_p=Cr({},qd,{view:0,detail:0}),oT=Wa(_p),h1,p1,Xf,Rv=Cr({},_p,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$w,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xf&&(Xf&&e.type==="mousemove"?(h1=e.screenX-Xf.screenX,p1=e.screenY-Xf.screenY):p1=h1=0,Xf=e),h1)},movementY:function(e){return"movementY"in e?e.movementY:p1}}),nS=Wa(Rv),lT=Cr({},Rv,{dataTransfer:0}),cT=Wa(lT),uT=Cr({},_p,{relatedTarget:0}),m1=Wa(uT),dT=Cr({},qd,{animationName:0,elapsedTime:0,pseudoElement:0}),fT=Wa(dT),hT=Cr({},qd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pT=Wa(hT),mT=Cr({},qd,{data:0}),aS=Wa(mT),gT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yT(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xT[e])?!!t[e]:!1}function $w(){return yT}var bT=Cr({},_p,{key:function(e){if(e.key){var t=gT[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=z0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vT[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$w,charCode:function(e){return e.type==="keypress"?z0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?z0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wT=Wa(bT),NT=Cr({},Rv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sS=Wa(NT),jT=Cr({},_p,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$w}),ST=Wa(jT),kT=Cr({},qd,{propertyName:0,elapsedTime:0,pseudoElement:0}),CT=Wa(kT),DT=Cr({},Rv,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_T=Wa(DT),PT=[9,13,27,32],Uw=_o&&"CompositionEvent"in window,kh=null;_o&&"documentMode"in document&&(kh=document.documentMode);var ET=_o&&"TextEvent"in window&&!kh,AD=_o&&(!Uw||kh&&8<kh&&11>=kh),iS=" ",oS=!1;function LD(e,t){switch(e){case"keyup":return PT.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OD(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ku=!1;function MT(e,t){switch(e){case"compositionend":return OD(t);case"keypress":return t.which!==32?null:(oS=!0,iS);case"textInput":return e=t.data,e===iS&&oS?null:e;default:return null}}function AT(e,t){if(Ku)return e==="compositionend"||!Uw&&LD(e,t)?(e=MD(),U0=Rw=pl=null,Ku=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return AD&&t.locale!=="ko"?null:t.data;default:return null}}var LT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LT[e.type]:t==="textarea"}function TD(e,t,r,n){fD(n),t=Eg(t,"onChange"),0<t.length&&(r=new Fw("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ch=null,Bh=null;function OT(e){VD(e,0)}function Fv(e){var t=Ju(e);if(sD(t))return e}function TT(e,t){if(e==="change")return t}var ID=!1;if(_o){var g1;if(_o){var v1="oninput"in document;if(!v1){var cS=document.createElement("div");cS.setAttribute("oninput","return;"),v1=typeof cS.oninput=="function"}g1=v1}else g1=!1;ID=g1&&(!document.documentMode||9<document.documentMode)}function uS(){Ch&&(Ch.detachEvent("onpropertychange",RD),Bh=Ch=null)}function RD(e){if(e.propertyName==="value"&&Fv(Bh)){var t=[];TD(t,Bh,e,Aw(e)),gD(OT,t)}}function IT(e,t,r){e==="focusin"?(uS(),Ch=t,Bh=r,Ch.attachEvent("onpropertychange",RD)):e==="focusout"&&uS()}function RT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fv(Bh)}function FT(e,t){if(e==="click")return Fv(t)}function $T(e,t){if(e==="input"||e==="change")return Fv(t)}function UT(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vs=typeof Object.is=="function"?Object.is:UT;function Hh(e,t){if(Vs(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Db.call(t,a)||!Vs(e[a],t[a]))return!1}return!0}function dS(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fS(e,t){var r=dS(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dS(r)}}function FD(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?FD(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function $D(){for(var e=window,t=jg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=jg(e.document)}return t}function zw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zT(e){var t=$D(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&FD(r.ownerDocument.documentElement,r)){if(n!==null&&zw(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=n.end===void 0?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=fS(r,s);var o=fS(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var BT=_o&&"documentMode"in document&&11>=document.documentMode,Xu=null,Vb=null,Dh=null,qb=!1;function hS(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qb||Xu==null||Xu!==jg(n)||(n=Xu,"selectionStart"in n&&zw(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dh&&Hh(Dh,n)||(Dh=n,n=Eg(Vb,"onSelect"),0<n.length&&(t=new Fw("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xu)))}function r0(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qu={animationend:r0("Animation","AnimationEnd"),animationiteration:r0("Animation","AnimationIteration"),animationstart:r0("Animation","AnimationStart"),transitionend:r0("Transition","TransitionEnd")},x1={},UD={};_o&&(UD=document.createElement("div").style,"AnimationEvent"in window||(delete Qu.animationend.animation,delete Qu.animationiteration.animation,delete Qu.animationstart.animation),"TransitionEvent"in window||delete Qu.transitionend.transition);function $v(e){if(x1[e])return x1[e];if(!Qu[e])return e;var t=Qu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in UD)return x1[e]=t[r];return e}var zD=$v("animationend"),BD=$v("animationiteration"),HD=$v("animationstart"),WD=$v("transitionend"),YD=new Map,pS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $l(e,t){YD.set(e,t),Jc(t,[e])}for(var y1=0;y1<pS.length;y1++){var b1=pS[y1],HT=b1.toLowerCase(),WT=b1[0].toUpperCase()+b1.slice(1);$l(HT,"on"+WT)}$l(zD,"onAnimationEnd");$l(BD,"onAnimationIteration");$l(HD,"onAnimationStart");$l("dblclick","onDoubleClick");$l("focusin","onFocus");$l("focusout","onBlur");$l(WD,"onTransitionEnd");Sd("onMouseEnter",["mouseout","mouseover"]);Sd("onMouseLeave",["mouseout","mouseover"]);Sd("onPointerEnter",["pointerout","pointerover"]);Sd("onPointerLeave",["pointerout","pointerover"]);Jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YT=new Set("cancel close invalid load scroll toggle".split(" ").concat(yh));function mS(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,HO(n,t,void 0,e),e.currentTarget=null}function VD(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&a.isPropagationStopped())break e;mS(a,l,u),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&a.isPropagationStopped())break e;mS(a,l,u),s=c}}}if(kg)throw e=Bb,kg=!1,Bb=null,e}function ur(e,t){var r=t[Jb];r===void 0&&(r=t[Jb]=new Set);var n=e+"__bubble";r.has(n)||(qD(t,e,2,!1),r.add(n))}function w1(e,t,r){var n=0;t&&(n|=4),qD(r,e,n,t)}var n0="_reactListening"+Math.random().toString(36).slice(2);function Wh(e){if(!e[n0]){e[n0]=!0,eD.forEach(function(r){r!=="selectionchange"&&(YT.has(r)||w1(r,!1,e),w1(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[n0]||(t[n0]=!0,w1("selectionchange",!1,t))}}function qD(e,t,r,n){switch(ED(t)){case 1:var a=sT;break;case 4:a=iT;break;default:a=Iw}r=a.bind(null,t,r,e),a=void 0,!zb||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function N1(e,t,r,n,a){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a||l.nodeType===8&&l.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;o=o.return}for(;l!==null;){if(o=pc(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}gD(function(){var u=s,d=Aw(r),f=[];e:{var h=YD.get(e);if(h!==void 0){var m=Fw,y=e;switch(e){case"keypress":if(z0(r)===0)break e;case"keydown":case"keyup":m=wT;break;case"focusin":y="focus",m=m1;break;case"focusout":y="blur",m=m1;break;case"beforeblur":case"afterblur":m=m1;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=nS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=ST;break;case zD:case BD:case HD:m=fT;break;case WD:m=CT;break;case"scroll":m=oT;break;case"wheel":m=_T;break;case"copy":case"cut":case"paste":m=pT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=sS}var v=(t&4)!==0,w=!v&&e==="scroll",g=v?h!==null?h+"Capture":null:h;v=[];for(var x=u,S;x!==null;){S=x;var j=S.stateNode;if(S.tag===5&&j!==null&&(S=j,g!==null&&(j=Fh(x,g),j!=null&&v.push(Yh(x,j,S)))),w)break;x=x.return}0<v.length&&(h=new m(h,y,null,r,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==$b&&(y=r.relatedTarget||r.fromElement)&&(pc(y)||y[Po]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(y=r.relatedTarget||r.toElement,m=u,y=y?pc(y):null,y!==null&&(w=Zc(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=u),m!==y)){if(v=nS,j="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(v=sS,j="onPointerLeave",g="onPointerEnter",x="pointer"),w=m==null?h:Ju(m),S=y==null?h:Ju(y),h=new v(j,x+"leave",m,r,d),h.target=w,h.relatedTarget=S,j=null,pc(d)===u&&(v=new v(g,x+"enter",y,r,d),v.target=S,v.relatedTarget=w,j=v),w=j,m&&y)t:{for(v=m,g=y,x=0,S=v;S;S=Tu(S))x++;for(S=0,j=g;j;j=Tu(j))S++;for(;0<x-S;)v=Tu(v),x--;for(;0<S-x;)g=Tu(g),S--;for(;x--;){if(v===g||g!==null&&v===g.alternate)break t;v=Tu(v),g=Tu(g)}v=null}else v=null;m!==null&&gS(f,h,m,v,!1),y!==null&&w!==null&&gS(f,w,y,v,!0)}}e:{if(h=u?Ju(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=TT;else if(lS(h))if(ID)E=$T;else{E=RT;var T=IT}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=FT);if(E&&(E=E(e,u))){TD(f,E,r,d);break e}T&&T(e,h,u),e==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Ob(h,"number",h.value)}switch(T=u?Ju(u):window,e){case"focusin":(lS(T)||T.contentEditable==="true")&&(Xu=T,Vb=u,Dh=null);break;case"focusout":Dh=Vb=Xu=null;break;case"mousedown":qb=!0;break;case"contextmenu":case"mouseup":case"dragend":qb=!1,hS(f,r,d);break;case"selectionchange":if(BT)break;case"keydown":case"keyup":hS(f,r,d)}var k;if(Uw)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Ku?LD(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(AD&&r.locale!=="ko"&&(Ku||D!=="onCompositionStart"?D==="onCompositionEnd"&&Ku&&(k=MD()):(pl=d,Rw="value"in pl?pl.value:pl.textContent,Ku=!0)),T=Eg(u,D),0<T.length&&(D=new aS(D,e,null,r,d),f.push({event:D,listeners:T}),k?D.data=k:(k=OD(r),k!==null&&(D.data=k)))),(k=ET?MT(e,r):AT(e,r))&&(u=Eg(u,"onBeforeInput"),0<u.length&&(d=new aS("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}VD(f,t)})}function Yh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Eg(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=Fh(e,r),s!=null&&n.unshift(Yh(e,s,a)),s=Fh(e,t),s!=null&&n.push(Yh(e,s,a))),e=e.return}return n}function Tu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gS(e,t,r,n,a){for(var s=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,a?(c=Fh(r,s),c!=null&&o.unshift(Yh(r,c,l))):a||(c=Fh(r,s),c!=null&&o.push(Yh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var VT=/\r\n?/g,qT=/\u0000|\uFFFD/g;function vS(e){return(typeof e=="string"?e:""+e).replace(VT,`
`).replace(qT,"")}function a0(e,t,r){if(t=vS(t),vS(e)!==t&&r)throw Error(Me(425))}function Mg(){}var Gb=null,Kb=null;function Xb(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qb=typeof setTimeout=="function"?setTimeout:void 0,GT=typeof clearTimeout=="function"?clearTimeout:void 0,xS=typeof Promise=="function"?Promise:void 0,KT=typeof queueMicrotask=="function"?queueMicrotask:typeof xS<"u"?function(e){return xS.resolve(null).then(e).catch(XT)}:Qb;function XT(e){setTimeout(function(){throw e})}function j1(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),zh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);zh(t)}function jl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yS(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gd=Math.random().toString(36).slice(2),wi="__reactFiber$"+Gd,Vh="__reactProps$"+Gd,Po="__reactContainer$"+Gd,Jb="__reactEvents$"+Gd,QT="__reactListeners$"+Gd,JT="__reactHandles$"+Gd;function pc(e){var t=e[wi];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Po]||r[wi]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yS(e);e!==null;){if(r=e[wi])return r;e=yS(e)}return t}e=r,r=e.parentNode}return null}function Pp(e){return e=e[wi]||e[Po],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ju(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Me(33))}function Uv(e){return e[Vh]||null}var Zb=[],Zu=-1;function Ul(e){return{current:e}}function pr(e){0>Zu||(e.current=Zb[Zu],Zb[Zu]=null,Zu--)}function lr(e,t){Zu++,Zb[Zu]=e.current,e.current=t}var Al={},qn=Ul(Al),va=Ul(!1),Lc=Al;function kd(e,t){var r=e.type.contextTypes;if(!r)return Al;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in r)a[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function xa(e){return e=e.childContextTypes,e!=null}function Ag(){pr(va),pr(qn)}function bS(e,t,r){if(qn.current!==Al)throw Error(Me(168));lr(qn,t),lr(va,r)}function GD(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Me(108,IO(e)||"Unknown",a));return Cr({},r,n)}function Lg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Al,Lc=qn.current,lr(qn,e),lr(va,va.current),!0}function wS(e,t,r){var n=e.stateNode;if(!n)throw Error(Me(169));r?(e=GD(e,t,Lc),n.__reactInternalMemoizedMergedChildContext=e,pr(va),pr(qn),lr(qn,e)):pr(va),lr(va,r)}var po=null,zv=!1,S1=!1;function KD(e){po===null?po=[e]:po.push(e)}function ZT(e){zv=!0,KD(e)}function zl(){if(!S1&&po!==null){S1=!0;var e=0,t=Xt;try{var r=po;for(Xt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}po=null,zv=!1}catch(a){throw po!==null&&(po=po.slice(e+1)),bD(Lw,zl),a}finally{Xt=t,S1=!1}}return null}var ed=[],td=0,Og=null,Tg=0,ss=[],is=0,Oc=null,mo=1,go="";function oc(e,t){ed[td++]=Tg,ed[td++]=Og,Og=e,Tg=t}function XD(e,t,r){ss[is++]=mo,ss[is++]=go,ss[is++]=Oc,Oc=e;var n=mo;e=go;var a=32-Bs(n)-1;n&=~(1<<a),r+=1;var s=32-Bs(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,mo=1<<32-Bs(t)+a|r<<a|n,go=s+e}else mo=1<<s|r<<a|n,go=e}function Bw(e){e.return!==null&&(oc(e,1),XD(e,1,0))}function Hw(e){for(;e===Og;)Og=ed[--td],ed[td]=null,Tg=ed[--td],ed[td]=null;for(;e===Oc;)Oc=ss[--is],ss[is]=null,go=ss[--is],ss[is]=null,mo=ss[--is],ss[is]=null}var Fa=null,Ia=null,yr=!1,$s=null;function QD(e,t){var r=us(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function NS(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fa=e,Ia=jl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fa=e,Ia=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Oc!==null?{id:mo,overflow:go}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=us(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fa=e,Ia=null,!0):!1;default:return!1}}function e2(e){return(e.mode&1)!==0&&(e.flags&128)===0}function t2(e){if(yr){var t=Ia;if(t){var r=t;if(!NS(e,t)){if(e2(e))throw Error(Me(418));t=jl(r.nextSibling);var n=Fa;t&&NS(e,t)?QD(n,r):(e.flags=e.flags&-4097|2,yr=!1,Fa=e)}}else{if(e2(e))throw Error(Me(418));e.flags=e.flags&-4097|2,yr=!1,Fa=e}}}function jS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fa=e}function s0(e){if(e!==Fa)return!1;if(!yr)return jS(e),yr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xb(e.type,e.memoizedProps)),t&&(t=Ia)){if(e2(e))throw JD(),Error(Me(418));for(;t;)QD(e,t),t=jl(t.nextSibling)}if(jS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Me(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ia=jl(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ia=null}}else Ia=Fa?jl(e.stateNode.nextSibling):null;return!0}function JD(){for(var e=Ia;e;)e=jl(e.nextSibling)}function Cd(){Ia=Fa=null,yr=!1}function Ww(e){$s===null?$s=[e]:$s.push(e)}var e8=Ro.ReactCurrentBatchConfig;function Qf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Me(309));var n=r.stateNode}if(!n)throw Error(Me(147,e));var a=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var l=a.refs;o===null?delete l[s]:l[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Me(284));if(!r._owner)throw Error(Me(290,e))}return e}function i0(e,t){throw e=Object.prototype.toString.call(t),Error(Me(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function SS(e){var t=e._init;return t(e._payload)}function ZD(e){function t(g,x){if(e){var S=g.deletions;S===null?(g.deletions=[x],g.flags|=16):S.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function a(g,x){return g=Dl(g,x),g.index=0,g.sibling=null,g}function s(g,x,S){return g.index=S,e?(S=g.alternate,S!==null?(S=S.index,S<x?(g.flags|=2,x):S):(g.flags|=2,x)):(g.flags|=1048576,x)}function o(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,S,j){return x===null||x.tag!==6?(x=M1(S,g.mode,j),x.return=g,x):(x=a(x,S),x.return=g,x)}function c(g,x,S,j){var E=S.type;return E===Gu?d(g,x,S.props.children,j,S.key):x!==null&&(x.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ul&&SS(E)===x.type)?(j=a(x,S.props),j.ref=Qf(g,x,S),j.return=g,j):(j=G0(S.type,S.key,S.props,null,g.mode,j),j.ref=Qf(g,x,S),j.return=g,j)}function u(g,x,S,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=A1(S,g.mode,j),x.return=g,x):(x=a(x,S.children||[]),x.return=g,x)}function d(g,x,S,j,E){return x===null||x.tag!==7?(x=Nc(S,g.mode,j,E),x.return=g,x):(x=a(x,S),x.return=g,x)}function f(g,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=M1(""+x,g.mode,S),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Km:return S=G0(x.type,x.key,x.props,null,g.mode,S),S.ref=Qf(g,null,x),S.return=g,S;case qu:return x=A1(x,g.mode,S),x.return=g,x;case ul:var j=x._init;return f(g,j(x._payload),S)}if(vh(x)||Vf(x))return x=Nc(x,g.mode,S,null),x.return=g,x;i0(g,x)}return null}function h(g,x,S,j){var E=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return E!==null?null:l(g,x,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Km:return S.key===E?c(g,x,S,j):null;case qu:return S.key===E?u(g,x,S,j):null;case ul:return E=S._init,h(g,x,E(S._payload),j)}if(vh(S)||Vf(S))return E!==null?null:d(g,x,S,j,null);i0(g,S)}return null}function m(g,x,S,j,E){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(S)||null,l(x,g,""+j,E);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Km:return g=g.get(j.key===null?S:j.key)||null,c(x,g,j,E);case qu:return g=g.get(j.key===null?S:j.key)||null,u(x,g,j,E);case ul:var T=j._init;return m(g,x,S,T(j._payload),E)}if(vh(j)||Vf(j))return g=g.get(S)||null,d(x,g,j,E,null);i0(x,j)}return null}function y(g,x,S,j){for(var E=null,T=null,k=x,D=x=0,I=null;k!==null&&D<S.length;D++){k.index>D?(I=k,k=null):I=k.sibling;var R=h(g,k,S[D],j);if(R===null){k===null&&(k=I);break}e&&k&&R.alternate===null&&t(g,k),x=s(R,x,D),T===null?E=R:T.sibling=R,T=R,k=I}if(D===S.length)return r(g,k),yr&&oc(g,D),E;if(k===null){for(;D<S.length;D++)k=f(g,S[D],j),k!==null&&(x=s(k,x,D),T===null?E=k:T.sibling=k,T=k);return yr&&oc(g,D),E}for(k=n(g,k);D<S.length;D++)I=m(k,g,D,S[D],j),I!==null&&(e&&I.alternate!==null&&k.delete(I.key===null?D:I.key),x=s(I,x,D),T===null?E=I:T.sibling=I,T=I);return e&&k.forEach(function(M){return t(g,M)}),yr&&oc(g,D),E}function v(g,x,S,j){var E=Vf(S);if(typeof E!="function")throw Error(Me(150));if(S=E.call(S),S==null)throw Error(Me(151));for(var T=E=null,k=x,D=x=0,I=null,R=S.next();k!==null&&!R.done;D++,R=S.next()){k.index>D?(I=k,k=null):I=k.sibling;var M=h(g,k,R.value,j);if(M===null){k===null&&(k=I);break}e&&k&&M.alternate===null&&t(g,k),x=s(M,x,D),T===null?E=M:T.sibling=M,T=M,k=I}if(R.done)return r(g,k),yr&&oc(g,D),E;if(k===null){for(;!R.done;D++,R=S.next())R=f(g,R.value,j),R!==null&&(x=s(R,x,D),T===null?E=R:T.sibling=R,T=R);return yr&&oc(g,D),E}for(k=n(g,k);!R.done;D++,R=S.next())R=m(k,g,D,R.value,j),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?D:R.key),x=s(R,x,D),T===null?E=R:T.sibling=R,T=R);return e&&k.forEach(function(P){return t(g,P)}),yr&&oc(g,D),E}function w(g,x,S,j){if(typeof S=="object"&&S!==null&&S.type===Gu&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Km:e:{for(var E=S.key,T=x;T!==null;){if(T.key===E){if(E=S.type,E===Gu){if(T.tag===7){r(g,T.sibling),x=a(T,S.props.children),x.return=g,g=x;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===ul&&SS(E)===T.type){r(g,T.sibling),x=a(T,S.props),x.ref=Qf(g,T,S),x.return=g,g=x;break e}r(g,T);break}else t(g,T);T=T.sibling}S.type===Gu?(x=Nc(S.props.children,g.mode,j,S.key),x.return=g,g=x):(j=G0(S.type,S.key,S.props,null,g.mode,j),j.ref=Qf(g,x,S),j.return=g,g=j)}return o(g);case qu:e:{for(T=S.key;x!==null;){if(x.key===T)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(g,x.sibling),x=a(x,S.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=A1(S,g.mode,j),x.return=g,g=x}return o(g);case ul:return T=S._init,w(g,x,T(S._payload),j)}if(vh(S))return y(g,x,S,j);if(Vf(S))return v(g,x,S,j);i0(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(g,x.sibling),x=a(x,S),x.return=g,g=x):(r(g,x),x=M1(S,g.mode,j),x.return=g,g=x),o(g)):r(g,x)}return w}var Dd=ZD(!0),e6=ZD(!1),Ig=Ul(null),Rg=null,rd=null,Yw=null;function Vw(){Yw=rd=Rg=null}function qw(e){var t=Ig.current;pr(Ig),e._currentValue=t}function r2(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function dd(e,t){Rg=e,Yw=rd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ga=!0),e.firstContext=null)}function hs(e){var t=e._currentValue;if(Yw!==e)if(e={context:e,memoizedValue:t,next:null},rd===null){if(Rg===null)throw Error(Me(308));rd=e,Rg.dependencies={lanes:0,firstContext:e}}else rd=rd.next=e;return t}var mc=null;function Gw(e){mc===null?mc=[e]:mc.push(e)}function t6(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,Gw(t)):(r.next=a.next,a.next=r),t.interleaved=r,Eo(e,n)}function Eo(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var dl=!1;function Kw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Sl(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ot&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Eo(e,r)}return a=n.interleaved,a===null?(t.next=t,Gw(n)):(t.next=a.next,a.next=t),n.interleaved=t,Eo(e,r)}function B0(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ow(e,r)}}function kS(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?a=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?a=s=t:s=s.next=t}else a=s=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Fg(e,t,r,n){var a=e.updateQueue;dl=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=a.baseState;o=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,v=l;switch(h=t,m=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){f=y.call(m,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(m,f,h):y,h==null)break e;f=Cr({},f,h);break e;case 2:dl=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;h=l,l=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Ic|=o,e.lanes=o,e.memoizedState=f}}function CS(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Me(191,a));a.call(n)}}}var Ep={},Ei=Ul(Ep),qh=Ul(Ep),Gh=Ul(Ep);function gc(e){if(e===Ep)throw Error(Me(174));return e}function Xw(e,t){switch(lr(Gh,t),lr(qh,e),lr(Ei,Ep),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ib(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ib(t,e)}pr(Ei),lr(Ei,t)}function _d(){pr(Ei),pr(qh),pr(Gh)}function n6(e){gc(Gh.current);var t=gc(Ei.current),r=Ib(t,e.type);t!==r&&(lr(qh,e),lr(Ei,r))}function Qw(e){qh.current===e&&(pr(Ei),pr(qh))}var Nr=Ul(0);function $g(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var k1=[];function Jw(){for(var e=0;e<k1.length;e++)k1[e]._workInProgressVersionPrimary=null;k1.length=0}var H0=Ro.ReactCurrentDispatcher,C1=Ro.ReactCurrentBatchConfig,Tc=0,Sr=null,sn=null,pn=null,Ug=!1,_h=!1,Kh=0,t8=0;function On(){throw Error(Me(321))}function Zw(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Vs(e[r],t[r]))return!1;return!0}function e5(e,t,r,n,a,s){if(Tc=s,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H0.current=e===null||e.memoizedState===null?s8:i8,e=r(n,a),_h){s=0;do{if(_h=!1,Kh=0,25<=s)throw Error(Me(301));s+=1,pn=sn=null,t.updateQueue=null,H0.current=o8,e=r(n,a)}while(_h)}if(H0.current=zg,t=sn!==null&&sn.next!==null,Tc=0,pn=sn=Sr=null,Ug=!1,t)throw Error(Me(300));return e}function t5(){var e=Kh!==0;return Kh=0,e}function mi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Sr.memoizedState=pn=e:pn=pn.next=e,pn}function ps(){if(sn===null){var e=Sr.alternate;e=e!==null?e.memoizedState:null}else e=sn.next;var t=pn===null?Sr.memoizedState:pn.next;if(t!==null)pn=t,sn=e;else{if(e===null)throw Error(Me(310));sn=e,e={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},pn===null?Sr.memoizedState=pn=e:pn=pn.next=e}return pn}function Xh(e,t){return typeof t=="function"?t(e):t}function D1(e){var t=ps(),r=t.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=e;var n=sn,a=n.baseQueue,s=r.pending;if(s!==null){if(a!==null){var o=a.next;a.next=s.next,s.next=o}n.baseQueue=a=s,r.pending=null}if(a!==null){s=a.next,n=n.baseState;var l=o=null,c=null,u=s;do{var d=u.lane;if((Tc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,Sr.lanes|=d,Ic|=d}u=u.next}while(u!==null&&u!==s);c===null?o=n:c.next=l,Vs(n,t.memoizedState)||(ga=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do s=a.lane,Sr.lanes|=s,Ic|=s,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function _1(e){var t=ps(),r=t.queue;if(r===null)throw Error(Me(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,s=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do s=e(s,o.action),o=o.next;while(o!==a);Vs(s,t.memoizedState)||(ga=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function a6(){}function s6(e,t){var r=Sr,n=ps(),a=t(),s=!Vs(n.memoizedState,a);if(s&&(n.memoizedState=a,ga=!0),n=n.queue,r5(l6.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||pn!==null&&pn.memoizedState.tag&1){if(r.flags|=2048,Qh(9,o6.bind(null,r,n,a,t),void 0,null),gn===null)throw Error(Me(349));Tc&30||i6(r,t,a)}return a}function i6(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Sr.updateQueue,t===null?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function o6(e,t,r,n){t.value=r,t.getSnapshot=n,c6(t)&&u6(e)}function l6(e,t,r){return r(function(){c6(t)&&u6(e)})}function c6(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Vs(e,r)}catch{return!0}}function u6(e){var t=Eo(e,1);t!==null&&Hs(t,e,1,-1)}function DS(e){var t=mi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xh,lastRenderedState:e},t.queue=e,e=e.dispatch=a8.bind(null,Sr,e),[t.memoizedState,e]}function Qh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Sr.updateQueue,t===null?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function d6(){return ps().memoizedState}function W0(e,t,r,n){var a=mi();Sr.flags|=e,a.memoizedState=Qh(1|t,r,void 0,n===void 0?null:n)}function Bv(e,t,r,n){var a=ps();n=n===void 0?null:n;var s=void 0;if(sn!==null){var o=sn.memoizedState;if(s=o.destroy,n!==null&&Zw(n,o.deps)){a.memoizedState=Qh(t,r,s,n);return}}Sr.flags|=e,a.memoizedState=Qh(1|t,r,s,n)}function _S(e,t){return W0(8390656,8,e,t)}function r5(e,t){return Bv(2048,8,e,t)}function f6(e,t){return Bv(4,2,e,t)}function h6(e,t){return Bv(4,4,e,t)}function p6(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function m6(e,t,r){return r=r!=null?r.concat([e]):null,Bv(4,4,p6.bind(null,t,e),r)}function n5(){}function g6(e,t){var r=ps();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zw(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function v6(e,t){var r=ps();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zw(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function x6(e,t,r){return Tc&21?(Vs(r,t)||(r=jD(),Sr.lanes|=r,Ic|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ga=!0),e.memoizedState=r)}function r8(e,t){var r=Xt;Xt=r!==0&&4>r?r:4,e(!0);var n=C1.transition;C1.transition={};try{e(!1),t()}finally{Xt=r,C1.transition=n}}function y6(){return ps().memoizedState}function n8(e,t,r){var n=Cl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},b6(e))w6(t,r);else if(r=t6(e,t,r,n),r!==null){var a=ra();Hs(r,e,n,a),N6(r,t,n)}}function a8(e,t,r){var n=Cl(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(b6(e))w6(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,l=s(o,r);if(a.hasEagerState=!0,a.eagerState=l,Vs(l,o)){var c=t.interleaved;c===null?(a.next=a,Gw(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=t6(e,t,a,n),r!==null&&(a=ra(),Hs(r,e,n,a),N6(r,t,n))}}function b6(e){var t=e.alternate;return e===Sr||t!==null&&t===Sr}function w6(e,t){_h=Ug=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function N6(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ow(e,r)}}var zg={readContext:hs,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},s8={readContext:hs,useCallback:function(e,t){return mi().memoizedState=[e,t===void 0?null:t],e},useContext:hs,useEffect:_S,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,W0(4194308,4,p6.bind(null,t,e),r)},useLayoutEffect:function(e,t){return W0(4194308,4,e,t)},useInsertionEffect:function(e,t){return W0(4,2,e,t)},useMemo:function(e,t){var r=mi();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mi();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=n8.bind(null,Sr,e),[n.memoizedState,e]},useRef:function(e){var t=mi();return e={current:e},t.memoizedState=e},useState:DS,useDebugValue:n5,useDeferredValue:function(e){return mi().memoizedState=e},useTransition:function(){var e=DS(!1),t=e[0];return e=r8.bind(null,e[1]),mi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Sr,a=mi();if(yr){if(r===void 0)throw Error(Me(407));r=r()}else{if(r=t(),gn===null)throw Error(Me(349));Tc&30||i6(n,t,r)}a.memoizedState=r;var s={value:r,getSnapshot:t};return a.queue=s,_S(l6.bind(null,n,s,e),[e]),n.flags|=2048,Qh(9,o6.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=mi(),t=gn.identifierPrefix;if(yr){var r=go,n=mo;r=(n&~(1<<32-Bs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=t8++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},i8={readContext:hs,useCallback:g6,useContext:hs,useEffect:r5,useImperativeHandle:m6,useInsertionEffect:f6,useLayoutEffect:h6,useMemo:v6,useReducer:D1,useRef:d6,useState:function(){return D1(Xh)},useDebugValue:n5,useDeferredValue:function(e){var t=ps();return x6(t,sn.memoizedState,e)},useTransition:function(){var e=D1(Xh)[0],t=ps().memoizedState;return[e,t]},useMutableSource:a6,useSyncExternalStore:s6,useId:y6,unstable_isNewReconciler:!1},o8={readContext:hs,useCallback:g6,useContext:hs,useEffect:r5,useImperativeHandle:m6,useInsertionEffect:f6,useLayoutEffect:h6,useMemo:v6,useReducer:_1,useRef:d6,useState:function(){return _1(Xh)},useDebugValue:n5,useDeferredValue:function(e){var t=ps();return sn===null?t.memoizedState=e:x6(t,sn.memoizedState,e)},useTransition:function(){var e=_1(Xh)[0],t=ps().memoizedState;return[e,t]},useMutableSource:a6,useSyncExternalStore:s6,useId:y6,unstable_isNewReconciler:!1};function Is(e,t){if(e&&e.defaultProps){t=Cr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function n2(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Cr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hv={isMounted:function(e){return(e=e._reactInternals)?Zc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ra(),a=Cl(e),s=yo(n,a);s.payload=t,r!=null&&(s.callback=r),t=Sl(e,s,a),t!==null&&(Hs(t,e,a,n),B0(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ra(),a=Cl(e),s=yo(n,a);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Sl(e,s,a),t!==null&&(Hs(t,e,a,n),B0(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ra(),n=Cl(e),a=yo(r,n);a.tag=2,t!=null&&(a.callback=t),t=Sl(e,a,n),t!==null&&(Hs(t,e,n,r),B0(t,e,n))}};function PS(e,t,r,n,a,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Hh(r,n)||!Hh(a,s):!0}function j6(e,t,r){var n=!1,a=Al,s=t.contextType;return typeof s=="object"&&s!==null?s=hs(s):(a=xa(t)?Lc:qn.current,n=t.contextTypes,s=(n=n!=null)?kd(e,a):Al),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Hv,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ES(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Hv.enqueueReplaceState(t,t.state,null)}function a2(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Kw(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=hs(s):(s=xa(t)?Lc:qn.current,a.context=kd(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(n2(e,t,s,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Hv.enqueueReplaceState(a,a.state,null),Fg(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Pd(e,t){try{var r="",n=t;do r+=TO(n),n=n.return;while(n);var a=r}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function P1(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function s2(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var l8=typeof WeakMap=="function"?WeakMap:Map;function S6(e,t,r){r=yo(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hg||(Hg=!0,m2=n),s2(e,t)},r}function k6(e,t,r){r=yo(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){s2(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){s2(e,t),typeof n!="function"&&(kl===null?kl=new Set([this]):kl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function MS(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new l8;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=N8.bind(null,e,t,r),t.then(e,e))}function AS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function LS(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yo(-1,1),t.tag=2,Sl(r,t,1))),r.lanes|=1),e)}var c8=Ro.ReactCurrentOwner,ga=!1;function Zn(e,t,r,n){t.child=e===null?e6(t,null,r,n):Dd(t,e.child,r,n)}function OS(e,t,r,n,a){r=r.render;var s=t.ref;return dd(t,a),n=e5(e,t,r,n,s,a),r=t5(),e!==null&&!ga?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mo(e,t,a)):(yr&&r&&Bw(t),t.flags|=1,Zn(e,t,n,a),t.child)}function TS(e,t,r,n,a){if(e===null){var s=r.type;return typeof s=="function"&&!d5(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,C6(e,t,s,n,a)):(e=G0(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Hh,r(o,n)&&e.ref===t.ref)return Mo(e,t,a)}return t.flags|=1,e=Dl(s,n),e.ref=t.ref,e.return=t,t.child=e}function C6(e,t,r,n,a){if(e!==null){var s=e.memoizedProps;if(Hh(s,n)&&e.ref===t.ref)if(ga=!1,t.pendingProps=n=s,(e.lanes&a)!==0)e.flags&131072&&(ga=!0);else return t.lanes=e.lanes,Mo(e,t,a)}return i2(e,t,r,n,a)}function D6(e,t,r){var n=t.pendingProps,a=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},lr(ad,Oa),Oa|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,lr(ad,Oa),Oa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,lr(ad,Oa),Oa|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,lr(ad,Oa),Oa|=n;return Zn(e,t,a,r),t.child}function _6(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function i2(e,t,r,n,a){var s=xa(r)?Lc:qn.current;return s=kd(t,s),dd(t,a),r=e5(e,t,r,n,s,a),n=t5(),e!==null&&!ga?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Mo(e,t,a)):(yr&&n&&Bw(t),t.flags|=1,Zn(e,t,r,a),t.child)}function IS(e,t,r,n,a){if(xa(r)){var s=!0;Lg(t)}else s=!1;if(dd(t,a),t.stateNode===null)Y0(e,t),j6(t,r,n),a2(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=hs(u):(u=xa(r)?Lc:qn.current,u=kd(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ES(t,o,n,u),dl=!1;var h=t.memoizedState;o.state=h,Fg(t,n,o,a),c=t.memoizedState,l!==n||h!==c||va.current||dl?(typeof d=="function"&&(n2(t,r,d,n),c=t.memoizedState),(l=dl||PS(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,r6(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Is(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=hs(c):(c=xa(r)?Lc:qn.current,c=kd(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ES(t,o,n,c),dl=!1,h=t.memoizedState,o.state=h,Fg(t,n,o,a);var y=t.memoizedState;l!==f||h!==y||va.current||dl?(typeof m=="function"&&(n2(t,r,m,n),y=t.memoizedState),(u=dl||PS(t,r,u,n,h,y,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return o2(e,t,r,n,s,a)}function o2(e,t,r,n,a,s){_6(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&wS(t,r,!1),Mo(e,t,s);n=t.stateNode,c8.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Dd(t,e.child,null,s),t.child=Dd(t,null,l,s)):Zn(e,t,l,s),t.memoizedState=n.state,a&&wS(t,r,!0),t.child}function P6(e){var t=e.stateNode;t.pendingContext?bS(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bS(e,t.context,!1),Xw(e,t.containerInfo)}function RS(e,t,r,n,a){return Cd(),Ww(a),t.flags|=256,Zn(e,t,r,n),t.child}var l2={dehydrated:null,treeContext:null,retryLane:0};function c2(e){return{baseLanes:e,cachePool:null,transitions:null}}function E6(e,t,r){var n=t.pendingProps,a=Nr.current,s=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(a&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),lr(Nr,a&1),e===null)return t2(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vv(o,n,0,null),e=Nc(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=c2(r),t.memoizedState=l2,e):a5(t,o));if(a=e.memoizedState,a!==null&&(l=a.dehydrated,l!==null))return u8(e,t,o,n,l,a,r);if(s){s=n.fallback,o=t.mode,a=e.child,l=a.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Dl(a,c),n.subtreeFlags=a.subtreeFlags&14680064),l!==null?s=Dl(l,s):(s=Nc(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?c2(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=l2,n}return s=e.child,e=s.sibling,n=Dl(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function a5(e,t){return t=Vv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function o0(e,t,r,n){return n!==null&&Ww(n),Dd(t,e.child,null,r),e=a5(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u8(e,t,r,n,a,s,o){if(r)return t.flags&256?(t.flags&=-257,n=P1(Error(Me(422))),o0(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,a=t.mode,n=Vv({mode:"visible",children:n.children},a,0,null),s=Nc(s,a,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Dd(t,e.child,null,o),t.child.memoizedState=c2(o),t.memoizedState=l2,s);if(!(t.mode&1))return o0(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Me(419)),n=P1(s,n,void 0),o0(e,t,o,n)}if(l=(o&e.childLanes)!==0,ga||l){if(n=gn,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,Eo(e,a),Hs(n,e,a,-1))}return u5(),n=P1(Error(Me(421))),o0(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=j8.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ia=jl(a.nextSibling),Fa=t,yr=!0,$s=null,e!==null&&(ss[is++]=mo,ss[is++]=go,ss[is++]=Oc,mo=e.id,go=e.overflow,Oc=t),t=a5(t,n.children),t.flags|=4096,t)}function FS(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),r2(e.return,t,r)}function E1(e,t,r,n,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function M6(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Zn(e,t,n.children,r),n=Nr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&FS(e,r,t);else if(e.tag===19)FS(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(lr(Nr,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&$g(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),E1(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$g(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}E1(t,!0,r,null,s);break;case"together":E1(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Y0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Mo(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ic|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Me(153));if(t.child!==null){for(e=t.child,r=Dl(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Dl(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function d8(e,t,r){switch(t.tag){case 3:P6(t),Cd();break;case 5:n6(t);break;case 1:xa(t.type)&&Lg(t);break;case 4:Xw(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;lr(Ig,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(lr(Nr,Nr.current&1),t.flags|=128,null):r&t.child.childLanes?E6(e,t,r):(lr(Nr,Nr.current&1),e=Mo(e,t,r),e!==null?e.sibling:null);lr(Nr,Nr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return M6(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),lr(Nr,Nr.current),n)break;return null;case 22:case 23:return t.lanes=0,D6(e,t,r)}return Mo(e,t,r)}var A6,u2,L6,O6;A6=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};u2=function(){};L6=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,gc(Ei.current);var s=null;switch(r){case"input":a=Ab(e,a),n=Ab(e,n),s=[];break;case"select":a=Cr({},a,{value:void 0}),n=Cr({},n,{value:void 0}),s=[];break;case"textarea":a=Tb(e,a),n=Tb(e,n),s=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Mg)}Rb(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var l=a[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ih.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ih.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ur("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};O6=function(e,t,r,n){r!==n&&(t.flags|=4)};function Jf(e,t){if(!yr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function f8(e,t,r){var n=t.pendingProps;switch(Hw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(t),null;case 1:return xa(t.type)&&Ag(),Tn(t),null;case 3:return n=t.stateNode,_d(),pr(va),pr(qn),Jw(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(s0(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,$s!==null&&(x2($s),$s=null))),u2(e,t),Tn(t),null;case 5:Qw(t);var a=gc(Gh.current);if(r=t.type,e!==null&&t.stateNode!=null)L6(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Me(166));return Tn(t),null}if(e=gc(Ei.current),s0(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[wi]=t,n[Vh]=s,e=(t.mode&1)!==0,r){case"dialog":ur("cancel",n),ur("close",n);break;case"iframe":case"object":case"embed":ur("load",n);break;case"video":case"audio":for(a=0;a<yh.length;a++)ur(yh[a],n);break;case"source":ur("error",n);break;case"img":case"image":case"link":ur("error",n),ur("load",n);break;case"details":ur("toggle",n);break;case"input":qj(n,s),ur("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ur("invalid",n);break;case"textarea":Kj(n,s),ur("invalid",n)}Rb(r,s),a=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&a0(n.textContent,l,e),a=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&a0(n.textContent,l,e),a=["children",""+l]):Ih.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ur("scroll",n)}switch(r){case"input":Xm(n),Gj(n,s,!0);break;case"textarea":Xm(n),Xj(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Mg)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=lD(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[wi]=t,e[Vh]=n,A6(e,t,!1,!1),t.stateNode=e;e:{switch(o=Fb(r,n),r){case"dialog":ur("cancel",e),ur("close",e),a=n;break;case"iframe":case"object":case"embed":ur("load",e),a=n;break;case"video":case"audio":for(a=0;a<yh.length;a++)ur(yh[a],e);a=n;break;case"source":ur("error",e),a=n;break;case"img":case"image":case"link":ur("error",e),ur("load",e),a=n;break;case"details":ur("toggle",e),a=n;break;case"input":qj(e,n),a=Ab(e,n),ur("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Cr({},n,{value:void 0}),ur("invalid",e);break;case"textarea":Kj(e,n),a=Tb(e,n),ur("invalid",e);break;default:a=n}Rb(r,a),l=a;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?dD(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cD(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Rh(e,c):typeof c=="number"&&Rh(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ih.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ur("scroll",e):c!=null&&_w(e,s,c,o))}switch(r){case"input":Xm(e),Gj(e,n,!1);break;case"textarea":Xm(e),Xj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ml(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?od(e,!!n.multiple,s,!1):n.defaultValue!=null&&od(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Mg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tn(t),null;case 6:if(e&&t.stateNode!=null)O6(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Me(166));if(r=gc(Gh.current),gc(Ei.current),s0(t)){if(n=t.stateNode,r=t.memoizedProps,n[wi]=t,(s=n.nodeValue!==r)&&(e=Fa,e!==null))switch(e.tag){case 3:a0(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&a0(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wi]=t,t.stateNode=n}return Tn(t),null;case 13:if(pr(Nr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(yr&&Ia!==null&&t.mode&1&&!(t.flags&128))JD(),Cd(),t.flags|=98560,s=!1;else if(s=s0(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Me(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Me(317));s[wi]=t}else Cd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tn(t),s=!1}else $s!==null&&(x2($s),$s=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Nr.current&1?on===0&&(on=3):u5())),t.updateQueue!==null&&(t.flags|=4),Tn(t),null);case 4:return _d(),u2(e,t),e===null&&Wh(t.stateNode.containerInfo),Tn(t),null;case 10:return qw(t.type._context),Tn(t),null;case 17:return xa(t.type)&&Ag(),Tn(t),null;case 19:if(pr(Nr),s=t.memoizedState,s===null)return Tn(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)Jf(s,!1);else{if(on!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=$g(e),o!==null){for(t.flags|=128,Jf(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return lr(Nr,Nr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ur()>Ed&&(t.flags|=128,n=!0,Jf(s,!1),t.lanes=4194304)}else{if(!n)if(e=$g(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Jf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yr)return Tn(t),null}else 2*Ur()-s.renderingStartTime>Ed&&r!==1073741824&&(t.flags|=128,n=!0,Jf(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ur(),t.sibling=null,r=Nr.current,lr(Nr,n?r&1|2:r&1),t):(Tn(t),null);case 22:case 23:return c5(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Oa&1073741824&&(Tn(t),t.subtreeFlags&6&&(t.flags|=8192)):Tn(t),null;case 24:return null;case 25:return null}throw Error(Me(156,t.tag))}function h8(e,t){switch(Hw(t),t.tag){case 1:return xa(t.type)&&Ag(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _d(),pr(va),pr(qn),Jw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qw(t),null;case 13:if(pr(Nr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Me(340));Cd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pr(Nr),null;case 4:return _d(),null;case 10:return qw(t.type._context),null;case 22:case 23:return c5(),null;case 24:return null;default:return null}}var l0=!1,Bn=!1,p8=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function nd(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ar(e,t,n)}else r.current=null}function d2(e,t,r){try{r()}catch(n){Ar(e,t,n)}}var $S=!1;function m8(e,t){if(Gb=_g,e=$D(),zw(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==s||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===s&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kb={focusedElem:e,selectionRange:r},_g=!1,Xe=t;Xe!==null;)if(t=Xe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Xe=e;else for(;Xe!==null;){t=Xe;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,w=y.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?v:Is(t.type,v),w);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Me(163))}}catch(j){Ar(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,Xe=e;break}Xe=t.return}return y=$S,$S=!1,y}function Ph(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&d2(t,r,s)}a=a.next}while(a!==n)}}function Wv(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function f2(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function T6(e){var t=e.alternate;t!==null&&(e.alternate=null,T6(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wi],delete t[Vh],delete t[Jb],delete t[QT],delete t[JT])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function I6(e){return e.tag===5||e.tag===3||e.tag===4}function US(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||I6(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function h2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Mg));else if(n!==4&&(e=e.child,e!==null))for(h2(e,t,r),e=e.sibling;e!==null;)h2(e,t,r),e=e.sibling}function p2(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(p2(e,t,r),e=e.sibling;e!==null;)p2(e,t,r),e=e.sibling}var jn=null,Fs=!1;function al(e,t,r){for(r=r.child;r!==null;)R6(e,t,r),r=r.sibling}function R6(e,t,r){if(Pi&&typeof Pi.onCommitFiberUnmount=="function")try{Pi.onCommitFiberUnmount(Iv,r)}catch{}switch(r.tag){case 5:Bn||nd(r,t);case 6:var n=jn,a=Fs;jn=null,al(e,t,r),jn=n,Fs=a,jn!==null&&(Fs?(e=jn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):jn.removeChild(r.stateNode));break;case 18:jn!==null&&(Fs?(e=jn,r=r.stateNode,e.nodeType===8?j1(e.parentNode,r):e.nodeType===1&&j1(e,r),zh(e)):j1(jn,r.stateNode));break;case 4:n=jn,a=Fs,jn=r.stateNode.containerInfo,Fs=!0,al(e,t,r),jn=n,Fs=a;break;case 0:case 11:case 14:case 15:if(!Bn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&d2(r,t,o),a=a.next}while(a!==n)}al(e,t,r);break;case 1:if(!Bn&&(nd(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ar(r,t,l)}al(e,t,r);break;case 21:al(e,t,r);break;case 22:r.mode&1?(Bn=(n=Bn)||r.memoizedState!==null,al(e,t,r),Bn=n):al(e,t,r);break;default:al(e,t,r)}}function zS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new p8),t.forEach(function(n){var a=S8.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function As(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var s=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:jn=l.stateNode,Fs=!1;break e;case 3:jn=l.stateNode.containerInfo,Fs=!0;break e;case 4:jn=l.stateNode.containerInfo,Fs=!0;break e}l=l.return}if(jn===null)throw Error(Me(160));R6(s,o,a),jn=null,Fs=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){Ar(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)F6(t,e),t=t.sibling}function F6(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(As(t,e),fi(e),n&4){try{Ph(3,e,e.return),Wv(3,e)}catch(v){Ar(e,e.return,v)}try{Ph(5,e,e.return)}catch(v){Ar(e,e.return,v)}}break;case 1:As(t,e),fi(e),n&512&&r!==null&&nd(r,r.return);break;case 5:if(As(t,e),fi(e),n&512&&r!==null&&nd(r,r.return),e.flags&32){var a=e.stateNode;try{Rh(a,"")}catch(v){Ar(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&iD(a,s),Fb(l,o);var u=Fb(l,s);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?dD(a,f):d==="dangerouslySetInnerHTML"?cD(a,f):d==="children"?Rh(a,f):_w(a,d,f,u)}switch(l){case"input":Lb(a,s);break;case"textarea":oD(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?od(a,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?od(a,!!s.multiple,s.defaultValue,!0):od(a,!!s.multiple,s.multiple?[]:"",!1))}a[Vh]=s}catch(v){Ar(e,e.return,v)}}break;case 6:if(As(t,e),fi(e),n&4){if(e.stateNode===null)throw Error(Me(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){Ar(e,e.return,v)}}break;case 3:if(As(t,e),fi(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{zh(t.containerInfo)}catch(v){Ar(e,e.return,v)}break;case 4:As(t,e),fi(e);break;case 13:As(t,e),fi(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(o5=Ur())),n&4&&zS(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Bn=(u=Bn)||d,As(t,e),Bn=u):As(t,e),fi(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Xe=e,d=e.child;d!==null;){for(f=Xe=d;Xe!==null;){switch(h=Xe,m=h.child,h.tag){case 0:case 11:case 14:case 15:Ph(4,h,h.return);break;case 1:nd(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Ar(n,r,v)}}break;case 5:nd(h,h.return);break;case 22:if(h.memoizedState!==null){HS(f);continue}}m!==null?(m.return=h,Xe=m):HS(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=uD("display",o))}catch(v){Ar(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Ar(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:As(t,e),fi(e),n&4&&zS(e);break;case 21:break;default:As(t,e),fi(e)}}function fi(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(I6(r)){var n=r;break e}r=r.return}throw Error(Me(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Rh(a,""),n.flags&=-33);var s=US(e);p2(e,s,a);break;case 3:case 4:var o=n.stateNode.containerInfo,l=US(e);h2(e,l,o);break;default:throw Error(Me(161))}}catch(c){Ar(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g8(e,t,r){Xe=e,$6(e)}function $6(e,t,r){for(var n=(e.mode&1)!==0;Xe!==null;){var a=Xe,s=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||l0;if(!o){var l=a.alternate,c=l!==null&&l.memoizedState!==null||Bn;l=l0;var u=Bn;if(l0=o,(Bn=c)&&!u)for(Xe=a;Xe!==null;)o=Xe,c=o.child,o.tag===22&&o.memoizedState!==null?WS(a):c!==null?(c.return=o,Xe=c):WS(a);for(;s!==null;)Xe=s,$6(s),s=s.sibling;Xe=a,l0=l,Bn=u}BS(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,Xe=s):BS(e)}}function BS(e){for(;Xe!==null;){var t=Xe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Bn||Wv(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Bn)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Is(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&CS(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}CS(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&zh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Me(163))}Bn||t.flags&512&&f2(t)}catch(h){Ar(t,t.return,h)}}if(t===e){Xe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Xe=r;break}Xe=t.return}}function HS(e){for(;Xe!==null;){var t=Xe;if(t===e){Xe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Xe=r;break}Xe=t.return}}function WS(e){for(;Xe!==null;){var t=Xe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Wv(4,t)}catch(c){Ar(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){Ar(t,a,c)}}var s=t.return;try{f2(t)}catch(c){Ar(t,s,c)}break;case 5:var o=t.return;try{f2(t)}catch(c){Ar(t,o,c)}}}catch(c){Ar(t,t.return,c)}if(t===e){Xe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Xe=l;break}Xe=t.return}}var v8=Math.ceil,Bg=Ro.ReactCurrentDispatcher,s5=Ro.ReactCurrentOwner,ds=Ro.ReactCurrentBatchConfig,Ot=0,gn=null,Zr=null,Cn=0,Oa=0,ad=Ul(0),on=0,Jh=null,Ic=0,Yv=0,i5=0,Eh=null,ma=null,o5=0,Ed=1/0,fo=null,Hg=!1,m2=null,kl=null,c0=!1,ml=null,Wg=0,Mh=0,g2=null,V0=-1,q0=0;function ra(){return Ot&6?Ur():V0!==-1?V0:V0=Ur()}function Cl(e){return e.mode&1?Ot&2&&Cn!==0?Cn&-Cn:e8.transition!==null?(q0===0&&(q0=jD()),q0):(e=Xt,e!==0||(e=window.event,e=e===void 0?16:ED(e.type)),e):1}function Hs(e,t,r,n){if(50<Mh)throw Mh=0,g2=null,Error(Me(185));Dp(e,r,n),(!(Ot&2)||e!==gn)&&(e===gn&&(!(Ot&2)&&(Yv|=r),on===4&&hl(e,Cn)),ya(e,n),r===1&&Ot===0&&!(t.mode&1)&&(Ed=Ur()+500,zv&&zl()))}function ya(e,t){var r=e.callbackNode;eT(e,t);var n=Dg(e,e===gn?Cn:0);if(n===0)r!==null&&Zj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zj(r),t===1)e.tag===0?ZT(YS.bind(null,e)):KD(YS.bind(null,e)),KT(function(){!(Ot&6)&&zl()}),r=null;else{switch(SD(n)){case 1:r=Lw;break;case 4:r=wD;break;case 16:r=Cg;break;case 536870912:r=ND;break;default:r=Cg}r=q6(r,U6.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function U6(e,t){if(V0=-1,q0=0,Ot&6)throw Error(Me(327));var r=e.callbackNode;if(fd()&&e.callbackNode!==r)return null;var n=Dg(e,e===gn?Cn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Yg(e,n);else{t=n;var a=Ot;Ot|=2;var s=B6();(gn!==e||Cn!==t)&&(fo=null,Ed=Ur()+500,wc(e,t));do try{b8();break}catch(l){z6(e,l)}while(!0);Vw(),Bg.current=s,Ot=a,Zr!==null?t=0:(gn=null,Cn=0,t=on)}if(t!==0){if(t===2&&(a=Hb(e),a!==0&&(n=a,t=v2(e,a))),t===1)throw r=Jh,wc(e,0),hl(e,n),ya(e,Ur()),r;if(t===6)hl(e,n);else{if(a=e.current.alternate,!(n&30)&&!x8(a)&&(t=Yg(e,n),t===2&&(s=Hb(e),s!==0&&(n=s,t=v2(e,s))),t===1))throw r=Jh,wc(e,0),hl(e,n),ya(e,Ur()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Me(345));case 2:lc(e,ma,fo);break;case 3:if(hl(e,n),(n&130023424)===n&&(t=o5+500-Ur(),10<t)){if(Dg(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){ra(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Qb(lc.bind(null,e,ma,fo),t);break}lc(e,ma,fo);break;case 4:if(hl(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-Bs(n);s=1<<o,o=t[o],o>a&&(a=o),n&=~s}if(n=a,n=Ur()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*v8(n/1960))-n,10<n){e.timeoutHandle=Qb(lc.bind(null,e,ma,fo),n);break}lc(e,ma,fo);break;case 5:lc(e,ma,fo);break;default:throw Error(Me(329))}}}return ya(e,Ur()),e.callbackNode===r?U6.bind(null,e):null}function v2(e,t){var r=Eh;return e.current.memoizedState.isDehydrated&&(wc(e,t).flags|=256),e=Yg(e,t),e!==2&&(t=ma,ma=r,t!==null&&x2(t)),e}function x2(e){ma===null?ma=e:ma.push.apply(ma,e)}function x8(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!Vs(s(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hl(e,t){for(t&=~i5,t&=~Yv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Bs(t),n=1<<r;e[r]=-1,t&=~n}}function YS(e){if(Ot&6)throw Error(Me(327));fd();var t=Dg(e,0);if(!(t&1))return ya(e,Ur()),null;var r=Yg(e,t);if(e.tag!==0&&r===2){var n=Hb(e);n!==0&&(t=n,r=v2(e,n))}if(r===1)throw r=Jh,wc(e,0),hl(e,t),ya(e,Ur()),r;if(r===6)throw Error(Me(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,ma,fo),ya(e,Ur()),null}function l5(e,t){var r=Ot;Ot|=1;try{return e(t)}finally{Ot=r,Ot===0&&(Ed=Ur()+500,zv&&zl())}}function Rc(e){ml!==null&&ml.tag===0&&!(Ot&6)&&fd();var t=Ot;Ot|=1;var r=ds.transition,n=Xt;try{if(ds.transition=null,Xt=1,e)return e()}finally{Xt=n,ds.transition=r,Ot=t,!(Ot&6)&&zl()}}function c5(){Oa=ad.current,pr(ad)}function wc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,GT(r)),Zr!==null)for(r=Zr.return;r!==null;){var n=r;switch(Hw(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ag();break;case 3:_d(),pr(va),pr(qn),Jw();break;case 5:Qw(n);break;case 4:_d();break;case 13:pr(Nr);break;case 19:pr(Nr);break;case 10:qw(n.type._context);break;case 22:case 23:c5()}r=r.return}if(gn=e,Zr=e=Dl(e.current,null),Cn=Oa=t,on=0,Jh=null,i5=Yv=Ic=0,ma=Eh=null,mc!==null){for(t=0;t<mc.length;t++)if(r=mc[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=a,n.next=o}r.pending=n}mc=null}return e}function z6(e,t){do{var r=Zr;try{if(Vw(),H0.current=zg,Ug){for(var n=Sr.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Ug=!1}if(Tc=0,pn=sn=Sr=null,_h=!1,Kh=0,s5.current=null,r===null||r.return===null){on=1,Jh=t,Zr=null;break}e:{var s=e,o=r.return,l=r,c=t;if(t=Cn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=AS(o);if(m!==null){m.flags&=-257,LS(m,o,l,s,t),m.mode&1&&MS(s,u,t),t=m,c=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(c),t.updateQueue=v}else y.add(c);break e}else{if(!(t&1)){MS(s,u,t),u5();break e}c=Error(Me(426))}}else if(yr&&l.mode&1){var w=AS(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),LS(w,o,l,s,t),Ww(Pd(c,l));break e}}s=c=Pd(c,l),on!==4&&(on=2),Eh===null?Eh=[s]:Eh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=S6(s,c,t);kS(s,g);break e;case 1:l=c;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(kl===null||!kl.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=k6(s,l,t);kS(s,j);break e}}s=s.return}while(s!==null)}W6(r)}catch(E){t=E,Zr===r&&r!==null&&(Zr=r=r.return);continue}break}while(!0)}function B6(){var e=Bg.current;return Bg.current=zg,e===null?zg:e}function u5(){(on===0||on===3||on===2)&&(on=4),gn===null||!(Ic&268435455)&&!(Yv&268435455)||hl(gn,Cn)}function Yg(e,t){var r=Ot;Ot|=2;var n=B6();(gn!==e||Cn!==t)&&(fo=null,wc(e,t));do try{y8();break}catch(a){z6(e,a)}while(!0);if(Vw(),Ot=r,Bg.current=n,Zr!==null)throw Error(Me(261));return gn=null,Cn=0,on}function y8(){for(;Zr!==null;)H6(Zr)}function b8(){for(;Zr!==null&&!YO();)H6(Zr)}function H6(e){var t=V6(e.alternate,e,Oa);e.memoizedProps=e.pendingProps,t===null?W6(e):Zr=t,s5.current=null}function W6(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=h8(r,t),r!==null){r.flags&=32767,Zr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,Zr=null;return}}else if(r=f8(r,t,Oa),r!==null){Zr=r;return}if(t=t.sibling,t!==null){Zr=t;return}Zr=t=e}while(t!==null);on===0&&(on=5)}function lc(e,t,r){var n=Xt,a=ds.transition;try{ds.transition=null,Xt=1,w8(e,t,r,n)}finally{ds.transition=a,Xt=n}return null}function w8(e,t,r,n){do fd();while(ml!==null);if(Ot&6)throw Error(Me(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Me(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(tT(e,s),e===gn&&(Zr=gn=null,Cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||c0||(c0=!0,q6(Cg,function(){return fd(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=ds.transition,ds.transition=null;var o=Xt;Xt=1;var l=Ot;Ot|=4,s5.current=null,m8(e,r),F6(r,e),zT(Kb),_g=!!Gb,Kb=Gb=null,e.current=r,g8(r),VO(),Ot=l,Xt=o,ds.transition=s}else e.current=r;if(c0&&(c0=!1,ml=e,Wg=a),s=e.pendingLanes,s===0&&(kl=null),KO(r.stateNode),ya(e,Ur()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Hg)throw Hg=!1,e=m2,m2=null,e;return Wg&1&&e.tag!==0&&fd(),s=e.pendingLanes,s&1?e===g2?Mh++:(Mh=0,g2=e):Mh=0,zl(),null}function fd(){if(ml!==null){var e=SD(Wg),t=ds.transition,r=Xt;try{if(ds.transition=null,Xt=16>e?16:e,ml===null)var n=!1;else{if(e=ml,ml=null,Wg=0,Ot&6)throw Error(Me(331));var a=Ot;for(Ot|=4,Xe=e.current;Xe!==null;){var s=Xe,o=s.child;if(Xe.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Xe=u;Xe!==null;){var d=Xe;switch(d.tag){case 0:case 11:case 15:Ph(8,d,s)}var f=d.child;if(f!==null)f.return=d,Xe=f;else for(;Xe!==null;){d=Xe;var h=d.sibling,m=d.return;if(T6(d),d===u){Xe=null;break}if(h!==null){h.return=m,Xe=h;break}Xe=m}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var w=v.sibling;v.sibling=null,v=w}while(v!==null)}}Xe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Xe=o;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ph(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Xe=g;break e}Xe=s.return}}var x=e.current;for(Xe=x;Xe!==null;){o=Xe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Xe=S;else e:for(o=x;Xe!==null;){if(l=Xe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wv(9,l)}}catch(E){Ar(l,l.return,E)}if(l===o){Xe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,Xe=j;break e}Xe=l.return}}if(Ot=a,zl(),Pi&&typeof Pi.onPostCommitFiberRoot=="function")try{Pi.onPostCommitFiberRoot(Iv,e)}catch{}n=!0}return n}finally{Xt=r,ds.transition=t}}return!1}function VS(e,t,r){t=Pd(r,t),t=S6(e,t,1),e=Sl(e,t,1),t=ra(),e!==null&&(Dp(e,1,t),ya(e,t))}function Ar(e,t,r){if(e.tag===3)VS(e,e,r);else for(;t!==null;){if(t.tag===3){VS(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(kl===null||!kl.has(n))){e=Pd(r,e),e=k6(t,e,1),t=Sl(t,e,1),e=ra(),t!==null&&(Dp(t,1,e),ya(t,e));break}}t=t.return}}function N8(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ra(),e.pingedLanes|=e.suspendedLanes&r,gn===e&&(Cn&r)===r&&(on===4||on===3&&(Cn&130023424)===Cn&&500>Ur()-o5?wc(e,0):i5|=r),ya(e,t)}function Y6(e,t){t===0&&(e.mode&1?(t=Zm,Zm<<=1,!(Zm&130023424)&&(Zm=4194304)):t=1);var r=ra();e=Eo(e,t),e!==null&&(Dp(e,t,r),ya(e,r))}function j8(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Y6(e,r)}function S8(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Me(314))}n!==null&&n.delete(t),Y6(e,r)}var V6;V6=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||va.current)ga=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ga=!1,d8(e,t,r);ga=!!(e.flags&131072)}else ga=!1,yr&&t.flags&1048576&&XD(t,Tg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Y0(e,t),e=t.pendingProps;var a=kd(t,qn.current);dd(t,r),a=e5(null,t,n,e,a,r);var s=t5();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xa(n)?(s=!0,Lg(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Kw(t),a.updater=Hv,t.stateNode=a,a._reactInternals=t,a2(t,n,e,r),t=o2(null,t,n,!0,s,r)):(t.tag=0,yr&&s&&Bw(t),Zn(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Y0(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=C8(n),e=Is(n,e),a){case 0:t=i2(null,t,n,e,r);break e;case 1:t=IS(null,t,n,e,r);break e;case 11:t=OS(null,t,n,e,r);break e;case 14:t=TS(null,t,n,Is(n.type,e),r);break e}throw Error(Me(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Is(n,a),i2(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Is(n,a),IS(e,t,n,a,r);case 3:e:{if(P6(t),e===null)throw Error(Me(387));n=t.pendingProps,s=t.memoizedState,a=s.element,r6(e,t),Fg(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Pd(Error(Me(423)),t),t=RS(e,t,n,r,a);break e}else if(n!==a){a=Pd(Error(Me(424)),t),t=RS(e,t,n,r,a);break e}else for(Ia=jl(t.stateNode.containerInfo.firstChild),Fa=t,yr=!0,$s=null,r=e6(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Cd(),n===a){t=Mo(e,t,r);break e}Zn(e,t,n,r)}t=t.child}return t;case 5:return n6(t),e===null&&t2(t),n=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,o=a.children,Xb(n,a)?o=null:s!==null&&Xb(n,s)&&(t.flags|=32),_6(e,t),Zn(e,t,o,r),t.child;case 6:return e===null&&t2(t),null;case 13:return E6(e,t,r);case 4:return Xw(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Dd(t,null,n,r):Zn(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Is(n,a),OS(e,t,n,a,r);case 7:return Zn(e,t,t.pendingProps,r),t.child;case 8:return Zn(e,t,t.pendingProps.children,r),t.child;case 12:return Zn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,s=t.memoizedProps,o=a.value,lr(Ig,n._currentValue),n._currentValue=o,s!==null)if(Vs(s.value,o)){if(s.children===a.children&&!va.current){t=Mo(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=yo(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),r2(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Me(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),r2(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zn(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,dd(t,r),a=hs(a),n=n(a),t.flags|=1,Zn(e,t,n,r),t.child;case 14:return n=t.type,a=Is(n,t.pendingProps),a=Is(n.type,a),TS(e,t,n,a,r);case 15:return C6(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Is(n,a),Y0(e,t),t.tag=1,xa(n)?(e=!0,Lg(t)):e=!1,dd(t,r),j6(t,n,a),a2(t,n,a,r),o2(null,t,n,!0,e,r);case 19:return M6(e,t,r);case 22:return D6(e,t,r)}throw Error(Me(156,t.tag))};function q6(e,t){return bD(e,t)}function k8(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(e,t,r,n){return new k8(e,t,r,n)}function d5(e){return e=e.prototype,!(!e||!e.isReactComponent)}function C8(e){if(typeof e=="function")return d5(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ew)return 11;if(e===Mw)return 14}return 2}function Dl(e,t){var r=e.alternate;return r===null?(r=us(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function G0(e,t,r,n,a,s){var o=2;if(n=e,typeof e=="function")d5(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Gu:return Nc(r.children,a,s,t);case Pw:o=8,a|=8;break;case _b:return e=us(12,r,t,a|2),e.elementType=_b,e.lanes=s,e;case Pb:return e=us(13,r,t,a),e.elementType=Pb,e.lanes=s,e;case Eb:return e=us(19,r,t,a),e.elementType=Eb,e.lanes=s,e;case nD:return Vv(r,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case tD:o=10;break e;case rD:o=9;break e;case Ew:o=11;break e;case Mw:o=14;break e;case ul:o=16,n=null;break e}throw Error(Me(130,e==null?e:typeof e,""))}return t=us(o,r,t,a),t.elementType=e,t.type=n,t.lanes=s,t}function Nc(e,t,r,n){return e=us(7,e,n,t),e.lanes=r,e}function Vv(e,t,r,n){return e=us(22,e,n,t),e.elementType=nD,e.lanes=r,e.stateNode={isHidden:!1},e}function M1(e,t,r){return e=us(6,e,null,t),e.lanes=r,e}function A1(e,t,r){return t=us(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function D8(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=f1(0),this.expirationTimes=f1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=f1(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function f5(e,t,r,n,a,s,o,l,c){return e=new D8(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=us(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kw(s),e}function _8(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function G6(e){if(!e)return Al;e=e._reactInternals;e:{if(Zc(e)!==e||e.tag!==1)throw Error(Me(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Me(171))}if(e.tag===1){var r=e.type;if(xa(r))return GD(e,r,t)}return t}function K6(e,t,r,n,a,s,o,l,c){return e=f5(r,n,!0,e,a,s,o,l,c),e.context=G6(null),r=e.current,n=ra(),a=Cl(r),s=yo(n,a),s.callback=t??null,Sl(r,s,a),e.current.lanes=a,Dp(e,a,n),ya(e,n),e}function qv(e,t,r,n){var a=t.current,s=ra(),o=Cl(a);return r=G6(r),t.context===null?t.context=r:t.pendingContext=r,t=yo(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Sl(a,t,o),e!==null&&(Hs(e,a,o,s),B0(e,a,o)),o}function Vg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function h5(e,t){qS(e,t),(e=e.alternate)&&qS(e,t)}function P8(){return null}var X6=typeof reportError=="function"?reportError:function(e){console.error(e)};function p5(e){this._internalRoot=e}Gv.prototype.render=p5.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Me(409));qv(e,t,null,null)};Gv.prototype.unmount=p5.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rc(function(){qv(null,e,null,null)}),t[Po]=null}};function Gv(e){this._internalRoot=e}Gv.prototype.unstable_scheduleHydration=function(e){if(e){var t=DD();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fl.length&&t!==0&&t<fl[r].priority;r++);fl.splice(r,0,e),r===0&&PD(e)}};function m5(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Kv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function GS(){}function E8(e,t,r,n,a){if(a){if(typeof n=="function"){var s=n;n=function(){var u=Vg(o);s.call(u)}}var o=K6(t,n,e,0,null,!1,!1,"",GS);return e._reactRootContainer=o,e[Po]=o.current,Wh(e.nodeType===8?e.parentNode:e),Rc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var l=n;n=function(){var u=Vg(c);l.call(u)}}var c=f5(e,0,!1,null,null,!1,!1,"",GS);return e._reactRootContainer=c,e[Po]=c.current,Wh(e.nodeType===8?e.parentNode:e),Rc(function(){qv(t,c,r,n)}),c}function Xv(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if(typeof a=="function"){var l=a;a=function(){var c=Vg(o);l.call(c)}}qv(t,o,e,a)}else o=E8(r,t,e,a,n);return Vg(o)}kD=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xh(t.pendingLanes);r!==0&&(Ow(t,r|1),ya(t,Ur()),!(Ot&6)&&(Ed=Ur()+500,zl()))}break;case 13:Rc(function(){var n=Eo(e,1);if(n!==null){var a=ra();Hs(n,e,1,a)}}),h5(e,1)}};Tw=function(e){if(e.tag===13){var t=Eo(e,134217728);if(t!==null){var r=ra();Hs(t,e,134217728,r)}h5(e,134217728)}};CD=function(e){if(e.tag===13){var t=Cl(e),r=Eo(e,t);if(r!==null){var n=ra();Hs(r,e,t,n)}h5(e,t)}};DD=function(){return Xt};_D=function(e,t){var r=Xt;try{return Xt=e,t()}finally{Xt=r}};Ub=function(e,t,r){switch(t){case"input":if(Lb(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Uv(n);if(!a)throw Error(Me(90));sD(n),Lb(n,a)}}}break;case"textarea":oD(e,r);break;case"select":t=r.value,t!=null&&od(e,!!r.multiple,t,!1)}};pD=l5;mD=Rc;var M8={usingClientEntryPoint:!1,Events:[Pp,Ju,Uv,fD,hD,l5]},Zf={findFiberByHostInstance:pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A8={bundleType:Zf.bundleType,version:Zf.version,rendererPackageName:Zf.rendererPackageName,rendererConfig:Zf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ro.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xD(e),e===null?null:e.stateNode},findFiberByHostInstance:Zf.findFiberByHostInstance||P8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var u0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!u0.isDisabled&&u0.supportsFiber)try{Iv=u0.inject(A8),Pi=u0}catch{}}Ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M8;Ha.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m5(t))throw Error(Me(200));return _8(e,t,null,r)};Ha.createRoot=function(e,t){if(!m5(e))throw Error(Me(299));var r=!1,n="",a=X6;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=f5(e,1,!1,null,null,r,!1,n,a),e[Po]=t.current,Wh(e.nodeType===8?e.parentNode:e),new p5(t)};Ha.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Me(188)):(e=Object.keys(e).join(","),Error(Me(268,e)));return e=xD(t),e=e===null?null:e.stateNode,e};Ha.flushSync=function(e){return Rc(e)};Ha.hydrate=function(e,t,r){if(!Kv(t))throw Error(Me(200));return Xv(null,e,t,!0,r)};Ha.hydrateRoot=function(e,t,r){if(!m5(e))throw Error(Me(405));var n=r!=null&&r.hydratedSources||null,a=!1,s="",o=X6;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=K6(t,null,e,1,r??null,a,!1,s,o),e[Po]=t.current,Wh(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Gv(t)};Ha.render=function(e,t,r){if(!Kv(t))throw Error(Me(200));return Xv(null,e,t,!1,r)};Ha.unmountComponentAtNode=function(e){if(!Kv(e))throw Error(Me(40));return e._reactRootContainer?(Rc(function(){Xv(null,null,e,!1,function(){e._reactRootContainer=null,e[Po]=null})}),!0):!1};Ha.unstable_batchedUpdates=l5;Ha.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Kv(r))throw Error(Me(200));if(e==null||e._reactInternals===void 0)throw Error(Me(38));return Xv(e,t,r,!1,n)};Ha.version="18.3.1-next-f1338f8080-20240426";function Q6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Q6)}catch(e){console.error(e)}}Q6(),QC.exports=Ha;var Qv=QC.exports;const g5=Da(Qv);var J6,KS=Qv;J6=KS.createRoot,KS.hydrateRoot;var v5={};Object.defineProperty(v5,"__esModule",{value:!0});v5.parse=$8;v5.serialize=U8;const L8=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,O8=/^[\u0021-\u003A\u003C-\u007E]*$/,T8=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,I8=/^[\u0020-\u003A\u003D-\u007E]*$/,R8=Object.prototype.toString,F8=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function $8(e,t){const r=new F8,n=e.length;if(n<2)return r;const a=(t==null?void 0:t.decode)||z8;let s=0;do{const o=e.indexOf("=",s);if(o===-1)break;const l=e.indexOf(";",s),c=l===-1?n:l;if(o>c){s=e.lastIndexOf(";",o-1)+1;continue}const u=XS(e,s,o),d=QS(e,o,u),f=e.slice(u,d);if(r[f]===void 0){let h=XS(e,o+1,c),m=QS(e,c,h);const y=a(e.slice(h,m));r[f]=y}s=c+1}while(s<n);return r}function XS(e,t,r){do{const n=e.charCodeAt(t);if(n!==32&&n!==9)return t}while(++t<r);return r}function QS(e,t,r){for(;t>r;){const n=e.charCodeAt(--t);if(n!==32&&n!==9)return t+1}return r}function U8(e,t,r){const n=(r==null?void 0:r.encode)||encodeURIComponent;if(!L8.test(e))throw new TypeError(`argument name is invalid: ${e}`);const a=n(t);if(!O8.test(a))throw new TypeError(`argument val is invalid: ${t}`);let s=e+"="+a;if(!r)return s;if(r.maxAge!==void 0){if(!Number.isInteger(r.maxAge))throw new TypeError(`option maxAge is invalid: ${r.maxAge}`);s+="; Max-Age="+r.maxAge}if(r.domain){if(!T8.test(r.domain))throw new TypeError(`option domain is invalid: ${r.domain}`);s+="; Domain="+r.domain}if(r.path){if(!I8.test(r.path))throw new TypeError(`option path is invalid: ${r.path}`);s+="; Path="+r.path}if(r.expires){if(!B8(r.expires)||!Number.isFinite(r.expires.valueOf()))throw new TypeError(`option expires is invalid: ${r.expires}`);s+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.partitioned&&(s+="; Partitioned"),r.priority)switch(typeof r.priority=="string"?r.priority.toLowerCase():void 0){case"low":s+="; Priority=Low";break;case"medium":s+="; Priority=Medium";break;case"high":s+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${r.priority}`)}if(r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:case"strict":s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"none":s+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${r.sameSite}`)}return s}function z8(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function B8(e){return R8.call(e)==="[object Date]"}var JS="popstate";function H8(e={}){function t(n,a){let{pathname:s,search:o,hash:l}=n.location;return y2("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Zh(a)}return Y8(t,r,null,e)}function cn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $i(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function W8(){return Math.random().toString(36).substring(2,10)}function ZS(e,t){return{usr:e.state,key:e.key,idx:t}}function y2(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Mp(t):t,state:r,key:t&&t.key||n||W8()}}function Zh({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Mp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function Y8(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l="POP",c=null,u=d();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function d(){return(o.state||{idx:null}).idx}function f(){l="POP";let w=d(),g=w==null?null:w-u;u=w,c&&c({action:l,location:v.location,delta:g})}function h(w,g){l="PUSH";let x=y2(v.location,w,g);u=d()+1;let S=ZS(x,u),j=v.createHref(x);try{o.pushState(S,"",j)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;a.location.assign(j)}s&&c&&c({action:l,location:v.location,delta:1})}function m(w,g){l="REPLACE";let x=y2(v.location,w,g);u=d();let S=ZS(x,u),j=v.createHref(x);o.replaceState(S,"",j),s&&c&&c({action:l,location:v.location,delta:0})}function y(w){return V8(w)}let v={get action(){return l},get location(){return e(a,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(JS,f),c=w,()=>{a.removeEventListener(JS,f),c=null}},createHref(w){return t(a,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:m,go(w){return o.go(w)}};return v}function V8(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),cn(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:Zh(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Z6(e,t,r="/"){return q8(e,t,r,!1)}function q8(e,t,r,n){let a=typeof t=="string"?Mp(t):t,s=Ao(a.pathname||"/",r);if(s==null)return null;let o=e_(e);G8(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=s7(s);l=n7(o[c],u,n)}return l}function e_(e,t=[],r=[],n=""){let a=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(cn(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length));let u=bo([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(cn(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),e_(s.children,t,d,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:t7(u,s.index),routesMeta:d})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))a(s,o);else for(let c of t_(s.path))a(s,o,c)}),t}function t_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=t_(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function G8(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:r7(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var K8=/^:[\w-]+$/,X8=3,Q8=2,J8=1,Z8=10,e7=-2,e4=e=>e==="*";function t7(e,t){let r=e.split("/"),n=r.length;return r.some(e4)&&(n+=e7),t&&(n+=Q8),r.filter(a=>!e4(a)).reduce((a,s)=>a+(K8.test(s)?X8:s===""?J8:Z8),n)}function r7(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function n7(e,t,r=!1){let{routesMeta:n}=e,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?t:t.slice(s.length)||"/",f=qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=qg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:bo([s,f.pathname]),pathnameBase:c7(bo([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=bo([s,f.pathnameBase]))}return o}function qg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=a7(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:d,isOptional:f},h)=>{if(d==="*"){let y=l[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=l[h];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function a7(e,t=!1,r=!0){$i(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function s7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $i(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ao(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function i7(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Mp(e):e;return{pathname:r?r.startsWith("/")?r:o7(r,t):t,search:u7(n),hash:d7(a)}}function o7(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function L1(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function l7(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function r_(e){let t=l7(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function n_(e,t,r,n=!1){let a;typeof e=="string"?a=Mp(e):(a={...e},cn(!a.pathname||!a.pathname.includes("?"),L1("?","pathname","search",a)),cn(!a.pathname||!a.pathname.includes("#"),L1("#","pathname","hash",a)),cn(!a.search||!a.search.includes("#"),L1("#","search","hash",a)));let s=e===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=i7(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}var bo=e=>e.join("/").replace(/\/\/+/g,"/"),c7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),u7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,d7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f7(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var a_=["POST","PUT","PATCH","DELETE"];new Set(a_);var h7=["GET",...a_];new Set(h7);var Kd=L.createContext(null);Kd.displayName="DataRouter";var Jv=L.createContext(null);Jv.displayName="DataRouterState";var s_=L.createContext({isTransitioning:!1});s_.displayName="ViewTransition";var p7=L.createContext(new Map);p7.displayName="Fetchers";var m7=L.createContext(null);m7.displayName="Await";var Hi=L.createContext(null);Hi.displayName="Navigation";var Zv=L.createContext(null);Zv.displayName="Location";var Fo=L.createContext({outlet:null,matches:[],isDataRoute:!1});Fo.displayName="Route";var x5=L.createContext(null);x5.displayName="RouteError";function g7(e,{relative:t}={}){cn(Ap(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=L.useContext(Hi),{hash:a,pathname:s,search:o}=Lp(e,{relative:t}),l=s;return r!=="/"&&(l=s==="/"?r:bo([r,s])),n.createHref({pathname:l,search:o,hash:a})}function Ap(){return L.useContext(Zv)!=null}function eu(){return cn(Ap(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Zv).location}var i_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o_(e){L.useContext(Hi).static||L.useLayoutEffect(e)}function v7(){let{isDataRoute:e}=L.useContext(Fo);return e?E7():x7()}function x7(){cn(Ap(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(Kd),{basename:t,navigator:r}=L.useContext(Hi),{matches:n}=L.useContext(Fo),{pathname:a}=eu(),s=JSON.stringify(r_(n)),o=L.useRef(!1);return o_(()=>{o.current=!0}),L.useCallback((c,u={})=>{if($i(o.current,i_),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=n_(c,JSON.parse(s),a,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:bo([t,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[t,r,s,a,e])}L.createContext(null);function Lp(e,{relative:t}={}){let{matches:r}=L.useContext(Fo),{pathname:n}=eu(),a=JSON.stringify(r_(r));return L.useMemo(()=>n_(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function y7(e,t,r,n){cn(Ap(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(Hi),{matches:s}=L.useContext(Fo),o=s[s.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",d=o&&o.route;{let g=d&&d.path||"";l_(c,!d||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let f=eu(),h;h=f;let m=h.pathname||"/",y=m;if(u!=="/"){let g=u.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=Z6(e,{pathname:y});return $i(d||v!=null,`No routes matched location "${h.pathname}${h.search}${h.hash}" `),$i(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${h.pathname}${h.search}${h.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),S7(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:bo([u,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:bo([u,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,r,n)}function b7(){let e=P7(),t=f7(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:s},"ErrorBoundary")," or"," ",L.createElement("code",{style:s},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),r?L.createElement("pre",{style:a},r):null,o)}var w7=L.createElement(b7,null),N7=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?L.createElement(Fo.Provider,{value:this.props.routeContext},L.createElement(x5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function j7({routeContext:e,match:t,children:r}){let n=L.useContext(Kd);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(Fo.Provider,{value:e},r)}function S7(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,s=r==null?void 0:r.errors;if(s!=null){let c=a.findIndex(u=>u.route.id&&(s==null?void 0:s[u.route.id])!==void 0);cn(c>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,c+1))}let o=!1,l=-1;if(r)for(let c=0;c<a.length;c++){let u=a[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=c),u.route.id){let{loaderData:d,errors:f}=r,h=u.route.loader&&!d.hasOwnProperty(u.route.id)&&(!f||f[u.route.id]===void 0);if(u.route.lazy||h){o=!0,l>=0?a=a.slice(0,l+1):a=[a[0]];break}}}return a.reduceRight((c,u,d)=>{let f,h=!1,m=null,y=null;r&&(f=s&&u.route.id?s[u.route.id]:void 0,m=u.route.errorElement||w7,o&&(l<0&&d===0?(l_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,y=null):l===d&&(h=!0,y=u.route.hydrateFallbackElement||null)));let v=t.concat(a.slice(0,d+1)),w=()=>{let g;return f?g=m:h?g=y:u.route.Component?g=L.createElement(u.route.Component,null):u.route.element?g=u.route.element:g=c,L.createElement(j7,{match:u,routeContext:{outlet:c,matches:v,isDataRoute:r!=null},children:g})};return r&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?L.createElement(N7,{location:r.location,revalidation:r.revalidation,component:m,error:f,children:w(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):w()},null)}function y5(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function k7(e){let t=L.useContext(Kd);return cn(t,y5(e)),t}function C7(e){let t=L.useContext(Jv);return cn(t,y5(e)),t}function D7(e){let t=L.useContext(Fo);return cn(t,y5(e)),t}function b5(e){let t=D7(e),r=t.matches[t.matches.length-1];return cn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function _7(){return b5("useRouteId")}function P7(){var n;let e=L.useContext(x5),t=C7("useRouteError"),r=b5("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function E7(){let{router:e}=k7("useNavigate"),t=b5("useNavigate"),r=L.useRef(!1);return o_(()=>{r.current=!0}),L.useCallback(async(a,s={})=>{$i(r.current,i_),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var t4={};function l_(e,t,r){!t&&!t4[e]&&(t4[e]=!0,$i(!1,r))}L.memo(M7);function M7({routes:e,future:t,state:r}){return y7(e,void 0,r,t)}function A7({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){cn(!Ap(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=e.replace(/^\/*/,"/"),l=L.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=Mp(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:h="default"}=r,m=L.useMemo(()=>{let y=Ao(c,o);return y==null?null:{location:{pathname:y,search:u,hash:d,state:f,key:h},navigationType:n}},[o,c,u,d,f,h,n]);return $i(m!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:L.createElement(Hi.Provider,{value:l},L.createElement(Zv.Provider,{children:t,value:m}))}var K0="get",X0="application/x-www-form-urlencoded";function ex(e){return e!=null&&typeof e.tagName=="string"}function L7(e){return ex(e)&&e.tagName.toLowerCase()==="button"}function O7(e){return ex(e)&&e.tagName.toLowerCase()==="form"}function T7(e){return ex(e)&&e.tagName.toLowerCase()==="input"}function I7(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R7(e,t){return e.button===0&&(!t||t==="_self")&&!I7(e)}var d0=null;function F7(){if(d0===null)try{new FormData(document.createElement("form"),0),d0=!1}catch{d0=!0}return d0}var $7=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function O1(e){return e!=null&&!$7.has(e)?($i(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${X0}"`),null):e}function U7(e,t){let r,n,a,s,o;if(O7(e)){let l=e.getAttribute("action");n=l?Ao(l,t):null,r=e.getAttribute("method")||K0,a=O1(e.getAttribute("enctype"))||X0,s=new FormData(e)}else if(L7(e)||T7(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=e.getAttribute("formaction")||l.getAttribute("action");if(n=c?Ao(c,t):null,r=e.getAttribute("formmethod")||l.getAttribute("method")||K0,a=O1(e.getAttribute("formenctype"))||O1(l.getAttribute("enctype"))||X0,s=new FormData(l,e),!F7()){let{name:u,type:d,value:f}=e;if(d==="image"){let h=u?`${u}.`:"";s.append(`${h}x`,"0"),s.append(`${h}y`,"0")}else u&&s.append(u,f)}}else{if(ex(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=K0,n=null,a=X0,o=e}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}function w5(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function z7(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B7(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function H7(e,t,r){let n=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let o=await z7(s,r);return o.links?o.links():[]}return[]}));return q7(n.flat(1).filter(B7).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function r4(e,t,r,n,a,s){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var d;return r[u].pathname!==c.pathname||((d=r[u].route.path)==null?void 0:d.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?t.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?t.filter((c,u)=>{var f;let d=n.routes[c.route.id];if(!d||!d.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let h=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function W7(e,t,{includeHydrateFallback:r}={}){return Y7(e.map(n=>{let a=t.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Y7(e){return[...new Set(e)]}function V7(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function q7(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let s=JSON.stringify(V7(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var G7=new Set([100,101,204,205]);function K7(e,t){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname="_root.data":t&&Ao(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}function c_(){let e=L.useContext(Kd);return w5(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function X7(){let e=L.useContext(Jv);return w5(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var N5=L.createContext(void 0);N5.displayName="FrameworkContext";function u_(){let e=L.useContext(N5);return w5(e,"You must render this element inside a <HydratedRouter> element"),e}function Q7(e,t){let r=L.useContext(N5),[n,a]=L.useState(!1),[s,o]=L.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,h=L.useRef(null);L.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let v=g=>{g.forEach(x=>{o(x.isIntersecting)})},w=new IntersectionObserver(v,{threshold:.5});return h.current&&w.observe(h.current),()=>{w.disconnect()}}},[e]),L.useEffect(()=>{if(n){let v=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(v)}}},[n]);let m=()=>{a(!0)},y=()=>{a(!1),o(!1)};return r?e!=="intent"?[s,h,{}]:[s,h,{onFocus:eh(l,m),onBlur:eh(c,y),onMouseEnter:eh(u,m),onMouseLeave:eh(d,y),onTouchStart:eh(f,m)}]:[!1,h,{}]}function eh(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function J7({page:e,...t}){let{router:r}=c_(),n=L.useMemo(()=>Z6(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?L.createElement(eI,{page:e,matches:n,...t}):null}function Z7(e){let{manifest:t,routeModules:r}=u_(),[n,a]=L.useState([]);return L.useEffect(()=>{let s=!1;return H7(e,t,r).then(o=>{s||a(o)}),()=>{s=!0}},[e,t,r]),n}function eI({page:e,matches:t,...r}){let n=eu(),{manifest:a,routeModules:s}=u_(),{basename:o}=c_(),{loaderData:l,matches:c}=X7(),u=L.useMemo(()=>r4(e,t,c,a,n,"data"),[e,t,c,a,n]),d=L.useMemo(()=>r4(e,t,c,a,n,"assets"),[e,t,c,a,n]),f=L.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let y=new Set,v=!1;if(t.forEach(g=>{var S;let x=a.routes[g.route.id];!x||!x.hasLoader||(!u.some(j=>j.route.id===g.route.id)&&g.route.id in l&&((S=s[g.route.id])!=null&&S.shouldRevalidate)||x.hasClientLoader?v=!0:y.add(g.route.id))}),y.size===0)return[];let w=K7(e,o);return v&&y.size>0&&w.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[w.pathname+w.search]},[o,l,n,a,u,t,e,s]),h=L.useMemo(()=>W7(d,a),[d,a]),m=Z7(d);return L.createElement(L.Fragment,null,f.map(y=>L.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),h.map(y=>L.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),m.map(({key:y,link:v})=>L.createElement("link",{key:y,...v})))}function tI(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d_&&(window.__reactRouterVersion="7.6.3")}catch{}function rI({basename:e,children:t,window:r}){let n=L.useRef();n.current==null&&(n.current=H8({window:r,v5Compat:!0}));let a=n.current,[s,o]=L.useState({action:a.action,location:a.location}),l=L.useCallback(c=>{L.startTransition(()=>o(c))},[o]);return L.useLayoutEffect(()=>a.listen(l),[a,l]),L.createElement(A7,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:a})}var f_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h_=L.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f,...h},m){let{basename:y}=L.useContext(Hi),v=typeof u=="string"&&f_.test(u),w,g=!1;if(typeof u=="string"&&v&&(w=u,d_))try{let I=new URL(window.location.href),R=u.startsWith("//")?new URL(I.protocol+u):new URL(u),M=Ao(R.pathname,y);R.origin===I.origin&&M!=null?u=M+R.search+R.hash:g=!0}catch{$i(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let x=g7(u,{relative:a}),[S,j,E]=Q7(n,h),T=iI(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:a,viewTransition:f});function k(I){t&&t(I),I.defaultPrevented||T(I)}let D=L.createElement("a",{...h,...E,href:w||x,onClick:g||s?t:k,ref:tI(m,j),target:c,"data-discover":!v&&r==="render"?"true":void 0});return S&&!v?L.createElement(L.Fragment,null,D,L.createElement(J7,{page:x})):D});h_.displayName="Link";var nI=L.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:l,children:c,...u},d){let f=Lp(o,{relative:u.relative}),h=eu(),m=L.useContext(Jv),{navigator:y,basename:v}=L.useContext(Hi),w=m!=null&&dI(f)&&l===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=h.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(x=x.toLowerCase(),S=S?S.toLowerCase():null,g=g.toLowerCase()),S&&v&&(S=Ao(S,v)||S);const j=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let E=x===g||!a&&x.startsWith(g)&&x.charAt(j)==="/",T=S!=null&&(S===g||!a&&S.startsWith(g)&&S.charAt(g.length)==="/"),k={isActive:E,isPending:T,isTransitioning:w},D=E?t:void 0,I;typeof n=="function"?I=n(k):I=[n,E?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let R=typeof s=="function"?s(k):s;return L.createElement(h_,{...u,"aria-current":D,className:I,ref:d,style:R,to:o,viewTransition:l},typeof c=="function"?c(k):c)});nI.displayName="NavLink";var aI=L.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:s,method:o=K0,action:l,onSubmit:c,relative:u,preventScrollReset:d,viewTransition:f,...h},m)=>{let y=cI(),v=uI(l,{relative:u}),w=o.toLowerCase()==="get"?"get":"post",g=typeof l=="string"&&f_.test(l),x=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let j=S.nativeEvent.submitter,E=(j==null?void 0:j.getAttribute("formmethod"))||o;y(j||S.currentTarget,{fetcherKey:t,method:E,navigate:r,replace:a,state:s,relative:u,preventScrollReset:d,viewTransition:f})};return L.createElement("form",{ref:m,method:w,action:v,onSubmit:n?c:x,...h,"data-discover":!g&&e==="render"?"true":void 0})});aI.displayName="Form";function sI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p_(e){let t=L.useContext(Kd);return cn(t,sI(e)),t}function iI(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let l=v7(),c=eu(),u=Lp(e,{relative:s});return L.useCallback(d=>{if(R7(d,t)){d.preventDefault();let f=r!==void 0?r:Zh(c)===Zh(u);l(e,{replace:f,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,n,t,e,a,s,o])}var oI=0,lI=()=>`__${String(++oI)}__`;function cI(){let{router:e}=p_("useSubmit"),{basename:t}=L.useContext(Hi),r=_7();return L.useCallback(async(n,a={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=U7(n,t);if(a.navigate===!1){let d=a.fetcherKey||lI();await e.fetch(d,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await e.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function uI(e,{relative:t}={}){let{basename:r}=L.useContext(Hi),n=L.useContext(Fo);cn(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Lp(e||".",{relative:t})},o=eu();if(e==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(d=>d==="")){l.delete("index"),c.filter(f=>f).forEach(f=>l.append("index",f));let d=l.toString();s.search=d?`?${d}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:bo([r,s.pathname])),Zh(s)}function dI(e,t={}){let r=L.useContext(s_);cn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=p_("useViewTransitionState"),a=Lp(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Ao(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ao(r.nextLocation.pathname,n)||r.nextLocation.pathname;return qg(a.pathname,o)!=null||qg(a.pathname,s)!=null}[...G7];class fI{constructor(){this.baseUrl="/api/auth",this.users=[],this.loadUsers()}loadUsers(){const t=localStorage.getItem("auth-users");if(t)try{this.users=JSON.parse(t)}catch(r){console.error("Error loading auth users:",r),this.users=this.getDefaultUsers(),this.saveUsers()}else this.users=this.getDefaultUsers(),this.saveUsers()}saveUsers(){localStorage.setItem("auth-users",JSON.stringify(this.users))}getDefaultUsers(){return[{id:"1",email:"admin@techsolutions.com",password:"admin123",name:"Administrador Sistema",role:"admin"},{id:"2",email:"usuario@techsolutions.com",password:"user123",name:"Usuario Demo",role:"user"}]}async signIn(t){await new Promise(a=>setTimeout(a,1e3));const r=this.users.find(a=>a.email.toLowerCase()===t.email.toLowerCase()&&a.password===t.password);if(!r)throw console.log("Available users:",this.users.map(a=>({email:a.email,password:a.password}))),console.log("Attempted login:",t),new Error("Credenciales inválidas. Verifica tu correo y contraseña.");return{user:{id:r.id,email:r.email,name:r.name,role:r.role,avatar:r.avatar||void 0},token:`mock_token_${r.id}_${Date.now()}`,refreshToken:`mock_refresh_${r.id}_${Date.now()}`}}async signOut(t){await new Promise(r=>setTimeout(r,500)),console.log("Token invalidated on server:",t)}async refreshToken(t){return await new Promise(r=>setTimeout(r,500)),{token:`refreshed_token_${Date.now()}`}}async getCurrentUser(t){await new Promise(a=>setTimeout(a,300));const r=t.split("_")[2],n=this.users.find(a=>a.id===r);if(!n)throw new Error("Token inválido");return{id:n.id,email:n.email,name:n.name,role:n.role,avatar:n.avatar||void 0}}async addUser(t){const r=this.users.find(a=>a.email.toLowerCase()===t.email.toLowerCase());if(r)return console.log("User already exists, updating:",t.email),r.name=t.name,r.role=t.role,r.password=t.password,t.avatar&&(r.avatar=t.avatar),this.saveUsers(),r;const n={...t,id:t.id||Date.now().toString()};return this.users.push(n),this.saveUsers(),console.log("New auth user created:",n.email,"password:",n.password),n}async updateUser(t,r){const n=this.users.findIndex(a=>a.id===t);if(n===-1)throw new Error("Usuario no encontrado");return this.users[n]={...this.users[n],...r},this.saveUsers(),this.users[n]}async removeUser(t){this.users=this.users.filter(r=>r.id!==t),this.saveUsers()}async changePassword(t,r){const n=this.users.findIndex(a=>a.id===t);n!==-1&&(this.users[n].password=r,this.saveUsers(),console.log("Password changed for user:",this.users[n].email,"new password:",r))}validateEmail(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}validatePassword(t){return t.length>=6}getAllUsers(){return[...this.users]}}const rs=new fI,m_=L.createContext(void 0),Bl=()=>{const e=L.useContext(m_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},g_=({children:e})=>{const[t,r]=L.useState({user:null,token:null,isAuthenticated:!1,isLoading:!0,error:null});L.useEffect(()=>{(async()=>{try{const l=localStorage.getItem("auth_token"),c=localStorage.getItem("auth_user");if(l&&c){const u=await rs.getCurrentUser(l);r({user:u,token:l,isAuthenticated:!0,isLoading:!1,error:null})}else r(u=>({...u,isLoading:!1}))}catch{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_refresh_token"),r({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null})}})()},[]);const n=async o=>{r(l=>({...l,isLoading:!0,error:null}));try{if(!rs.validateEmail(o.email))throw new Error("Por favor ingresa un correo electrónico válido");if(!rs.validatePassword(o.password))throw new Error("La contraseña debe tener al menos 6 caracteres");const l=await rs.signIn(o);localStorage.setItem("auth_token",l.token),localStorage.setItem("auth_user",JSON.stringify(l.user)),localStorage.setItem("auth_refresh_token",l.refreshToken),r({user:l.user,token:l.token,isAuthenticated:!0,isLoading:!1,error:null})}catch(l){throw r(c=>({...c,isLoading:!1,error:l instanceof Error?l.message:"Error desconocido al iniciar sesión"})),l}},a=async()=>{r(o=>({...o,isLoading:!0}));try{t.token&&await rs.signOut(t.token)}catch(o){console.error("Error al cerrar sesión en el servidor:",o)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("auth_user"),localStorage.removeItem("auth_refresh_token"),r({user:null,token:null,isAuthenticated:!1,isLoading:!1,error:null}),window.location.href="/login"}},s=()=>{r(o=>({...o,error:null}))};return i.jsx(m_.Provider,{value:{...t,login:n,logout:a,clearError:s},children:e})};class hI{constructor(){this.users=[],this.initialized=!1,this.loadUsers()}loadUsers(){if(this.initialized)return;const t=localStorage.getItem("crm-users");if(t)try{const r=JSON.parse(t);this.users=r.map(n=>({...n,fechaRegistro:new Date(n.fechaRegistro),fechaActualizacion:n.fechaActualizacion?new Date(n.fechaActualizacion):void 0,ultimoAcceso:n.ultimoAcceso?new Date(n.ultimoAcceso):void 0,historialActividad:n.historialActividad.map(a=>({...a,fecha:new Date(a.fecha)}))}))}catch(r){console.error("Error loading users:",r),this.users=this.getDefaultUsers()}else this.users=this.getDefaultUsers();this.initialized=!0,this.saveUsers()}saveUsers(){localStorage.setItem("crm-users",JSON.stringify(this.users))}getDefaultUsers(){return[{id:"1",nombre:"Administrador",apellido:"Sistema",email:"admin@techsolutions.com",telefono:"+52 55 1234 5678",rol:"admin",estado:"active",departamento:"Administración",cargo:"Administrador del Sistema",fechaRegistro:new Date("2024-01-01"),ultimoAcceso:new Date,permisos:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","delete","approve"]},{modulo:"products",acciones:["view","create","edit","delete"]},{modulo:"users",acciones:["view","create","edit","delete","invite"]},{modulo:"reports",acciones:["view","export"]},{modulo:"settings",acciones:["view","edit"]}],configuracion:{idioma:"es",timezone:"America/Mexico_City",notificaciones:{email:!0,push:!0,sms:!1},tema:"light"},estadisticas:{prospectosManagedos:25,cotizacionesCreadas:15,ventasCerradas:8,tasaConversion:32,tiempoPromedioRespuesta:2.5},historialActividad:[{id:"1",fecha:new Date,accion:"Inicio de sesión",modulo:"auth",detalles:"Usuario inició sesión en el sistema",ip:"192.168.1.100"}]},{id:"2",nombre:"Usuario",apellido:"Demo",email:"usuario@techsolutions.com",telefono:"+52 55 8765 4321",rol:"agent",estado:"active",departamento:"Ventas",cargo:"Ejecutivo de Ventas",fechaRegistro:new Date("2024-01-15"),ultimoAcceso:new Date(Date.now()-864e5),permisos:[{modulo:"prospects",acciones:["view","create","edit"]},{modulo:"quotes",acciones:["view","create","edit"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}],configuracion:{idioma:"es",timezone:"America/Mexico_City",notificaciones:{email:!0,push:!0,sms:!1},tema:"light"},estadisticas:{prospectosManagedos:12,cotizacionesCreadas:8,ventasCerradas:3,tasaConversion:25,tiempoPromedioRespuesta:3.2},historialActividad:[{id:"1",fecha:new Date(Date.now()-864e5),accion:"Creó prospecto",modulo:"prospects",detalles:"Creó nuevo prospecto: María García",ip:"192.168.1.101"}]}]}async getAllUsers(){return await new Promise(t=>setTimeout(t,300)),[...this.users]}async getUserById(t){return await new Promise(r=>setTimeout(r,200)),this.users.find(r=>r.id===t)||null}async createUser(t){if(console.log("UserService: createUser called with:",t),await new Promise(a=>setTimeout(a,500)),this.users.some(a=>a.email.toLowerCase()===t.email.toLowerCase()))throw new Error("Ya existe un usuario con este correo electrónico");const r={...t,id:Date.now().toString(),fechaRegistro:new Date,historialActividad:[{id:"1",fecha:new Date,accion:"Usuario creado",modulo:"users",detalles:"Usuario creado en el sistema"}]};console.log("UserService: Creating new user:",r),this.users.unshift(r),this.saveUsers();const n="temp123";try{console.log("UserService: Adding user to auth service with default password"),await rs.addUser({id:r.id,email:r.email,password:n,name:`${r.nombre} ${r.apellido}`,role:r.rol==="admin"?"admin":"user"}),console.log(`UserService: Usuario creado exitosamente: ${r.email} con contraseña: ${n}`)}catch(a){throw console.error("UserService: Error adding user to auth service:",a),this.users=this.users.filter(s=>s.id!==r.id),this.saveUsers(),new Error("Error al crear las credenciales de acceso del usuario")}return console.log("UserService: User created successfully:",r),r}async createUserWithPassword(t,r){console.log("UserService: createUserWithPassword called with:",t,"password provided:",!!r);const n=await this.createUser(t),a=r||"temp123";try{console.log("UserService: Adding user to auth service with custom password"),await rs.addUser({id:n.id,email:n.email,password:a,name:`${n.nombre} ${n.apellido}`,role:n.rol==="admin"?"admin":"user"}),console.log(`UserService: Usuario creado exitosamente: ${n.email} con contraseña: ${a}`)}catch(s){throw console.error("UserService: Error adding user to auth service:",s),this.users=this.users.filter(o=>o.id!==n.id),this.saveUsers(),new Error("Error al crear las credenciales de acceso del usuario")}return n}async updateUser(t,r){console.log("UserService: updateUser called with:",{id:t,updates:r}),await new Promise(s=>setTimeout(s,400));const n=this.users.findIndex(s=>s.id===t);if(n===-1)throw new Error("Usuario no encontrado");if(r.email&&r.email!==this.users[n].email&&this.users.some(s=>s.email.toLowerCase()===r.email.toLowerCase()&&s.id!==t))throw new Error("Ya existe un usuario con este correo electrónico");const a={...this.users[n],...r,fechaActualizacion:new Date};if(this.users[n]=a,this.saveUsers(),r.email||r.nombre||r.apellido||r.rol)try{await rs.updateUser(t,{email:a.email,name:`${a.nombre} ${a.apellido}`,role:a.rol==="admin"?"admin":"user"})}catch(s){console.error("Error updating user in auth service:",s)}return console.log("UserService: User updated successfully:",a),a}async deleteUser(t){await new Promise(a=>setTimeout(a,300));const r=this.users.findIndex(a=>a.id===t);if(r===-1)throw new Error("Usuario no encontrado");if(this.users[r].rol==="admin"&&this.users.filter(s=>s.rol==="admin"&&s.id!==t).length===0)throw new Error("No se puede eliminar el último administrador del sistema");this.users.splice(r,1),this.saveUsers();try{await rs.removeUser(t)}catch(a){console.error("Error removing user from auth service:",a)}}async changeUserStatus(t,r){await new Promise(a=>setTimeout(a,200));const n=await this.updateUser(t,{estado:r});return this.addActivityLog(t,{accion:`Estado cambiado a ${r}`,modulo:"users",detalles:`El estado del usuario fue cambiado a ${r}`}),n}async changePassword(t,r,n){await new Promise(a=>setTimeout(a,400));try{await rs.changePassword(t,n),this.addActivityLog(t,{accion:"Contraseña cambiada",modulo:"security",detalles:"El usuario cambió su contraseña"})}catch(a){throw console.error("Error changing password:",a),new Error("Error al cambiar la contraseña")}}async addActivityLog(t,r){const n=this.users.findIndex(s=>s.id===t);if(n===-1)return;const a={...r,id:Date.now().toString(),fecha:new Date};this.users[n].historialActividad.unshift(a),this.saveUsers()}async importUsers(t){await new Promise(a=>setTimeout(a,1e3));const r=[],n=[];for(const a of t)try{if(this.users.some(o=>o.email.toLowerCase()===a.email.toLowerCase())){n.push(`Email duplicado: ${a.email}`);continue}const s=await this.createUser({...a,estado:"pending",permisos:this.getDefaultPermissions(a.rol),configuracion:{idioma:"es",timezone:"America/Mexico_City",notificaciones:{email:!0,push:!0,sms:!1},tema:"light"},estadisticas:{prospectosManagedos:0,cotizacionesCreadas:0,ventasCerradas:0,tasaConversion:0,tiempoPromedioRespuesta:0}});r.push(s)}catch(s){n.push(`Error creando usuario ${a.email}: ${s}`)}return n.length>0&&console.warn("Errores durante la importación:",n),r}async exportUsers(){return await new Promise(n=>setTimeout(n,500)),[["nombre","apellido","email","telefono","rol","estado","departamento","cargo","fechaRegistro","ultimoAcceso","prospectosManagedos","cotizacionesCreadas","ventasCerradas"].join(","),...this.users.map(n=>[n.nombre,n.apellido,n.email,n.telefono||"",n.rol,n.estado,n.departamento||"",n.cargo||"",n.fechaRegistro.toISOString().split("T")[0],n.ultimoAcceso?n.ultimoAcceso.toISOString().split("T")[0]:"",n.estadisticas.prospectosManagedos,n.estadisticas.cotizacionesCreadas,n.estadisticas.ventasCerradas].join(","))].join(`
`)}getDefaultPermissions(t){const r={admin:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","delete","approve"]},{modulo:"products",acciones:["view","create","edit","delete"]},{modulo:"users",acciones:["view","create","edit","delete","invite"]},{modulo:"reports",acciones:["view","export"]},{modulo:"settings",acciones:["view","edit"]}],manager:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","approve"]},{modulo:"products",acciones:["view","create","edit"]},{modulo:"users",acciones:["view","invite"]},{modulo:"reports",acciones:["view","export"]},{modulo:"settings",acciones:["view"]}],agent:[{modulo:"prospects",acciones:["view","create","edit"]},{modulo:"quotes",acciones:["view","create","edit"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}],viewer:[{modulo:"prospects",acciones:["view"]},{modulo:"quotes",acciones:["view"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}]};return r[t]||r.viewer}async getUserProspects(t){return await new Promise(r=>setTimeout(r,200)),[]}async assignProspectToUser(t,r){await new Promise(n=>setTimeout(n,300)),this.addActivityLog(r,{accion:"Prospecto asignado",modulo:"prospects",detalles:`Se asignó el prospecto ${t} al usuario`})}async updateLastAccess(t){const r=this.users.findIndex(n=>n.id===t);r!==-1&&(this.users[r].ultimoAcceso=new Date,this.saveUsers())}async setUserPassword(t,r){try{await rs.changePassword(t,r),this.addActivityLog(t,{accion:"Contraseña establecida",modulo:"security",detalles:"Se estableció la contraseña inicial del usuario"})}catch(n){throw console.error("Error setting user password:",n),new Error("Error al establecer la contraseña del usuario")}}async debugAuthUsers(){return rs.getAllUsers()}}const Ls=new hI,v_=L.createContext(void 0),Xd=()=>{const e=L.useContext(v_);if(!e)throw new Error("useUsers must be used within a UserProvider");return e},x_=({children:e})=>{const{user:t}=Bl(),[r,n]=L.useState([]),[a,s]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState(null),[d,f]=L.useState({search:"",role:"all",status:"all",sortBy:"fechaRegistro",sortOrder:"desc"}),[h,m]=L.useState({page:1,limit:10,total:0});L.useEffect(()=>{y()},[]);const y=async()=>{s(!0),l(null);try{const R=await Ls.getAllUsers();n(R),m(M=>({...M,total:R.length}))}catch(R){l(R instanceof Error?R.message:"Error cargando usuarios")}finally{s(!1)}},v=async(R,M)=>{console.log("UserContext: createUser called with:",R,"password provided:",!!M),s(!0),l(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para crear usuarios");console.log("UserContext: Calling userService.createUser");const P=M?await Ls.createUserWithPassword(R,M):await Ls.createUser(R);return console.log("UserContext: User created successfully:",P),n(F=>[P,...F]),m(F=>({...F,total:F.total+1})),P}catch(P){const F=P instanceof Error?P.message:"Error creando usuario";throw console.error("UserContext: Error creating user:",F),l(F),new Error(F)}finally{s(!1)}},w=async(R,M)=>{s(!0),l(null);try{if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.id)!==R)throw new Error("No tienes permisos para editar este usuario");const P=await Ls.updateUser(R,M);return n(F=>F.map(O=>O.id===R?P:O)),(c==null?void 0:c.id)===R&&u(P),P}catch(P){const F=P instanceof Error?P.message:"Error actualizando usuario";throw l(F),new Error(F)}finally{s(!1)}},g=async R=>{s(!0),l(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para eliminar usuarios");if((t==null?void 0:t.id)===R)throw new Error("No puedes eliminar tu propia cuenta");await Ls.deleteUser(R),n(M=>M.filter(P=>P.id!==R)),m(M=>({...M,total:M.total-1})),(c==null?void 0:c.id)===R&&u(null)}catch(M){const P=M instanceof Error?M.message:"Error eliminando usuario";throw l(P),new Error(P)}finally{s(!1)}},x=async(R,M)=>{s(!0),l(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para cambiar el estado de usuarios");if((t==null?void 0:t.id)===R)throw new Error("No puedes cambiar tu propio estado");const P=await Ls.changeUserStatus(R,M);n(F=>F.map(O=>O.id===R?P:O)),(c==null?void 0:c.id)===R&&u(P)}catch(P){const F=P instanceof Error?P.message:"Error cambiando estado del usuario";throw l(F),new Error(F)}finally{s(!1)}},S=async(R,M)=>{s(!0),l(null);try{if((t==null?void 0:t.id)!==R&&(t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para cambiar esta contraseña");await Ls.changePassword(R,M.currentPassword,M.newPassword),await Ls.addActivityLog(R,{accion:"Contraseña cambiada",modulo:"security",detalles:"El usuario cambió su contraseña"});const P=await Ls.getUserById(R);P&&(n(F=>F.map(O=>O.id===R?P:O)),(c==null?void 0:c.id)===R&&u(P))}catch(P){const F=P instanceof Error?P.message:"Error cambiando contraseña";throw l(F),new Error(F)}finally{s(!1)}},j=async R=>{s(!0),l(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para importar usuarios");const M=await Ls.importUsers(R);return n(P=>[...M,...P]),m(P=>({...P,total:P.total+M.length})),M}catch(M){const P=M instanceof Error?M.message:"Error importando usuarios";throw l(P),new Error(P)}finally{s(!1)}},E=async()=>{s(!0),l(null);try{if((t==null?void 0:t.role)!=="admin")throw new Error("No tienes permisos para exportar usuarios");return await Ls.exportUsers()}catch(R){const M=R instanceof Error?R.message:"Error exportando usuarios";throw l(M),new Error(M)}finally{s(!1)}},T=R=>{u(R)},k=R=>{f(M=>({...M,...R})),m(M=>({...M,page:1}))},D=R=>{m(M=>({...M,...R}))},I=()=>{l(null)};return i.jsx(v_.Provider,{value:{users:r,loading:a,error:o,filters:d,pagination:h,selectedUser:c,loadUsers:y,createUser:v,updateUser:w,deleteUser:g,changeUserStatus:x,changePassword:S,selectUser:T,setFilters:k,setPagination:D,importUsers:j,exportUsers:E,clearError:I},children:e})},pI=[{id:"1",nombre:"Chatbot WhatsApp Básico",precio:2500,descripcion:"Chatbot automatizado para WhatsApp con respuestas básicas, configuración inicial y soporte por 30 días",categoria:"Chatbots",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"2",nombre:"Chatbot WhatsApp Premium",precio:5e3,descripcion:"Chatbot avanzado con IA, integraciones múltiples, analytics y soporte premium por 90 días",categoria:"Chatbots",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"3",nombre:"Automatización de Ventas",precio:3500,descripcion:"Sistema completo de automatización de procesos de venta con CRM integrado",categoria:"Automatización",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"4",nombre:"CRM Personalizado",precio:7500,descripcion:"Sistema CRM desarrollado a medida para tu negocio con módulos específicos",categoria:"Software",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"5",nombre:"Marketing Digital",precio:2e3,descripcion:"Campañas de marketing digital y gestión de redes sociales por mes",categoria:"Marketing",unidadMedida:"Mes",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"6",nombre:"Consultoría Estratégica",precio:1500,descripcion:"Sesión de consultoría estratégica para optimización de procesos digitales",categoria:"Consultoría",unidadMedida:"Hora",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"7",nombre:"Integración API",precio:4e3,descripcion:"Desarrollo e integración de APIs personalizadas para conectar sistemas",categoria:"Desarrollo",unidadMedida:"Servicio",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")},{id:"8",nombre:"Mantenimiento Mensual",precio:800,descripcion:"Servicio de mantenimiento y soporte técnico mensual para sistemas implementados",categoria:"Soporte",unidadMedida:"Mes",estado:"activo",fechaCreacion:new Date("2024-01-01"),fechaActualizacion:new Date("2024-01-01")}],mI=[{id:"1",nombre:"Paquete Chatbot Completo",descripcion:"Plantilla para chatbot con implementación y soporte",items:[{nombre:"Chatbot WhatsApp Premium",descripcion:"Chatbot avanzado con IA y integraciones múltiples",cantidad:1,precioUnitario:5e3,descuento:0,tipoDescuento:"porcentaje",subtotal:5e3},{nombre:"Consultoría Estratégica",descripcion:"Análisis y planificación de la estrategia de automatización",cantidad:4,precioUnitario:1500,descuento:10,tipoDescuento:"porcentaje",subtotal:5400}],condicionesPago:"50% anticipo, 50% contra entrega",notasAdicionales:"Incluye capacitación del equipo y documentación completa",terminosCondiciones:"Garantía de 90 días en funcionamiento. Soporte técnico incluido.",metodosPago:["Transferencia bancaria","PayPal","Stripe"],fechaCreacion:new Date("2024-01-15"),creadoPor:"Admin"},{id:"2",nombre:"Paquete Marketing + Automatización",descripcion:"Solución integral de marketing y automatización",items:[{nombre:"Marketing Digital",descripcion:"Gestión completa de redes sociales y campañas",cantidad:3,precioUnitario:2e3,descuento:15,tipoDescuento:"porcentaje",subtotal:5100},{nombre:"Automatización de Ventas",descripcion:"Sistema de automatización de procesos de venta",cantidad:1,precioUnitario:3500,descuento:0,tipoDescuento:"porcentaje",subtotal:3500}],condicionesPago:"30% anticipo, 70% en 2 pagos mensuales",notasAdicionales:"Incluye reportes mensuales y optimización continua",terminosCondiciones:"Contrato mínimo de 3 meses. Cancelación con 30 días de anticipación.",metodosPago:["Transferencia bancaria","Tarjeta de crédito"],fechaCreacion:new Date("2024-01-20"),creadoPor:"Admin"}],gI={nombre:"TechSolutions Pro",direccion:"Av. Tecnología 123, Col. Innovación, Ciudad de México, CP 01234",telefono:"+52 55 1234 5678",correo:"contacto@techsolutions.com",sitioWeb:"www.techsolutions.com",rfc:"TSP123456789",regimenFiscal:"Régimen General de Ley Personas Morales",iva:16,condicionesPagoDefault:"50% anticipo, 50% contra entrega",terminosCondicionesDefault:"Garantía de 30 días. Soporte técnico incluido por 90 días.",metodosPagoDefault:["Transferencia bancaria","PayPal","Stripe","Tarjeta de crédito"],recordatoriosAutomaticos:!0,diasRecordatorio:7},vI=[{id:"1",nombre:"Carlos García",telefono:"+5213312345678",correo:"carlos@example.com",plataforma:"WhatsApp",servicioInteres:"Chatbot WhatsApp",fechaContacto:new Date("2024-01-15"),estado:"En seguimiento",ultimoSeguimiento:new Date("2024-01-20"),notasInternas:"Cliente muy interesado, tiene tienda online",responsable:"Ana López",seguimientos:[{id:"1",fecha:new Date("2024-01-16"),nota:"Primera llamada realizada, muy interesado en automatización",usuario:"Ana López"},{id:"2",fecha:new Date("2024-01-20"),nota:"Envió información adicional sobre su negocio",usuario:"Ana López"}],cotizaciones:[]},{id:"2",nombre:"María Rodríguez",telefono:"+5215544332211",correo:"maria@tienda.com",plataforma:"Instagram",servicioInteres:"CRM Personalizado",fechaContacto:new Date("2024-01-18"),estado:"Cotizado",ultimoSeguimiento:new Date("2024-01-22"),notasInternas:"Dueña de boutique, necesita sistema completo",responsable:"Luis Martín",seguimientos:[{id:"3",fecha:new Date("2024-01-19"),nota:"Reunión virtual programada para mañana",usuario:"Luis Martín"}],cotizaciones:[{id:"1",numero:"COT-2024-001",prospectId:"2",fecha:new Date("2024-01-21"),vigencia:new Date("2024-02-21"),items:[{id:"1",productId:"4",nombre:"CRM Personalizado",descripcion:"Sistema CRM desarrollado a medida para boutique",cantidad:1,precioUnitario:7500,descuento:0,tipoDescuento:"porcentaje",subtotal:7500}],subtotal:7500,descuentoGlobal:0,tipoDescuentoGlobal:"porcentaje",iva:16,total:8700,estado:"Enviada",condicionesPago:"50% anticipo, 50% contra entrega",notasAdicionales:"Incluye capacitación del equipo",terminosCondiciones:"Garantía de 90 días",metodosPago:["Transferencia bancaria","PayPal"],fechaCreacion:new Date("2024-01-21"),fechaActualizacion:new Date("2024-01-21"),creadoPor:"Luis Martín",historialCambios:[]}]},{id:"3",nombre:"Pedro Sánchez",telefono:"+5219988776655",correo:"pedro@consultoria.com",plataforma:"Facebook",servicioInteres:"Marketing Digital",fechaContacto:new Date("2024-01-20"),estado:"Nuevo",notasInternas:"Consultor independiente",responsable:"Ana López",seguimientos:[],cotizaciones:[]},{id:"4",nombre:"Laura González",telefono:"+5216677889900",correo:"laura@startup.com",plataforma:"WhatsApp",servicioInteres:"Automatización de Ventas",fechaContacto:new Date("2024-01-22"),estado:"Venta cerrada",ultimoSeguimiento:new Date("2024-01-25"),notasInternas:"Startup tecnológica, pagó por adelantado",responsable:"Luis Martín",seguimientos:[{id:"4",fecha:new Date("2024-01-23"),nota:"Cotización aceptada, iniciando proyecto",usuario:"Luis Martín"}],cotizaciones:[{id:"2",numero:"COT-2024-002",prospectId:"4",fecha:new Date("2024-01-23"),vigencia:new Date("2024-02-23"),items:[{id:"2",productId:"3",nombre:"Automatización de Ventas",descripcion:"Sistema completo de automatización de procesos",cantidad:1,precioUnitario:3500,descuento:0,tipoDescuento:"porcentaje",subtotal:3500}],subtotal:3500,descuentoGlobal:0,tipoDescuentoGlobal:"porcentaje",iva:16,total:4060,estado:"Aceptada",condicionesPago:"Pago único por adelantado",notasAdicionales:"Cliente prefiere implementación rápida",terminosCondiciones:"Garantía de 90 días",metodosPago:["Transferencia bancaria"],fechaCreacion:new Date("2024-01-23"),fechaActualizacion:new Date("2024-01-23"),creadoPor:"Luis Martín",historialCambios:[]}]}];function y_(e,t){return function(){return e.apply(t,arguments)}}const{toString:xI}=Object.prototype,{getPrototypeOf:j5}=Object,{iterator:tx,toStringTag:b_}=Symbol,rx=(e=>t=>{const r=xI.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Js=e=>(e=e.toLowerCase(),t=>rx(t)===e),nx=e=>t=>typeof t===e,{isArray:Qd}=Array,ep=nx("undefined");function yI(e){return e!==null&&!ep(e)&&e.constructor!==null&&!ep(e.constructor)&&ba(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const w_=Js("ArrayBuffer");function bI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&w_(e.buffer),t}const wI=nx("string"),ba=nx("function"),N_=nx("number"),ax=e=>e!==null&&typeof e=="object",NI=e=>e===!0||e===!1,Q0=e=>{if(rx(e)!=="object")return!1;const t=j5(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(b_ in e)&&!(tx in e)},jI=Js("Date"),SI=Js("File"),kI=Js("Blob"),CI=Js("FileList"),DI=e=>ax(e)&&ba(e.pipe),_I=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ba(e.append)&&((t=rx(e))==="formdata"||t==="object"&&ba(e.toString)&&e.toString()==="[object FormData]"))},PI=Js("URLSearchParams"),[EI,MI,AI,LI]=["ReadableStream","Request","Response","Headers"].map(Js),OI=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Op(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Qd(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{const s=r?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;let l;for(n=0;n<o;n++)l=s[n],t.call(null,e[l],l,e)}}function j_(e,t){t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const vc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,S_=e=>!ep(e)&&e!==vc;function b2(){const{caseless:e}=S_(this)&&this||{},t={},r=(n,a)=>{const s=e&&j_(t,a)||a;Q0(t[s])&&Q0(n)?t[s]=b2(t[s],n):Q0(n)?t[s]=b2({},n):Qd(n)?t[s]=n.slice():t[s]=n};for(let n=0,a=arguments.length;n<a;n++)arguments[n]&&Op(arguments[n],r);return t}const TI=(e,t,r,{allOwnKeys:n}={})=>(Op(t,(a,s)=>{r&&ba(a)?e[s]=y_(a,r):e[s]=a},{allOwnKeys:n}),e),II=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),RI=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},FI=(e,t,r,n)=>{let a,s,o;const l={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],(!n||n(o,e,t))&&!l[o]&&(t[o]=e[o],l[o]=!0);e=r!==!1&&j5(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},$I=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},UI=e=>{if(!e)return null;if(Qd(e))return e;let t=e.length;if(!N_(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},zI=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&j5(Uint8Array)),BI=(e,t)=>{const n=(e&&e[tx]).call(e);let a;for(;(a=n.next())&&!a.done;){const s=a.value;t.call(e,s[0],s[1])}},HI=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},WI=Js("HTMLFormElement"),YI=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),n4=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),VI=Js("RegExp"),k_=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Op(r,(a,s)=>{let o;(o=t(a,s,e))!==!1&&(n[s]=o||a)}),Object.defineProperties(e,n)},qI=e=>{k_(e,(t,r)=>{if(ba(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(ba(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},GI=(e,t)=>{const r={},n=a=>{a.forEach(s=>{r[s]=!0})};return Qd(e)?n(e):n(String(e).split(t)),r},KI=()=>{},XI=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function QI(e){return!!(e&&ba(e.append)&&e[b_]==="FormData"&&e[tx])}const JI=e=>{const t=new Array(10),r=(n,a)=>{if(ax(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[a]=n;const s=Qd(n)?[]:{};return Op(n,(o,l)=>{const c=r(o,a+1);!ep(c)&&(s[l]=c)}),t[a]=void 0,s}}return n};return r(e,0)},ZI=Js("AsyncFunction"),eR=e=>e&&(ax(e)||ba(e))&&ba(e.then)&&ba(e.catch),C_=((e,t)=>e?setImmediate:t?((r,n)=>(vc.addEventListener("message",({source:a,data:s})=>{a===vc&&s===r&&n.length&&n.shift()()},!1),a=>{n.push(a),vc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",ba(vc.postMessage)),tR=typeof queueMicrotask<"u"?queueMicrotask.bind(vc):typeof process<"u"&&process.nextTick||C_,rR=e=>e!=null&&ba(e[tx]),ye={isArray:Qd,isArrayBuffer:w_,isBuffer:yI,isFormData:_I,isArrayBufferView:bI,isString:wI,isNumber:N_,isBoolean:NI,isObject:ax,isPlainObject:Q0,isReadableStream:EI,isRequest:MI,isResponse:AI,isHeaders:LI,isUndefined:ep,isDate:jI,isFile:SI,isBlob:kI,isRegExp:VI,isFunction:ba,isStream:DI,isURLSearchParams:PI,isTypedArray:zI,isFileList:CI,forEach:Op,merge:b2,extend:TI,trim:OI,stripBOM:II,inherits:RI,toFlatObject:FI,kindOf:rx,kindOfTest:Js,endsWith:$I,toArray:UI,forEachEntry:BI,matchAll:HI,isHTMLForm:WI,hasOwnProperty:n4,hasOwnProp:n4,reduceDescriptors:k_,freezeMethods:qI,toObjectSet:GI,toCamelCase:YI,noop:KI,toFiniteNumber:XI,findKey:j_,global:vc,isContextDefined:S_,isSpecCompliantForm:QI,toJSONObject:JI,isAsyncFn:ZI,isThenable:eR,setImmediate:C_,asap:tR,isIterable:rR};function yt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}ye.inherits(yt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ye.toJSONObject(this.config),code:this.code,status:this.status}}});const D_=yt.prototype,__={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{__[e]={value:e}});Object.defineProperties(yt,__);Object.defineProperty(D_,"isAxiosError",{value:!0});yt.from=(e,t,r,n,a,s)=>{const o=Object.create(D_);return ye.toFlatObject(e,o,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),yt.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const nR=null;function w2(e){return ye.isPlainObject(e)||ye.isArray(e)}function P_(e){return ye.endsWith(e,"[]")?e.slice(0,-2):e}function a4(e,t,r){return e?e.concat(t).map(function(a,s){return a=P_(a),!r&&s?"["+a+"]":a}).join(r?".":""):t}function aR(e){return ye.isArray(e)&&!e.some(w2)}const sR=ye.toFlatObject(ye,{},null,function(t){return/^is[A-Z]/.test(t)});function sx(e,t,r){if(!ye.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=ye.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,w){return!ye.isUndefined(w[v])});const n=r.metaTokens,a=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ye.isSpecCompliantForm(t);if(!ye.isFunction(a))throw new TypeError("visitor must be a function");function u(y){if(y===null)return"";if(ye.isDate(y))return y.toISOString();if(ye.isBoolean(y))return y.toString();if(!c&&ye.isBlob(y))throw new yt("Blob is not supported. Use a Buffer instead.");return ye.isArrayBuffer(y)||ye.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,v,w){let g=y;if(y&&!w&&typeof y=="object"){if(ye.endsWith(v,"{}"))v=n?v:v.slice(0,-2),y=JSON.stringify(y);else if(ye.isArray(y)&&aR(y)||(ye.isFileList(y)||ye.endsWith(v,"[]"))&&(g=ye.toArray(y)))return v=P_(v),g.forEach(function(S,j){!(ye.isUndefined(S)||S===null)&&t.append(o===!0?a4([v],j,s):o===null?v:v+"[]",u(S))}),!1}return w2(y)?!0:(t.append(a4(w,v,s),u(y)),!1)}const f=[],h=Object.assign(sR,{defaultVisitor:d,convertValue:u,isVisitable:w2});function m(y,v){if(!ye.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(y),ye.forEach(y,function(g,x){(!(ye.isUndefined(g)||g===null)&&a.call(t,g,ye.isString(x)?x.trim():x,v,h))===!0&&m(g,v?v.concat(x):[x])}),f.pop()}}if(!ye.isObject(e))throw new TypeError("data must be an object");return m(e),t}function s4(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function S5(e,t){this._pairs=[],e&&sx(e,this,t)}const E_=S5.prototype;E_.append=function(t,r){this._pairs.push([t,r])};E_.toString=function(t){const r=t?function(n){return t.call(this,n,s4)}:s4;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function iR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function M_(e,t,r){if(!t)return e;const n=r&&r.encode||iR;ye.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(a?s=a(t,r):s=ye.isURLSearchParams(t)?t.toString():new S5(t,r).toString(n),s){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class i4{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){ye.forEach(this.handlers,function(n){n!==null&&t(n)})}}const A_={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},oR=typeof URLSearchParams<"u"?URLSearchParams:S5,lR=typeof FormData<"u"?FormData:null,cR=typeof Blob<"u"?Blob:null,uR={isBrowser:!0,classes:{URLSearchParams:oR,FormData:lR,Blob:cR},protocols:["http","https","file","blob","url","data"]},k5=typeof window<"u"&&typeof document<"u",N2=typeof navigator=="object"&&navigator||void 0,dR=k5&&(!N2||["ReactNative","NativeScript","NS"].indexOf(N2.product)<0),fR=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hR=k5&&window.location.href||"http://localhost",pR=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:k5,hasStandardBrowserEnv:dR,hasStandardBrowserWebWorkerEnv:fR,navigator:N2,origin:hR},Symbol.toStringTag,{value:"Module"})),Hn={...pR,...uR};function mR(e,t){return sx(e,new Hn.classes.URLSearchParams,Object.assign({visitor:function(r,n,a,s){return Hn.isNode&&ye.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function gR(e){return ye.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function vR(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}function L_(e){function t(r,n,a,s){let o=r[s++];if(o==="__proto__")return!0;const l=Number.isFinite(+o),c=s>=r.length;return o=!o&&ye.isArray(a)?a.length:o,c?(ye.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!l):((!a[o]||!ye.isObject(a[o]))&&(a[o]=[]),t(r,n,a[o],s)&&ye.isArray(a[o])&&(a[o]=vR(a[o])),!l)}if(ye.isFormData(e)&&ye.isFunction(e.entries)){const r={};return ye.forEachEntry(e,(n,a)=>{t(gR(n),a,r,0)}),r}return null}function xR(e,t,r){if(ye.isString(e))try{return(t||JSON.parse)(e),ye.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(0,JSON.stringify)(e)}const Tp={transitional:A_,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,s=ye.isObject(t);if(s&&ye.isHTMLForm(t)&&(t=new FormData(t)),ye.isFormData(t))return a?JSON.stringify(L_(t)):t;if(ye.isArrayBuffer(t)||ye.isBuffer(t)||ye.isStream(t)||ye.isFile(t)||ye.isBlob(t)||ye.isReadableStream(t))return t;if(ye.isArrayBufferView(t))return t.buffer;if(ye.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mR(t,this.formSerializer).toString();if((l=ye.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return sx(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return s||a?(r.setContentType("application/json",!1),xR(t)):t}],transformResponse:[function(t){const r=this.transitional||Tp.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(ye.isResponse(t)||ye.isReadableStream(t))return t;if(t&&ye.isString(t)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(l){if(o)throw l.name==="SyntaxError"?yt.from(l,yt.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ye.forEach(["delete","get","head","post","put","patch"],e=>{Tp.headers[e]={}});const yR=ye.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bR=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||t[r]&&yR[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},o4=Symbol("internals");function th(e){return e&&String(e).trim().toLowerCase()}function J0(e){return e===!1||e==null?e:ye.isArray(e)?e.map(J0):String(e)}function wR(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const NR=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function T1(e,t,r,n,a){if(ye.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!ye.isString(t)){if(ye.isString(n))return t.indexOf(n)!==-1;if(ye.isRegExp(n))return n.test(t)}}function jR(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function SR(e,t){const r=ye.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,s,o){return this[n].call(this,t,a,s,o)},configurable:!0})})}class wa{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function s(l,c,u){const d=th(c);if(!d)throw new Error("header name must be a non-empty string");const f=ye.findKey(a,d);(!f||a[f]===void 0||u===!0||u===void 0&&a[f]!==!1)&&(a[f||c]=J0(l))}const o=(l,c)=>ye.forEach(l,(u,d)=>s(u,d,c));if(ye.isPlainObject(t)||t instanceof this.constructor)o(t,r);else if(ye.isString(t)&&(t=t.trim())&&!NR(t))o(bR(t),r);else if(ye.isObject(t)&&ye.isIterable(t)){let l={},c,u;for(const d of t){if(!ye.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[u=d[0]]=(c=l[u])?ye.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(l,r)}else t!=null&&s(r,t,n);return this}get(t,r){if(t=th(t),t){const n=ye.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return wR(a);if(ye.isFunction(r))return r.call(this,a,n);if(ye.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=th(t),t){const n=ye.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||T1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function s(o){if(o=th(o),o){const l=ye.findKey(n,o);l&&(!r||T1(n,n[l],l,r))&&(delete n[l],a=!0)}}return ye.isArray(t)?t.forEach(s):s(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const s=r[n];(!t||T1(this,this[s],s,t,!0))&&(delete this[s],a=!0)}return a}normalize(t){const r=this,n={};return ye.forEach(this,(a,s)=>{const o=ye.findKey(n,s);if(o){r[o]=J0(a),delete r[s];return}const l=t?jR(s):String(s).trim();l!==s&&delete r[s],r[l]=J0(a),n[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return ye.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&ye.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[o4]=this[o4]={accessors:{}}).accessors,a=this.prototype;function s(o){const l=th(o);n[l]||(SR(a,o),n[l]=!0)}return ye.isArray(t)?t.forEach(s):s(t),this}}wa.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ye.reduceDescriptors(wa.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});ye.freezeMethods(wa);function I1(e,t){const r=this||Tp,n=t||r,a=wa.from(n.headers);let s=n.data;return ye.forEach(e,function(l){s=l.call(r,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function O_(e){return!!(e&&e.__CANCEL__)}function Jd(e,t,r){yt.call(this,e??"canceled",yt.ERR_CANCELED,t,r),this.name="CanceledError"}ye.inherits(Jd,yt,{__CANCEL__:!0});function T_(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new yt("Request failed with status code "+r.status,[yt.ERR_BAD_REQUEST,yt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function kR(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function CR(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,s=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),d=n[s];o||(o=u),r[a]=c,n[a]=u;let f=s,h=0;for(;f!==a;)h+=r[f++],f=f%e;if(a=(a+1)%e,a===s&&(s=(s+1)%e),u-o<t)return;const m=d&&u-d;return m?Math.round(h*1e3/m):void 0}}function DR(e,t){let r=0,n=1e3/t,a,s;const o=(u,d=Date.now())=>{r=d,a=null,s&&(clearTimeout(s),s=null),e.apply(null,u)};return[(...u)=>{const d=Date.now(),f=d-r;f>=n?o(u,d):(a=u,s||(s=setTimeout(()=>{s=null,o(a)},n-f)))},()=>a&&o(a)]}const Gg=(e,t,r=3)=>{let n=0;const a=CR(50,250);return DR(s=>{const o=s.loaded,l=s.lengthComputable?s.total:void 0,c=o-n,u=a(c),d=o<=l;n=o;const f={loaded:o,total:l,progress:l?o/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&d?(l-o)/u:void 0,event:s,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},r)},l4=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},c4=e=>(...t)=>ye.asap(()=>e(...t)),_R=Hn.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Hn.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Hn.origin),Hn.navigator&&/(msie|trident)/i.test(Hn.navigator.userAgent)):()=>!0,PR=Hn.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const o=[e+"="+encodeURIComponent(t)];ye.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),ye.isString(n)&&o.push("path="+n),ye.isString(a)&&o.push("domain="+a),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function ER(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function MR(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function I_(e,t,r){let n=!ER(t);return e&&(n||r==!1)?MR(e,t):t}const u4=e=>e instanceof wa?{...e}:e;function Fc(e,t){t=t||{};const r={};function n(u,d,f,h){return ye.isPlainObject(u)&&ye.isPlainObject(d)?ye.merge.call({caseless:h},u,d):ye.isPlainObject(d)?ye.merge({},d):ye.isArray(d)?d.slice():d}function a(u,d,f,h){if(ye.isUndefined(d)){if(!ye.isUndefined(u))return n(void 0,u,f,h)}else return n(u,d,f,h)}function s(u,d){if(!ye.isUndefined(d))return n(void 0,d)}function o(u,d){if(ye.isUndefined(d)){if(!ye.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function l(u,d,f){if(f in t)return n(u,d);if(f in e)return n(void 0,u)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l,headers:(u,d,f)=>a(u4(u),u4(d),f,!0)};return ye.forEach(Object.keys(Object.assign({},e,t)),function(d){const f=c[d]||a,h=f(e[d],t[d],d);ye.isUndefined(h)&&f!==l||(r[d]=h)}),r}const R_=e=>{const t=Fc({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:s,headers:o,auth:l}=t;t.headers=o=wa.from(o),t.url=M_(I_(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(ye.isFormData(r)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[u,...d]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Hn.hasStandardBrowserEnv&&(n&&ye.isFunction(n)&&(n=n(t)),n||n!==!1&&_R(t.url))){const u=a&&s&&PR.read(s);u&&o.set(a,u)}return t},AR=typeof XMLHttpRequest<"u",LR=AR&&function(e){return new Promise(function(r,n){const a=R_(e);let s=a.data;const o=wa.from(a.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=a,d,f,h,m,y;function v(){m&&m(),y&&y(),a.cancelToken&&a.cancelToken.unsubscribe(d),a.signal&&a.signal.removeEventListener("abort",d)}let w=new XMLHttpRequest;w.open(a.method.toUpperCase(),a.url,!0),w.timeout=a.timeout;function g(){if(!w)return;const S=wa.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:S,config:e,request:w};T_(function(k){r(k),v()},function(k){n(k),v()},E),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(n(new yt("Request aborted",yt.ECONNABORTED,e,w)),w=null)},w.onerror=function(){n(new yt("Network Error",yt.ERR_NETWORK,e,w)),w=null},w.ontimeout=function(){let j=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||A_;a.timeoutErrorMessage&&(j=a.timeoutErrorMessage),n(new yt(j,E.clarifyTimeoutError?yt.ETIMEDOUT:yt.ECONNABORTED,e,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&ye.forEach(o.toJSON(),function(j,E){w.setRequestHeader(E,j)}),ye.isUndefined(a.withCredentials)||(w.withCredentials=!!a.withCredentials),l&&l!=="json"&&(w.responseType=a.responseType),u&&([h,y]=Gg(u,!0),w.addEventListener("progress",h)),c&&w.upload&&([f,m]=Gg(c),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(d=S=>{w&&(n(!S||S.type?new Jd(null,e,w):S),w.abort(),w=null)},a.cancelToken&&a.cancelToken.subscribe(d),a.signal&&(a.signal.aborted?d():a.signal.addEventListener("abort",d)));const x=kR(a.url);if(x&&Hn.protocols.indexOf(x)===-1){n(new yt("Unsupported protocol "+x+":",yt.ERR_BAD_REQUEST,e));return}w.send(s||null)})},OR=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const s=function(u){if(!a){a=!0,l();const d=u instanceof Error?u:this.reason;n.abort(d instanceof yt?d:new Jd(d instanceof Error?d.message:d))}};let o=t&&setTimeout(()=>{o=null,s(new yt(`timeout ${t} of ms exceeded`,yt.ETIMEDOUT))},t);const l=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),e=null)};e.forEach(u=>u.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>ye.asap(l),c}},TR=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},IR=async function*(e,t){for await(const r of RR(e))yield*TR(r,t)},RR=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},d4=(e,t,r,n)=>{const a=IR(e,t);let s=0,o,l=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await a.next();if(u){l(),c.close();return}let f=d.byteLength;if(r){let h=s+=f;r(h)}c.enqueue(new Uint8Array(d))}catch(u){throw l(u),u}},cancel(c){return l(c),a.return()}},{highWaterMark:2})},ix=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",F_=ix&&typeof ReadableStream=="function",FR=ix&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),$_=(e,...t)=>{try{return!!e(...t)}catch{return!1}},$R=F_&&$_(()=>{let e=!1;const t=new Request(Hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),f4=64*1024,j2=F_&&$_(()=>ye.isReadableStream(new Response("").body)),Kg={stream:j2&&(e=>e.body)};ix&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Kg[t]&&(Kg[t]=ye.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new yt(`Response type '${t}' is not supported`,yt.ERR_NOT_SUPPORT,n)})})})(new Response);const UR=async e=>{if(e==null)return 0;if(ye.isBlob(e))return e.size;if(ye.isSpecCompliantForm(e))return(await new Request(Hn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(ye.isArrayBufferView(e)||ye.isArrayBuffer(e))return e.byteLength;if(ye.isURLSearchParams(e)&&(e=e+""),ye.isString(e))return(await FR(e)).byteLength},zR=async(e,t)=>{const r=ye.toFiniteNumber(e.getContentLength());return r??UR(t)},BR=ix&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:s,timeout:o,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:d,withCredentials:f="same-origin",fetchOptions:h}=R_(e);u=u?(u+"").toLowerCase():"text";let m=OR([a,s&&s.toAbortSignal()],o),y;const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let w;try{if(c&&$R&&r!=="get"&&r!=="head"&&(w=await zR(d,n))!==0){let E=new Request(t,{method:"POST",body:n,duplex:"half"}),T;if(ye.isFormData(n)&&(T=E.headers.get("content-type"))&&d.setContentType(T),E.body){const[k,D]=l4(w,Gg(c4(c)));n=d4(E.body,f4,k,D)}}ye.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;y=new Request(t,{...h,signal:m,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:g?f:void 0});let x=await fetch(y,h);const S=j2&&(u==="stream"||u==="response");if(j2&&(l||S&&v)){const E={};["status","statusText","headers"].forEach(I=>{E[I]=x[I]});const T=ye.toFiniteNumber(x.headers.get("content-length")),[k,D]=l&&l4(T,Gg(c4(l),!0))||[];x=new Response(d4(x.body,f4,k,()=>{D&&D(),v&&v()}),E)}u=u||"text";let j=await Kg[ye.findKey(Kg,u)||"text"](x,e);return!S&&v&&v(),await new Promise((E,T)=>{T_(E,T,{data:j,headers:wa.from(x.headers),status:x.status,statusText:x.statusText,config:e,request:y})})}catch(g){throw v&&v(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new yt("Network Error",yt.ERR_NETWORK,e,y),{cause:g.cause||g}):yt.from(g,g&&g.code,e,y)}}),S2={http:nR,xhr:LR,fetch:BR};ye.forEach(S2,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const h4=e=>`- ${e}`,HR=e=>ye.isFunction(e)||e===null||e===!1,U_={getAdapter:e=>{e=ye.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){r=e[s];let o;if(n=r,!HR(r)&&(n=S2[(o=String(r)).toLowerCase()],n===void 0))throw new yt(`Unknown adapter '${o}'`);if(n)break;a[o||"#"+s]=n}if(!n){const s=Object.entries(a).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=t?s.length>1?`since :
`+s.map(h4).join(`
`):" "+h4(s[0]):"as no adapter specified";throw new yt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:S2};function R1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Jd(null,e)}function p4(e){return R1(e),e.headers=wa.from(e.headers),e.data=I1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),U_.getAdapter(e.adapter||Tp.adapter)(e).then(function(n){return R1(e),n.data=I1.call(e,e.transformResponse,n),n.headers=wa.from(n.headers),n},function(n){return O_(n)||(R1(e),n&&n.response&&(n.response.data=I1.call(e,e.transformResponse,n.response),n.response.headers=wa.from(n.response.headers))),Promise.reject(n)})}const z_="1.10.0",ox={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ox[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const m4={};ox.transitional=function(t,r,n){function a(s,o){return"[Axios v"+z_+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,l)=>{if(t===!1)throw new yt(a(o," has been removed"+(r?" in "+r:"")),yt.ERR_DEPRECATED);return r&&!m4[o]&&(m4[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(s,o,l):!0}};ox.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function WR(e,t,r){if(typeof e!="object")throw new yt("options must be an object",yt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const l=e[s],c=l===void 0||o(l,s,e);if(c!==!0)throw new yt("option "+s+" must be "+c,yt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new yt("Unknown option "+s,yt.ERR_BAD_OPTION)}}const Z0={assertOptions:WR,validators:ox},hi=Z0.validators;class jc{constructor(t){this.defaults=t||{},this.interceptors={request:new i4,response:new i4}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const s=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Fc(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:s}=r;n!==void 0&&Z0.assertOptions(n,{silentJSONParsing:hi.transitional(hi.boolean),forcedJSONParsing:hi.transitional(hi.boolean),clarifyTimeoutError:hi.transitional(hi.boolean)},!1),a!=null&&(ye.isFunction(a)?r.paramsSerializer={serialize:a}:Z0.assertOptions(a,{encode:hi.function,serialize:hi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Z0.assertOptions(r,{baseUrl:hi.spelling("baseURL"),withXsrfToken:hi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&ye.merge(s.common,s[r.method]);s&&ye.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),r.headers=wa.concat(o,s);const l=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(c=c&&v.synchronous,l.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,h;if(!c){const y=[p4.bind(this),void 0];for(y.unshift.apply(y,l),y.push.apply(y,u),h=y.length,d=Promise.resolve(r);f<h;)d=d.then(y[f++],y[f++]);return d}h=l.length;let m=r;for(f=0;f<h;){const y=l[f++],v=l[f++];try{m=y(m)}catch(w){v.call(this,w);break}}try{d=p4.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,h=u.length;f<h;)d=d.then(u[f++],u[f++]);return d}getUri(t){t=Fc(this.defaults,t);const r=I_(t.baseURL,t.url,t.allowAbsoluteUrls);return M_(r,t.params,t.paramsSerializer)}}ye.forEach(["delete","get","head","options"],function(t){jc.prototype[t]=function(r,n){return this.request(Fc(n||{},{method:t,url:r,data:(n||{}).data}))}});ye.forEach(["post","put","patch"],function(t){function r(n){return function(s,o,l){return this.request(Fc(l||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}jc.prototype[t]=r(),jc.prototype[t+"Form"]=r(!0)});class C5{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(a=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](a);n._listeners=null}),this.promise.then=a=>{let s;const o=new Promise(l=>{n.subscribe(l),s=l}).then(a);return o.cancel=function(){n.unsubscribe(s)},o},t(function(s,o,l){n.reason||(n.reason=new Jd(s,o,l),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new C5(function(a){t=a}),cancel:t}}}function YR(e){return function(r){return e.apply(null,r)}}function VR(e){return ye.isObject(e)&&e.isAxiosError===!0}const k2={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(k2).forEach(([e,t])=>{k2[t]=e});function B_(e){const t=new jc(e),r=y_(jc.prototype.request,t);return ye.extend(r,jc.prototype,t,{allOwnKeys:!0}),ye.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return B_(Fc(e,a))},r}const kr=B_(Tp);kr.Axios=jc;kr.CanceledError=Jd;kr.CancelToken=C5;kr.isCancel=O_;kr.VERSION=z_;kr.toFormData=sx;kr.AxiosError=yt;kr.Cancel=kr.CanceledError;kr.all=function(t){return Promise.all(t)};kr.spread=YR;kr.isAxiosError=VR;kr.mergeConfig=Fc;kr.AxiosHeaders=wa;kr.formToJSON=e=>L_(ye.isHTMLForm(e)?new FormData(e):e);kr.getAdapter=U_.getAdapter;kr.HttpStatusCode=k2;kr.default=kr;function qR(){return async function(r){return(await kr.post("/api/webhook",r,{headers:{Authorization:"Bearer undefined","Content-Type":"application/json"}})).data.prospect}}const H_=L.createContext(void 0),ia=()=>{const e=L.useContext(H_);if(!e)throw new Error("useCRM must be used within CRMProvider");return e},W_=({children:e})=>{const t=qR(),[r,n]=L.useState([]),[a,s]=L.useState([]),[o,l]=L.useState([]),[c,u]=L.useState([]),[d,f]=L.useState(gI),[h,m]=L.useState(null),[y,v]=L.useState(!1);L.useEffect(()=>{const _=localStorage.getItem("crm-prospects");n(_?JSON.parse(_):vI);const $=localStorage.getItem("crm-products");s($?JSON.parse($):pI);const Y=localStorage.getItem("crm-quotes");l(Y?JSON.parse(Y):[]);const W=localStorage.getItem("crm-quote-templates");u(W?JSON.parse(W):mI);const X=localStorage.getItem("crm-company-settings");X&&f(JSON.parse(X))},[]),L.useEffect(()=>{localStorage.setItem("crm-prospects",JSON.stringify(r))},[r]),L.useEffect(()=>{localStorage.setItem("crm-products",JSON.stringify(a))},[a]),L.useEffect(()=>{localStorage.setItem("crm-quotes",JSON.stringify(o))},[o]),L.useEffect(()=>{localStorage.setItem("crm-quote-templates",JSON.stringify(c))},[c]),L.useEffect(()=>{localStorage.setItem("crm-company-settings",JSON.stringify(d))},[d]);const w=async _=>{v(!0);try{const $=await t(_);n(Y=>[$,...Y])}finally{v(!1)}},g=(_,$)=>{n(Y=>Y.map(W=>W.id===_?{...W,...$}:W))},x=_=>{n($=>$.filter(Y=>Y.id!==_)),(h==null?void 0:h.id)===_&&m(null)},S=(_,$)=>{n(Y=>Y.map(W=>W.id===_?{...W,seguimientos:[...W.seguimientos,{id:Date.now().toString(),fecha:new Date,nota:$}]}:W))},j=_=>{m(_)},E=(_,$)=>{n(Y=>Y.map(W=>W.id===_?{...W,responsable:$}:W))},T=_=>r.filter($=>$.responsable===_),k=()=>{const _=new Date().getFullYear(),Y=[...o,...r.flatMap(W=>W.cotizaciones)].filter(W=>W.numero.includes(_.toString()));return`COT-${_}-${(Y.length+1).toString().padStart(3,"0")}`},D=(_,$,Y,W)=>{const X=_.reduce((me,xe)=>me+xe.subtotal,0),Z=Y==="porcentaje"?X*$/100:$,ne=X-Z,ie=ne+ne*W/100;return{subtotal:X,total:ie}},I=_=>{const $={..._,id:Date.now().toString(),numero:k(),fechaCreacion:new Date,fechaActualizacion:new Date,historialCambios:[{id:Date.now().toString(),fecha:new Date,accion:"Cotización creada",usuario:_.creadoPor,detalles:"Creada inicialmente"}]};l(Y=>[$,...Y]),n(Y=>Y.map(W=>W.id===_.prospectId?{...W,cotizaciones:[$,...W.cotizaciones]}:W))},R=(_,$)=>{l(Y=>Y.map(W=>W.id===_?{...W,...$,fechaActualizacion:new Date}:W))},M=_=>{l($=>$.filter(Y=>Y.id!==_)),n($=>$.map(Y=>({...Y,cotizaciones:Y.cotizaciones.filter(W=>W.id!==_)})))},P=_=>{const $={..._,id:Date.now().toString(),fechaCreacion:new Date,fechaActualizacion:new Date};s(Y=>[$,...Y])},F=(_,$)=>{s(Y=>Y.map(W=>W.id===_?{...W,...$,fechaActualizacion:new Date}:W))},O=_=>{s($=>$.filter(Y=>Y.id!==_))},U=_=>{const $={..._,id:Date.now().toString(),fechaCreacion:new Date};u(Y=>[$,...Y])},z=(_,$)=>{u(Y=>Y.map(W=>W.id===_?{...W,...$}:W))},V=_=>{u($=>$.filter(Y=>Y.id!==_))},q=_=>{f($=>({...$,..._}))},re=_=>{w({nombre:_.nombre,telefono:_.telefono,correo:_.correo||"",plataforma:_.plataforma,servicioInteres:_.servicio_interes,fechaContacto:new Date(_.fecha_contacto),estado:"Nuevo",notasInternas:`Ingresado desde ${_.plataforma}`,responsable:"1"})},oe=[...o,...r.flatMap(_=>_.cotizaciones)],le={totalProspectos:r.length,prospectosPorPlataforma:r.reduce((_,$)=>(_[$.plataforma]=(_[$.plataforma]||0)+1,_),{}),prospectosPorEstado:r.reduce((_,$)=>(_[$.estado]=(_[$.estado]||0)+1,_),{}),cotizacionesGeneradas:oe.length,ventasCerradas:r.filter(_=>_.estado==="Venta cerrada").length,tasaConversion:r.length>0?r.filter(_=>_.estado==="Venta cerrada").length/r.length*100:0,cotizacionesPorEstado:oe.reduce((_,$)=>(_[$.estado]=(_[$.estado]||0)+1,_),{}),valorTotalCotizaciones:oe.reduce((_,$)=>_+$.total,0),tasaAceptacion:oe.length>0?oe.filter(_=>_.estado==="Aceptada").length/oe.length*100:0};return i.jsx(H_.Provider,{value:{prospects:r,products:a,quotes:o,quoteTemplates:c,companySettings:d,selectedProspect:h,dashboardMetrics:le,loading:y,addProspect:w,updateProspect:g,selectProspect:j,addFollowUp:S,deleteProspect:x,assignProspectToUser:E,getProspectsByUser:T,addQuote:I,updateQuote:R,deleteQuote:M,generateQuoteNumber:k,calculateQuoteTotal:D,addProduct:P,updateProduct:F,deleteProduct:O,addQuoteTemplate:U,updateQuoteTemplate:z,deleteQuoteTemplate:V,updateCompanySettings:q,processWebhook:re},children:e})},Y_=L.createContext(void 0),lx=()=>{const e=L.useContext(Y_);if(!e)throw new Error("useCalendar must be used within CalendarProvider");return e},GR=[{id:"1",name:"Reunión de trabajo",color:"#3174ad",description:"Reuniones profesionales"},{id:"2",name:"Llamada con cliente",color:"#28a745",description:"Llamadas con clientes"},{id:"3",name:"Seguimiento",color:"#ffc107",description:"Seguimientos"},{id:"4",name:"Presentación",color:"#dc3545",description:"Presentaciones"},{id:"5",name:"Personal",color:"#6f42c1",description:"Eventos personales"}],KR={defaultView:"month",workingHours:{start:"09:00",end:"18:00"},timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,defaultReminders:[{id:"1",method:"popup",minutes:15,enabled:!0},{id:"2",method:"email",minutes:60,enabled:!0}],autoCreateMeetLinks:!1,syncWithGoogle:!1,notificationsEnabled:!0},V_=({children:e})=>{const[t,r]=L.useState([]),[n,a]=L.useState(GR),[s,o]=L.useState(KR),[l,c]=L.useState(!1),[u,d]=L.useState(!1),[f,h]=L.useState(null);L.useEffect(()=>{const R=localStorage.getItem("calendar-events");if(R)try{const O=JSON.parse(R).map(U=>({...U,start:new Date(U.start),end:new Date(U.end),createdAt:new Date(U.createdAt),updatedAt:new Date(U.updatedAt)}));r(O)}catch{}const M=localStorage.getItem("calendar-categories");if(M)try{a(JSON.parse(M))}catch{}const P=localStorage.getItem("calendar-settings");if(P)try{o(JSON.parse(P))}catch{}kr.get("/api/calendar/auth/status").then(F=>c(F.data.connected)).catch(()=>c(!1))},[]),L.useEffect(()=>{localStorage.setItem("calendar-events",JSON.stringify(t))},[t]),L.useEffect(()=>{localStorage.setItem("calendar-categories",JSON.stringify(n))},[n]),L.useEffect(()=>{localStorage.setItem("calendar-settings",JSON.stringify(s))},[s]);const m=async R=>{d(!0),h(null);try{const M={...R,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date};return r(P=>[M,...P]),M}catch(M){throw h(M.message),M}finally{d(!1)}},y=async(R,M)=>{d(!0),h(null);try{let P;return r(F=>F.map(O=>O.id===R?(P={...O,...M,updatedAt:new Date},P):O)),P}catch(P){throw h(P.message),P}finally{d(!1)}},v=async R=>{d(!0),h(null);try{r(M=>M.filter(P=>P.id!==R))}catch(M){throw h(M.message),M}finally{d(!1)}},w=R=>t.find(M=>M.id===R),g=()=>{window.location.href="/api/calendar/auth"},x=()=>{kr.post("/api/calendar/auth/logout").catch(console.error),c(!1)},S=async()=>{d(!0),h(null);try{const P=((await kr.post("/api/calendar/sync")).data.events||[]).map(F=>({...F,start:new Date(F.start),end:new Date(F.end),createdAt:new Date(F.createdAt),updatedAt:new Date(F.updatedAt)}));r(P)}catch(R){throw h(R.message),R}finally{d(!1)}},j=R=>{const M={...R,id:Date.now().toString()};a(P=>[...P,M])},E=(R,M)=>{a(P=>P.map(F=>F.id===R?{...F,...M}:F))},T=R=>{a(M=>M.filter(P=>P.id!==R))},k=R=>{o(M=>({...M,...R}))},D=(R,M)=>t.filter(P=>P.start>=R&&P.start<=M||P.end>=R&&P.end<=M||P.start<=R&&P.end>=M),I=(R=5)=>{const M=new Date;return t.filter(P=>P.start>M).sort((P,F)=>P.start.getTime()-F.start.getTime()).slice(0,R)};return i.jsx(Y_.Provider,{value:{events:t,categories:n,settings:s,isGoogleConnected:l,isLoading:u,error:f,addEvent:m,updateEvent:y,deleteEvent:v,getEvent:w,connectToGoogle:g,disconnectFromGoogle:x,syncWithGoogle:S,addCategory:j,updateCategory:E,deleteCategory:T,updateSettings:k,getEventsForDateRange:D,getUpcomingEvents:I},children:e})},g4=[{id:"1",companyName:"TechStart Solutions",contactPerson:"María González",email:"maria@techstart.com",phone:"+52 55 1234 5678",address:"Av. Reforma 123, CDMX",website:"www.techstart.com",industry:"Technology",createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-15"),status:"active",notes:"Cliente premium con múltiples proyectos"},{id:"2",companyName:"Retail Express",contactPerson:"Carlos Mendoza",email:"carlos@retailexpress.com",phone:"+52 55 2345 6789",address:"Polanco 456, CDMX",website:"www.retailexpress.com",industry:"Retail",createdAt:new Date("2024-01-20"),updatedAt:new Date("2024-01-20"),status:"active",notes:"Cadena de tiendas en expansión"},{id:"3",companyName:"HealthCare Plus",contactPerson:"Ana Rodríguez",email:"ana@healthcareplus.com",phone:"+52 55 3456 7890",address:"Santa Fe 789, CDMX",website:"www.healthcareplus.com",industry:"Healthcare",createdAt:new Date("2024-02-01"),updatedAt:new Date("2024-02-01"),status:"prospect",notes:"Interesados en automatización de citas"}],v4=[{id:"1",clientId:"1",name:"Chatbot de Atención al Cliente",description:"Desarrollo de chatbot inteligente para WhatsApp con IA para atención 24/7",type:"chatbot",status:"in-progress",priority:"high",startDate:new Date("2024-01-20"),endDate:new Date("2024-03-15"),estimatedHours:120,actualHours:85,budget:8e3,totalValue:12e3,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-30"),assignedTo:["Ana López","Luis Martín"],projectManager:"Ana López",milestones:[{id:"1",title:"Análisis de Requerimientos",description:"Definición completa de funcionalidades y flujos",dueDate:new Date("2024-02-01"),completedDate:new Date("2024-01-30"),status:"completed",progress:100,dependencies:[],assignedTo:"Ana López"},{id:"2",title:"Desarrollo del Bot",description:"Programación de lógica y respuestas del chatbot",dueDate:new Date("2024-02-20"),status:"in-progress",progress:70,dependencies:["1"],assignedTo:"Luis Martín"},{id:"3",title:"Integración con WhatsApp",description:"Conexión con API de WhatsApp Business",dueDate:new Date("2024-03-01"),status:"pending",progress:0,dependencies:["2"],assignedTo:"Luis Martín"},{id:"4",title:"Pruebas y Lanzamiento",description:"Testing completo y puesta en producción",dueDate:new Date("2024-03-15"),status:"pending",progress:0,dependencies:["3"],assignedTo:"Ana López"}],notes:[{id:"1",content:"Cliente muy satisfecho con el progreso. Solicita demo intermedia.",type:"update",createdBy:"Ana López",createdAt:new Date("2024-01-28"),isImportant:!0,attachments:[]},{id:"2",content:"Sugerencia: Agregar función de escalamiento a humano para casos complejos.",type:"improvement",createdBy:"Luis Martín",createdAt:new Date("2024-01-25"),isImportant:!1,attachments:[]}],documents:[{id:"1",name:"Especificaciones Técnicas v2.0",type:"specification",url:"/documents/specs-chatbot-v2.pdf",size:2048e3,uploadedBy:"Ana López",uploadedAt:new Date("2024-01-22"),version:"2.0",description:"Especificaciones técnicas actualizadas del chatbot"}],paymentSchedule:[{id:"1",description:"Anticipo 50%",amount:6e3,dueDate:new Date("2024-01-25"),paidDate:new Date("2024-01-24"),status:"paid",invoiceNumber:"INV-2024-001",paymentMethod:"Transferencia",notes:"Pago recibido puntualmente"},{id:"2",description:"Pago final 50%",amount:6e3,dueDate:new Date("2024-03-20"),status:"pending",notes:"Pago contra entrega del proyecto"}],meetings:[{id:"1",title:"Kickoff Meeting",description:"Reunión inicial del proyecto",type:"kickoff",scheduledDate:new Date("2024-01-20T10:00:00"),duration:60,attendees:["María González","Ana López","Luis Martín"],meetLink:"https://meet.google.com/abc-defg-hij",status:"completed",notes:"Excelente inicio, todos los requerimientos claros"},{id:"2",title:"Demo Intermedia",description:"Presentación del progreso del chatbot",type:"demo",scheduledDate:new Date("2024-02-15T15:00:00"),duration:45,attendees:["María González","Ana López"],meetLink:"https://meet.google.com/xyz-uvwx-yz",status:"scheduled",notes:""}],expenses:[{id:"1",description:"Licencia WhatsApp Business API",category:"license",amount:500,date:new Date("2024-01-22"),vendor:"Meta",billable:!0,approved:!0,approvedBy:"Ana López"},{id:"2",description:"Servidor de desarrollo",category:"hosting",amount:200,date:new Date("2024-01-25"),vendor:"AWS",billable:!1,approved:!0,approvedBy:"Ana López"}]},{id:"2",clientId:"2",name:"Sistema de Inventario Web",description:"Aplicación web para gestión de inventario en tiempo real",type:"app",status:"planning",priority:"medium",startDate:new Date("2024-02-15"),endDate:new Date("2024-05-30"),estimatedHours:200,actualHours:0,budget:15e3,totalValue:25e3,createdAt:new Date("2024-02-01"),updatedAt:new Date("2024-02-01"),assignedTo:["Carmen Rodríguez","Roberto Hernández"],projectManager:"Carmen Rodríguez",milestones:[{id:"5",title:"Análisis de Requerimientos",description:"Levantamiento de requerimientos del sistema",dueDate:new Date("2024-02-28"),status:"in-progress",progress:30,dependencies:[],assignedTo:"Carmen Rodríguez"}],notes:[],documents:[],paymentSchedule:[{id:"3",description:"Anticipo 40%",amount:1e4,dueDate:new Date("2024-02-20"),status:"pending",notes:"Pago para iniciar desarrollo"}],meetings:[],expenses:[]}],x4=[{id:"1",number:"INV-2024-001",clientId:"1",projectId:"1",issueDate:new Date("2024-01-20"),dueDate:new Date("2024-01-25"),paidDate:new Date("2024-01-24"),amount:6e3,tax:960,total:6960,status:"paid",items:[{id:"1",description:"Desarrollo Chatbot WhatsApp - Anticipo 50%",quantity:1,rate:6e3,amount:6e3}],notes:"Anticipo para inicio del proyecto",paymentTerms:"5 días"}],q_=L.createContext(void 0),Hl=()=>{const e=L.useContext(q_);if(!e)throw new Error("useProjects must be used within a ProjectProvider");return e},G_=({children:e})=>{const[t,r]=L.useState([]),[n,a]=L.useState([]),[s,o]=L.useState([]);L.useEffect(()=>{const W=localStorage.getItem("project-clients"),X=localStorage.getItem("project-projects"),Z=localStorage.getItem("project-invoices");if(W)try{const ie=JSON.parse(W).map(me=>({...me,createdAt:new Date(me.createdAt),updatedAt:new Date(me.updatedAt)}));r(ie)}catch(ne){console.error("Error parsing saved clients:",ne),r(g4)}else r(g4);if(X)try{const ie=JSON.parse(X).map(me=>({...me,startDate:new Date(me.startDate),endDate:new Date(me.endDate),createdAt:new Date(me.createdAt),updatedAt:new Date(me.updatedAt),milestones:me.milestones.map(xe=>({...xe,dueDate:new Date(xe.dueDate),completedDate:xe.completedDate?new Date(xe.completedDate):void 0})),notes:me.notes.map(xe=>({...xe,createdAt:new Date(xe.createdAt)})),paymentSchedule:me.paymentSchedule.map(xe=>({...xe,dueDate:new Date(xe.dueDate),paidDate:xe.paidDate?new Date(xe.paidDate):void 0})),meetings:me.meetings.map(xe=>({...xe,scheduledDate:new Date(xe.scheduledDate)})),expenses:me.expenses.map(xe=>({...xe,date:new Date(xe.date)}))}));a(ie)}catch(ne){console.error("Error parsing saved projects:",ne),a(v4)}else a(v4);if(Z)try{const ie=JSON.parse(Z).map(me=>({...me,issueDate:new Date(me.issueDate),dueDate:new Date(me.dueDate),paidDate:me.paidDate?new Date(me.paidDate):void 0}));o(ie)}catch(ne){console.error("Error parsing saved invoices:",ne),o(x4)}else o(x4)},[]),L.useEffect(()=>{t.length>0&&localStorage.setItem("project-clients",JSON.stringify(t))},[t]),L.useEffect(()=>{n.length>0&&localStorage.setItem("project-projects",JSON.stringify(n))},[n]),L.useEffect(()=>{s.length>0&&localStorage.setItem("project-invoices",JSON.stringify(s))},[s]);const l=W=>{const X={...W,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date};r(Z=>[X,...Z])},c=(W,X)=>{r(Z=>Z.map(ne=>ne.id===W?{...ne,...X,updatedAt:new Date}:ne))},u=W=>{r(X=>X.filter(Z=>Z.id!==W)),a(X=>X.filter(Z=>Z.clientId!==W))},d=W=>t.find(X=>X.id===W),f=W=>{const X={...W,id:Date.now().toString(),createdAt:new Date,updatedAt:new Date};a(Z=>[X,...Z])},h=(W,X)=>{a(Z=>Z.map(ne=>ne.id===W?{...ne,...X,updatedAt:new Date}:ne))},m=W=>{a(X=>X.filter(Z=>Z.id!==W))},y=W=>n.find(X=>X.id===W),v=W=>n.filter(X=>X.clientId===W),w=(W,X)=>{const Z={...X,id:Date.now().toString()};a(ne=>ne.map(ie=>ie.id===W?{...ie,milestones:[...ie.milestones,Z],updatedAt:new Date}:ie))},g=(W,X,Z)=>{a(ne=>ne.map(ie=>ie.id===W?{...ie,milestones:ie.milestones.map(me=>me.id===X?{...me,...Z}:me),updatedAt:new Date}:ie))},x=(W,X)=>{a(Z=>Z.map(ne=>ne.id===W?{...ne,milestones:ne.milestones.filter(ie=>ie.id!==X),updatedAt:new Date}:ne))},S=(W,X)=>{const Z={...X,id:Date.now().toString(),createdAt:new Date};a(ne=>ne.map(ie=>ie.id===W?{...ie,notes:[Z,...ie.notes],updatedAt:new Date}:ie))},j=(W,X,Z)=>{a(ne=>ne.map(ie=>ie.id===W?{...ie,notes:ie.notes.map(me=>me.id===X?{...me,...Z}:me),updatedAt:new Date}:ie))},E=(W,X)=>{a(Z=>Z.map(ne=>ne.id===W?{...ne,notes:ne.notes.filter(ie=>ie.id!==X),updatedAt:new Date}:ne))},T=(W,X)=>{const Z={...X,id:Date.now().toString()};a(ne=>ne.map(ie=>ie.id===W?{...ie,paymentSchedule:[...ie.paymentSchedule,Z],updatedAt:new Date}:ie))},k=(W,X,Z)=>{a(ne=>ne.map(ie=>ie.id===W?{...ie,paymentSchedule:ie.paymentSchedule.map(me=>me.id===X?{...me,...Z}:me),updatedAt:new Date}:ie))},D=(W,X)=>{a(Z=>Z.map(ne=>ne.id===W?{...ne,paymentSchedule:ne.paymentSchedule.filter(ie=>ie.id!==X),updatedAt:new Date}:ne))},I=(W,X)=>{const Z={...X,id:Date.now().toString()};a(ne=>ne.map(ie=>ie.id===W?{...ie,meetings:[...ie.meetings,Z],updatedAt:new Date}:ie))},R=(W,X,Z)=>{a(ne=>ne.map(ie=>ie.id===W?{...ie,meetings:ie.meetings.map(me=>me.id===X?{...me,...Z}:me),updatedAt:new Date}:ie))},M=(W,X)=>{a(Z=>Z.map(ne=>ne.id===W?{...ne,meetings:ne.meetings.filter(ie=>ie.id!==X),updatedAt:new Date}:ne))},P=(W,X)=>{const Z={...X,id:Date.now().toString()};a(ne=>ne.map(ie=>ie.id===W?{...ie,expenses:[...ie.expenses,Z],updatedAt:new Date}:ie))},F=(W,X,Z)=>{a(ne=>ne.map(ie=>ie.id===W?{...ie,expenses:ie.expenses.map(me=>me.id===X?{...me,...Z}:me),updatedAt:new Date}:ie))},O=(W,X)=>{a(Z=>Z.map(ne=>ne.id===W?{...ne,expenses:ne.expenses.filter(ie=>ie.id!==X),updatedAt:new Date}:ne))},U=W=>{const X={...W,id:Date.now().toString()};o(Z=>[X,...Z])},z=(W,X)=>{o(Z=>Z.map(ne=>ne.id===W?{...ne,...X}:ne))},V=W=>{o(X=>X.filter(Z=>Z.id!==W))},q=(W,X)=>{const Z=y(W),ne=Z?d(Z.clientId):void 0,ie=Z==null?void 0:Z.paymentSchedule.find(xe=>xe.id===X);if(!Z||!ne||!ie)throw new Error("Project, client, or payment not found");const me={id:Date.now().toString(),number:`INV-${new Date().getFullYear()}-${(s.length+1).toString().padStart(4,"0")}`,clientId:ne.id,projectId:Z.id,issueDate:new Date,dueDate:ie.dueDate,amount:ie.amount,tax:ie.amount*.16,total:ie.amount*1.16,status:"draft",items:[{id:"1",description:ie.description,quantity:1,rate:ie.amount,amount:ie.amount}],notes:ie.notes,paymentTerms:"30 days"};return U(me),me},re=()=>{const W=new Date,X=W.getMonth(),Z=W.getFullYear(),ne=Math.floor(X/3),ie=n.reduce((ae,Je)=>ae+Je.totalValue,0),me=n.filter(ae=>ae.createdAt.getMonth()===X&&ae.createdAt.getFullYear()===Z).reduce((ae,Je)=>ae+Je.totalValue,0),xe=n.filter(ae=>Math.floor(ae.createdAt.getMonth()/3)===ne&&ae.createdAt.getFullYear()===Z).reduce((ae,Je)=>ae+Je.totalValue,0),De=n.filter(ae=>ae.createdAt.getFullYear()===Z).reduce((ae,Je)=>ae+Je.totalValue,0),Ee=n.reduce((ae,Je)=>{const qe=d(Je.clientId),Pe=(qe==null?void 0:qe.companyName)||"Unknown";return ae[Pe]=(ae[Pe]||0)+Je.totalValue,ae},{}),Ze=n.reduce((ae,Je)=>(ae[Je.name]=Je.totalValue,ae),{}),we=n.reduce((ae,Je)=>ae+Je.expenses.reduce((qe,Pe)=>qe+Pe.amount,0),0);return{totalRevenue:ie,monthlyRevenue:me,quarterlyRevenue:xe,yearlyRevenue:De,revenueByClient:Ee,revenueByProject:Ze,averageProjectValue:n.length>0?ie/n.length:0,totalProjects:n.length,activeProjects:n.filter(ae=>ae.status==="in-progress").length,completedProjects:n.filter(ae=>ae.status==="completed").length,profitMargin:ie>0?(ie-we)/ie*100:0}},oe=W=>{const X=y(W);if(!X)return[];const Z=X.expenses.reduce((me,xe)=>(me[xe.category]=(me[xe.category]||0)+xe.amount,me),{}),ne=["license","subscription","hosting","tools","travel","other"],ie=X.budget/ne.length;return ne.map(me=>({id:`${W}-${me}`,projectId:W,category:me,allocated:ie,spent:Z[me]||0,remaining:ie-(Z[me]||0),lastUpdated:new Date}))},le=(W,X)=>{const Z=n.filter(ie=>ie.createdAt>=X.start&&ie.createdAt<=X.end);let ne={};switch(W){case"profit-loss":const ie=Z.reduce((De,Ee)=>De+Ee.totalValue,0),me=Z.reduce((De,Ee)=>De+Ee.expenses.reduce((Ze,we)=>Ze+we.amount,0),0);ne={revenue:ie,expenses:me,profit:ie-me,profitMargin:ie>0?(ie-me)/ie*100:0};break;case"cash-flow":const xe=Z.flatMap(De=>De.paymentSchedule).filter(De=>De.paidDate&&De.paidDate>=X.start&&De.paidDate<=X.end);ne={inflow:xe.reduce((De,Ee)=>De+Ee.amount,0),outflow:me,netFlow:xe.reduce((De,Ee)=>De+Ee.amount,0)-me};break;case"revenue":ne={totalRevenue:Z.reduce((De,Ee)=>De+Ee.totalValue,0),projectCount:Z.length,averageProjectValue:Z.length>0?Z.reduce((De,Ee)=>De+Ee.totalValue,0)/Z.length:0};break;default:ne={}}return{id:Date.now().toString(),type:W,period:X,data:ne,generatedAt:new Date,generatedBy:"System"}},_=(W=7)=>{const X=new Date;return X.setDate(X.getDate()+W),n.flatMap(Z=>Z.paymentSchedule).filter(Z=>Z.status==="pending"&&Z.dueDate<=X).sort((Z,ne)=>Z.dueDate.getTime()-ne.dueDate.getTime())},$=(W=7)=>{const X=new Date;return X.setDate(X.getDate()+W),n.flatMap(Z=>Z.meetings).filter(Z=>Z.status==="scheduled"&&Z.scheduledDate<=X).sort((Z,ne)=>Z.scheduledDate.getTime()-ne.scheduledDate.getTime())},Y=()=>{const W=new Date;return n.flatMap(X=>X.milestones).filter(X=>X.status!=="completed"&&X.dueDate<W).sort((X,Z)=>X.dueDate.getTime()-Z.dueDate.getTime())};return i.jsx(q_.Provider,{value:{clients:t,addClient:l,updateClient:c,deleteClient:u,getClient:d,projects:n,addProject:f,updateProject:h,deleteProject:m,getProject:y,getProjectsByClient:v,addMilestone:w,updateMilestone:g,deleteMilestone:x,addNote:S,updateNote:j,deleteNote:E,addPayment:T,updatePayment:k,deletePayment:D,addMeeting:I,updateMeeting:R,deleteMeeting:M,addExpense:P,updateExpense:F,deleteExpense:O,invoices:s,addInvoice:U,updateInvoice:z,deleteInvoice:V,generateInvoice:q,getSalesMetrics:re,getProjectBudgets:oe,generateFinancialReport:le,getUpcomingPayments:_,getUpcomingMeetings:$,getOverdueTasks:Y},children:e})},XR=[{id:"1",type:"income",category:"Software License",amount:5e3,description:"Monthly software license payment - Client ABC",date:"2024-01-15",clientId:"client-1",projectId:"project-1",status:"completed",paymentMethod:"Bank Transfer",reference:"REF001",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"2",type:"expense",category:"Development Tools",amount:1200,description:"Monthly development tools subscription",date:"2024-01-10",status:"completed",paymentMethod:"Credit Card",reference:"EXP001",createdAt:"2024-01-10T09:00:00Z",updatedAt:"2024-01-10T09:00:00Z"},{id:"3",type:"income",category:"Consulting",amount:8e3,description:"Web development consulting - Client XYZ",date:"2024-01-20",clientId:"client-2",projectId:"project-2",status:"completed",paymentMethod:"PayPal",reference:"REF002",createdAt:"2024-01-20T14:30:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"4",type:"expense",category:"Marketing",amount:2500,description:"Digital marketing campaign",date:"2024-01-25",status:"completed",paymentMethod:"Bank Transfer",reference:"EXP002",createdAt:"2024-01-25T11:15:00Z",updatedAt:"2024-01-25T11:15:00Z"},{id:"5",type:"payment",category:"Invoice Payment",amount:15e3,description:"Payment for project delivery - Client DEF",date:"2024-01-30",clientId:"client-3",projectId:"project-3",invoiceId:"invoice-1",status:"pending",paymentMethod:"Bank Transfer",reference:"PAY001",createdAt:"2024-01-30T16:45:00Z",updatedAt:"2024-01-30T16:45:00Z"}],QR=[{id:"invoice-1",number:"INV-2024-001",clientId:"client-1",projectId:"project-1",amount:1e4,tax:1e3,total:11e3,status:"paid",dueDate:"2024-02-15",issueDate:"2024-01-15",items:[{id:"item-1",description:"Web Application Development",quantity:1,unitPrice:8e3,total:8e3},{id:"item-2",description:"Project Management",quantity:20,unitPrice:100,total:2e3}],notes:"Payment terms: 30 days",createdAt:"2024-01-15T10:00:00Z",updatedAt:"2024-01-15T10:00:00Z"},{id:"invoice-2",number:"INV-2024-002",clientId:"client-2",projectId:"project-2",amount:15e3,tax:1500,total:16500,status:"sent",dueDate:"2024-02-20",issueDate:"2024-01-20",items:[{id:"item-3",description:"Mobile App Development",quantity:1,unitPrice:12e3,total:12e3},{id:"item-4",description:"UI/UX Design",quantity:1,unitPrice:3e3,total:3e3}],notes:"Payment terms: 30 days",createdAt:"2024-01-20T14:30:00Z",updatedAt:"2024-01-20T14:30:00Z"},{id:"invoice-3",number:"INV-2024-003",clientId:"client-3",amount:7500,tax:750,total:8250,status:"overdue",dueDate:"2024-01-25",issueDate:"2023-12-25",items:[{id:"item-5",description:"E-commerce Platform Setup",quantity:1,unitPrice:7500,total:7500}],notes:"Payment overdue - please remit payment immediately",createdAt:"2023-12-25T09:00:00Z",updatedAt:"2024-01-30T17:00:00Z"}],JR=[{id:"budget-1",name:"Q1 2024 Development Budget",projectId:"project-1",totalBudget:5e4,spent:32e3,remaining:18e3,categories:[{id:"cat-1",name:"Development",allocated:3e4,spent:2e4,remaining:1e4},{id:"cat-2",name:"Marketing",allocated:15e3,spent:8e3,remaining:7e3},{id:"cat-3",name:"Operations",allocated:5e3,spent:4e3,remaining:1e3}],period:"quarterly",startDate:"2024-01-01",endDate:"2024-03-31",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-30T12:00:00Z"},{id:"budget-2",name:"Annual Marketing Budget 2024",totalBudget:25e3,spent:5e3,remaining:2e4,categories:[{id:"cat-4",name:"Digital Advertising",allocated:15e3,spent:3e3,remaining:12e3},{id:"cat-5",name:"Content Creation",allocated:7e3,spent:1500,remaining:5500},{id:"cat-6",name:"Events",allocated:3e3,spent:500,remaining:2500}],period:"yearly",startDate:"2024-01-01",endDate:"2024-12-31",status:"active",createdAt:"2024-01-01T00:00:00Z",updatedAt:"2024-01-30T12:00:00Z"}],ZR=[{id:"alert-1",type:"overdue",title:"Overdue Invoice",message:"Invoice INV-2024-003 is overdue by 5 days",priority:"high",relatedId:"invoice-3",relatedType:"invoice",createdAt:"2024-01-30T09:00:00Z",read:!1},{id:"alert-2",type:"upcoming",title:"Payment Due Soon",message:"Invoice INV-2024-002 is due in 3 days",priority:"medium",relatedId:"invoice-2",relatedType:"invoice",createdAt:"2024-01-30T10:00:00Z",read:!1},{id:"alert-3",type:"budget_exceeded",title:"Budget Alert",message:"Operations budget is 80% utilized",priority:"medium",relatedId:"budget-1",relatedType:"budget",createdAt:"2024-01-30T11:00:00Z",read:!0}],eF={transactions:[],invoices:[],budgets:[],alerts:[],metrics:{totalRevenue:0,totalExpenses:0,netProfit:0,pendingPayments:0,overdueInvoices:0,monthlyGrowth:0,averageROI:0,cashFlowTrend:"stable"},roiData:[],cashFlowData:[],loading:!1,error:null},tF=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"SET_TRANSACTIONS":return{...e,transactions:t.payload};case"ADD_TRANSACTION":return{...e,transactions:[...e.transactions,t.payload]};case"UPDATE_TRANSACTION":return{...e,transactions:e.transactions.map(r=>r.id===t.payload.id?{...r,...t.payload.updates}:r)};case"DELETE_TRANSACTION":return{...e,transactions:e.transactions.filter(r=>r.id!==t.payload)};case"SET_INVOICES":return{...e,invoices:t.payload};case"ADD_INVOICE":return{...e,invoices:[...e.invoices,t.payload]};case"UPDATE_INVOICE":return{...e,invoices:e.invoices.map(r=>r.id===t.payload.id?{...r,...t.payload.updates}:r)};case"DELETE_INVOICE":return{...e,invoices:e.invoices.filter(r=>r.id!==t.payload)};case"SET_BUDGETS":return{...e,budgets:t.payload};case"ADD_BUDGET":return{...e,budgets:[...e.budgets,t.payload]};case"UPDATE_BUDGET":return{...e,budgets:e.budgets.map(r=>r.id===t.payload.id?{...r,...t.payload.updates}:r)};case"DELETE_BUDGET":return{...e,budgets:e.budgets.filter(r=>r.id!==t.payload)};case"SET_ALERTS":return{...e,alerts:t.payload};case"MARK_ALERT_READ":return{...e,alerts:e.alerts.map(r=>r.id===t.payload?{...r,read:!0}:r)};case"UPDATE_METRICS":return{...e,metrics:t.payload};case"SET_ROI_DATA":return{...e,roiData:t.payload};case"SET_CASHFLOW_DATA":return{...e,cashFlowData:t.payload};default:return e}},K_=L.createContext(void 0),$o=()=>{const e=L.useContext(K_);if(!e)throw new Error("useFinance must be used within a FinanceProvider");return e},D5=({children:e})=>{const[t,r]=L.useReducer(tF,eF);L.useEffect(()=>{(()=>{const g=new Date,x=g.getMonth(),S=g.getFullYear(),j=t.transactions.filter(U=>U.type==="income"&&U.status==="completed").reduce((U,z)=>U+z.amount,0),E=t.transactions.filter(U=>U.type==="expense"&&U.status==="completed").reduce((U,z)=>U+z.amount,0),T=j-E,k=t.transactions.filter(U=>U.status==="pending").reduce((U,z)=>U+z.amount,0),D=t.invoices.filter(U=>U.status==="overdue").length,I=t.transactions.filter(U=>{const z=new Date(U.date);return U.type==="income"&&U.status==="completed"&&z.getMonth()===x-1&&z.getFullYear()===S}).reduce((U,z)=>U+z.amount,0),R=t.transactions.filter(U=>{const z=new Date(U.date);return U.type==="income"&&U.status==="completed"&&z.getMonth()===x&&z.getFullYear()===S}).reduce((U,z)=>U+z.amount,0),M=I>0?(R-I)/I*100:0,P=t.roiData.length>0?t.roiData.reduce((U,z)=>U+z.roiPercentage,0)/t.roiData.length:0,F=T>0?"positive":T<0?"negative":"stable";r({type:"UPDATE_METRICS",payload:{totalRevenue:j,totalExpenses:E,netProfit:T,pendingPayments:k,overdueInvoices:D,monthlyGrowth:M,averageROI:P,cashFlowTrend:F}})})()},[t.transactions,t.invoices,t.roiData]),L.useEffect(()=>{r({type:"SET_TRANSACTIONS",payload:XR}),r({type:"SET_INVOICES",payload:QR}),r({type:"SET_BUDGETS",payload:JR}),r({type:"SET_ALERTS",payload:ZR})},[]);const n=w=>{const g={...w,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r({type:"ADD_TRANSACTION",payload:g})},a=(w,g)=>{r({type:"UPDATE_TRANSACTION",payload:{id:w,updates:{...g,updatedAt:new Date().toISOString()}}})},s=w=>{r({type:"DELETE_TRANSACTION",payload:w})},o=w=>{const g={...w,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r({type:"ADD_INVOICE",payload:g})},l=(w,g)=>{r({type:"UPDATE_INVOICE",payload:{id:w,updates:{...g,updatedAt:new Date().toISOString()}}})},c=w=>{r({type:"DELETE_INVOICE",payload:w})},u=w=>{const g={...w,id:Date.now().toString(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};r({type:"ADD_BUDGET",payload:g})},d=(w,g)=>{r({type:"UPDATE_BUDGET",payload:{id:w,updates:{...g,updatedAt:new Date().toISOString()}}})},f=w=>{r({type:"DELETE_BUDGET",payload:w})},h=w=>{r({type:"MARK_ALERT_READ",payload:w})},m=(w,g)=>{console.log(`Exporting ${w} report in ${g} format`)},y=w=>t.roiData.find(g=>g.projectId===w)||null,v=(w,g)=>t.cashFlowData.filter(x=>x.date>=w&&x.date<=g);return i.jsx(K_.Provider,{value:{...t,addTransaction:n,updateTransaction:a,deleteTransaction:s,addInvoice:o,updateInvoice:l,deleteInvoice:c,addBudget:u,updateBudget:d,deleteBudget:f,markAlertAsRead:h,exportReport:m,calculateROI:y,generateCashFlowData:v},children:e})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(e,t)=>{const r=L.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>L.createElement("svg",{ref:d,...rF,width:a,height:a,stroke:n,strokeWidth:o?Number(s)*24/Number(a):s,className:["lucide",`lucide-${nF(e)}`,l].join(" "),...u},[...t.map(([f,h])=>L.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=ze("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ze("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ze("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=ze("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=ze("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=ze("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=ze("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=ze("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=ze("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=ze("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=ze("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ze("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=ze("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xg=ze("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=ze("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=ze("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fs=ze("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=ze("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=ze("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=ze("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yr=ze("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z_=ze("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=ze("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=ze("FolderSync",[["path",{d:"M9 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v.5",key:"1dkoa9"}],["path",{d:"M12 10v4h4",key:"1czhmt"}],["path",{d:"m12 14 1.535-1.605a5 5 0 0 1 8 1.5",key:"lvuxfi"}],["path",{d:"M22 22v-4h-4",key:"1ewp4q"}],["path",{d:"m22 18-1.535 1.605a5 5 0 0 1-8-1.5",key:"14ync0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=ze("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=ze("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ze("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=ze("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=ze("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=ze("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=ze("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=ze("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=ze("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=ze("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=ze("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NF=ze("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=ze("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=ze("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=ze("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ze("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=ze("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=ze("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=ze("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ze("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=ze("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ze("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=ze("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=ze("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ze("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=ze("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=ze("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=ze("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=ze("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eg=ze("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=ze("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=ze("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=ze("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const na=ze("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=ze("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=ze("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),MF=()=>{const[e,t]=L.useState(""),[r,n]=L.useState(""),[a,s]=L.useState(!1),[o,l]=L.useState(!1),{login:c,isLoading:u,error:d,clearError:f}=Bl();L.useEffect(()=>{d&&f()},[e,r,f]);const h=async m=>{m.preventDefault();try{await c({email:e,password:r}),window.location.href="/dashboard"}catch(y){console.error("Error en login:",y)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto h-16 w-16 bg-blue-600 rounded-full flex items-center justify-center mb-4",children:i.jsx(b4,{className:"h-8 w-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Iniciar Sesión"}),i.jsx("p",{className:"text-gray-600",children:"Accede a tu cuenta de CRM TechSolutions"})]}),i.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo Electrónico"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(Ui,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:e,onChange:m=>t(m.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"tu@email.com"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contraseña"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx(yF,{className:"h-5 w-5 text-gray-400"})}),i.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",required:!0,value:r,onChange:m=>n(m.target.value),className:"block w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 placeholder-gray-500",placeholder:"Tu contraseña"}),i.jsx("button",{type:"button",onClick:()=>s(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:a?i.jsx(Qg,{className:"h-5 w-5"}):i.jsx(ka,{className:"h-5 w-5"})})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:o,onChange:m=>l(m.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Recordarme"})]}),i.jsx("div",{className:"text-sm",children:i.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"¿Olvidaste tu contraseña?"})})]}),d&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-start space-x-3",children:[i.jsx(Ta,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error de Autenticación"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:d})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:u||!e||!r,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),i.jsx("span",{children:"Iniciando sesión..."})]}):i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(b4,{className:"h-4 w-4"}),i.jsx("span",{children:"Entrar"})]})})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["¿No tienes una cuenta?"," ",i.jsx("a",{href:"#",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"Contacta al administrador"})]})})]})]})})},AF=({children:e})=>{const{isAuthenticated:t,isLoading:r}=Bl();return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Verificando autenticación..."})]})}):t?i.jsx(i.Fragment,{children:e}):i.jsx(MF,{})},LF="/assets/Innomind%20logo-r6reBaAf.png",OF=({activeView:e,onViewChange:t})=>{const{user:r}=Bl(),n=(r==null?void 0:r.role)==="admin",a=[{id:"dashboard",label:"Panel",icon:tP},{id:"prospects",label:"Prospectos",icon:na},{id:"kanban",label:"Embudo",icon:dx},{id:"quotes",label:"Cotizaciones",icon:Yr},{id:"projects",label:"Proyectos",icon:pF},{id:"finance",label:"Finanzas",icon:Li},{id:"calendar",label:"Calendario",icon:Dn},...n?[{id:"users",label:"Usuarios",icon:_F}]:[],{id:"webhook",label:"Webhook",icon:EF},{id:"settings",label:"Configuración",icon:Sc}];return i.jsxs("div",{className:"bg-white w-64 shadow-sm border-r border-gray-200 flex flex-col",children:[i.jsxs("div",{className:"flex items-center p-6",children:[i.jsx("img",{src:LF,alt:"Innomind CRM",className:"h-14 w-auto mr-3"}),i.jsx("h1",{className:"text-xl font-kollektiv text-blue-900",children:"Innomind CRM"})]}),i.jsx("nav",{className:"flex-1 px-4 pb-4",children:i.jsx("ul",{className:"space-y-2",children:a.map(s=>{const o=s.icon;return i.jsx("li",{children:i.jsxs("button",{onClick:()=>t(s.id),className:`w-full flex items-center px-4 py-3 text-left rounded-lg transition-colors ${e===s.id?"bg-blue-50 text-blue-700 border-r-2 border-blue-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[i.jsx(o,{className:"h-5 w-5 mr-3"}),s.label]})},s.id)})})})]})},TF=({title:e,onNavigate:t})=>{const{prospects:r}=ia(),{user:n,logout:a}=Bl(),[s,o]=L.useState(!1),[l,c]=L.useState(!1),[u,d]=L.useState(""),[f,h]=L.useState([]),[m,y]=L.useState(!1),[v,w]=L.useState(!1),[g,x]=L.useState(null),S=L.useRef(null),j=L.useRef(null),[E,T]=L.useState([{id:"1",title:"Nuevo prospecto",message:"Carlos García se registró desde WhatsApp",time:"Hace 5 minutos",unread:!0,type:"prospect",relatedId:"1",relatedData:{prospectId:"1",name:"Carlos García"}},{id:"2",title:"Cotización vencida",message:"La cotización COT-2024-003 ha vencido",time:"Hace 2 horas",unread:!0,type:"quote",relatedId:"1",relatedData:{quoteId:"1",quoteNumber:"COT-2024-003"}},{id:"3",title:"Seguimiento pendiente",message:"María Rodríguez necesita seguimiento",time:"Hace 1 día",unread:!1,type:"followup",relatedId:"2",relatedData:{prospectId:"2",name:"María Rodríguez"}},{id:"4",title:"Nueva cotización creada",message:"Se creó la cotización COT-2024-004 para Laura González",time:"Hace 3 horas",unread:!0,type:"quote",relatedId:"2",relatedData:{quoteId:"2",quoteNumber:"COT-2024-004",prospectId:"4"}}]),k=E.filter(_=>_.unread).length;L.useEffect(()=>{const $=setTimeout(async()=>{if(!u.trim()){h([]),y(!1),x(null);return}if(u.length<2){h([]),y(!1),x(null);return}w(!0),x(null);try{await new Promise(X=>setTimeout(X,300));const W=r.filter(X=>{const Z=u.toLowerCase();return X.nombre.toLowerCase().includes(Z)||X.correo.toLowerCase().includes(Z)||X.telefono.includes(u)||X.id.toLowerCase().includes(Z)||X.servicioInteres.toLowerCase().includes(Z)}).slice(0,10).map(X=>({id:X.id,nombre:X.nombre,telefono:X.telefono,correo:X.correo,plataforma:X.plataforma,servicioInteres:X.servicioInteres,estado:X.estado}));h(W),y(!0)}catch{x("Error al buscar prospectos. Intenta nuevamente."),h([]),y(!0)}finally{w(!1)}},300);return()=>clearTimeout($)},[u,r]),L.useEffect(()=>{const _=$=>{j.current&&!j.current.contains($.target)&&y(!1)};return document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[]);const D=(_,$)=>{if(!$.trim())return _;const Y=new RegExp(`(${$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return _.split(Y).map((X,Z)=>Y.test(X)?i.jsx("mark",{className:"bg-yellow-200 text-yellow-900 px-1 rounded",children:X},Z):X)},I=_=>{d(""),y(!1),h([]),t&&t("prospects",{prospectId:_.id,showDetail:!0})},R=()=>{var _;d(""),h([]),y(!1),x(null),(_=S.current)==null||_.focus()},M=()=>{o(!s),c(!1),y(!1)},P=()=>{c(!l),o(!1),y(!1)},F=_=>{_.target===_.currentTarget&&(o(!1),c(!1))},O=async()=>{try{await a()}catch(_){console.error("Error al cerrar sesión:",_)}},U=_=>{var $;if(T(Y=>Y.map(W=>W.id===_.id?{...W,unread:!1}:W)),o(!1),t)switch(_.type){case"prospect":t("prospects",{prospectId:_.relatedId,showDetail:!0});break;case"quote":t("quotes",{quoteId:_.relatedId,showDetail:!0,prospectId:($=_.relatedData)==null?void 0:$.prospectId});break;case"followup":t("prospects",{prospectId:_.relatedId,showDetail:!0,highlightFollowup:!0});break;case"system":t("dashboard");break;default:t("dashboard")}},z=()=>{T(_=>_.map($=>({...$,unread:!1})))},V=_=>{switch(_){case"prospect":return"👤";case"quote":return"📄";case"followup":return"⏰";case"system":return"⚙️";default:return"📢"}},q=_=>({WhatsApp:"💬",Instagram:"📷",Facebook:"📘"})[_]||"📱",re=_=>({Nuevo:"text-blue-600",Contactado:"text-yellow-600","En seguimiento":"text-orange-600",Cotizado:"text-purple-600","Venta cerrada":"text-green-600",Perdido:"text-red-600"})[_]||"text-gray-600",oe=_=>_.split(" ").map($=>$.charAt(0)).join("").toUpperCase().slice(0,2),le=(n==null?void 0:n.role)==="admin";return i.jsxs(i.Fragment,{children:[i.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200 px-6 py-4 relative z-40",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:e}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",ref:j,children:[i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{ref:S,type:"text",placeholder:"Buscar prospectos...",value:u,onChange:_=>d(_.target.value),onFocus:()=>{f.length>0&&y(!0)},className:"pl-10 pr-10 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64 transition-all duration-200"}),u&&i.jsx("button",{onClick:R,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(qs,{className:"h-4 w-4"})}),v&&i.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"})})]}),m&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50 max-h-96 overflow-y-auto",children:g?i.jsxs("div",{className:"px-4 py-3 text-center",children:[i.jsxs("div",{className:"text-red-600 text-sm mb-2",children:["⚠️ ",g]}),i.jsx("button",{onClick:()=>d(u),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Reintentar"})]}):f.length===0&&u.length>=2?i.jsxs("div",{className:"px-4 py-3 text-center text-gray-500 text-sm",children:[i.jsx("div",{className:"mb-2",children:"🔍"}),i.jsx("div",{children:"No se encontraron prospectos"}),i.jsx("div",{className:"text-xs mt-1",children:"Intenta con otros términos de búsqueda"})]}):u.length<2&&u.length>0?i.jsxs("div",{className:"px-4 py-3 text-center text-gray-500 text-sm",children:[i.jsx("div",{className:"mb-2",children:"⌨️"}),i.jsx("div",{children:"Escribe al menos 2 caracteres para buscar"})]}):i.jsxs(i.Fragment,{children:[f.length>0&&i.jsx("div",{className:"px-4 py-2 border-b border-gray-100",children:i.jsxs("div",{className:"text-xs text-gray-500",children:[f.length," resultado",f.length!==1?"s":""," encontrado",f.length!==1?"s":"",f.length===10&&" (máximo 10)"]})}),f.map(_=>i.jsx("div",{onClick:()=>I(_),className:"px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors border-l-4 border-transparent hover:border-blue-400",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("span",{className:"text-lg mr-2",children:q(_.plataforma)}),i.jsx("div",{className:"font-medium text-gray-900 text-sm",children:D(_.nombre,u)})]}),i.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["📧 ",D(_.correo,u)]}),i.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:["📞 ",D(_.telefono,u)]}),i.jsx("div",{className:"text-xs text-gray-500 truncate",children:D(_.servicioInteres,u)})]}),i.jsxs("div",{className:"ml-3 text-right",children:[i.jsx("div",{className:`text-xs font-medium ${re(_.estado)}`,children:_.estado}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["ID: ",_.id]})]})]})},_.id)),f.length>0&&i.jsx("div",{className:"px-4 py-2 border-t border-gray-100 text-center",children:i.jsx("button",{onClick:()=>{y(!1),t&&t("prospects")},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Ver todos los prospectos →"})})]})})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:M,className:"relative p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-lg hover:bg-gray-100",children:[i.jsx(tp,{className:"h-6 w-6"}),k>0&&i.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center font-medium",children:k})]}),s&&i.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[i.jsxs("div",{className:"px-4 py-2 border-b border-gray-100 flex items-center justify-between",children:[i.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:"Notificaciones"}),k>0&&i.jsx("button",{onClick:z,className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Marcar todas como leídas"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:E.map(_=>i.jsx("div",{onClick:()=>U(_),className:`px-4 py-3 hover:bg-gray-50 cursor-pointer border-l-4 transition-colors ${_.unread?"border-blue-500 bg-blue-50":"border-transparent"}`,children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("span",{className:"text-lg mr-2",children:V(_.type)}),i.jsx("p",{className:`text-sm font-medium ${_.unread?"text-gray-900":"text-gray-700"}`,children:_.title})]}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:_.message}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:_.time})]}),_.unread&&i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-1 ml-2"})]})},_.id))}),i.jsx("div",{className:"px-4 py-2 border-t border-gray-100",children:i.jsx("button",{onClick:()=>t&&t("dashboard"),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Ver todas las notificaciones"})})]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:P,className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:[i.jsx("div",{className:"h-8 w-8 bg-blue-500 rounded-full flex items-center justify-center",children:n!=null&&n.avatar?i.jsx("img",{src:n.avatar,alt:n.name,className:"h-8 w-8 rounded-full object-cover"}):i.jsx("span",{className:"text-white text-sm font-medium",children:n?oe(n.name):"U"})}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:(n==null?void 0:n.name)||"Usuario"})]}),l&&i.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[i.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:n==null?void 0:n.name}),i.jsx("p",{className:"text-sm text-gray-500",children:n==null?void 0:n.email}),i.jsxs("p",{className:"text-xs text-gray-400 mt-1 capitalize",children:["Rol: ",(n==null?void 0:n.role)==="admin"?"Administrador":"Usuario"]})]}),i.jsxs("div",{className:"py-1",children:[i.jsxs("button",{onClick:()=>{c(!1),t&&t("settings",{tab:"users"})},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsx(cF,{className:"h-4 w-4 mr-3"}),"Mi Perfil"]}),le&&i.jsxs("button",{onClick:()=>{c(!1),t&&t("users")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsx(Uc,{className:"h-4 w-4 mr-3"}),"Gestión de Usuarios"]}),i.jsxs("button",{onClick:()=>{c(!1),t&&t("settings")},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsx(Sc,{className:"h-4 w-4 mr-3"}),"Configuración"]}),i.jsxs("button",{className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:[i.jsx(Ui,{className:"h-4 w-4 mr-3"}),"Soporte"]})]}),i.jsx("div",{className:"border-t border-gray-100 py-1",children:i.jsxs("button",{onClick:O,className:"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[i.jsx(bF,{className:"h-4 w-4 mr-3"}),"Cerrar Sesión"]})})]})]})]})]})}),(s||l)&&i.jsx("div",{className:"fixed inset-0 z-30",onClick:F})]})},f0=({title:e,value:t,icon:r,color:n,trend:a,onClick:s,clickable:o=!1})=>{const l={blue:"bg-blue-500 text-blue-500 bg-blue-50",green:"bg-green-500 text-green-500 bg-green-50",yellow:"bg-yellow-500 text-yellow-500 bg-yellow-50",red:"bg-red-500 text-red-500 bg-red-50",purple:"bg-purple-500 text-purple-500 bg-purple-50"},[c,u,d]=l[n].split(" "),f=`bg-white rounded-xl shadow-sm border border-gray-200 p-6 transition-all duration-200 ${o?"hover:shadow-md hover:scale-105 cursor-pointer hover:border-blue-300":"hover:shadow-md"}`,h=()=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:e}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),a&&i.jsxs("div",{className:"flex items-center mt-2",children:[i.jsxs("span",{className:`text-sm font-medium ${a.isPositive?"text-green-600":"text-red-600"}`,children:[a.isPositive?"+":"",a.value,"%"]}),i.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs último mes"})]})]}),i.jsx("div",{className:`${d} p-3 rounded-lg`,children:i.jsx(r,{className:`h-8 w-8 ${u}`})})]});return o&&s?i.jsx("div",{className:f,onClick:s,children:i.jsx(h,{})}):i.jsx("div",{className:f,children:i.jsx(h,{})})},j4=({onNavigate:e})=>{const{dashboardMetrics:t}=ia(),r=()=>{e&&e("prospects")},n=()=>{e&&e("quotes")},a=()=>{e&&e("kanban")};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(f0,{title:"Total Prospectos",value:t.totalProspectos,icon:na,color:"blue",trend:{value:12,isPositive:!0},clickable:!0,onClick:r}),i.jsx(f0,{title:"Cotizaciones Generadas",value:t.cotizacionesGeneradas,icon:Yr,color:"green",trend:{value:8,isPositive:!0},clickable:!0,onClick:n}),i.jsx(f0,{title:"Ventas Cerradas",value:t.ventasCerradas,icon:Ws,color:"purple",trend:{value:15,isPositive:!0},clickable:!0,onClick:a}),i.jsx(f0,{title:"Tasa de Conversión",value:`${t.tasaConversion.toFixed(1)}%`,icon:Ws,color:"yellow",trend:{value:3,isPositive:!0}})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Prospectos por Plataforma"}),i.jsx("button",{onClick:r,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Ver todos"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(tu,{className:"h-5 w-5 text-green-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"WhatsApp"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900 mr-2",children:t.prospectosPorPlataforma.WhatsApp||0}),i.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${(t.prospectosPorPlataforma.WhatsApp||0)/t.totalProspectos*100}%`}})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(gF,{className:"h-5 w-5 text-pink-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Instagram"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900 mr-2",children:t.prospectosPorPlataforma.Instagram||0}),i.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-pink-500 h-2 rounded-full transition-all duration-300",style:{width:`${(t.prospectosPorPlataforma.Instagram||0)/t.totalProspectos*100}%`}})})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(fF,{className:"h-5 w-5 text-blue-600 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Facebook"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900 mr-2",children:t.prospectosPorPlataforma.Facebook||0}),i.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${(t.prospectosPorPlataforma.Facebook||0)/t.totalProspectos*100}%`}})})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Prospectos por Estado"}),i.jsx("button",{onClick:a,className:"text-sm text-blue-600 hover:text-blue-800 font-medium transition-colors",children:"Ver embudo"})]}),i.jsx("div",{className:"space-y-3",children:Object.entries(t.prospectosPorEstado).map(([s,o])=>{const l={Nuevo:"bg-blue-500",Contactado:"bg-yellow-500","En seguimiento":"bg-orange-500",Cotizado:"bg-purple-500","Venta cerrada":"bg-green-500",Perdido:"bg-red-500"};return i.jsxs("div",{className:"flex items-center justify-between hover:bg-gray-50 p-2 rounded-lg transition-colors cursor-pointer",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${l[s]} mr-2`}),i.jsx("span",{className:"text-gray-700",children:s})]}),i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:o})]},s)})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Acciones Rápidas"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("button",{onClick:r,className:"flex items-center justify-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors group",children:[i.jsx(na,{className:"h-6 w-6 text-blue-600 mr-3 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"font-medium text-blue-700",children:"Gestionar Prospectos"})]}),i.jsxs("button",{onClick:n,className:"flex items-center justify-center p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors group",children:[i.jsx(Yr,{className:"h-6 w-6 text-green-600 mr-3 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"font-medium text-green-700",children:"Nueva Cotización"})]}),i.jsxs("button",{onClick:a,className:"flex items-center justify-center p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors group",children:[i.jsx(Ws,{className:"h-6 w-6 text-purple-600 mr-3 group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"font-medium text-purple-700",children:"Ver Embudo"})]})]})]})]})};function jt(e){"@babel/helpers - typeof";return jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jt(e)}function zc(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function oa(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Yi(e){oa(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||jt(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function IF(e,t){oa(2,arguments);var r=Yi(e).getTime(),n=zc(t);return new Date(r+n)}var RF={};function fx(){return RF}function FF(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function $F(e){return oa(1,arguments),e instanceof Date||jt(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function UF(e){if(oa(1,arguments),!$F(e)&&typeof e!="number")return!1;var t=Yi(e);return!isNaN(Number(t))}function zF(e,t){oa(2,arguments);var r=zc(t);return IF(e,-r)}var BF=864e5;function HF(e){oa(1,arguments);var t=Yi(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/BF)+1}function Zg(e){oa(1,arguments);var t=1,r=Yi(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function rP(e){oa(1,arguments);var t=Yi(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=Zg(n),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=Zg(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function WF(e){oa(1,arguments);var t=rP(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=Zg(r);return n}var YF=6048e5;function VF(e){oa(1,arguments);var t=Yi(e),r=Zg(t).getTime()-WF(t).getTime();return Math.round(r/YF)+1}function ev(e,t){var r,n,a,s,o,l,c,u;oa(1,arguments);var d=fx(),f=zc((r=(n=(a=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&a!==void 0?a:d.weekStartsOn)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Yi(e),m=h.getUTCDay(),y=(m<f?7:0)+m-f;return h.setUTCDate(h.getUTCDate()-y),h.setUTCHours(0,0,0,0),h}function nP(e,t){var r,n,a,s,o,l,c,u;oa(1,arguments);var d=Yi(e),f=d.getUTCFullYear(),h=fx(),m=zc((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(c=h.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(m>=1&&m<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(f+1,0,m),y.setUTCHours(0,0,0,0);var v=ev(y,t),w=new Date(0);w.setUTCFullYear(f,0,m),w.setUTCHours(0,0,0,0);var g=ev(w,t);return d.getTime()>=v.getTime()?f+1:d.getTime()>=g.getTime()?f:f-1}function qF(e,t){var r,n,a,s,o,l,c,u;oa(1,arguments);var d=fx(),f=zc((r=(n=(a=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&a!==void 0?a:d.firstWeekContainsDate)!==null&&n!==void 0?n:(c=d.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=nP(e,t),m=new Date(0);m.setUTCFullYear(h,0,f),m.setUTCHours(0,0,0,0);var y=ev(m,t);return y}var GF=6048e5;function KF(e,t){oa(1,arguments);var r=Yi(e),n=ev(r,t).getTime()-qF(r,t).getTime();return Math.round(n/GF)+1}function Gt(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var sl={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Gt(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Gt(n+1,2)},d:function(t,r){return Gt(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Gt(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Gt(t.getUTCHours(),r.length)},m:function(t,r){return Gt(t.getUTCMinutes(),r.length)},s:function(t,r){return Gt(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),s=Math.floor(a*Math.pow(10,n-3));return Gt(s,r.length)}},Iu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},XF={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),s=a>0?a:1-a;return n.ordinalNumber(s,{unit:"year"})}return sl.y(t,r)},Y:function(t,r,n,a){var s=nP(t,a),o=s>0?s:1-s;if(r==="YY"){var l=o%100;return Gt(l,2)}return r==="Yo"?n.ordinalNumber(o,{unit:"year"}):Gt(o,r.length)},R:function(t,r){var n=rP(t);return Gt(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Gt(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Gt(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Gt(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return sl.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Gt(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var s=KF(t,a);return r==="wo"?n.ordinalNumber(s,{unit:"week"}):Gt(s,r.length)},I:function(t,r,n){var a=VF(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Gt(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):sl.d(t,r)},D:function(t,r,n){var a=HF(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Gt(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return Gt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var s=t.getUTCDay(),o=(s-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return Gt(o,r.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),s=a===0?7:a;switch(r){case"i":return String(s);case"ii":return Gt(s,r.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),s=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),s;switch(a===12?s=Iu.noon:a===0?s=Iu.midnight:s=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),s;switch(a>=17?s=Iu.evening:a>=12?s=Iu.afternoon:a>=4?s=Iu.morning:s=Iu.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return sl.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):sl.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Gt(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Gt(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):sl.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):sl.s(t,r)},S:function(t,r){return sl.S(t,r)},X:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return k4(o);case"XXXX":case"XX":return cc(o);case"XXXXX":case"XXX":default:return cc(o,":")}},x:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"x":return k4(o);case"xxxx":case"xx":return cc(o);case"xxxxx":case"xxx":default:return cc(o,":")}},O:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+S4(o,":");case"OOOO":default:return"GMT"+cc(o,":")}},z:function(t,r,n,a){var s=a._originalDate||t,o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+S4(o,":");case"zzzz":default:return"GMT"+cc(o,":")}},t:function(t,r,n,a){var s=a._originalDate||t,o=Math.floor(s.getTime()/1e3);return Gt(o,r.length)},T:function(t,r,n,a){var s=a._originalDate||t,o=s.getTime();return Gt(o,r.length)}};function S4(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),s=n%60;if(s===0)return r+String(a);var o=t;return r+String(a)+o+Gt(s,2)}function k4(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Gt(Math.abs(e)/60,2)}return cc(e,t)}function cc(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),s=Gt(Math.floor(a/60),2),o=Gt(a%60,2);return n+s+r+o}var C4=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},aP=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},QF=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],s=n[2];if(!s)return C4(t,r);var o;switch(a){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",C4(a,r)).replace("{{time}}",aP(s,r))},JF={p:aP,P:QF},ZF=["D","DD"],e$=["YY","YYYY"];function t$(e){return ZF.indexOf(e)!==-1}function r$(e){return e$.indexOf(e)!==-1}function D4(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var n$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},a$=function(t,r,n){var a,s=n$[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function hd(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var s$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},i$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},o$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},l$={date:hd({formats:s$,defaultWidth:"full"}),time:hd({formats:i$,defaultWidth:"full"}),dateTime:hd({formats:o$,defaultWidth:"full"})},c$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},u$=function(t,r,n,a){return c$[t]};function Ni(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):s;a=e.formattingValues[o]||e.formattingValues[s]}else{var l=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[l]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var d$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},f$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},h$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},p$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},m$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},g$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},v$=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},x$={ordinalNumber:v$,era:Ni({values:d$,defaultWidth:"wide"}),quarter:Ni({values:f$,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Ni({values:h$,defaultWidth:"wide"}),day:Ni({values:p$,defaultWidth:"wide"}),dayPeriod:Ni({values:m$,defaultWidth:"wide",formattingValues:g$,defaultFormattingWidth:"wide"})};function ji(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?b$(l,function(f){return f.test(o)}):y$(l,function(f){return f.test(o)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var d=t.slice(o.length);return{value:u,rest:d}}}function y$(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function b$(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function sP(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],s=t.match(e.parsePattern);if(!s)return null;var o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;var l=t.slice(a.length);return{value:o,rest:l}}}var w$=/^(\d+)(th|st|nd|rd)?/i,N$=/\d+/i,j$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},S$={any:[/^b/i,/^(a|c)/i]},k$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},C$={any:[/1/i,/2/i,/3/i,/4/i]},D$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},P$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},E$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},M$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},A$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},L$={ordinalNumber:sP({matchPattern:w$,parsePattern:N$,valueCallback:function(t){return parseInt(t,10)}}),era:ji({matchPatterns:j$,defaultMatchWidth:"wide",parsePatterns:S$,defaultParseWidth:"any"}),quarter:ji({matchPatterns:k$,defaultMatchWidth:"wide",parsePatterns:C$,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ji({matchPatterns:D$,defaultMatchWidth:"wide",parsePatterns:_$,defaultParseWidth:"any"}),day:ji({matchPatterns:P$,defaultMatchWidth:"wide",parsePatterns:E$,defaultParseWidth:"any"}),dayPeriod:ji({matchPatterns:M$,defaultMatchWidth:"any",parsePatterns:A$,defaultParseWidth:"any"})},O$={code:"en-US",formatDistance:a$,formatLong:l$,formatRelative:u$,localize:x$,match:L$,options:{weekStartsOn:0,firstWeekContainsDate:1}},T$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,R$=/^'([^]*?)'?$/,F$=/''/g,$$=/[a-zA-Z]/;function it(e,t,r){var n,a,s,o,l,c,u,d,f,h,m,y,v,w,g,x,S,j;oa(2,arguments);var E=String(t),T=fx(),k=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:T.locale)!==null&&n!==void 0?n:O$,D=zc((s=(o=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(d=u.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&o!==void 0?o:(f=T.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(D>=1&&D<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=zc((m=(y=(v=(w=r==null?void 0:r.weekStartsOn)!==null&&w!==void 0?w:r==null||(g=r.locale)===null||g===void 0||(x=g.options)===null||x===void 0?void 0:x.weekStartsOn)!==null&&v!==void 0?v:T.weekStartsOn)!==null&&y!==void 0?y:(S=T.locale)===null||S===void 0||(j=S.options)===null||j===void 0?void 0:j.weekStartsOn)!==null&&m!==void 0?m:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var R=Yi(e);if(!UF(R))throw new RangeError("Invalid time value");var M=FF(R),P=zF(R,M),F={firstWeekContainsDate:D,weekStartsOn:I,locale:k,_originalDate:R},O=E.match(I$).map(function(U){var z=U[0];if(z==="p"||z==="P"){var V=JF[z];return V(U,k.formatLong)}return U}).join("").match(T$).map(function(U){if(U==="''")return"'";var z=U[0];if(z==="'")return U$(U);var V=XF[z];if(V)return!(r!=null&&r.useAdditionalWeekYearTokens)&&r$(U)&&D4(U,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&t$(U)&&D4(U,t,String(e)),V(P,U,k.localize,F);if(z.match($$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");return U}).join("");return O}function U$(e){var t=e.match(R$);return t?t[1].replace(F$,"'"):e}function _2(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function E5(e,t){if(e){if(typeof e=="string")return _2(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_2(e,t):void 0}}function z$(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tv(e,t){return tv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},tv(e,t)}function En(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tv(e,t)}function Md(e){return Md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Md(e)}function M5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M5=function(){return!!e})()}function iP(e,t){if(t&&(jt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z$(e)}function B$(e){var t=M5();return function(){var r,n=Md(e);if(t){var a=Md(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return iP(this,r)}}function tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H$(e,t){if(jt(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oP(e){var t=H$(e,"string");return jt(t)=="symbol"?t:t+""}function _4(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oP(n.key),n)}}function rn(e,t,r){return t&&_4(e.prototype,t),r&&_4(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Us(e,t,r){return(t=oP(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const lP=({onClose:e,onSuccess:t})=>{const{addProspect:r}=ia(),{users:n}=Xd(),[a,s]=L.useState(!1),[o,l]=L.useState({}),[c,u]=L.useState({nombre:"",empresa:"",cargo:"",telefono:"",correo:"",origen:"",telefonoSecundario:"",direccion:"",industria:"",tamanoEmpresa:"",notasAdicionales:"",nivelInteres:"Medio",responsable:"Usuario Actual",estado:"Nuevo",fechaProximoSeguimiento:new Date(Date.now()+7*24*60*60*1e3).toISOString().split("T")[0],plataforma:"WhatsApp",servicioInteres:""}),d=["Referido","Sitio web","Redes sociales","WhatsApp","Instagram","Facebook","LinkedIn","Google Ads","Email marketing","Evento/Feria","Llamada en frío","Otro"],f=["Tecnología","Retail/Comercio","Servicios financieros","Salud","Educación","Manufactura","Construcción","Turismo/Hospitalidad","Alimentaria","Automotriz","Inmobiliaria","Consultoría","Marketing/Publicidad","Logística/Transporte","Otro"],h=["Startup (1-10 empleados)","Pequeña (11-50 empleados)","Mediana (51-200 empleados)","Grande (201-1000 empleados)","Corporativo (1000+ empleados)"],m=()=>{const g={};if(c.nombre.trim()||(g.nombre="El nombre completo es requerido"),c.empresa.trim()||(g.empresa="La empresa/organización es requerida"),c.cargo.trim()||(g.cargo="El cargo/puesto es requerido"),c.telefono.trim()?/^[\+]?[0-9\s\-\(\)]+$/.test(c.telefono)||(g.telefono="El formato del teléfono no es válido"):g.telefono="El teléfono principal es requerido",c.correo.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.correo)||(g.correo="El formato del correo no es válido"):g.correo="El correo electrónico es requerido",c.origen||(g.origen="El origen del prospecto es requerido"),c.servicioInteres.trim()||(g.servicioInteres="El servicio de interés es requerido"),c.telefonoSecundario&&!/^[\+]?[0-9\s\-\(\)]+$/.test(c.telefonoSecundario)&&(g.telefonoSecundario="El formato del teléfono secundario no es válido"),c.fechaProximoSeguimiento){const x=new Date(c.fechaProximoSeguimiento),S=new Date;S.setHours(0,0,0,0),x<S&&(g.fechaProximoSeguimiento="La fecha de seguimiento no puede ser anterior a hoy")}return l(g),Object.keys(g).length===0},y=(g,x)=>{u(S=>({...S,[g]:x})),o[g]&&l(S=>({...S,[g]:""}))},v=async g=>{if(g.preventDefault(),!!m()){s(!0);try{await new Promise(S=>setTimeout(S,1e3));const x={nombre:c.nombre.trim(),telefono:c.telefono.trim(),correo:c.correo.trim(),plataforma:c.plataforma,servicioInteres:c.servicioInteres.trim(),fechaContacto:new Date,estado:c.estado,notasInternas:`
Empresa: ${c.empresa}
Cargo: ${c.cargo}
Origen: ${c.origen}
${c.telefonoSecundario?`Teléfono secundario: ${c.telefonoSecundario}`:""}
${c.direccion?`Dirección: ${c.direccion}`:""}
${c.industria?`Industria: ${c.industria}`:""}
${c.tamanoEmpresa?`Tamaño empresa: ${c.tamanoEmpresa}`:""}
Nivel de interés: ${c.nivelInteres}
${c.notasAdicionales?`Notas adicionales: ${c.notasAdicionales}`:""}
        `.trim(),responsable:c.responsable};r(x),alert("✅ Prospecto creado exitosamente"),t==null||t(),e()}catch(x){console.error("Error al crear prospecto:",x),alert("❌ Error al crear el prospecto. Intenta nuevamente.")}finally{s(!1)}}},w=g=>o[g]?i.jsxs("div",{className:"flex items-center mt-1 text-red-600 text-sm",children:[i.jsx(Ta,{className:"h-4 w-4 mr-1"}),o[g]]}):null;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl max-h-screen overflow-y-auto m-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xl font-semibold text-gray-900",children:"Crear Nuevo Prospecto"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Registra un nuevo prospecto en el sistema CRM"})]}),i.jsx("button",{type:"button",onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(qs,{className:"h-6 w-6"})})]}),i.jsxs("form",{onSubmit:v,className:"space-y-8",children:[i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx(Uc,{className:"h-5 w-5 mr-2 text-blue-600"}),"Información Obligatoria"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),i.jsx("input",{type:"text",value:c.nombre,onChange:g=>y("nombre",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.nombre?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Juan Carlos Pérez"}),w("nombre")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Empresa/Organización *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Q_,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",value:c.empresa,onChange:g=>y("empresa",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.empresa?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: TechCorp S.A."})]}),w("empresa")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo/Puesto *"}),i.jsx("input",{type:"text",value:c.cargo,onChange:g=>y("cargo",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.cargo?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Gerente de Marketing"}),w("cargo")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono principal *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Lo,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"tel",value:c.telefono,onChange:g=>y("telefono",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.telefono?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"+52 55 1234 5678"})]}),w("telefono")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrónico *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ui,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"email",value:c.correo,onChange:g=>y("correo",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.correo?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"juan@empresa.com"})]}),w("correo")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Origen del prospecto *"}),i.jsxs("select",{value:c.origen,onChange:g=>y("origen",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.origen?"border-red-300 bg-red-50":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Seleccionar origen"}),d.map(g=>i.jsx("option",{value:g,children:g},g))]}),w("origen")]})]})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx(dx,{className:"h-5 w-5 mr-2 text-green-600"}),"Información Opcional"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono secundario"}),i.jsxs("div",{className:"relative",children:[i.jsx(Lo,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"tel",value:c.telefonoSecundario,onChange:g=>y("telefonoSecundario",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.telefonoSecundario?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"+52 55 8765 4321"})]}),w("telefonoSecundario")]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Industria/Sector"}),i.jsxs("select",{value:c.industria,onChange:g=>y("industria",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar industria"}),f.map(g=>i.jsx("option",{value:g,children:g},g))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tamaño de empresa"}),i.jsxs("select",{value:c.tamanoEmpresa,onChange:g=>y("tamanoEmpresa",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar tamaño"}),h.map(g=>i.jsx("option",{value:g,children:g},g))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nivel de interés"}),i.jsxs("select",{value:c.nivelInteres,onChange:g=>y("nivelInteres",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"Alto",children:"🔥 Alto"}),i.jsx("option",{value:"Medio",children:"⚡ Medio"}),i.jsx("option",{value:"Bajo",children:"❄️ Bajo"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Dirección"}),i.jsxs("div",{className:"relative",children:[i.jsx(cx,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),i.jsx("textarea",{value:c.direccion,onChange:g=>y("direccion",g.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Dirección completa de la empresa"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),i.jsx("textarea",{value:c.notasAdicionales,onChange:g=>y("notasAdicionales",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Información adicional relevante sobre el prospecto..."})]})]})]}),i.jsxs("div",{children:[i.jsxs("h5",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[i.jsx(na,{className:"h-5 w-5 mr-2 text-purple-600"}),"Asignación y Configuración"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendedor/Ejecutivo responsable"}),i.jsxs("select",{value:c.responsable,onChange:g=>y("responsable",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar responsable"}),n.map(g=>i.jsxs("option",{value:g.id,children:[g.nombre," ",g.apellido," - ",g.email]},g.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Etapa del pipeline"}),i.jsxs("select",{value:c.estado,onChange:g=>y("estado",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"Nuevo",children:"🆕 Nuevo"}),i.jsx("option",{value:"Contactado",children:"📞 Contactado"}),i.jsx("option",{value:"En seguimiento",children:"🔄 En seguimiento"}),i.jsx("option",{value:"Cotizado",children:"📋 Cotizado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plataforma de contacto"}),i.jsxs("select",{value:c.plataforma,onChange:g=>y("plataforma",g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"WhatsApp",children:"💬 WhatsApp"}),i.jsx("option",{value:"Instagram",children:"📷 Instagram"}),i.jsx("option",{value:"Facebook",children:"📘 Facebook"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de próximo seguimiento"}),i.jsxs("div",{className:"relative",children:[i.jsx(Dn,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"date",value:c.fechaProximoSeguimiento,onChange:g=>y("fechaProximoSeguimiento",g.target.value),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.fechaProximoSeguimiento?"border-red-300 bg-red-50":"border-gray-300"}`})]}),w("fechaProximoSeguimiento")]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Servicio de interés *"}),i.jsx("input",{type:"text",value:c.servicioInteres,onChange:g=>y("servicioInteres",g.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 transition-colors ${o.servicioInteres?"border-red-300 bg-red-50":"border-gray-300"}`,placeholder:"Ej: Chatbot WhatsApp, CRM personalizado, Marketing digital..."}),w("servicioInteres")]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:e,className:"px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors font-medium",disabled:a,children:"Cancelar"}),i.jsx("button",{type:"submit",disabled:a,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Zd,{className:"h-4 w-4"}),"Crear Prospecto"]})})]})]})]})})},W$=({navigationParams:e})=>{const{prospects:t,selectProspect:r,deleteProspect:n}=ia(),{users:a}=Xd(),[s,o]=L.useState(""),[l,c]=L.useState("all"),[u,d]=L.useState("all"),[f,h]=L.useState("all"),[m,y]=L.useState(!1),[v,w]=L.useState(null);L.useEffect(()=>{if(e!=null&&e.prospectId&&(e!=null&&e.showDetail)){const T=t.find(k=>k.id===e.prospectId);T&&(r(T),e.highlightFollowup&&(w(T.id),setTimeout(()=>w(null),3e3)))}},[e,t,r]);const g=t.filter(T=>{const k=T.nombre.toLowerCase().includes(s.toLowerCase())||T.telefono.includes(s)||T.correo.toLowerCase().includes(s.toLowerCase()),D=l==="all"||T.estado===l,I=u==="all"||T.plataforma===u,R=f==="all"||T.responsable===f;return k&&D&&I&&R}),x=T=>({Nuevo:"bg-blue-100 text-blue-800",Contactado:"bg-yellow-100 text-yellow-800","En seguimiento":"bg-orange-100 text-orange-800",Cotizado:"bg-purple-100 text-purple-800","Venta cerrada":"bg-green-100 text-green-800",Perdido:"bg-red-100 text-red-800"})[T],S=T=>({WhatsApp:"💬",Instagram:"📷",Facebook:"📘"})[T],j=T=>{const k=T.replace(/[^\d+]/g,"");window.open(`https://wa.me/${k}`,"_blank")},E=()=>{console.log("Prospecto creado exitosamente")};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar por nombre, teléfono o correo...",value:s,onChange:T=>o(T.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:l,onChange:T=>c(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"Nuevo",children:"Nuevo"}),i.jsx("option",{value:"Contactado",children:"Contactado"}),i.jsx("option",{value:"En seguimiento",children:"En seguimiento"}),i.jsx("option",{value:"Cotizado",children:"Cotizado"}),i.jsx("option",{value:"Venta cerrada",children:"Venta cerrada"}),i.jsx("option",{value:"Perdido",children:"Perdido"})]}),i.jsxs("select",{value:u,onChange:T=>d(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todas las plataformas"}),i.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),i.jsx("option",{value:"Instagram",children:"Instagram"}),i.jsx("option",{value:"Facebook",children:"Facebook"})]}),i.jsxs("select",{value:f,onChange:T=>h(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los usuarios"}),a.map(T=>i.jsxs("option",{value:T.id,children:[T.nombre," ",T.apellido]},T.id))]}),i.jsxs("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Agregar Prospecto"]})]})]}),(e==null?void 0:e.highlightFollowup)&&v&&i.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"text-orange-500 text-lg",children:"⏰"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-orange-800",children:"Seguimiento pendiente"}),i.jsx("p",{className:"text-sm text-orange-700",children:'Este prospecto necesita seguimiento. Haz clic en "Ver detalles" para gestionar.'})]})]})}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",g.length," de ",t.length," prospectos"]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prospecto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contacto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Plataforma"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Último Seguimiento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:g.map(T=>i.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${v===T.id?"bg-orange-50 border-l-4 border-orange-400":""}`,children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:T.nombre}),i.jsx("div",{className:"text-sm text-gray-500",children:T.servicioInteres})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm text-gray-900",children:T.telefono}),i.jsx("div",{className:"text-sm text-gray-500",children:T.correo})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"mr-2",children:S(T.plataforma)}),i.jsx("span",{className:"text-sm text-gray-900",children:T.plataforma})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(T.estado)}`,children:T.estado})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:T.ultimoSeguimiento?it(T.ultimoSeguimiento,"dd/MM/yyyy"):"Sin seguimiento"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>r(T),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Ver detalles",children:i.jsx(ka,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>j(T.telefono),className:"text-green-600 hover:text-green-900 transition-colors",title:"Abrir WhatsApp",children:i.jsx(tu,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>window.open(`tel:${T.telefono}`),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Llamar",children:i.jsx(Lo,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>window.open(`mailto:${T.correo}`),className:"text-purple-600 hover:text-purple-900 transition-colors",title:"Enviar email",children:i.jsx(Ui,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>n(T.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar",children:i.jsx(en,{className:"h-4 w-4"})})]})})]},T.id))})]})})}),g.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(ka,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron prospectos"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros o agregar un nuevo prospecto."}),i.jsx("button",{onClick:()=>y(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar Primer Prospecto"})]}),m&&i.jsx(lP,{onClose:()=>y(!1),onSuccess:E})]})},Y$=()=>{const{selectedProspect:e,selectProspect:t,updateProspect:r,addFollowUp:n}=ia(),{users:a}=Xd(),[s,o]=L.useState(""),[l,c]=L.useState(!1);if(!e)return null;const u=()=>{s.trim()&&(n(e.id,s.trim()),o(""))},d=y=>{r(e.id,{estado:y}),c(!1)},f=y=>({Nuevo:"bg-blue-100 text-blue-800 border-blue-200",Contactado:"bg-yellow-100 text-yellow-800 border-yellow-200","En seguimiento":"bg-orange-100 text-orange-800 border-orange-200",Cotizado:"bg-purple-100 text-purple-800 border-purple-200","Venta cerrada":"bg-green-100 text-green-800 border-green-200",Perdido:"bg-red-100 text-red-800 border-red-200"})[y],h=()=>{const y=e.telefono.replace(/[^\d+]/g,"");window.open(`https://wa.me/${y}`,"_blank")},m=y=>{const v=a.find(w=>w.id===y);return v?`${v.nombre} ${v.apellido}`:y};return i.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsxs("button",{onClick:()=>t(null),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors",children:[i.jsx(Ip,{className:"h-5 w-5 mr-2"}),"Volver a la lista"]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.nombre}),i.jsx("p",{className:"text-gray-600",children:e.servicioInteres})]}),i.jsx("div",{className:"flex items-center space-x-2",children:l?i.jsxs("select",{value:e.estado,onChange:y=>d(y.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",autoFocus:!0,onBlur:()=>c(!1),children:[i.jsx("option",{value:"Nuevo",children:"Nuevo"}),i.jsx("option",{value:"Contactado",children:"Contactado"}),i.jsx("option",{value:"En seguimiento",children:"En seguimiento"}),i.jsx("option",{value:"Cotizado",children:"Cotizado"}),i.jsx("option",{value:"Venta cerrada",children:"Venta cerrada"}),i.jsx("option",{value:"Perdido",children:"Perdido"})]}):i.jsxs("button",{onClick:()=>c(!0),className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border cursor-pointer hover:opacity-80 transition-opacity ${f(e.estado)}`,children:[e.estado,i.jsx(Gn,{className:"h-3 w-3 ml-1"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Lo,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:e.telefono})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Ui,{className:"h-5 w-5 mr-2"}),i.jsx("span",{children:e.correo||"No proporcionado"})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Dn,{className:"h-5 w-5 mr-2"}),i.jsxs("span",{children:["Contacto: ",it(e.fechaContacto,"dd/MM/yyyy")]})]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Uc,{className:"h-5 w-5 mr-2"}),i.jsxs("span",{children:["Responsable: ",m(e.responsable)]})]})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:h,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center",children:[i.jsx(tu,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),i.jsxs("button",{onClick:()=>window.open(`tel:${e.telefono}`),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(Lo,{className:"h-4 w-4 mr-2"}),"Llamar"]}),i.jsxs("button",{onClick:()=>window.open(`mailto:${e.correo}`),className:"bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors flex items-center",children:[i.jsx(Ui,{className:"h-4 w-4 mr-2"}),"Email"]})]})]}),e.notasInternas&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:"Notas Internas"}),i.jsx("p",{className:"text-gray-600",children:e.notasInternas})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Timeline de Seguimiento"}),i.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[i.jsx("textarea",{value:s,onChange:y=>o(y.target.value),placeholder:"Agregar nueva nota de seguimiento...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsxs("button",{onClick:u,disabled:!s.trim(),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(cr,{className:"h-4 w-4 mr-2"}),"Agregar Seguimiento"]})})]}),i.jsx("div",{className:"space-y-4",children:e.seguimientos.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(vn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay seguimientos registrados"})]}):e.seguimientos.map((y,v)=>i.jsxs("div",{className:"flex",children:[i.jsxs("div",{className:"flex flex-col items-center mr-4",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),v<e.seguimientos.length-1&&i.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-2"})]}),i.jsxs("div",{className:"flex-1 pb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:y.usuario}),i.jsx("span",{className:"text-sm text-gray-500",children:it(y.fecha,"dd/MM/yyyy HH:mm")})]}),i.jsx("p",{className:"text-gray-700",children:y.nota})]})]},y.id))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Resumen"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Plataforma:"}),i.jsx("span",{className:"font-medium",children:e.plataforma})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Seguimientos:"}),i.jsx("span",{className:"font-medium",children:e.seguimientos.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Cotizaciones:"}),i.jsx("span",{className:"font-medium",children:e.cotizaciones.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Último contacto:"}),i.jsx("span",{className:"font-medium",children:e.ultimoSeguimiento?it(e.ultimoSeguimiento,"dd/MM"):"Nunca"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Cotizaciones"}),i.jsx("button",{className:"text-blue-600 hover:text-blue-800 transition-colors",children:i.jsx(cr,{className:"h-5 w-5"})})]}),e.cotizaciones.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:[i.jsx(Yr,{className:"h-6 w-6 mx-auto mb-2 opacity-50"}),i.jsx("p",{className:"text-sm",children:"No hay cotizaciones"})]}):i.jsx("div",{className:"space-y-3",children:e.cotizaciones.map(y=>i.jsxs("div",{className:"p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:["$",y.total.toLocaleString()]}),i.jsx("span",{className:`text-xs px-2 py-1 rounded ${y.estado==="Aceptada"?"bg-green-100 text-green-800":y.estado==="Rechazada"?"bg-red-100 text-red-800":y.estado==="Enviada"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:y.estado})]}),i.jsx("p",{className:"text-xs text-gray-500",children:it(y.fecha,"dd/MM/yyyy")})]},y.id))})]})]})]})]})},V$=()=>{const{prospects:e,updateProspect:t,selectProspect:r}=ia(),[n,a]=L.useState(null),s=["Nuevo","Contactado","En seguimiento","Cotizado","Venta cerrada","Perdido"],o=v=>({Nuevo:"bg-blue-50 border-blue-200",Contactado:"bg-yellow-50 border-yellow-200","En seguimiento":"bg-orange-50 border-orange-200",Cotizado:"bg-purple-50 border-purple-200","Venta cerrada":"bg-green-50 border-green-200",Perdido:"bg-red-50 border-red-200"})[v],l=v=>({Nuevo:"bg-blue-600",Contactado:"bg-yellow-600","En seguimiento":"bg-orange-600",Cotizado:"bg-purple-600","Venta cerrada":"bg-green-600",Perdido:"bg-red-600"})[v],c=v=>e.filter(w=>w.estado===v),u=(v,w)=>{a(w),v.dataTransfer.effectAllowed="move"},d=v=>{v.preventDefault(),v.dataTransfer.dropEffect="move"},f=(v,w)=>{v.preventDefault(),n&&n.estado!==w&&t(n.id,{estado:w}),a(null)},h=()=>{a(null)},m=v=>{const w=v.replace(/[^\d+]/g,"");window.open(`https://wa.me/${w}`,"_blank")},y=v=>({WhatsApp:"💬",Instagram:"📷",Facebook:"📘"})[v]||"📱";return i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Embudo de Ventas"}),i.jsx("p",{className:"text-gray-600",children:"Arrastra los prospectos entre las columnas para cambiar su estado"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 overflow-x-auto min-h-[600px]",children:s.map(v=>{const w=c(v);return i.jsxs("div",{className:`flex flex-col min-w-80 rounded-lg border-2 ${o(v)} transition-colors duration-200`,onDragOver:d,onDrop:g=>f(g,v),children:[i.jsx("div",{className:`${l(v)} text-white p-4 rounded-t-lg`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"font-semibold text-sm",children:v}),i.jsx("span",{className:"bg-white bg-opacity-20 text-xs px-2 py-1 rounded-full",children:w.length})]})}),i.jsxs("div",{className:"flex-1 p-3 space-y-3 min-h-32",children:[w.map(g=>i.jsxs("div",{draggable:!0,onDragStart:x=>u(x,g),onDragEnd:h,className:`bg-white rounded-lg p-4 shadow-sm border border-gray-200 cursor-move hover:shadow-md transition-shadow duration-200 ${(n==null?void 0:n.id)===g.id?"opacity-50 transform rotate-2":""}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-900 text-sm mb-1",children:g.nombre}),i.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:g.servicioInteres})]}),i.jsx("span",{className:"text-lg ml-2",children:y(g.plataforma)})]}),i.jsxs("div",{className:"space-y-1 mb-3",children:[i.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[i.jsx(Lo,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"truncate",children:g.telefono})]}),g.correo&&i.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[i.jsx(Ui,{className:"h-3 w-3 mr-1"}),i.jsx("span",{className:"truncate",children:g.correo})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Uc,{className:"h-3 w-3 mr-1"}),i.jsx("span",{children:g.responsable.split(" ")[0]})]}),i.jsx("span",{children:it(g.fechaContacto,"dd/MM")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:()=>r(g),className:"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded transition-colors",children:"Ver detalles"}),i.jsxs("button",{onClick:()=>m(g.telefono),className:"text-xs bg-green-100 hover:bg-green-200 text-green-700 px-2 py-1 rounded transition-colors flex items-center",children:[i.jsx(tu,{className:"h-3 w-3 mr-1"}),"WhatsApp"]})]}),i.jsx("div",{className:"flex justify-between mt-2 pt-2 border-t border-gray-100",children:i.jsxs("div",{className:"flex space-x-2",children:[g.seguimientos.length>0&&i.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-blue-100 text-blue-800",children:[g.seguimientos.length," seguimientos"]}),g.cotizaciones.length>0&&i.jsxs("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded-full text-xs bg-purple-100 text-purple-800",children:[g.cotizaciones.length," cotizaciones"]})]})})]},g.id)),w.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-400",children:[i.jsx("div",{className:"w-16 h-16 mx-auto mb-3 bg-gray-100 rounded-full flex items-center justify-center",children:i.jsx(Uc,{className:"h-6 w-6"})}),i.jsx("p",{className:"text-sm",children:"No hay prospectos en esta etapa"})]})]})]},v)})}),i.jsxs("div",{className:"mt-8 bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen del Embudo"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:s.map(v=>{const w=c(v).length,g=e.length>0?w/e.length*100:0;return i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`w-12 h-12 mx-auto mb-2 rounded-full ${l(v)} flex items-center justify-center`,children:i.jsx("span",{className:"text-white font-bold",children:w})}),i.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-1",children:v}),i.jsxs("p",{className:"text-xs text-gray-500",children:[g.toFixed(1),"%"]})]},v)})})]})]})},q$=()=>{const{processWebhook:e}=ia(),[t,r]=L.useState({nombre:"",telefono:"",correo:"",plataforma:"WhatsApp",servicio_interes:"",fecha_contacto:new Date().toISOString()}),[n,a]=L.useState(!1),[s,o]=L.useState(null),[l,c]=L.useState(!1),u=async m=>{m.preventDefault(),a(!0),o(null);try{await new Promise(y=>setTimeout(y,1e3)),e(t),o({success:!0,message:"Prospecto agregado exitosamente al CRM"}),r({nombre:"",telefono:"",correo:"",plataforma:"WhatsApp",servicio_interes:"",fecha_contacto:new Date().toISOString()})}catch{o({success:!1,message:"Error al procesar el webhook"})}finally{a(!1)}},d=m=>{const{name:y,value:v}=m.target;r(w=>({...w,[y]:v}))},f=`// Ejemplo de configuración para ManyChat
const webhookData = {
  "nombre": "{{user_full_name}}",
  "telefono": "{{user_phone}}",
  "correo": "{{user_email}}",
  "plataforma": "WhatsApp",
  "servicio_interes": "{{user_input}}",
  "fecha_contacto": "{{datetime}}"
};

// URL del Webhook
POST https://tu-dominio.com/api/webhook

// Headers requeridos
Content-Type: application/json
Authorization: Bearer tu-token-secreto`,h=()=>{navigator.clipboard.writeText(f)};return i.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Probador de Webhook"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Simula datos que llegarían desde tu chatbot para probar la integración"}),i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:()=>c(!l),className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[i.jsx(uF,{className:"h-4 w-4 mr-2"}),l?"Ocultar código":"Ver código de ejemplo"]})}),l&&i.jsxs("div",{className:"mb-6 bg-gray-900 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-gray-300 text-sm font-medium",children:"Configuración para ManyChat/Webhook"}),i.jsx("button",{onClick:h,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Xg,{className:"h-4 w-4"})})]}),i.jsx("pre",{className:"text-green-400 text-sm overflow-x-auto",children:i.jsx("code",{children:f})})]}),i.jsxs("form",{onSubmit:u,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"nombre",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre completo *"}),i.jsx("input",{type:"text",id:"nombre",name:"nombre",value:t.nombre,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Juan Pérez"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"telefono",className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono *"}),i.jsx("input",{type:"tel",id:"telefono",name:"telefono",value:t.telefono,onChange:d,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: +521234567890"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"correo",className:"block text-sm font-medium text-gray-700 mb-1",children:"Correo electrónico"}),i.jsx("input",{type:"email",id:"correo",name:"correo",value:t.correo,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: juan@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"plataforma",className:"block text-sm font-medium text-gray-700 mb-1",children:"Plataforma *"}),i.jsxs("select",{id:"plataforma",name:"plataforma",value:t.plataforma,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"WhatsApp",children:"WhatsApp"}),i.jsx("option",{value:"Instagram",children:"Instagram"}),i.jsx("option",{value:"Facebook",children:"Facebook"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"servicio_interes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Servicio de interés *"}),i.jsx("textarea",{id:"servicio_interes",name:"servicio_interes",value:t.servicio_interes,onChange:d,required:!0,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ej: Chatbot para WhatsApp, Automatización de ventas, etc."})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"fecha_contacto",className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de contacto"}),i.jsx("input",{type:"datetime-local",id:"fecha_contacto",name:"fecha_contacto",value:t.fecha_contacto.slice(0,16),onChange:m=>r(y=>({...y,fecha_contacto:new Date(m.target.value).toISOString()})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Procesando..."]}):i.jsxs(i.Fragment,{children:[i.jsx(ux,{className:"h-4 w-4 mr-2"}),"Enviar Datos de Prueba"]})})]}),s&&i.jsxs("div",{className:`mt-4 p-4 rounded-lg flex items-center ${s.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[s.success?i.jsx(Ai,{className:"h-5 w-5 text-green-600 mr-2"}):i.jsx(Ta,{className:"h-5 w-5 text-red-600 mr-2"}),i.jsx("span",{className:s.success?"text-green-800":"text-red-800",children:s.message})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Instrucciones de Integración"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"1. Configuración en ManyChat"}),i.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 ml-4",children:[i.jsx("li",{children:'• Ve a la sección "Automations" en ManyChat'}),i.jsx("li",{children:"• Crea un nuevo flujo o edita uno existente"}),i.jsx("li",{children:'• Agrega una acción "External Request"'}),i.jsx("li",{children:"• Configura la URL del webhook (proporcionada por tu desarrollador)"}),i.jsx("li",{children:"• Usa el método POST y agrega los campos mostrados arriba"})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"2. Variables de ManyChat"}),i.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-sm",children:[i.jsx("p",{className:"text-gray-700 mb-2",children:"Usa estas variables en tu configuración:"}),i.jsxs("ul",{className:"text-gray-600 space-y-1",children:[i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user_full_name}}"})," - Nombre del usuario"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user_phone}}"})," - Teléfono del usuario"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user_email}}"})," - Email del usuario"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{user_input}}"})," - Respuesta del usuario"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{datetime}}"})," - Fecha y hora actual"]})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"3. Seguridad"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Asegúrate de que tu webhook esté protegido con autenticación y validación de origen para evitar spam o datos maliciosos."})]})]})]})]})},G$=({onUserSelect:e,onUserEdit:t,onUserCreate:r,onImportExport:n})=>{const{user:a}=Bl(),{users:s,loading:o,error:l,filters:c,pagination:u,setFilters:d,setPagination:f,deleteUser:h,changeUserStatus:m,clearError:y}=Xd(),[v,w]=L.useState([]),g=(a==null?void 0:a.role)==="admin",x=L.useMemo(()=>{let O=s.filter(U=>{const z=U.nombre.toLowerCase().includes(c.search.toLowerCase())||U.apellido.toLowerCase().includes(c.search.toLowerCase())||U.email.toLowerCase().includes(c.search.toLowerCase())||U.departamento&&U.departamento.toLowerCase().includes(c.search.toLowerCase()),V=c.role==="all"||U.rol===c.role,q=c.status==="all"||U.estado===c.status;return z&&V&&q});return O.sort((U,z)=>{let V,q;switch(c.sortBy){case"nombre":V=`${U.nombre} ${U.apellido}`,q=`${z.nombre} ${z.apellido}`;break;case"fechaRegistro":V=U.fechaRegistro,q=z.fechaRegistro;break;case"ultimoAcceso":V=U.ultimoAcceso||new Date(0),q=z.ultimoAcceso||new Date(0);break;default:return 0}return c.sortOrder==="asc"?V>q?1:-1:V<q?1:-1}),O},[s,c]),S=L.useMemo(()=>{const O=(u.page-1)*u.limit,U=O+u.limit;return x.slice(O,U)},[x,u]),j=Math.ceil(x.length/u.limit),E=O=>({admin:"bg-red-100 text-red-800",manager:"bg-purple-100 text-purple-800",agent:"bg-blue-100 text-blue-800",viewer:"bg-gray-100 text-gray-800"})[O],T=O=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",suspended:"bg-red-100 text-red-800"})[O],k=O=>{const z={admin:$c,manager:na,agent:$1,viewer:ka}[O];return i.jsx(z,{className:"h-4 w-4"})},D=O=>{w(U=>U.includes(O)?U.filter(z=>z!==O):[...U,O])},I=()=>{v.length===S.length?w([]):w(S.map(O=>O.id))},R=async O=>{try{await Promise.all(v.map(U=>m(U,O))),w([])}catch(U){console.error("Error changing user status:",U)}},M=async O=>{if(window.confirm("¿Estás seguro de que deseas eliminar este usuario?"))try{await h(O)}catch(U){console.error("Error deleting user:",U)}},P=async(O,U)=>{const z=U==="active"?"inactive":"active";try{await m(O,z)}catch(V){console.error("Error changing user status:",V)}},F={total:s.length,active:s.filter(O=>O.estado==="active").length,pending:s.filter(O=>O.estado==="pending").length,admins:s.filter(O=>O.rol==="admin").length};return o?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Usuarios"}),i.jsx("p",{className:"text-gray-600",children:"Administra usuarios, roles y permisos del sistema"})]}),g&&i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:n,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(eg,{className:"h-4 w-4"}),"Importar/Exportar"]}),i.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nuevo Usuario"]})]})]}),l&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"text-red-600 mr-3",children:"⚠️"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),i.jsx("p",{className:"text-sm text-red-700",children:l})]})]}),i.jsx("button",{onClick:y,className:"text-red-600 hover:text-red-800",children:"✕"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Usuarios"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.total})]}),i.jsx(na,{className:"h-8 w-8 text-blue-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Usuarios Activos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.active})]}),i.jsx($1,{className:"h-8 w-8 text-green-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.pending})]}),i.jsx(vn,{className:"h-8 w-8 text-yellow-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Administradores"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.admins})]}),i.jsx($c,{className:"h-8 w-8 text-red-500"})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar por nombre, email o departamento...",value:c.search,onChange:O=>d({search:O.target.value}),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:c.role,onChange:O=>d({role:O.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los roles"}),i.jsx("option",{value:"admin",children:"Administrador"}),i.jsx("option",{value:"manager",children:"Manager"}),i.jsx("option",{value:"agent",children:"Agente"}),i.jsx("option",{value:"viewer",children:"Visualizador"})]}),i.jsxs("select",{value:c.status,onChange:O=>d({status:O.target.value}),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"active",children:"Activo"}),i.jsx("option",{value:"inactive",children:"Inactivo"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"suspended",children:"Suspendido"})]}),i.jsxs("select",{value:`${c.sortBy}-${c.sortOrder}`,onChange:O=>{const[U,z]=O.target.value.split("-");d({sortBy:U,sortOrder:z})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"fechaRegistro-desc",children:"Más recientes"}),i.jsx("option",{value:"fechaRegistro-asc",children:"Más antiguos"}),i.jsx("option",{value:"nombre-asc",children:"Nombre A-Z"}),i.jsx("option",{value:"nombre-desc",children:"Nombre Z-A"}),i.jsx("option",{value:"ultimoAcceso-desc",children:"Último acceso"})]})]})]}),v.length>0&&g&&i.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm font-medium text-blue-800",children:[v.length," usuario(s) seleccionado(s)"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>R("active"),className:"text-sm bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 transition-colors",children:"Activar"}),i.jsx("button",{onClick:()=>R("inactive"),className:"text-sm bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700 transition-colors",children:"Desactivar"}),i.jsx("button",{onClick:()=>w([]),className:"text-sm text-gray-600 hover:text-gray-800",children:"Cancelar"})]})]})})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[i.jsxs("span",{children:["Mostrando ",S.length," de ",x.length," usuarios"]}),j>1&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>f({page:u.page-1}),disabled:u.page===1,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:i.jsx(oF,{className:"h-4 w-4"})}),i.jsxs("span",{className:"px-3 py-1",children:["Página ",u.page," de ",j]}),i.jsx("button",{onClick:()=>f({page:u.page+1}),disabled:u.page===j,className:"p-2 rounded-lg border border-gray-300 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50",children:i.jsx(lF,{className:"h-4 w-4"})})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[g&&i.jsx("th",{className:"px-6 py-3 text-left",children:i.jsx("input",{type:"checkbox",checked:v.length===S.length&&S.length>0,onChange:I,className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rol"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Último Acceso"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estadísticas"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(O=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[g&&i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("input",{type:"checkbox",checked:v.includes(O.id),onChange:()=>D(O.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"h-10 w-10 flex-shrink-0",children:O.avatar?i.jsx("img",{className:"h-10 w-10 rounded-full",src:O.avatar,alt:""}):i.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-300 flex items-center justify-center",children:i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[O.nombre.charAt(0),O.apellido.charAt(0)]})})}),i.jsxs("div",{className:"ml-4",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[O.nombre," ",O.apellido]}),i.jsx("div",{className:"text-sm text-gray-500",children:O.email}),O.departamento&&i.jsx("div",{className:"text-xs text-gray-400",children:O.departamento})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full gap-1 ${E(O.rol)}`,children:[k(O.rol),O.rol]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${T(O.estado)}`,children:O.estado})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:O.ultimoAcceso?i.jsxs("div",{children:[i.jsx("div",{children:it(O.ultimoAcceso,"dd/MM/yyyy")}),i.jsx("div",{className:"text-xs",children:it(O.ultimoAcceso,"HH:mm")})]}):"Nunca"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X_,{className:"h-3 w-3"}),i.jsxs("span",{children:[O.estadisticas.prospectosManagedos," prospectos"]})]}),i.jsxs("div",{className:"text-xs text-gray-400",children:[O.estadisticas.cotizacionesCreadas," cotizaciones"]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>e(O.id),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Ver perfil",children:i.jsx(ka,{className:"h-4 w-4"})}),(g||(a==null?void 0:a.id)===O.id)&&i.jsx("button",{onClick:()=>t(O.id),className:"text-green-600 hover:text-green-900 transition-colors",title:"Editar usuario",children:i.jsx(Gn,{className:"h-4 w-4"})}),g&&(a==null?void 0:a.id)!==O.id&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>P(O.id,O.estado),className:`transition-colors ${O.estado==="active"?"text-orange-600 hover:text-orange-900":"text-green-600 hover:text-green-900"}`,title:O.estado==="active"?"Desactivar":"Activar",children:O.estado==="active"?i.jsx(PF,{className:"h-4 w-4"}):i.jsx($1,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>M(O.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar usuario",children:i.jsx(en,{className:"h-4 w-4"})})]})]})})]},O.id))})]})})}),x.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(na,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron usuarios"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros o crear nuevos usuarios."}),g&&i.jsx("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Crear Primer Usuario"})]})]})},K$=({userId:e,onClose:t,onEdit:r})=>{const{user:n}=Bl(),{users:a}=Xd(),{getProspectsByUser:s}=ia(),[o,l]=L.useState(null),[c,u]=L.useState([]);if(L.useEffect(()=>{const v=a.find(g=>g.id===e);l(v||null);const w=v?s(v.id):[];u(w)},[e,a,s]),!o)return i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Usuario no encontrado"}),i.jsx("button",{onClick:t,className:"text-blue-600 hover:text-blue-800",children:"Volver a la lista"})]})});const d=(n==null?void 0:n.id)===o.id,f=(n==null?void 0:n.role)==="admin"||d,h=v=>({admin:"bg-red-100 text-red-800",manager:"bg-purple-100 text-purple-800",agent:"bg-blue-100 text-blue-800",viewer:"bg-gray-100 text-gray-800"})[v]||"bg-gray-100 text-gray-800",m=v=>({active:"bg-green-100 text-green-800",inactive:"bg-gray-100 text-gray-800",pending:"bg-yellow-100 text-yellow-800",suspended:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",y=v=>v.includes("login")||v.includes("sesión")?i.jsx(X_,{className:"h-4 w-4 text-green-500"}):v.includes("create")||v.includes("creó")?i.jsx(Yr,{className:"h-4 w-4 text-blue-500"}):v.includes("update")||v.includes("actualizó")?i.jsx(Gn,{className:"h-4 w-4 text-orange-500"}):v.includes("delete")||v.includes("eliminó")?i.jsx(na,{className:"h-4 w-4 text-red-500"}):i.jsx(vn,{className:"h-4 w-4 text-gray-500"});return i.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:[i.jsx(Ip,{className:"h-5 w-5 mr-2"}),"Volver"]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Perfil de Usuario"}),i.jsx("p",{className:"text-gray-600",children:d?"Tu perfil personal":`Perfil de ${o.nombre} ${o.apellido}`})]})]}),f&&i.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Gn,{className:"h-4 w-4"}),"Editar Perfil"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Información Personal"}),i.jsxs("div",{className:"flex items-start space-x-6 mb-6",children:[i.jsx("div",{className:"relative",children:o.avatar?i.jsx("img",{className:"h-20 w-20 rounded-full",src:o.avatar,alt:""}):i.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-300 flex items-center justify-center",children:i.jsxs("span",{className:"text-xl font-medium text-gray-700",children:[o.nombre.charAt(0),o.apellido.charAt(0)]})})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${h(o.rol)}`,children:o.rol}),i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(o.estado)}`,children:o.estado})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Miembro desde ",it(o.fechaRegistro,"dd/MM/yyyy")]}),o.ultimoAcceso&&i.jsxs("p",{className:"text-sm text-gray-500",children:["Último acceso: ",it(o.ultimoAcceso,"dd/MM/yyyy HH:mm")]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre Completo"}),i.jsxs("p",{className:"text-gray-900",children:[o.nombre," ",o.apellido]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ui,{className:"h-4 w-4 text-gray-400 mr-2"}),i.jsx("p",{className:"text-gray-900",children:o.email})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Teléfono"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Lo,{className:"h-4 w-4 text-gray-400 mr-2"}),i.jsx("p",{className:"text-gray-900",children:o.telefono||"No especificado"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Departamento"}),i.jsx("p",{className:"text-gray-900",children:o.departamento||"No especificado"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cargo"}),i.jsx("p",{className:"text-gray-900",children:o.cargo||"No especificado"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Prospectos Asignados (",c.length,")"]}),c.length>0?i.jsxs("div",{className:"space-y-3",children:[c.slice(0,5).map(v=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:v.nombre}),i.jsx("p",{className:"text-sm text-gray-600",children:v.correo}),i.jsx("p",{className:"text-xs text-gray-500",children:v.servicioInteres})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${v.estado==="Nuevo"?"bg-blue-100 text-blue-800":v.estado==="Contactado"?"bg-yellow-100 text-yellow-800":v.estado==="En seguimiento"?"bg-orange-100 text-orange-800":v.estado==="Cotizado"?"bg-purple-100 text-purple-800":v.estado==="Venta cerrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:v.estado}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:it(v.fechaContacto,"dd/MM/yyyy")})]})]},v.id)),c.length>5&&i.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["... y ",c.length-5," prospectos más"]})]}):i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay prospectos asignados a este usuario"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historial de Actividad"}),i.jsx("div",{className:"space-y-4",children:o.historialActividad.slice(0,10).map(v=>i.jsxs("div",{className:"flex items-start space-x-3 p-3 hover:bg-gray-50 rounded-lg",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:y(v.accion)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.accion}),i.jsx("p",{className:"text-sm text-gray-600",children:v.detalles}),i.jsxs("div",{className:"flex items-center mt-1 text-xs text-gray-500",children:[i.jsx("span",{children:it(v.fecha,"dd/MM/yyyy HH:mm")}),i.jsx("span",{className:"mx-2",children:"•"}),i.jsx("span",{children:v.modulo}),v.ip&&i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"mx-2",children:"•"}),i.jsxs("span",{children:["IP: ",v.ip]})]})]})]})]},v.id))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estadísticas"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(na,{className:"h-5 w-5 text-blue-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Prospectos"})]}),i.jsx("span",{className:"font-semibold text-gray-900",children:o.estadisticas.prospectosManagedos})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Yr,{className:"h-5 w-5 text-green-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Cotizaciones"})]}),i.jsx("span",{className:"font-semibold text-gray-900",children:o.estadisticas.cotizacionesCreadas})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(Ws,{className:"h-5 w-5 text-purple-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Ventas"})]}),i.jsx("span",{className:"font-semibold text-gray-900",children:o.estadisticas.ventasCerradas})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(vn,{className:"h-5 w-5 text-orange-500 mr-2"}),i.jsx("span",{className:"text-gray-700",children:"Conversión"})]}),i.jsxs("span",{className:"font-semibold text-gray-900",children:[o.estadisticas.tasaConversion.toFixed(1),"%"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Permisos y Accesos"}),i.jsx("div",{className:"space-y-3",children:o.permisos.map((v,w)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900 capitalize",children:v.modulo}),i.jsx("p",{className:"text-sm text-gray-600",children:v.acciones.join(", ")})]}),i.jsx($c,{className:"h-5 w-5 text-gray-400"})]},w))})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuración"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700",children:"Idioma"}),i.jsx("span",{className:"text-gray-900",children:o.configuracion.idioma})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700",children:"Zona horaria"}),i.jsx("span",{className:"text-gray-900",children:o.configuracion.timezone})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700",children:"Tema"}),i.jsx("span",{className:"text-gray-900",children:o.configuracion.tema})]}),i.jsxs("div",{className:"pt-2 border-t",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Notificaciones"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Email"}),i.jsx("span",{className:o.configuracion.notificaciones.email?"text-green-600":"text-red-600",children:o.configuracion.notificaciones.email?"Activado":"Desactivado"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Push"}),i.jsx("span",{className:o.configuracion.notificaciones.push?"text-green-600":"text-red-600",children:o.configuracion.notificaciones.push?"Activado":"Desactivado"})]})]})]})]})]})]})]})]})},X$=({user:e,onClose:t,onSave:r,isInvitation:n=!1})=>{const a=L.useRef(null),[s,o]=L.useState(!1),[l,c]=L.useState({}),[u,d]=L.useState(!1),[f,h]=L.useState(!1),[m,y]=L.useState("basic"),[v,w]=L.useState([{id:"1",label:"Número de Empleado",type:"text",required:!1},{id:"2",label:"Fecha de Contratación",type:"date",required:!1},{id:"3",label:"Supervisor",type:"text",required:!1}]),[g,x]=L.useState({nombre:(e==null?void 0:e.nombre)||"",apellido:(e==null?void 0:e.apellido)||"",email:(e==null?void 0:e.email)||"",telefono:(e==null?void 0:e.telefono)||"",empleadoId:"",password:"",confirmPassword:"",rol:(e==null?void 0:e.rol)||"agent",estado:(e==null?void 0:e.estado)||"active",departamento:(e==null?void 0:e.departamento)||"",cargo:(e==null?void 0:e.cargo)||"",direccion:{calle:"",ciudad:"",estado:"",codigoPostal:"",pais:"México"},fechaExpiracion:void 0,avatar:e==null?void 0:e.avatar,camposPersonalizados:{},permisos:(e==null?void 0:e.permisos)||[]});L.useEffect(()=>{e&&x(P=>({...P,nombre:e.nombre,apellido:e.apellido,email:e.email,telefono:e.telefono||"",rol:e.rol,estado:e.estado,departamento:e.departamento||"",cargo:e.cargo||"",avatar:e.avatar,permisos:e.permisos}))},[e]);const S=()=>{const P={};return g.nombre.trim()||(P.nombre="El nombre es requerido"),g.apellido.trim()||(P.apellido="El apellido es requerido"),g.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)||(P.email="Formato de email inválido"):P.email="El email es requerido",(!e||g.password)&&(g.password?g.password.length<6&&(P.password="La contraseña debe tener al menos 6 caracteres"):P.password="La contraseña es requerida",g.password!==g.confirmPassword&&(P.confirmPassword="Las contraseñas no coinciden")),g.telefono&&!/^\+?[\d\s\-\(\)]+$/.test(g.telefono)&&(P.telefono="Formato de teléfono inválido"),v.forEach(F=>{F.required&&!g.camposPersonalizados[F.id]&&(P[`custom_${F.id}`]=`${F.label} es requerido`)}),c(P),Object.keys(P).length===0},j=async P=>{if(P.preventDefault(),console.log("Form submitted with data:",g),!S()){console.log("Form validation failed:",l);return}o(!0);try{const F={nombre:g.nombre.trim(),apellido:g.apellido.trim(),email:g.email.trim().toLowerCase(),telefono:g.telefono.trim()||void 0,rol:g.rol,estado:g.estado,departamento:g.departamento.trim()||void 0,cargo:g.cargo.trim()||void 0,avatar:g.avatar,permisos:I(g.rol)};console.log("Calling onSave with userData:",F);const O=!e&&g.password?g.password:void 0;await r(F,O),console.log("User saved successfully")}catch(F){console.error("Error saving user:",F),c({general:F instanceof Error?F.message:"Error al guardar el usuario"})}finally{o(!1)}},E=P=>{var O;const F=(O=P.target.files)==null?void 0:O[0];if(F){const U=new FileReader;U.onload=z=>{x(V=>{var q;return{...V,avatar:(q=z.target)==null?void 0:q.result}})},U.readAsDataURL(F)}},T=()=>{const P={id:Date.now().toString(),label:"Nuevo Campo",type:"text",required:!1};w(F=>[...F,P])},k=(P,F)=>{w(O=>O.map(U=>U.id===P?{...U,...F}:U))},D=P=>{w(F=>F.filter(O=>O.id!==P)),x(F=>{const O={...F.camposPersonalizados};return delete O[P],{...F,camposPersonalizados:O}})},I=P=>{const F={admin:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","delete","approve"]},{modulo:"products",acciones:["view","create","edit","delete"]},{modulo:"users",acciones:["view","create","edit","delete","invite"]},{modulo:"reports",acciones:["view","export"]},{modulo:"settings",acciones:["view","edit"]}],manager:[{modulo:"prospects",acciones:["view","create","edit","delete"]},{modulo:"quotes",acciones:["view","create","edit","approve"]},{modulo:"products",acciones:["view","create","edit"]},{modulo:"users",acciones:["view","invite"]},{modulo:"reports",acciones:["view","export"]}],agent:[{modulo:"prospects",acciones:["view","create","edit"]},{modulo:"quotes",acciones:["view","create","edit"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}],viewer:[{modulo:"prospects",acciones:["view"]},{modulo:"quotes",acciones:["view"]},{modulo:"products",acciones:["view"]},{modulo:"reports",acciones:["view"]}]};return F[P]||F.viewer},R=P=>{x(F=>({...F,rol:P,permisos:I(P)}))},M=[{id:"basic",label:"Información Básica",icon:Uc},{id:"role",label:"Rol y Permisos",icon:$c},{id:"address",label:"Dirección",icon:cx},{id:"custom",label:"Campos Personalizados",icon:cr}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-4 text-white flex-shrink-0",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:e?"Editar Usuario":n?"Invitar Usuario":"Nuevo Usuario"}),i.jsx("p",{className:"text-blue-100 text-sm",children:e?"Actualiza la información del usuario":"Completa los datos del nuevo usuario"})]}),i.jsx("button",{onClick:t,className:"text-white hover:text-blue-200 transition-colors",children:i.jsx(qs,{className:"h-6 w-6"})})]})}),i.jsx("div",{className:"border-b border-gray-200 bg-gray-50 flex-shrink-0",children:i.jsx("nav",{className:"flex space-x-8 px-6",children:M.map(P=>{const F=P.icon;return i.jsxs("button",{onClick:()=>y(P.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${m===P.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(F,{className:"h-4 w-4"}),P.label]},P.id)})})}),i.jsxs("form",{onSubmit:j,className:"flex flex-col flex-1 min-h-0",children:[i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[l.general&&i.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[i.jsx(Ta,{className:"h-5 w-5 text-red-500 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Error"}),i.jsx("p",{className:"text-sm text-red-700 mt-1",children:l.general})]})]}),m==="basic"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center space-x-6",children:[i.jsxs("div",{className:"relative",children:[g.avatar?i.jsx("img",{src:g.avatar,alt:"Profile",className:"h-20 w-20 rounded-full object-cover border-4 border-gray-200"}):i.jsx("div",{className:"h-20 w-20 rounded-full bg-gray-300 flex items-center justify-center border-4 border-gray-200",children:i.jsx(Uc,{className:"h-8 w-8 text-gray-600"})}),i.jsx("button",{type:"button",onClick:()=>{var P;return(P=a.current)==null?void 0:P.click()},className:"absolute -bottom-1 -right-1 bg-blue-600 text-white p-2 rounded-full hover:bg-blue-700 transition-colors",children:i.jsx(iF,{className:"h-3 w-3"})}),i.jsx("input",{ref:a,type:"file",accept:"image/*",onChange:E,className:"hidden"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Foto de Perfil"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Sube una imagen para el perfil del usuario. Formatos: JPG, PNG (máx. 5MB)"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre *"}),i.jsx("input",{type:"text",value:g.nombre,onChange:P=>x(F=>({...F,nombre:P.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${l.nombre?"border-red-500":"border-gray-300"}`,placeholder:"Ingresa el nombre"}),l.nombre&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Ta,{className:"h-4 w-4"}),l.nombre]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Apellido *"}),i.jsx("input",{type:"text",value:g.apellido,onChange:P=>x(F=>({...F,apellido:P.target.value})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${l.apellido?"border-red-500":"border-gray-300"}`,placeholder:"Ingresa el apellido"}),l.apellido&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Ta,{className:"h-4 w-4"}),l.apellido]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo Electrónico *"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ui,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"email",value:g.email,onChange:P=>x(F=>({...F,email:P.target.value})),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${l.email?"border-red-500":"border-gray-300"}`,placeholder:"usuario@empresa.com"})]}),l.email&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Ta,{className:"h-4 w-4"}),l.email]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Teléfono"}),i.jsxs("div",{className:"relative",children:[i.jsx(Lo,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"tel",value:g.telefono,onChange:P=>x(F=>({...F,telefono:P.target.value})),className:`w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${l.telefono?"border-red-500":"border-gray-300"}`,placeholder:"+52 55 1234 5678"})]}),l.telefono&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Ta,{className:"h-4 w-4"}),l.telefono]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Departamento"}),i.jsxs("div",{className:"relative",children:[i.jsx(Q_,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsxs("select",{value:g.departamento,onChange:P=>x(F=>({...F,departamento:P.target.value})),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[i.jsx("option",{value:"",children:"Seleccionar departamento"}),i.jsx("option",{value:"Ventas",children:"Ventas"}),i.jsx("option",{value:"Marketing",children:"Marketing"}),i.jsx("option",{value:"Soporte",children:"Soporte"}),i.jsx("option",{value:"Administración",children:"Administración"}),i.jsx("option",{value:"Desarrollo",children:"Desarrollo"}),i.jsx("option",{value:"Recursos Humanos",children:"Recursos Humanos"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cargo"}),i.jsx("input",{type:"text",value:g.cargo,onChange:P=>x(F=>({...F,cargo:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ejecutivo de Ventas"})]})]}),!e&&i.jsxs("div",{className:"border-t pt-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Credenciales de Acceso"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contraseña *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:u?"text":"password",value:g.password,onChange:P=>x(F=>({...F,password:P.target.value})),className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${l.password?"border-red-500":"border-gray-300"}`,placeholder:"Mínimo 6 caracteres"}),i.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:u?i.jsx(Qg,{className:"h-4 w-4"}):i.jsx(ka,{className:"h-4 w-4"})})]}),l.password&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Ta,{className:"h-4 w-4"}),l.password]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Contraseña *"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:f?"text":"password",value:g.confirmPassword,onChange:P=>x(F=>({...F,confirmPassword:P.target.value})),className:`w-full px-3 py-2 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${l.confirmPassword?"border-red-500":"border-gray-300"}`,placeholder:"Repite la contraseña"}),i.jsx("button",{type:"button",onClick:()=>h(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?i.jsx(Qg,{className:"h-4 w-4"}):i.jsx(ka,{className:"h-4 w-4"})})]}),l.confirmPassword&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Ta,{className:"h-4 w-4"}),l.confirmPassword]})]})]})]})]}),m==="role"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rol del Usuario *"}),i.jsxs("select",{value:g.rol,onChange:P=>R(P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[i.jsx("option",{value:"viewer",children:"Visualizador"}),i.jsx("option",{value:"agent",children:"Agente"}),i.jsx("option",{value:"manager",children:"Manager"}),i.jsx("option",{value:"admin",children:"Administrador"})]}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"El rol determina los permisos base del usuario"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado de la Cuenta"}),i.jsxs("select",{value:g.estado,onChange:P=>x(F=>({...F,estado:P.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[i.jsx("option",{value:"active",children:"Activo"}),i.jsx("option",{value:"inactive",children:"Inactivo"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"suspended",children:"Suspendido"})]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Permisos del Sistema"}),i.jsx("div",{className:"space-y-4",children:I(g.rol).map((P,F)=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-gray-900 capitalize",children:P.modulo}),i.jsx($c,{className:"h-5 w-5 text-gray-400"})]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:P.acciones.map((O,U)=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:O},U))})]},F))})]})]}),m==="address"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Información de Dirección"}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dirección"}),i.jsx("input",{type:"text",value:g.direccion.calle,onChange:P=>x(F=>({...F,direccion:{...F.direccion,calle:P.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Calle, número, colonia"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ciudad"}),i.jsx("input",{type:"text",value:g.direccion.ciudad,onChange:P=>x(F=>({...F,direccion:{...F.direccion,ciudad:P.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Ciudad"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estado/Provincia"}),i.jsx("input",{type:"text",value:g.direccion.estado,onChange:P=>x(F=>({...F,direccion:{...F.direccion,estado:P.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Estado o Provincia"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Código Postal"}),i.jsx("input",{type:"text",value:g.direccion.codigoPostal,onChange:P=>x(F=>({...F,direccion:{...F.direccion,codigoPostal:P.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"12345"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"País"}),i.jsxs("select",{value:g.direccion.pais,onChange:P=>x(F=>({...F,direccion:{...F.direccion,pais:P.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[i.jsx("option",{value:"México",children:"México"}),i.jsx("option",{value:"Estados Unidos",children:"Estados Unidos"}),i.jsx("option",{value:"Canadá",children:"Canadá"}),i.jsx("option",{value:"España",children:"España"}),i.jsx("option",{value:"Argentina",children:"Argentina"}),i.jsx("option",{value:"Colombia",children:"Colombia"}),i.jsx("option",{value:"Chile",children:"Chile"}),i.jsx("option",{value:"Perú",children:"Perú"})]})]})]})]})]}),m==="custom"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Campos Personalizados"}),i.jsxs("button",{type:"button",onClick:T,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Agregar Campo"]})]}),i.jsx("div",{className:"space-y-4",children:v.map(P=>{var F;return i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("input",{type:"text",value:P.label,onChange:O=>k(P.id,{label:O.target.value}),className:"px-3 py-1 border border-gray-300 rounded text-sm font-medium",placeholder:"Nombre del campo"}),i.jsxs("select",{value:P.type,onChange:O=>k(P.id,{type:O.target.value}),className:"px-3 py-1 border border-gray-300 rounded text-sm",children:[i.jsx("option",{value:"text",children:"Texto"}),i.jsx("option",{value:"number",children:"Número"}),i.jsx("option",{value:"date",children:"Fecha"}),i.jsx("option",{value:"select",children:"Selección"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:P.required,onChange:O=>k(P.id,{required:O.target.checked}),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),"Requerido"]})]}),i.jsx("button",{type:"button",onClick:()=>D(P.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(en,{className:"h-4 w-4"})})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[P.label,P.required&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),P.type==="select"?i.jsxs("select",{value:g.camposPersonalizados[P.id]||"",onChange:O=>x(U=>({...U,camposPersonalizados:{...U.camposPersonalizados,[P.id]:O.target.value}})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${l[`custom_${P.id}`]?"border-red-500":"border-gray-300"}`,children:[i.jsx("option",{value:"",children:"Seleccionar opción"}),(F=P.options)==null?void 0:F.map((O,U)=>i.jsx("option",{value:O,children:O},U))]}):i.jsx("input",{type:P.type,value:g.camposPersonalizados[P.id]||"",onChange:O=>x(U=>({...U,camposPersonalizados:{...U.camposPersonalizados,[P.id]:O.target.value}})),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${l[`custom_${P.id}`]?"border-red-500":"border-gray-300"}`,placeholder:`Ingresa ${P.label.toLowerCase()}`}),l[`custom_${P.id}`]&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[i.jsx(Ta,{className:"h-4 w-4"}),l[`custom_${P.id}`]]})]})]},P.id)})}),v.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(cr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No hay campos personalizados configurados"}),i.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Campo" para crear uno'})]})]})]}),i.jsxs("div",{className:"border-t bg-gray-50 px-6 py-4 flex items-center justify-between flex-shrink-0",children:[i.jsx("div",{className:"text-sm text-gray-500",children:"* Campos requeridos"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"button",onClick:t,disabled:s,className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:s,className:"bg-blue-600 text-white px-8 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed min-w-[140px] justify-center",children:[s?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(Zd,{className:"h-4 w-4"}),s?"Guardando...":e?"Actualizar":"Crear Usuario"]})]})]})]})]})})},Q$=({onImport:e,onExport:t,onClose:r})=>{const n=L.useRef(null),[a,s]=L.useState("import"),[o,l]=L.useState(!1),[c,u]=L.useState([]),[d,f]=L.useState([]),[h,m]=L.useState([]),[y,v]=L.useState([]),[w,g]=L.useState([]),[x,S]=L.useState(!1),[j,E]=L.useState({roles:[],statuses:[],dateRange:{start:"",end:""},includeFields:{basic:!0,contact:!0,role:!0,address:!1,activity:!1,statistics:!0}}),T=[{key:"nombre",label:"Nombre",required:!0},{key:"apellido",label:"Apellido",required:!0},{key:"email",label:"Email",required:!0},{key:"rol",label:"Rol",required:!0}],k=[{key:"telefono",label:"Teléfono",required:!1},{key:"departamento",label:"Departamento",required:!1},{key:"cargo",label:"Cargo",required:!1}],D=[...T,...k],I=L.useCallback(z=>{var re;const V=(re=z.target.files)==null?void 0:re[0];if(!V)return;const q=new FileReader;q.onload=oe=>{var le;try{const $=((le=oe.target)==null?void 0:le.result).split(`
`).filter(X=>X.trim());if($.length===0){alert("El archivo está vacío");return}const Y=$[0].split(",").map(X=>X.trim().replace(/"/g,"")),W=$.slice(1).map((X,Z)=>{const ne=X.split(",").map(me=>me.trim().replace(/"/g,"")),ie={_rowNumber:Z+2};return Y.forEach((me,xe)=>{ie[me]=ne[xe]||""}),ie});v(Y),u(W),g(Y.map(X=>({csvColumn:X,userField:"",required:!1}))),S(!0),f([]),m([])}catch{alert("Error al leer el archivo. Asegúrate de que sea un CSV válido.")}},q.readAsText(V)},[]),R=(z,V)=>{g(q=>q.map(re=>re.csvColumn===z?{...re,userField:V,required:T.some(oe=>oe.key===V)}:re))},M=()=>{const z=[],V=new Set;return c.forEach((q,re)=>{const oe=q._rowNumber||re+2;T.forEach(Y=>{const W=w.find(Z=>Z.userField===Y.key);if(!W||!W.csvColumn){z.push({row:oe,field:Y.key,message:`Campo requerido no mapeado: ${Y.label}`,value:""});return}const X=q[W.csvColumn];(!X||X.trim()==="")&&z.push({row:oe,field:Y.key,message:`${Y.label} es requerido`,value:X||""})});const le=w.find(Y=>Y.userField==="email");if(le){const Y=q[le.csvColumn];Y&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y)?V.has(Y.toLowerCase())?z.push({row:oe,field:"email",message:"Email duplicado en el archivo",value:Y}):V.add(Y.toLowerCase()):z.push({row:oe,field:"email",message:"Formato de email inválido",value:Y}))}const _=w.find(Y=>Y.userField==="rol");if(_){const Y=q[_.csvColumn];Y&&!["admin","manager","agent","viewer"].includes(Y.toLowerCase())&&z.push({row:oe,field:"rol",message:"Rol inválido. Debe ser: admin, manager, agent, o viewer",value:Y})}const $=w.find(Y=>Y.userField==="telefono");if($){const Y=q[$.csvColumn];Y&&!/^\+?[\d\s\-\(\)]+$/.test(Y)&&z.push({row:oe,field:"telefono",message:"Formato de teléfono inválido",value:Y})}}),z},P=async()=>{const z=M();if(f(z),!(z.length>0)){l(!0);try{const V=c.map(re=>{const oe={};return w.forEach(le=>{if(le.userField&&le.csvColumn){let _=re[le.csvColumn];le.userField==="rol"&&(_=_.toLowerCase()),oe[le.userField]=_}}),oe}),q=await e(V);m(q),S(!1)}catch(V){console.error("Error importing users:",V),alert("Error al importar usuarios. Intenta nuevamente.")}finally{l(!1)}}},F=()=>{const z=D.map(_=>_.label),V=["Juan,Pérez,juan.perez@empresa.com,agent,+52 55 1234 5678,Ventas,Ejecutivo de Ventas","María,García,maria.garcia@empresa.com,manager,+52 55 8765 4321,Marketing,Gerente de Marketing"],q=[z.join(","),...V].join(`
`),re=new Blob([q],{type:"text/csv"}),oe=window.URL.createObjectURL(re),le=document.createElement("a");le.href=oe,le.download="plantilla_usuarios.csv",le.click(),window.URL.revokeObjectURL(oe)},O=async()=>{l(!0);try{const z=await t(),V=new Blob([z],{type:"text/csv"}),q=window.URL.createObjectURL(V),re=document.createElement("a");re.href=q,re.download=`usuarios_export_${new Date().toISOString().split("T")[0]}.csv`,re.click(),window.URL.revokeObjectURL(q)}catch(z){console.error("Error exporting users:",z),alert("Error al exportar usuarios. Intenta nuevamente.")}finally{l(!1)}},U=()=>{u([]),f([]),m([]),v([]),g([]),S(!1),n.current&&(n.current.value="")};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-green-600 to-blue-600 px-6 py-4 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold",children:"Importar/Exportar Usuarios"}),i.jsx("p",{className:"text-green-100 text-sm",children:"Gestiona usuarios de forma masiva con archivos CSV y Excel"})]}),i.jsx("button",{onClick:r,className:"text-white hover:text-green-200 transition-colors",children:i.jsx(qs,{className:"h-6 w-6"})})]})}),i.jsx("div",{className:"border-b border-gray-200 bg-gray-50",children:i.jsx("nav",{className:"flex space-x-8 px-6",children:[{id:"import",label:"Importar Usuarios",icon:eg},{id:"export",label:"Exportar Usuarios",icon:fs}].map(z=>{const V=z.icon;return i.jsxs("button",{onClick:()=>s(z.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${a===z.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(V,{className:"h-4 w-4"}),z.label]},z.id)})})}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a==="import"&&i.jsx("div",{className:"space-y-6",children:x?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Mapeo de Campos"}),i.jsxs("button",{onClick:U,className:"text-gray-600 hover:text-gray-800 transition-colors flex items-center gap-2",children:[i.jsx(w4,{className:"h-4 w-4"}),"Reiniciar"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:y.map((z,V)=>{var q;return i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:['Columna CSV: "',z,'"']}),i.jsxs("select",{value:((q=w[V])==null?void 0:q.userField)||"",onChange:re=>R(z,re.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"No mapear"}),D.map(re=>i.jsxs("option",{value:re.key,children:[re.label," ",re.required&&"*"]},re.key))]})]})},V)})})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Vista Previa (",c.length," registros)"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Fila"}),w.filter(z=>z.userField).map((z,V)=>{var q,re;return i.jsxs("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:[(q=D.find(oe=>oe.key===z.userField))==null?void 0:q.label,((re=D.find(oe=>oe.key===z.userField))==null?void 0:re.required)&&i.jsx("span",{className:"text-red-500 ml-1",children:"*"})]},V)})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.slice(0,5).map((z,V)=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z._rowNumber||V+2}),w.filter(q=>q.userField).map((q,re)=>i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:z[q.csvColumn]||"-"},re))]},V))})]})}),c.length>5&&i.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["... y ",c.length-5," registros más"]})]}),d.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ta,{className:"h-5 w-5 text-red-600"}),i.jsxs("h4",{className:"font-medium text-red-900",children:["Errores de validación (",d.length,")"]})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:d.map((z,V)=>i.jsxs("div",{className:"text-sm text-red-800 bg-red-100 px-3 py-2 rounded",children:[i.jsxs("strong",{children:["Fila ",z.row,":"]})," ",z.message,z.value&&i.jsxs("span",{className:"ml-2 text-red-600",children:['("',z.value,'")']})]},V))})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[c.length," registros listos para importar"]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:U,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:P,disabled:o||d.length>0,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(eg,{className:"h-4 w-4"}),"Importar Usuarios"]})]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 hover:border-blue-400 transition-colors",children:[i.jsx(eg,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Subir archivo de usuarios"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"Arrastra y suelta tu archivo CSV o haz clic para seleccionar"}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsxs("button",{onClick:()=>{var z;return(z=n.current)==null?void 0:z.click()},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Yr,{className:"h-4 w-4"}),"Seleccionar Archivo"]}),i.jsxs("button",{onClick:F,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(fs,{className:"h-4 w-4"}),"Descargar Plantilla"]})]}),i.jsx("input",{ref:n,type:"file",accept:".csv,.xlsx,.xls",onChange:I,className:"hidden"})]})}),i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[i.jsxs("h4",{className:"font-medium text-blue-900 mb-3 flex items-center gap-2",children:[i.jsx(hF,{className:"h-5 w-5"}),"Instrucciones para la importación"]}),i.jsxs("div",{className:"space-y-2 text-sm text-blue-800",children:[i.jsx("p",{children:"• El archivo debe estar en formato CSV con codificación UTF-8"}),i.jsx("p",{children:"• La primera fila debe contener los encabezados de las columnas"}),i.jsx("p",{children:"• Los campos requeridos son: Nombre, Apellido, Email y Rol"}),i.jsx("p",{children:"• Los roles válidos son: admin, manager, agent, viewer"}),i.jsx("p",{children:"• Los emails deben ser únicos y tener formato válido"}),i.jsx("p",{children:"• Descarga la plantilla para ver el formato correcto"})]})]}),h.length>0&&i.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Ai,{className:"h-5 w-5 text-green-600"}),i.jsx("h4",{className:"font-medium text-green-900",children:"Importación completada exitosamente"})]}),i.jsxs("p",{className:"text-green-800 text-sm mb-3",children:["Se importaron ",h.length," usuarios correctamente:"]}),i.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:h.map((z,V)=>i.jsxs("div",{className:"text-sm text-green-700 bg-green-100 px-3 py-1 rounded",children:[z.nombre," ",z.apellido," (",z.email,")"]},V))}),i.jsxs("button",{onClick:U,className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(w4,{className:"h-4 w-4"}),"Importar más usuarios"]})]})]})}),a==="export"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(Z_,{className:"h-5 w-5"}),"Filtros de Exportación"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Roles a incluir"}),i.jsx("div",{className:"space-y-2",children:[{value:"admin",label:"Administrador"},{value:"manager",label:"Manager"},{value:"agent",label:"Agente"},{value:"viewer",label:"Visualizador"}].map(z=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:j.roles.includes(z.value),onChange:V=>{V.target.checked?E(q=>({...q,roles:[...q.roles,z.value]})):E(q=>({...q,roles:q.roles.filter(re=>re!==z.value)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),z.label]},z.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estados a incluir"}),i.jsx("div",{className:"space-y-2",children:[{value:"active",label:"Activo"},{value:"inactive",label:"Inactivo"},{value:"pending",label:"Pendiente"},{value:"suspended",label:"Suspendido"}].map(z=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:j.statuses.includes(z.value),onChange:V=>{V.target.checked?E(q=>({...q,statuses:[...q.statuses,z.value]})):E(q=>({...q,statuses:q.statuses.filter(re=>re!==z.value)}))},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),z.label]},z.value))})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rango de fechas de registro"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Desde"}),i.jsx("input",{type:"date",value:j.dateRange.start,onChange:z=>E(V=>({...V,dateRange:{...V.dateRange,start:z.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hasta"}),i.jsx("input",{type:"date",value:j.dateRange.end,onChange:z=>E(V=>({...V,dateRange:{...V.dateRange,end:z.target.value}})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]})]})]})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[i.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center gap-2",children:[i.jsx(Sc,{className:"h-5 w-5"}),"Campos a incluir en la exportación"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{key:"basic",label:"Información Básica",icon:na,description:"Nombre, apellido, email"},{key:"contact",label:"Contacto",icon:Phone,description:"Teléfono, departamento, cargo"},{key:"role",label:"Rol y Estado",icon:Shield,description:"Rol, estado, permisos"},{key:"address",label:"Dirección",icon:cx,description:"Dirección completa"},{key:"activity",label:"Actividad",icon:Dn,description:"Último acceso, historial"},{key:"statistics",label:"Estadísticas",icon:ka,description:"Métricas de rendimiento"}].map(z=>{const V=z.icon;return i.jsxs("label",{className:"flex items-start space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:j.includeFields[z.key],onChange:q=>E(re=>({...re,includeFields:{...re.includeFields,[z.key]:q.target.checked}})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{className:"h-4 w-4 text-gray-500"}),i.jsx("span",{className:"font-medium text-gray-900",children:z.label})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:z.description})]})]},z.key)})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"text-sm text-gray-600",children:"Los datos se exportarán en formato CSV"}),i.jsxs("button",{onClick:O,disabled:o,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):i.jsx(fs,{className:"h-4 w-4"}),"Exportar Usuarios"]})]})]})]})]})})},cP=()=>{const{user:e}=Bl(),{users:t,createUser:r,updateUser:n,importUsers:a,exportUsers:s}=Xd(),[o,l]=L.useState(null),[c,u]=L.useState(null),[d,f]=L.useState(!1),[h,m]=L.useState(!1),[y,v]=L.useState(!1);e==null||e.role;const w=T=>{l(T)},g=T=>{u(T),f(!0),v(!1)},x=()=>{u(null),v(!1),f(!0)},S=async(T,k)=>{console.log("UserManagement: handleUserSave called with:",{userData:T,password:k});try{if(c)console.log("Updating existing user:",c),await n(c,T);else{console.log("Creating new user");const D={...T,estado:y?"pending":"active",permisos:T.permisos||[],configuracion:T.configuracion||{idioma:"es",timezone:"America/Mexico_City",notificaciones:{email:!0,push:!0,sms:!1},tema:"light"},estadisticas:T.estadisticas||{prospectosManagedos:0,cotizacionesCreadas:0,ventasCerradas:0,tasaConversion:0,tiempoPromedioRespuesta:0}};console.log("Calling createUser with:",D);const I=await r(D,k);console.log("User created successfully:",I)}console.log("User save completed successfully"),f(!1),u(null),v(!1)}catch(D){throw console.error("Error in handleUserSave:",D),D}},j=async T=>{try{const k=await a(T);return console.log("Users imported successfully:",k),m(!1),k}catch(k){throw console.error("Error importing users:",k),k}},E=async()=>{try{const T=await s(),k=new Blob([T],{type:"text/csv"}),D=window.URL.createObjectURL(k),I=document.createElement("a");return I.href=D,I.download=`usuarios_${new Date().toISOString().split("T")[0]}.csv`,I.click(),window.URL.revokeObjectURL(D),T}catch(T){throw console.error("Error exporting users:",T),T}};return o?i.jsx(K$,{userId:o,onClose:()=>l(null),onEdit:()=>g(o)}):i.jsxs(i.Fragment,{children:[i.jsx(G$,{onUserSelect:w,onUserEdit:g,onUserCreate:x,onImportExport:()=>m(!0)}),d&&i.jsx(X$,{user:c?t.find(T=>T.id===c):null,onClose:()=>{f(!1),u(null),v(!1)},onSave:S,isInvitation:y}),h&&i.jsx(Q$,{onImport:j,onExport:E,onClose:()=>m(!1)})]})},J$=({navigationParams:e})=>{const{products:t}=ia(),[r,n]=L.useState((e==null?void 0:e.tab)||"general"),[a,s]=L.useState(null),[o,l]=L.useState(!1),[c,u]=L.useState({nombre:"",precio:0,descripcion:""});ee.useEffect(()=>{e!=null&&e.tab&&n(e.tab)},[e]);const d=()=>{console.log("Saving product:",c),l(!1),s(null),u({nombre:"",precio:0,descripcion:""})},f=[{id:"general",label:"General",icon:Sc},{id:"users",label:"Usuarios",icon:na},{id:"products",label:"Productos/Servicios",icon:cr},{id:"integrations",label:"Integraciones",icon:Sc},{id:"notifications",label:"Notificaciones",icon:Sc}];return i.jsxs("div",{className:"p-6 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configuración"}),i.jsx("p",{className:"text-gray-600",children:"Administra tu CRM y personaliza la configuración"})]}),(e==null?void 0:e.tab)==="users"&&i.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("span",{className:"text-blue-500 text-lg",children:"👤"})}),i.jsxs("div",{className:"ml-3",children:[i.jsx("p",{className:"text-sm font-medium text-blue-800",children:"Gestión de usuarios"}),i.jsx("p",{className:"text-sm text-blue-700",children:"Accediendo al módulo de gestión de usuarios desde el menú de perfil."})]})]})}),i.jsx("div",{className:"border-b border-gray-200 mb-6",children:i.jsx("nav",{className:"-mb-px flex space-x-8",children:f.map(h=>{const m=h.icon;return i.jsxs("button",{onClick:()=>n(h.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${r===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(m,{className:"h-4 w-4"}),h.label]},h.id)})})}),r==="general"&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuración General"}),i.jsx("p",{className:"text-gray-600",children:"Configuración general del sistema (próximamente)"})]}),r==="users"&&i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.jsx(cP,{})}),r==="products"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Catálogo de Productos/Servicios"}),i.jsxs("button",{onClick:()=>l(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(cr,{className:"h-4 w-4 mr-2"}),"Agregar Producto"]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Producto/Servicio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Precio"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(h=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:h.nombre})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"text-sm text-gray-900",children:["$",h.precio.toLocaleString()]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:h.descripcion})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>s(h),className:"text-blue-600 hover:text-blue-900",children:i.jsx(jF,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-red-600 hover:text-red-900",children:i.jsx(en,{className:"h-4 w-4"})})]})})]},h.id))})]})})}),(o||a)&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:a?"Editar Producto":"Agregar Producto"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del producto/servicio"}),i.jsx("input",{type:"text",value:c.nombre,onChange:h=>u(m=>({...m,nombre:h.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio"}),i.jsx("input",{type:"number",value:c.precio,onChange:h=>u(m=>({...m,precio:Number(h.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:c.descripcion,onChange:h=>u(m=>({...m,descripcion:h.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[i.jsx("button",{onClick:()=>{l(!1),s(null),u({nombre:"",precio:0,descripcion:""})},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[i.jsx(Zd,{className:"h-4 w-4 mr-2"}),"Guardar"]})]})]})})]}),r==="integrations"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Integraciones"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"WhatsApp Business API"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Conecta tu cuenta de WhatsApp Business para enviar mensajes directamente desde el CRM"}),i.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Configurar"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"ManyChat"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Sincroniza automáticamente los leads de ManyChat con tu CRM"}),i.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Conectar"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Zapier"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Automatiza flujos de trabajo con miles de aplicaciones"}),i.jsx("button",{className:"bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors",children:"Integrar"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Google Sheets"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"Exporta y sincroniza datos con Google Sheets automáticamente"}),i.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Conectar"})]})]})]}),r==="notifications"&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuración de Notificaciones"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Nuevos prospectos"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Recibe notificación cuando llegue un nuevo prospecto"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Recordatorios de seguimiento"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Recibe recordatorio si no has dado seguimiento en 3 días"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})]})},Z$=({onClose:e,editingQuote:t,preselectedProspect:r})=>{const{prospects:n,products:a,quoteTemplates:s,companySettings:o,addQuote:l,updateQuote:c,calculateQuoteTotal:u}=ia(),[d,f]=L.useState({prospectId:(r==null?void 0:r.id)||(t==null?void 0:t.prospectId)||"",fecha:it(t?t.fecha:new Date,"yyyy-MM-dd"),vigencia:it(t?t.vigencia:new Date(Date.now()+30*24*60*60*1e3),"yyyy-MM-dd"),condicionesPago:(t==null?void 0:t.condicionesPago)||o.condicionesPagoDefault,notasAdicionales:(t==null?void 0:t.notasAdicionales)||"",terminosCondiciones:(t==null?void 0:t.terminosCondiciones)||o.terminosCondicionesDefault,metodosPago:(t==null?void 0:t.metodosPago)||o.metodosPagoDefault,descuentoGlobal:(t==null?void 0:t.descuentoGlobal)||0,tipoDescuentoGlobal:(t==null?void 0:t.tipoDescuentoGlobal)||"porcentaje",iva:(t==null?void 0:t.iva)||o.iva}),[h,m]=L.useState((t==null?void 0:t.items)||[]),[y,v]=L.useState(!1),[w,g]=L.useState("");L.useState("");const[x,S]=L.useState(!1),j=a.filter(O=>O.estado==="activo"&&(O.nombre.toLowerCase().includes(w.toLowerCase())||O.descripcion.toLowerCase().includes(w.toLowerCase())||O.categoria.toLowerCase().includes(w.toLowerCase()))),E=O=>{const U=O.cantidad*O.precioUnitario;let z=0;return O.tipoDescuento==="porcentaje"?z=U*(O.descuento/100):z=O.descuento,U-z},T=O=>{const U={id:Date.now().toString(),productId:O==null?void 0:O.id,nombre:(O==null?void 0:O.nombre)||"",descripcion:(O==null?void 0:O.descripcion)||"",cantidad:1,precioUnitario:(O==null?void 0:O.precio)||0,descuento:0,tipoDescuento:"porcentaje",subtotal:(O==null?void 0:O.precio)||0};m(z=>[...z,U]),v(!1),g("")},k=(O,U,z)=>{m(V=>V.map((q,re)=>{if(re===O){const oe={...q,[U]:z};return oe.subtotal=E(oe),oe}return q}))},D=O=>{m(U=>U.filter((z,V)=>V!==O))},I=O=>{const U=s.find(z=>z.id===O);if(U){const z=U.items.map((V,q)=>({...V,id:(Date.now()+q).toString(),subtotal:E(V)}));m(z),f(V=>({...V,condicionesPago:U.condicionesPago,notasAdicionales:U.notasAdicionales,terminosCondiciones:U.terminosCondiciones,metodosPago:U.metodosPago})),S(!1)}},{subtotal:R,total:M}=u(h,d.descuentoGlobal,d.tipoDescuentoGlobal,d.iva),P=(O="Borrador")=>{if(!d.prospectId||h.length===0){alert("Por favor selecciona un cliente y agrega al menos un item");return}const U={prospectId:d.prospectId,fecha:new Date(d.fecha),vigencia:new Date(d.vigencia),items:h,subtotal:R,descuentoGlobal:d.descuentoGlobal,tipoDescuentoGlobal:d.tipoDescuentoGlobal,iva:d.iva,total:M,estado:O,condicionesPago:d.condicionesPago,notasAdicionales:d.notasAdicionales,terminosCondiciones:d.terminosCondiciones,metodosPago:d.metodosPago,creadoPor:"Usuario Actual"};t?c(t.id,U):l(U),e()},F=n.find(O=>O.id===d.prospectId);return i.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:e,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:[i.jsx(Ip,{className:"h-5 w-5 mr-2"}),"Volver"]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Editar Cotización":"Nueva Cotización"}),i.jsx("p",{className:"text-gray-600",children:t?`Editando ${t.numero}`:"Crear una nueva propuesta comercial"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[!t&&i.jsxs("button",{onClick:()=>S(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(Xg,{className:"h-4 w-4"}),"Usar Plantilla"]}),i.jsxs("button",{onClick:()=>P("Borrador"),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(Zd,{className:"h-4 w-4"}),"Guardar Borrador"]}),i.jsxs("button",{onClick:()=>P("Enviada"),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(ux,{className:"h-4 w-4"}),"Enviar Cotización"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información Básica"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cliente *"}),i.jsxs("select",{value:d.prospectId,onChange:O=>f(U=>({...U,prospectId:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar cliente"}),n.map(O=>i.jsxs("option",{value:O.id,children:[O.nombre," - ",O.telefono]},O.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Emisión"}),i.jsx("input",{type:"date",value:d.fecha,onChange:O=>f(U=>({...U,fecha:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vigencia"}),i.jsx("input",{type:"date",value:d.vigencia,onChange:O=>f(U=>({...U,vigencia:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IVA (%)"}),i.jsx("input",{type:"number",value:d.iva,onChange:O=>f(U=>({...U,iva:Number(O.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",max:"100",step:"0.1"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Items de la Cotización"}),i.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Agregar Item"]})]}),y&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-96 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Seleccionar Producto/Servicio"}),i.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar productos o servicios...",value:w,onChange:O=>g(O.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",autoFocus:!0})]})}),i.jsxs("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:[i.jsxs("button",{onClick:()=>T(),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"+ Producto/Servicio Personalizado"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Crear un item personalizado"})]}),j.map(O=>i.jsx("button",{onClick:()=>T(O),className:"w-full text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-900",children:O.nombre}),i.jsx("div",{className:"text-sm text-gray-500",children:O.descripcion}),i.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[O.categoria," • ",O.unidadMedida]})]}),i.jsxs("div",{className:"text-lg font-semibold text-blue-600",children:["$",O.precio.toLocaleString()]})]})},O.id))]})]})}),i.jsxs("div",{className:"space-y-4",children:[h.map((O,U)=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-start",children:[i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Producto/Servicio"}),i.jsx("input",{type:"text",value:O.nombre,onChange:z=>k(U,"nombre",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del producto"})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:O.descripcion,onChange:z=>k(U,"descripcion",z.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descripción detallada"})]}),i.jsxs("div",{className:"md:col-span-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),i.jsx("input",{type:"number",value:O.cantidad,onChange:z=>k(U,"cantidad",Number(z.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"1"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio Unitario"}),i.jsx("input",{type:"number",value:O.precioUnitario,onChange:z=>k(U,"precioUnitario",Number(z.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descuento"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",value:O.descuento,onChange:z=>k(U,"descuento",Number(z.target.value)),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"}),i.jsxs("select",{value:O.tipoDescuento,onChange:z=>k(U,"tipoDescuento",z.target.value),className:"px-2 py-2 border border-l-0 border-gray-300 rounded-r-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"porcentaje",children:"%"}),i.jsx("option",{value:"monto",children:"$"})]})]})]}),i.jsxs("div",{className:"md:col-span-1 flex items-end",children:[i.jsxs("div",{className:"w-full",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subtotal"}),i.jsxs("div",{className:"px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm font-medium",children:["$",O.subtotal.toLocaleString()]})]}),i.jsx("button",{onClick:()=>D(U),className:"ml-2 p-2 text-red-600 hover:text-red-800 transition-colors",title:"Eliminar item",children:i.jsx(en,{className:"h-4 w-4"})})]})]})},O.id)),h.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(sF,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay items agregados"}),i.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Item" para comenzar'})]})]}),h.length>0&&i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descuento Global"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",value:d.descuentoGlobal,onChange:O=>f(U=>({...U,descuentoGlobal:Number(O.target.value)})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"}),i.jsxs("select",{value:d.tipoDescuentoGlobal,onChange:O=>f(U=>({...U,tipoDescuentoGlobal:O.target.value})),className:"px-2 py-2 border border-l-0 border-gray-300 rounded-r-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"porcentaje",children:"%"}),i.jsx("option",{value:"monto",children:"$"})]})]})]})})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información Adicional"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condiciones de Pago"}),i.jsx("textarea",{value:d.condicionesPago,onChange:O=>f(U=>({...U,condicionesPago:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Ej: 50% anticipo, 50% contra entrega"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas Adicionales"}),i.jsx("textarea",{value:d.notasAdicionales,onChange:O=>f(U=>({...U,notasAdicionales:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Información adicional, aclaraciones, etc."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Términos y Condiciones"}),i.jsx("textarea",{value:d.terminosCondiciones,onChange:O=>f(U=>({...U,terminosCondiciones:O.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Términos y condiciones del servicio"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Métodos de Pago Aceptados"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Transferencia bancaria","PayPal","Stripe","Tarjeta de crédito","Efectivo","Cheque"].map(O=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:d.metodosPago.includes(O),onChange:U=>{U.target.checked?f(z=>({...z,metodosPago:[...z.metodosPago,O]})):f(z=>({...z,metodosPago:z.metodosPago.filter(V=>V!==O)}))},className:"mr-2"}),i.jsx("span",{className:"text-sm",children:O})]},O))})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[F&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información del Cliente"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Nombre:"}),i.jsx("p",{className:"text-sm text-gray-900",children:F.nombre})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Teléfono:"}),i.jsx("p",{className:"text-sm text-gray-900",children:F.telefono})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Correo:"}),i.jsx("p",{className:"text-sm text-gray-900",children:F.correo})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Interés:"}),i.jsx("p",{className:"text-sm text-gray-900",children:F.servicioInteres})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Resumen"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal:"}),i.jsxs("span",{className:"text-sm font-medium",children:["$",R.toLocaleString()]})]}),d.descuentoGlobal>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Descuento Global:"}),i.jsxs("span",{className:"text-sm font-medium text-red-600",children:["-",d.tipoDescuentoGlobal==="porcentaje"?`${d.descuentoGlobal}%`:`$${d.descuentoGlobal.toLocaleString()}`]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-sm text-gray-600",children:["IVA (",d.iva,"%):"]}),i.jsxs("span",{className:"text-sm font-medium",children:["$",((R-(d.tipoDescuentoGlobal==="porcentaje"?R*(d.descuentoGlobal/100):d.descuentoGlobal))*(d.iva/100)).toLocaleString()]})]}),i.jsx("div",{className:"border-t pt-3",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",M.toLocaleString()]})]})})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información de la Empresa"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("p",{className:"font-medium",children:o.nombre}),i.jsx("p",{className:"text-gray-600",children:o.direccion}),i.jsx("p",{className:"text-gray-600",children:o.telefono}),i.jsx("p",{className:"text-gray-600",children:o.correo}),i.jsxs("p",{className:"text-gray-600",children:["RFC: ",o.rfc]})]})]})]})]}),x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-2xl max-h-96 overflow-hidden",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Seleccionar Plantilla"}),i.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),i.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[s.map(O=>i.jsxs("button",{onClick:()=>I(O.id),className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"font-medium text-gray-900",children:O.nombre}),i.jsx("div",{className:"text-sm text-gray-500 mt-1",children:O.descripcion}),i.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[O.items.length," items • Creado por ",O.creadoPor]})]},O.id)),s.length===0&&i.jsx("div",{className:"text-center py-8 text-gray-500",children:i.jsx("p",{children:"No hay plantillas disponibles"})})]})]})})]})},e9="modulepreload",t9=function(e){return"/"+e},P4={},P2=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=t9(c),c in P4)return;P4[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":e9,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};var Wn=Uint8Array,Ra=Uint16Array,A5=Int32Array,hx=new Wn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),px=new Wn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),E2=new Wn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uP=function(e,t){for(var r=new Ra(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new A5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},dP=uP(hx,2),fP=dP.b,M2=dP.r;fP[28]=258,M2[258]=28;var hP=uP(px,0),r9=hP.b,E4=hP.r,A2=new Ra(32768);for(var hr=0;hr<32768;++hr){var il=(hr&43690)>>1|(hr&21845)<<1;il=(il&52428)>>2|(il&13107)<<2,il=(il&61680)>>4|(il&3855)<<4,A2[hr]=((il&65280)>>8|(il&255)<<8)>>1}var Oi=function(e,t,r){for(var n=e.length,a=0,s=new Ra(t);a<n;++a)e[a]&&++s[e[a]-1];var o=new Ra(t);for(a=1;a<t;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new Ra(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],d=t-e[a],f=o[e[a]-1]++<<d,h=f|(1<<d)-1;f<=h;++f)l[A2[f]>>c]=u}else for(l=new Ra(n),a=0;a<n;++a)e[a]&&(l[a]=A2[o[e[a]-1]++]>>15-e[a]);return l},Ll=new Wn(288);for(var hr=0;hr<144;++hr)Ll[hr]=8;for(var hr=144;hr<256;++hr)Ll[hr]=9;for(var hr=256;hr<280;++hr)Ll[hr]=7;for(var hr=280;hr<288;++hr)Ll[hr]=8;var rp=new Wn(32);for(var hr=0;hr<32;++hr)rp[hr]=5;var n9=Oi(Ll,9,0),a9=Oi(Ll,9,1),s9=Oi(rp,5,0),i9=Oi(rp,5,1),U1=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Os=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},z1=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},L5=function(e){return(e+7)/8|0},pP=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Wn(e.subarray(t,r))},o9=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Rs=function(e,t,r){var n=new Error(t||o9[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Rs),!r)throw n;return n},l9=function(e,t,r,n){var a=e.length,s=0;if(!a||t.f&&!t.l)return r||new Wn(0);var o=!r,l=o||t.i!=2,c=t.i;o&&(r=new Wn(a*3));var u=function(xe){var De=r.length;if(xe>De){var Ee=new Wn(Math.max(De*2,xe));Ee.set(r),r=Ee}},d=t.f||0,f=t.p||0,h=t.b||0,m=t.l,y=t.d,v=t.m,w=t.n,g=a*8;do{if(!m){d=Os(e,f,1);var x=Os(e,f+1,3);if(f+=3,x)if(x==1)m=a9,y=i9,v=9,w=5;else if(x==2){var T=Os(e,f,31)+257,k=Os(e,f+10,15)+4,D=T+Os(e,f+5,31)+1;f+=14;for(var I=new Wn(D),R=new Wn(19),M=0;M<k;++M)R[E2[M]]=Os(e,f+M*3,7);f+=k*3;for(var P=U1(R),F=(1<<P)-1,O=Oi(R,P,1),M=0;M<D;){var U=O[Os(e,f,F)];f+=U&15;var S=U>>4;if(S<16)I[M++]=S;else{var z=0,V=0;for(S==16?(V=3+Os(e,f,3),f+=2,z=I[M-1]):S==17?(V=3+Os(e,f,7),f+=3):S==18&&(V=11+Os(e,f,127),f+=7);V--;)I[M++]=z}}var q=I.subarray(0,T),re=I.subarray(T);v=U1(q),w=U1(re),m=Oi(q,v,1),y=Oi(re,w,1)}else Rs(1);else{var S=L5(f)+4,j=e[S-4]|e[S-3]<<8,E=S+j;if(E>a){c&&Rs(0);break}l&&u(h+j),r.set(e.subarray(S,E),h),t.b=h+=j,t.p=f=E*8,t.f=d;continue}if(f>g){c&&Rs(0);break}}l&&u(h+131072);for(var oe=(1<<v)-1,le=(1<<w)-1,_=f;;_=f){var z=m[z1(e,f)&oe],$=z>>4;if(f+=z&15,f>g){c&&Rs(0);break}if(z||Rs(2),$<256)r[h++]=$;else if($==256){_=f,m=null;break}else{var Y=$-254;if($>264){var M=$-257,W=hx[M];Y=Os(e,f,(1<<W)-1)+fP[M],f+=W}var X=y[z1(e,f)&le],Z=X>>4;X||Rs(3),f+=X&15;var re=r9[Z];if(Z>3){var W=px[Z];re+=z1(e,f)&(1<<W)-1,f+=W}if(f>g){c&&Rs(0);break}l&&u(h+131072);var ne=h+Y;if(h<re){var ie=s-re,me=Math.min(re,ne);for(ie+h<0&&Rs(3);h<me;++h)r[h]=n[ie+h]}for(;h<ne;++h)r[h]=r[h-re]}}t.l=m,t.p=_,t.b=h,t.f=d,m&&(d=1,t.m=v,t.d=y,t.n=w)}while(!d);return h!=r.length&&o?pP(r,0,h):r.subarray(0,h)},lo=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},rh=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},B1=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,s=r.slice();if(!a)return{t:gP,l:0};if(a==1){var o=new Wn(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(E,T){return E.f-T.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,d=1,f=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};d!=a-1;)l=r[r[u].f<r[f].f?u++:f++],c=r[u!=d&&r[u].f<r[f].f?u++:f++],r[d++]={s:-1,f:l.f+c.f,l,r:c};for(var h=s[0].s,n=1;n<a;++n)s[n].s>h&&(h=s[n].s);var m=new Ra(h+1),y=L2(r[d-1],m,0);if(y>t){var n=0,v=0,w=y-t,g=1<<w;for(s.sort(function(T,k){return m[k.s]-m[T.s]||T.f-k.f});n<a;++n){var x=s[n].s;if(m[x]>t)v+=g-(1<<y-m[x]),m[x]=t;else break}for(v>>=w;v>0;){var S=s[n].s;m[S]<t?v-=1<<t-m[S]++-1:++n}for(;n>=0&&v;--n){var j=s[n].s;m[j]==t&&(--m[j],++v)}y=t}return{t:new Wn(m),l:y}},L2=function(e,t,r){return e.s==-1?Math.max(L2(e.l,t,r+1),L2(e.r,t,r+1)):t[e.s]=r},M4=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ra(++t),n=0,a=e[0],s=1,o=function(c){r[n++]=c},l=1;l<=t;++l)if(e[l]==a&&l!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=e[l]}return{c:r.subarray(0,n),n:t}},nh=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},mP=function(e,t,r){var n=r.length,a=L5(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var s=0;s<n;++s)e[a+s+4]=r[s];return(a+4+n)*8},A4=function(e,t,r,n,a,s,o,l,c,u,d){lo(t,d++,r),++a[256];for(var f=B1(a,15),h=f.t,m=f.l,y=B1(s,15),v=y.t,w=y.l,g=M4(h),x=g.c,S=g.n,j=M4(v),E=j.c,T=j.n,k=new Ra(19),D=0;D<x.length;++D)++k[x[D]&31];for(var D=0;D<E.length;++D)++k[E[D]&31];for(var I=B1(k,7),R=I.t,M=I.l,P=19;P>4&&!R[E2[P-1]];--P);var F=u+5<<3,O=nh(a,Ll)+nh(s,rp)+o,U=nh(a,h)+nh(s,v)+o+14+3*P+nh(k,R)+2*k[16]+3*k[17]+7*k[18];if(c>=0&&F<=O&&F<=U)return mP(t,d,e.subarray(c,c+u));var z,V,q,re;if(lo(t,d,1+(U<O)),d+=2,U<O){z=Oi(h,m,0),V=h,q=Oi(v,w,0),re=v;var oe=Oi(R,M,0);lo(t,d,S-257),lo(t,d+5,T-1),lo(t,d+10,P-4),d+=14;for(var D=0;D<P;++D)lo(t,d+3*D,R[E2[D]]);d+=3*P;for(var le=[x,E],_=0;_<2;++_)for(var $=le[_],D=0;D<$.length;++D){var Y=$[D]&31;lo(t,d,oe[Y]),d+=R[Y],Y>15&&(lo(t,d,$[D]>>5&127),d+=$[D]>>12)}}else z=n9,V=Ll,q=s9,re=rp;for(var D=0;D<l;++D){var W=n[D];if(W>255){var Y=W>>18&31;rh(t,d,z[Y+257]),d+=V[Y+257],Y>7&&(lo(t,d,W>>23&31),d+=hx[Y]);var X=W&31;rh(t,d,q[X]),d+=re[X],X>3&&(rh(t,d,W>>5&8191),d+=px[X])}else rh(t,d,z[W]),d+=V[W]}return rh(t,d,z[256]),d+V[256]},c9=new A5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gP=new Wn(0),u9=function(e,t,r,n,a,s){var o=s.z||e.length,l=new Wn(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(c[0]=s.r>>3);for(var f=c9[t-1],h=f>>13,m=f&8191,y=(1<<r)-1,v=s.p||new Ra(32768),w=s.h||new Ra(y+1),g=Math.ceil(r/3),x=2*g,S=function(Ze){return(e[Ze]^e[Ze+1]<<g^e[Ze+2]<<x)&y},j=new A5(25e3),E=new Ra(288),T=new Ra(32),k=0,D=0,I=s.i||0,R=0,M=s.w||0,P=0;I+2<o;++I){var F=S(I),O=I&32767,U=w[F];if(v[O]=U,w[F]=O,M<=I){var z=o-I;if((k>7e3||R>24576)&&(z>423||!u)){d=A4(e,c,0,j,E,T,D,R,P,I-P,d),R=k=D=0,P=I;for(var V=0;V<286;++V)E[V]=0;for(var V=0;V<30;++V)T[V]=0}var q=2,re=0,oe=m,le=O-U&32767;if(z>2&&F==S(I-le))for(var _=Math.min(h,z)-1,$=Math.min(32767,I),Y=Math.min(258,z);le<=$&&--oe&&O!=U;){if(e[I+q]==e[I+q-le]){for(var W=0;W<Y&&e[I+W]==e[I+W-le];++W);if(W>q){if(q=W,re=le,W>_)break;for(var X=Math.min(le,W-2),Z=0,V=0;V<X;++V){var ne=I-le+V&32767,ie=v[ne],me=ne-ie&32767;me>Z&&(Z=me,U=ne)}}}O=U,U=v[O],le+=O-U&32767}if(re){j[R++]=268435456|M2[q]<<18|E4[re];var xe=M2[q]&31,De=E4[re]&31;D+=hx[xe]+px[De],++E[257+xe],++T[De],M=I+q,++k}else j[R++]=e[I],++E[e[I]]}}for(I=Math.max(I,M);I<o;++I)j[R++]=e[I],++E[e[I]];d=A4(e,c,u,j,E,T,D,R,P,I-P,d),u||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=w,s.p=v,s.i=I,s.w=M)}else{for(var I=s.w||0;I<o+u;I+=65535){var Ee=I+65535;Ee>=o&&(c[d/8|0]=u,Ee=o),d=mP(c,d+1,e.subarray(I,Ee))}s.i=o}return pP(l,0,n+L5(d)+a)},vP=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},d9=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Wn(s.length+e.length);o.set(s),o.set(e,s.length),e=o,a.w=s.length}return u9(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},xP=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},f9=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=vP();a.p(t.dictionary),xP(e,2,a.d())}},h9=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Rs(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Rs(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function O2(e,t){t||(t={});var r=vP();r.p(e);var n=d9(e,t,t.dictionary?6:2,4);return f9(n,t),xP(n,n.length-4,r.d()),n}function p9(e,t){return l9(e.subarray(h9(e,t),-4),{i:2},t,t)}var m9=typeof TextDecoder<"u"&&new TextDecoder,g9=0;try{m9.decode(gP,{stream:!0}),g9=1}catch{}var ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function H1(){ct.console&&typeof ct.console.log=="function"&&ct.console.log.apply(ct.console,arguments)}var nr={log:H1,warn:function(e){ct.console&&(typeof ct.console.warn=="function"?ct.console.warn.apply(ct.console,arguments):H1.call(null,arguments))},error:function(e){ct.console&&(typeof ct.console.error=="function"?ct.console.error.apply(ct.console,arguments):H1(e))}};function W1(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){uc(n.response,t,r)},n.onerror=function(){nr.error("could not download file")},n.send()}function L4(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function h0(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ah,T2,uc=ct.saveAs||((typeof window>"u"?"undefined":jt(window))!=="object"||window!==ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ct.URL||ct.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?L4(a.href)?W1(e,t,r):h0(a,a.target="_blank"):h0(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){h0(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(L4(e))W1(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){h0(n)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:jt(s)!=="object"&&(nr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return W1(e,t,r);var a=e.type==="application/octet-stream",s=/constructor/i.test(ct.HTMLElement)||ct.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":jt(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var d=l.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},l.readAsDataURL(e)}else{var c=ct.URL||ct.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function yP(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Y1(e,t){var r=e[0],n=e[1],a=e[2],s=e[3];r=In(r,n,a,s,t[0],7,-680876936),s=In(s,r,n,a,t[1],12,-389564586),a=In(a,s,r,n,t[2],17,606105819),n=In(n,a,s,r,t[3],22,-1044525330),r=In(r,n,a,s,t[4],7,-176418897),s=In(s,r,n,a,t[5],12,1200080426),a=In(a,s,r,n,t[6],17,-1473231341),n=In(n,a,s,r,t[7],22,-45705983),r=In(r,n,a,s,t[8],7,1770035416),s=In(s,r,n,a,t[9],12,-1958414417),a=In(a,s,r,n,t[10],17,-42063),n=In(n,a,s,r,t[11],22,-1990404162),r=In(r,n,a,s,t[12],7,1804603682),s=In(s,r,n,a,t[13],12,-40341101),a=In(a,s,r,n,t[14],17,-1502002290),r=Rn(r,n=In(n,a,s,r,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Rn(s,r,n,a,t[6],9,-1069501632),a=Rn(a,s,r,n,t[11],14,643717713),n=Rn(n,a,s,r,t[0],20,-373897302),r=Rn(r,n,a,s,t[5],5,-701558691),s=Rn(s,r,n,a,t[10],9,38016083),a=Rn(a,s,r,n,t[15],14,-660478335),n=Rn(n,a,s,r,t[4],20,-405537848),r=Rn(r,n,a,s,t[9],5,568446438),s=Rn(s,r,n,a,t[14],9,-1019803690),a=Rn(a,s,r,n,t[3],14,-187363961),n=Rn(n,a,s,r,t[8],20,1163531501),r=Rn(r,n,a,s,t[13],5,-1444681467),s=Rn(s,r,n,a,t[2],9,-51403784),a=Rn(a,s,r,n,t[7],14,1735328473),r=Fn(r,n=Rn(n,a,s,r,t[12],20,-1926607734),a,s,t[5],4,-378558),s=Fn(s,r,n,a,t[8],11,-2022574463),a=Fn(a,s,r,n,t[11],16,1839030562),n=Fn(n,a,s,r,t[14],23,-35309556),r=Fn(r,n,a,s,t[1],4,-1530992060),s=Fn(s,r,n,a,t[4],11,1272893353),a=Fn(a,s,r,n,t[7],16,-155497632),n=Fn(n,a,s,r,t[10],23,-1094730640),r=Fn(r,n,a,s,t[13],4,681279174),s=Fn(s,r,n,a,t[0],11,-358537222),a=Fn(a,s,r,n,t[3],16,-722521979),n=Fn(n,a,s,r,t[6],23,76029189),r=Fn(r,n,a,s,t[9],4,-640364487),s=Fn(s,r,n,a,t[12],11,-421815835),a=Fn(a,s,r,n,t[15],16,530742520),r=$n(r,n=Fn(n,a,s,r,t[2],23,-995338651),a,s,t[0],6,-198630844),s=$n(s,r,n,a,t[7],10,1126891415),a=$n(a,s,r,n,t[14],15,-1416354905),n=$n(n,a,s,r,t[5],21,-57434055),r=$n(r,n,a,s,t[12],6,1700485571),s=$n(s,r,n,a,t[3],10,-1894986606),a=$n(a,s,r,n,t[10],15,-1051523),n=$n(n,a,s,r,t[1],21,-2054922799),r=$n(r,n,a,s,t[8],6,1873313359),s=$n(s,r,n,a,t[15],10,-30611744),a=$n(a,s,r,n,t[6],15,-1560198380),n=$n(n,a,s,r,t[13],21,1309151649),r=$n(r,n,a,s,t[4],6,-145523070),s=$n(s,r,n,a,t[11],10,-1120210379),a=$n(a,s,r,n,t[2],15,718787259),n=$n(n,a,s,r,t[9],21,-343485551),e[0]=gl(r,e[0]),e[1]=gl(n,e[1]),e[2]=gl(a,e[2]),e[3]=gl(s,e[3])}function mx(e,t,r,n,a,s){return t=gl(gl(t,e),gl(n,s)),gl(t<<a|t>>>32-a,r)}function In(e,t,r,n,a,s,o){return mx(t&r|~t&n,e,t,a,s,o)}function Rn(e,t,r,n,a,s,o){return mx(t&n|r&~n,e,t,a,s,o)}function Fn(e,t,r,n,a,s,o){return mx(t^r^n,e,t,a,s,o)}function $n(e,t,r,n,a,s,o){return mx(r^(t|~n),e,t,a,s,o)}function bP(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Y1(n,v9(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Y1(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Y1(n,a),n}function v9(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Ah=ct.atob.bind(ct),T2=ct.btoa.bind(ct);var O4="0123456789abcdef".split("");function x9(e){for(var t="",r=0;r<4;r++)t+=O4[e>>8*r+4&15]+O4[e>>8*r&15];return t}function y9(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function I2(e){return bP(e).map(y9).join("")}var b9=function(e){for(var t=0;t<e.length;t++)e[t]=x9(e[t]);return e.join("")}(bP("hello"))!="5d41402abc4b2a76b9719d911017c592";function gl(e,t){if(b9){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function R2(e,t){var r,n,a,s;if(e!==r){for(var o=(a=e,s=1+(256/e.length>>0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var d=l[c];u=(u+d+o.charCodeAt(c))%256,l[c]=l[u],l[u]=d}r=e,n=l}else l=n;var f=t.length,h=0,m=0,y="";for(c=0;c<f;c++)m=(m+(d=l[h=(h+1)%256]))%256,l[h]=l[m],l[m]=d,o=l[(l[h]+l[m])%256],y+=String.fromCharCode(t.charCodeAt(c)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var T4={print:4,modify:8,copy:16,"annot-forms":32};function Bu(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(l){if(T4.perm!==void 0)throw new Error("Invalid permission: "+l);a+=T4[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=I2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=R2(this.encryptionKey,this.padding)}function Hu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function I4(e){if(jt(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var s=Math.random().toString(35);return t[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[r]){var o=t[r][s];try{o[0].apply(e,n)}catch(l){ct.console&&nr.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function rv(e){if(!(this instanceof rv))return new rv(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function wP(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function hc(e,t,r,n,a){if(!(this instanceof hc))return new hc(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,wP.call(this,n,a)}function sd(e,t,r,n,a){if(!(this instanceof sd))return new sd(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,wP.call(this,n,a)}function lt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",d=null;jt(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,s=e.compress||e.compressPdf||s,(d=e.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),l=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},m={internal:{},__private__:{}};m.__private__.PubSub=I4;var y="1.3",v=m.__private__.getPdfVersion=function(){return y};m.__private__.setPdfVersion=function(N){y=N};var w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return w};var g=m.__private__.getPageFormat=function(N){return w[N]};a=a||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function j(){this.saveGraphicsState(),ae(new ot(He,0,0,-He,0,Vo()*He).toString()+" cm"),this.setFontSize(this.getFontSize()/He),u="n",S=x.ADVANCED}function E(){this.restoreGraphicsState(),u="S",S=x.COMPAT}var T=m.__private__.combineFontStyleAndFontWeight=function(N,H){if(N=="bold"&&H=="normal"||N=="bold"&&H==400||N=="normal"&&H=="italic"||N=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(N=H==400||H==="normal"?N==="italic"?"italic":"normal":H!=700&&H!=="bold"||N!=="normal"?(H==700?"bold":H)+""+N:"bold"),N};m.advancedAPI=function(N){var H=S===x.COMPAT;return H&&j.call(this),typeof N!="function"||(N(this),H&&E.call(this)),this},m.compatAPI=function(N){var H=S===x.ADVANCED;return H&&E.call(this),typeof N!="function"||(N(this),H&&j.call(this)),this},m.isAdvancedAPI=function(){return S===x.ADVANCED};var k,D=function(N){if(S!==x.ADVANCED)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=m.roundToPrecision=m.__private__.roundToPrecision=function(N,H){var se=t||H;if(isNaN(N)||isNaN(se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(se).replace(/0+$/,"")};k=m.hpf=m.__private__.hpf=typeof c=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,c)}:c==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return I(N,16)};var R=m.f2=m.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return I(N,2)},M=m.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return I(N,3)},P=m.scale=m.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?N*He:S===x.ADVANCED?N:void 0},F=function(N){return S===x.COMPAT?Vo()-N:S===x.ADVANCED?N:void 0},O=function(N){return P(F(N))};m.__private__.setPrecision=m.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var U,z="00000000000000000000000000000000",V=m.__private__.getFileId=function(){return z},q=m.__private__.setFileId=function(N){return z=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(An=new Bu(d.userPermissions,d.userPassword,d.ownerPassword,z)),z};m.setFileId=function(N){return q(N),this},m.getFileId=function(){return V()};var re=m.__private__.convertDateToPDFDate=function(N){var H=N.getTimezoneOffset(),se=H<0?"+":"-",ce=Math.floor(Math.abs(H/60)),pe=Math.abs(H%60),Ne=[se,Y(ce),"'",Y(pe),"'"].join("");return["D:",N.getFullYear(),Y(N.getMonth()+1),Y(N.getDate()),Y(N.getHours()),Y(N.getMinutes()),Y(N.getSeconds()),Ne].join("")},oe=m.__private__.convertPDFDateToDate=function(N){var H=parseInt(N.substr(2,4),10),se=parseInt(N.substr(6,2),10)-1,ce=parseInt(N.substr(8,2),10),pe=parseInt(N.substr(10,2),10),Ne=parseInt(N.substr(12,2),10),_e=parseInt(N.substr(14,2),10);return new Date(H,se,ce,pe,Ne,_e,0)},le=m.__private__.setCreationDate=function(N){var H;if(N===void 0&&(N=new Date),N instanceof Date)H=re(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=N}return U=H},_=m.__private__.getCreationDate=function(N){var H=U;return N==="jsDate"&&(H=oe(U)),H};m.setCreationDate=function(N){return le(N),this},m.getCreationDate=function(N){return _(N)};var $,Y=m.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},W=m.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},X=0,Z=[],ne=[],ie=0,me=[],xe=[],De=!1,Ee=ne,Ze=function(){X=0,ie=0,ne=[],Z=[],me=[],Ji=Gr(),Ss=Gr()};m.__private__.setCustomOutputDestination=function(N){De=!0,Ee=N};var we=function(N){De||(Ee=N)};m.__private__.resetCustomOutputDestination=function(){De=!1,Ee=ne};var ae=m.__private__.out=function(N){return N=N.toString(),ie+=N.length+1,Ee.push(N),Ee},Je=m.__private__.write=function(N){return ae(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},qe=m.__private__.getArrayBuffer=function(N){for(var H=N.length,se=new ArrayBuffer(H),ce=new Uint8Array(se);H--;)ce[H]=N.charCodeAt(H);return se},Pe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return Pe};var Le=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(N){return Le=S===x.ADVANCED?N/He:N,this};var $e,Fe=m.__private__.getFontSize=m.getFontSize=function(){return S===x.COMPAT?Le:Le*He},tt=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(N){return tt=N,this},m.__private__.getR2L=m.getR2L=function(){return tt};var ut,ht=m.__private__.setZoomMode=function(N){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))$e=N;else if(isNaN(N)){if(H.indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');$e=N}else $e=parseInt(N,10)};m.__private__.getZoomMode=function(){return $e};var bt,Ct=m.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');ut=N};m.__private__.getPageMode=function(){return ut};var Ft=m.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');bt=N};m.__private__.getLayoutMode=function(){return bt},m.__private__.setDisplayMode=m.setDisplayMode=function(N,H,se){return ht(N),Ft(H),Ct(se),this};var dt={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(N){if(Object.keys(dt).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dt[N]},m.__private__.getDocumentProperties=function(){return dt},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(N){for(var H in dt)dt.hasOwnProperty(H)&&N[H]&&(dt[H]=N[H]);return this},m.__private__.setDocumentProperty=function(N,H){if(Object.keys(dt).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dt[N]=H};var St,He,Mn,Tt,ws,tr={},vr={},ri=[],Ht={},ql={},Dr={},Ns={},Qi=null,_r=0,pt=[],Wt=new I4(m),Gl=e.hotfixes||[],bn={},ni={},ai=[],ot=function N(H,se,ce,pe,Ne,_e){if(!(this instanceof N))return new N(H,se,ce,pe,Ne,_e);isNaN(H)&&(H=1),isNaN(se)&&(se=0),isNaN(ce)&&(ce=0),isNaN(pe)&&(pe=1),isNaN(Ne)&&(Ne=0),isNaN(_e)&&(_e=0),this._matrix=[H,se,ce,pe,Ne,_e]};Object.defineProperty(ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ot.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(k).join(N)},ot.prototype.multiply=function(N){var H=N.sx*this.sx+N.shy*this.shx,se=N.sx*this.shy+N.shy*this.sy,ce=N.shx*this.sx+N.sy*this.shx,pe=N.shx*this.shy+N.sy*this.sy,Ne=N.tx*this.sx+N.ty*this.shx+this.tx,_e=N.tx*this.shy+N.ty*this.sy+this.ty;return new ot(H,se,ce,pe,Ne,_e)},ot.prototype.decompose=function(){var N=this.sx,H=this.shy,se=this.shx,ce=this.sy,pe=this.tx,Ne=this.ty,_e=Math.sqrt(N*N+H*H),We=(N/=_e)*se+(H/=_e)*ce;se-=N*We,ce-=H*We;var rt=Math.sqrt(se*se+ce*ce);return We/=rt,N*(ce/=rt)<H*(se/=rt)&&(N=-N,H=-H,We=-We,_e=-_e),{scale:new ot(_e,0,0,rt,0,0),translate:new ot(1,0,0,1,pe,Ne),rotate:new ot(N,H,-H,N,0,0),skew:new ot(1,0,We,1,0,0)}},ot.prototype.toString=function(N){return this.join(" ")},ot.prototype.inversed=function(){var N=this.sx,H=this.shy,se=this.shx,ce=this.sy,pe=this.tx,Ne=this.ty,_e=1/(N*ce-H*se),We=ce*_e,rt=-H*_e,vt=-se*_e,mt=N*_e;return new ot(We,rt,vt,mt,-We*pe-vt*Ne,-rt*pe-mt*Ne)},ot.prototype.applyToPoint=function(N){var H=N.x*this.sx+N.y*this.shx+this.tx,se=N.x*this.shy+N.y*this.sy+this.ty;return new yu(H,se)},ot.prototype.applyToRectangle=function(N){var H=this.applyToPoint(N),se=this.applyToPoint(new yu(N.x+N.w,N.y+N.h));return new Cf(H.x,H.y,se.x-H.x,se.y-H.y)},ot.prototype.clone=function(){var N=this.sx,H=this.shy,se=this.shx,ce=this.sy,pe=this.tx,Ne=this.ty;return new ot(N,H,se,ce,pe,Ne)},m.Matrix=ot;var js=m.matrixMult=function(N,H){return H.multiply(N)},si=new ot(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=si;var la=function(N,H){if(!ql[N]){var se=(H instanceof hc?"Sh":"P")+(Object.keys(Ht).length+1).toString(10);H.id=se,ql[N]=se,Ht[se]=H,Wt.publish("addPattern",H)}};m.ShadingPattern=hc,m.TilingPattern=sd,m.addShadingPattern=function(N,H){return D("addShadingPattern()"),la(N,H),this},m.beginTilingPattern=function(N){D("beginTilingPattern()"),Nm(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},m.endTilingPattern=function(N,H){D("endTilingPattern()"),H.stream=xe[$].join(`
`),la(N,H),Wt.publish("endTilingPattern",H),ai.pop().restore()};var nn=m.__private__.newObject=function(){var N=Gr();return Pa(N,!0),N},Gr=m.__private__.newObjectDeferred=function(){return X++,Z[X]=function(){return ie},X},Pa=function(N,H){return H=typeof H=="boolean"&&H,Z[N]=ie,H&&ae(N+" 0 obj"),N},iu=m.__private__.newAdditionalObject=function(){var N={objId:Gr(),content:""};return me.push(N),N},Ji=Gr(),Ss=Gr(),ks=m.__private__.decodeColorString=function(N){var H=N.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var se=parseFloat(H[0]);H=[se,se,se,"r"]}for(var ce="#",pe=0;pe<3;pe++)ce+=("0"+Math.floor(255*parseFloat(H[pe])).toString(16)).slice(-2);return ce},Cs=m.__private__.encodeColorString=function(N){var H;typeof N=="string"&&(N={ch1:N});var se=N.ch1,ce=N.ch2,pe=N.ch3,Ne=N.ch4,_e=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof se=="string"&&se.charAt(0)!=="#"){var We=new yP(se);if(We.ok)se=We.toHex();else if(!/^\d*\.?\d*$/.test(se))throw new Error('Invalid color "'+se+'" passed to jsPDF.encodeColorString.')}if(typeof se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(se)&&(se="#"+se[1]+se[1]+se[2]+se[2]+se[3]+se[3]),typeof se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(se)){var rt=parseInt(se.substr(1),16);se=rt>>16&255,ce=rt>>8&255,pe=255&rt}if(ce===void 0||Ne===void 0&&se===ce&&ce===pe)if(typeof se=="string")H=se+" "+_e[0];else switch(N.precision){case 2:H=R(se/255)+" "+_e[0];break;case 3:default:H=M(se/255)+" "+_e[0]}else if(Ne===void 0||jt(Ne)==="object"){if(Ne&&!isNaN(Ne.a)&&Ne.a===0)return H=["1.","1.","1.",_e[1]].join(" ");if(typeof se=="string")H=[se,ce,pe,_e[1]].join(" ");else switch(N.precision){case 2:H=[R(se/255),R(ce/255),R(pe/255),_e[1]].join(" ");break;default:case 3:H=[M(se/255),M(ce/255),M(pe/255),_e[1]].join(" ")}}else if(typeof se=="string")H=[se,ce,pe,Ne,_e[2]].join(" ");else switch(N.precision){case 2:H=[R(se),R(ce),R(pe),R(Ne),_e[2]].join(" ");break;case 3:default:H=[M(se),M(ce),M(pe),M(Ne),_e[2]].join(" ")}return H},ii=m.__private__.getFilters=function(){return o},qa=m.__private__.putStream=function(N){var H=(N=N||{}).data||"",se=N.filters||ii(),ce=N.alreadyAppliedFilters||[],pe=N.addLength1||!1,Ne=H.length,_e=N.objectId,We=function(Ln){return Ln};if(d!==null&&_e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(We=An.encryptor(_e,0));var rt={};se===!0&&(se=["FlateEncode"]);var vt=N.additionalKeyValues||[],mt=(rt=lt.API.processDataByFilters!==void 0?lt.API.processDataByFilters(H,se):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ce)?ce.join(" "):ce.toString());if(rt.data.length!==0&&(vt.push({key:"Length",value:rt.data.length}),pe===!0&&vt.push({key:"Length1",value:Ne})),mt.length!=0)if(mt.split("/").length-1==1)vt.push({key:"Filter",value:mt});else{vt.push({key:"Filter",value:"["+mt+"]"});for(var Pt=0;Pt<vt.length;Pt+=1)if(vt[Pt].key==="DecodeParms"){for(var wr=[],Pr=0;Pr<rt.reverseChain.split("/").length-1;Pr+=1)wr.push("null");wr.push(vt[Pt].value),vt[Pt].value="["+wr.join(" ")+"]"}}ae("<<");for(var Kr=0;Kr<vt.length;Kr++)ae("/"+vt[Kr].key+" "+vt[Kr].value);ae(">>"),rt.data.length!==0&&(ae("stream"),ae(We(rt.data)),ae("endstream"))},oi=m.__private__.putPage=function(N){var H=N.number,se=N.data,ce=N.objId,pe=N.contentsObjId;Pa(ce,!0),ae("<</Type /Page"),ae("/Parent "+N.rootDictionaryObjId+" 0 R"),ae("/Resources "+N.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(k(N.mediaBox.bottomLeftX))+" "+parseFloat(k(N.mediaBox.bottomLeftY))+" "+k(N.mediaBox.topRightX)+" "+k(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&ae("/CropBox ["+k(N.cropBox.bottomLeftX)+" "+k(N.cropBox.bottomLeftY)+" "+k(N.cropBox.topRightX)+" "+k(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&ae("/BleedBox ["+k(N.bleedBox.bottomLeftX)+" "+k(N.bleedBox.bottomLeftY)+" "+k(N.bleedBox.topRightX)+" "+k(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&ae("/TrimBox ["+k(N.trimBox.bottomLeftX)+" "+k(N.trimBox.bottomLeftY)+" "+k(N.trimBox.topRightX)+" "+k(N.trimBox.topRightY)+"]"),N.artBox!==null&&ae("/ArtBox ["+k(N.artBox.bottomLeftX)+" "+k(N.artBox.bottomLeftY)+" "+k(N.artBox.topRightX)+" "+k(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&ae("/UserUnit "+N.userUnit),Wt.publish("putPage",{objId:ce,pageContext:pt[H],pageNumber:H,page:se}),ae("/Contents "+pe+" 0 R"),ae(">>"),ae("endobj");var Ne=se.join(`
`);return S===x.ADVANCED&&(Ne+=`
Q`),Pa(pe,!0),qa({data:Ne,filters:ii(),objectId:pe}),ae("endobj"),ce},Kl=m.__private__.putPages=function(){var N,H,se=[];for(N=1;N<=_r;N++)pt[N].objId=Gr(),pt[N].contentsObjId=Gr();for(N=1;N<=_r;N++)se.push(oi({number:N,data:xe[N],objId:pt[N].objId,contentsObjId:pt[N].contentsObjId,mediaBox:pt[N].mediaBox,cropBox:pt[N].cropBox,bleedBox:pt[N].bleedBox,trimBox:pt[N].trimBox,artBox:pt[N].artBox,userUnit:pt[N].userUnit,rootDictionaryObjId:Ji,resourceDictionaryObjId:Ss}));Pa(Ji,!0),ae("<</Type /Pages");var ce="/Kids [";for(H=0;H<_r;H++)ce+=se[H]+" 0 R ";ae(ce+"]"),ae("/Count "+_r),ae(">>"),ae("endobj"),Wt.publish("postPutPages")},ou=function(N){Wt.publish("putFont",{font:N,out:ae,newObject:nn,putStream:qa}),N.isAlreadyPutted!==!0&&(N.objectNumber=nn(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Hu(N.postScriptName)),ae("/Subtype /Type1"),typeof N.encoding=="string"&&ae("/Encoding /"+N.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},lu=function(){for(var N in tr)tr.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&ou(tr[N])},cu=function(N){N.objectNumber=nn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[k(N.x),k(N.y),k(N.x+N.width),k(N.y+N.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var se=N.pages[1].join(`
`);qa({data:se,additionalKeyValues:H,objectId:N.objectNumber}),ae("endobj")},uu=function(){for(var N in bn)bn.hasOwnProperty(N)&&cu(bn[N])},am=function(N,H){var se,ce=[],pe=1/(H-1);for(se=0;se<1;se+=pe)ce.push(se);if(ce.push(1),N[0].offset!=0){var Ne={offset:0,color:N[0].color};N.unshift(Ne)}if(N[N.length-1].offset!=1){var _e={offset:1,color:N[N.length-1].color};N.push(_e)}for(var We="",rt=0,vt=0;vt<ce.length;vt++){for(se=ce[vt];se>N[rt+1].offset;)rt++;var mt=N[rt].offset,Pt=(se-mt)/(N[rt+1].offset-mt),wr=N[rt].color,Pr=N[rt+1].color;We+=W(Math.round((1-Pt)*wr[0]+Pt*Pr[0]).toString(16))+W(Math.round((1-Pt)*wr[1]+Pt*Pr[1]).toString(16))+W(Math.round((1-Pt)*wr[2]+Pt*Pr[2]).toString(16))}return We.trim()},yy=function(N,H){H||(H=21);var se=nn(),ce=am(N.colors,H),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+H+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qa({data:ce,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:se}),ae("endobj"),N.objectNumber=nn(),ae("<< /ShadingType "+N.type),ae("/ColorSpace /DeviceRGB");var Ne="/Coords ["+k(parseFloat(N.coords[0]))+" "+k(parseFloat(N.coords[1]))+" ";N.type===2?Ne+=k(parseFloat(N.coords[2]))+" "+k(parseFloat(N.coords[3])):Ne+=k(parseFloat(N.coords[2]))+" "+k(parseFloat(N.coords[3]))+" "+k(parseFloat(N.coords[4]))+" "+k(parseFloat(N.coords[5])),ae(Ne+="]"),N.matrix&&ae("/Matrix ["+N.matrix.toString()+"]"),ae("/Function "+se+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},by=function(N,H){var se=Gr(),ce=nn();H.push({resourcesOid:se,objectOid:ce}),N.objectNumber=ce;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+N.boundingBox.map(k).join(" ")+"]"}),pe.push({key:"XStep",value:k(N.xStep)}),pe.push({key:"YStep",value:k(N.yStep)}),pe.push({key:"Resources",value:se+" 0 R"}),N.matrix&&pe.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),qa({data:N.stream,additionalKeyValues:pe,objectId:N.objectNumber}),ae("endobj")},du=function(N){var H;for(H in Ht)Ht.hasOwnProperty(H)&&(Ht[H]instanceof hc?yy(Ht[H]):Ht[H]instanceof sd&&by(Ht[H],N))},sm=function(N){for(var H in N.objectNumber=nn(),ae("<<"),N)switch(H){case"opacity":ae("/ca "+R(N[H]));break;case"stroke-opacity":ae("/CA "+R(N[H]))}ae(">>"),ae("endobj")},wy=function(){var N;for(N in Dr)Dr.hasOwnProperty(N)&&sm(Dr[N])},gf=function(){for(var N in ae("/XObject <<"),bn)bn.hasOwnProperty(N)&&bn[N].objectNumber>=0&&ae("/"+N+" "+bn[N].objectNumber+" 0 R");Wt.publish("putXobjectDict"),ae(">>")},Ny=function(){An.oid=nn(),ae("<<"),ae("/Filter /Standard"),ae("/V "+An.v),ae("/R "+An.r),ae("/U <"+An.toHexString(An.U)+">"),ae("/O <"+An.toHexString(An.O)+">"),ae("/P "+An.P),ae(">>"),ae("endobj")},im=function(){for(var N in ae("/Font <<"),tr)tr.hasOwnProperty(N)&&(f===!1||f===!0&&h.hasOwnProperty(N))&&ae("/"+N+" "+tr[N].objectNumber+" 0 R");ae(">>")},jy=function(){if(Object.keys(Ht).length>0){for(var N in ae("/Shading <<"),Ht)Ht.hasOwnProperty(N)&&Ht[N]instanceof hc&&Ht[N].objectNumber>=0&&ae("/"+N+" "+Ht[N].objectNumber+" 0 R");Wt.publish("putShadingPatternDict"),ae(">>")}},fu=function(N){if(Object.keys(Ht).length>0){for(var H in ae("/Pattern <<"),Ht)Ht.hasOwnProperty(H)&&Ht[H]instanceof m.TilingPattern&&Ht[H].objectNumber>=0&&Ht[H].objectNumber<N&&ae("/"+H+" "+Ht[H].objectNumber+" 0 R");Wt.publish("putTilingPatternDict"),ae(">>")}},Sy=function(){if(Object.keys(Dr).length>0){var N;for(N in ae("/ExtGState <<"),Dr)Dr.hasOwnProperty(N)&&Dr[N].objectNumber>=0&&ae("/"+N+" "+Dr[N].objectNumber+" 0 R");Wt.publish("putGStateDict"),ae(">>")}},Ir=function(N){Pa(N.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),im(),jy(),fu(N.objectOid),Sy(),gf(),ae(">>"),ae("endobj")},om=function(){var N=[];lu(),wy(),uu(),du(N),Wt.publish("putResources"),N.forEach(Ir),Ir({resourcesOid:Ss,objectOid:Number.MAX_SAFE_INTEGER}),Wt.publish("postPutResources")},lm=function(){Wt.publish("putAdditionalObjects");for(var N=0;N<me.length;N++){var H=me[N];Pa(H.objId,!0),ae(H.content),ae("endobj")}Wt.publish("postPutAdditionalObjects")},cm=function(N){vr[N.fontName]=vr[N.fontName]||{},vr[N.fontName][N.fontStyle]=N.id},vf=function(N,H,se,ce,pe){var Ne={id:"F"+(Object.keys(tr).length+1).toString(10),postScriptName:N,fontName:H,fontStyle:se,encoding:ce,isStandardFont:pe||!1,metadata:{}};return Wt.publish("addFont",{font:Ne,instance:this}),tr[Ne.id]=Ne,cm(Ne),Ne.id},ky=function(N){for(var H=0,se=Pe.length;H<se;H++){var ce=vf.call(this,N[H][0],N[H][1],N[H][2],Pe[H][3],!0);f===!1&&(h[ce]=!0);var pe=N[H][0].split("-");cm({id:ce,fontName:pe[0],fontStyle:pe[1]||""})}Wt.publish("addFonts",{fonts:tr,dictionary:vr})},Ds=function(N){return N.foo=function(){try{return N.apply(this,arguments)}catch(ce){var H=ce.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var se="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ce.message;if(!ct.console)throw new Error(se);ct.console.error(se,ce),ct.alert&&alert(se)}},N.foo.bar=N,N.foo},hu=function(N,H){var se,ce,pe,Ne,_e,We,rt,vt,mt;if(pe=(H=H||{}).sourceEncoding||"Unicode",_e=H.outputEncoding,(H.autoencode||_e)&&tr[St].metadata&&tr[St].metadata[pe]&&tr[St].metadata[pe].encoding&&(Ne=tr[St].metadata[pe].encoding,!_e&&tr[St].encoding&&(_e=tr[St].encoding),!_e&&Ne.codePages&&(_e=Ne.codePages[0]),typeof _e=="string"&&(_e=Ne[_e]),_e)){for(rt=!1,We=[],se=0,ce=N.length;se<ce;se++)(vt=_e[N.charCodeAt(se)])?We.push(String.fromCharCode(vt)):We.push(N[se]),We[se].charCodeAt(0)>>8&&(rt=!0);N=We.join("")}for(se=N.length;rt===void 0&&se!==0;)N.charCodeAt(se-1)>>8&&(rt=!0),se--;if(!rt)return N;for(We=H.noBOM?[]:[254,255],se=0,ce=N.length;se<ce;se++){if((mt=(vt=N.charCodeAt(se))>>8)>>8)throw new Error("Character at position "+se+" of string '"+N+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");We.push(mt),We.push(vt-(mt<<8))}return String.fromCharCode.apply(void 0,We)},ca=m.__private__.pdfEscape=m.pdfEscape=function(N,H){return hu(N,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xf=m.__private__.beginPage=function(N){xe[++_r]=[],pt[_r]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},dm(_r),we(xe[$])},um=function(N,H){var se,ce,pe;switch(r=H||r,typeof N=="string"&&(se=g(N.toLowerCase()),Array.isArray(se)&&(ce=se[0],pe=se[1])),Array.isArray(N)&&(ce=N[0]*He,pe=N[1]*He),isNaN(ce)&&(ce=a[0],pe=a[1]),(ce>14400||pe>14400)&&(nr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ce=Math.min(14400,ce),pe=Math.min(14400,pe)),a=[ce,pe],r.substr(0,1)){case"l":pe>ce&&(a=[pe,ce]);break;case"p":ce>pe&&(a=[pe,ce])}xf(a),vm(Nf),ae(_s),Sf!==0&&ae(Sf+" J"),kf!==0&&ae(kf+" j"),Wt.publish("addPage",{pageNumber:_r})},Cy=function(N){N>0&&N<=_r&&(xe.splice(N,1),pt.splice(N,1),_r--,$>_r&&($=_r),this.setPage($))},dm=function(N){N>0&&N<=_r&&($=N)},Dy=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return xe.length-1},fm=function(N,H,se){var ce,pe=void 0;return se=se||{},N=N!==void 0?N:tr[St].fontName,H=H!==void 0?H:tr[St].fontStyle,ce=N.toLowerCase(),vr[ce]!==void 0&&vr[ce][H]!==void 0?pe=vr[ce][H]:vr[N]!==void 0&&vr[N][H]!==void 0?pe=vr[N][H]:se.disableWarning===!1&&nr.warn("Unable to look up font label for font '"+N+"', '"+H+"'. Refer to getFontList() for available fonts."),pe||se.noFallback||(pe=vr.times[H])==null&&(pe=vr.times.normal),pe},_y=m.__private__.putInfo=function(){var N=nn(),H=function(ce){return ce};for(var se in d!==null&&(H=An.encryptor(N,0)),ae("<<"),ae("/Producer ("+ca(H("jsPDF "+lt.version))+")"),dt)dt.hasOwnProperty(se)&&dt[se]&&ae("/"+se.substr(0,1).toUpperCase()+se.substr(1)+" ("+ca(H(dt[se]))+")");ae("/CreationDate ("+ca(H(U))+")"),ae(">>"),ae("endobj")},yf=m.__private__.putCatalog=function(N){var H=(N=N||{}).rootDictionaryObjId||Ji;switch(nn(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+H+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var se=""+$e;se.substr(se.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+R($e)+"]")}switch(bt||(bt="continuous"),bt){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}ut&&ae("/PageMode /"+ut),Wt.publish("putCatalog"),ae(">>"),ae("endobj")},Py=m.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(X+1)),ae("/Root "+X+" 0 R"),ae("/Info "+(X-1)+" 0 R"),d!==null&&ae("/Encrypt "+An.oid+" 0 R"),ae("/ID [ <"+z+"> <"+z+"> ]"),ae(">>")},Ey=m.__private__.putHeader=function(){ae("%PDF-"+y),ae("%ºß¬à")},My=m.__private__.putXRef=function(){var N="0000000000";ae("xref"),ae("0 "+(X+1)),ae("0000000000 65535 f ");for(var H=1;H<=X;H++)typeof Z[H]=="function"?ae((N+Z[H]()).slice(-10)+" 00000 n "):Z[H]!==void 0?ae((N+Z[H]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},Zi=m.__private__.buildDocument=function(){Ze(),we(ne),Wt.publish("buildDocument"),Ey(),Kl(),lm(),om(),d!==null&&Ny(),_y(),yf();var N=ie;return My(),Py(),ae("startxref"),ae(""+N),ae("%%EOF"),we(xe[$]),ne.join(`
`)},pu=m.__private__.getBlob=function(N){return new Blob([qe(N)],{type:"application/pdf"})},mu=m.output=m.__private__.output=Ds(function(N,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",N){case void 0:return Zi();case"save":m.save(H.filename);break;case"arraybuffer":return qe(Zi());case"blob":return pu(Zi());case"bloburi":case"bloburl":if(ct.URL!==void 0&&typeof ct.URL.createObjectURL=="function")return ct.URL&&ct.URL.createObjectURL(pu(Zi()))||void 0;nr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var se="",ce=Zi();try{se=T2(ce)}catch{se=T2(unescape(encodeURIComponent(ce)))}return"data:application/pdf;filename="+H.filename+";base64,"+se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ne=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(pe=H.pdfObjectUrl,Ne="");var _e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+Ne+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",We=ct.open();return We!==null&&We.document.write(_e),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ct)==="[object Window]"){var rt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',vt=ct.open();if(vt!==null){vt.document.write(rt);var mt=this;vt.document.documentElement.querySelector("#pdfViewer").onload=function(){vt.document.title=H.filename,vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mt.output("bloburl"))}}return vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',wr=ct.open();if(wr!==null&&(wr.document.write(Pt),wr.document.title=H.filename),wr||typeof safari>"u")return wr;break;case"datauri":case"dataurl":return ct.document.location.href=this.output("datauristring",H);default:return null}}),hm=function(N){return Array.isArray(Gl)===!0&&Gl.indexOf(N)>-1};switch(n){case"pt":He=1;break;case"mm":He=72/25.4;break;case"cm":He=72/2.54;break;case"in":He=72;break;case"px":He=hm("px_scaling")==1?.75:96/72;break;case"pc":case"em":He=12;break;case"ex":He=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);He=n}var An=null;le(),q();var Ay=function(N){return d!==null?An.encryptor(N,0):function(H){return H}},pm=m.__private__.getPageInfo=m.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:pt[N].objId,pageNumber:N,pageContext:pt[N]}},ft=m.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in pt)if(pt[H].objId===N)break;return pm(H)},Ly=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:pt[$].objId,pageNumber:$,pageContext:pt[$]}};m.addPage=function(){return um.apply(this,arguments),this},m.setPage=function(){return dm.apply(this,arguments),we.call(this,xe[$]),this},m.insertPage=function(N){return this.addPage(),this.movePage($,N),this},m.movePage=function(N,H){var se,ce;if(N>H){se=xe[N],ce=pt[N];for(var pe=N;pe>H;pe--)xe[pe]=xe[pe-1],pt[pe]=pt[pe-1];xe[H]=se,pt[H]=ce,this.setPage(H)}else if(N<H){se=xe[N],ce=pt[N];for(var Ne=N;Ne<H;Ne++)xe[Ne]=xe[Ne+1],pt[Ne]=pt[Ne+1];xe[H]=se,pt[H]=ce,this.setPage(H)}return this},m.deletePage=function(){return Cy.apply(this,arguments),this},m.__private__.text=m.text=function(N,H,se,ce,pe){var Ne,_e,We,rt,vt,mt,Pt,wr,Pr,Kr=(ce=ce||{}).scope||this;if(typeof N=="number"&&typeof H=="number"&&(typeof se=="string"||Array.isArray(se))){var Ln=se;se=H,H=N,N=Ln}if(arguments[3]instanceof ot?(D("The transform parameter of text() with a Matrix value"),Pr=pe):(We=arguments[4],rt=arguments[5],jt(Pt=arguments[3])==="object"&&Pt!==null||(typeof We=="string"&&(rt=We,We=null),typeof Pt=="string"&&(rt=Pt,Pt=null),typeof Pt=="number"&&(We=Pt,Pt=null),ce={flags:Pt,angle:We,align:rt})),isNaN(H)||isNaN(se)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return Kr;var dn="",Ps=!1,Ea=typeof ce.lineHeightFactor=="number"?ce.lineHeightFactor:Ql,ui=Kr.internal.scaleFactor;function jm(sr){return sr=sr.split("	").join(Array(ce.TabLen||9).join(" ")),ca(sr,Pt)}function Ef(sr){for(var ir,Fr=sr.concat(),an=[],ao=Fr.length;ao--;)typeof(ir=Fr.shift())=="string"?an.push(ir):Array.isArray(sr)&&(ir.length===1||ir[1]===void 0&&ir[2]===void 0)?an.push(ir[0]):an.push([ir[0],ir[1],ir[2]]);return an}function Mf(sr,ir){var Fr;if(typeof sr=="string")Fr=ir(sr)[0];else if(Array.isArray(sr)){for(var an,ao,$f=sr.concat(),Eu=[],_m=$f.length;_m--;)typeof(an=$f.shift())=="string"?Eu.push(ir(an)[0]):Array.isArray(an)&&typeof an[0]=="string"&&(ao=ir(an[0],an[1],an[2]),Eu.push([ao[0],ao[1],ao[2]]));Fr=Eu}return Fr}var wu=!1,Af=!0;if(typeof N=="string")wu=!0;else if(Array.isArray(N)){var Lf=N.concat();_e=[];for(var Nu,wn=Lf.length;wn--;)(typeof(Nu=Lf.shift())!="string"||Array.isArray(Nu)&&typeof Nu[0]!="string")&&(Af=!1);wu=Af}if(wu===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var ju=Le/Kr.internal.scaleFactor,Su=ju*(Ea-1);switch(ce.baseline){case"bottom":se-=Su;break;case"top":se+=ju-Su;break;case"hanging":se+=ju-2*Su;break;case"middle":se+=ju/2-Su}if((mt=ce.maxWidth||0)>0&&(typeof N=="string"?N=Kr.splitTextToSize(N,mt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(sr,ir){return sr.concat(Kr.splitTextToSize(ir,mt))},[]))),Ne={text:N,x:H,y:se,options:ce,mutex:{pdfEscape:ca,activeFontKey:St,fonts:tr,activeFontSize:Le}},Wt.publish("preProcessText",Ne),N=Ne.text,We=(ce=Ne.options).angle,!(Pr instanceof ot)&&We&&typeof We=="number"){We*=Math.PI/180,ce.rotationDirection===0&&(We=-We),S===x.ADVANCED&&(We=-We);var ku=Math.cos(We),Of=Math.sin(We);Pr=new ot(ku,Of,-Of,ku,0,0)}else We&&We instanceof ot&&(Pr=We);S!==x.ADVANCED||Pr||(Pr=si),(vt=ce.charSpace||xu)!==void 0&&(dn+=k(P(vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wr=ce.horizontalScale)!==void 0&&(dn+=k(100*wr)+` Tz
`),ce.lang;var ua=-1,Hy=ce.renderingMode!==void 0?ce.renderingMode:ce.stroke,Tf=Kr.internal.getCurrentPageInfo().pageContext;switch(Hy){case 0:case!1:case"fill":ua=0;break;case 1:case!0:case"stroke":ua=1;break;case 2:case"fillThenStroke":ua=2;break;case 3:case"invisible":ua=3;break;case 4:case"fillAndAddForClipping":ua=4;break;case 5:case"strokeAndAddPathForClipping":ua=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ua=6;break;case 7:case"addToPathForClipping":ua=7}var Sm=Tf.usedRenderingMode!==void 0?Tf.usedRenderingMode:-1;ua!==-1?dn+=ua+` Tr
`:Sm!==-1&&(dn+=`0 Tr
`),ua!==-1&&(Tf.usedRenderingMode=ua),rt=ce.align||"left";var Ga,Cu=Le*Ea,km=Kr.internal.pageSize.getWidth(),Cm=tr[St];vt=ce.charSpace||xu,mt=ce.maxWidth||0,Pt=Object.assign({autoencode:!0,noBOM:!0},ce.flags);var qo=[],ec=function(sr){return Kr.getStringUnitWidth(sr,{font:Cm,charSpace:vt,fontSize:Le,doKerning:!1})*Le/ui};if(Object.prototype.toString.call(N)==="[object Array]"){var da;_e=Ef(N),rt!=="left"&&(Ga=_e.map(ec));var Xn,Go=0;if(rt==="right"){H-=Ga[0],N=[],wn=_e.length;for(var to=0;to<wn;to++)to===0?(Xn=ci(H),da=eo(se)):(Xn=P(Go-Ga[to]),da=-Cu),N.push([_e[to],Xn,da]),Go=Ga[to]}else if(rt==="center"){H-=Ga[0]/2,N=[],wn=_e.length;for(var ro=0;ro<wn;ro++)ro===0?(Xn=ci(H),da=eo(se)):(Xn=P((Go-Ga[ro])/2),da=-Cu),N.push([_e[ro],Xn,da]),Go=Ga[ro]}else if(rt==="left"){N=[],wn=_e.length;for(var Du=0;Du<wn;Du++)N.push(_e[Du])}else if(rt==="justify"&&Cm.encoding==="Identity-H"){N=[],wn=_e.length,mt=mt!==0?mt:km;for(var no=0,Rr=0;Rr<wn;Rr++)if(da=Rr===0?eo(se):-Cu,Xn=Rr===0?ci(H):no,Rr<wn-1){var If=P((mt-Ga[Rr])/(_e[Rr].split(" ").length-1)),Qn=_e[Rr].split(" ");N.push([Qn[0]+" ",Xn,da]),no=0;for(var Ka=1;Ka<Qn.length;Ka++){var _u=(ec(Qn[Ka-1]+" "+Qn[Ka])-ec(Qn[Ka]))*ui+If;Ka==Qn.length-1?N.push([Qn[Ka],_u,0]):N.push([Qn[Ka]+" ",_u,0]),no-=_u}}else N.push([_e[Rr],Xn,da]);N.push(["",no,0])}else{if(rt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],wn=_e.length,mt=mt!==0?mt:km,Rr=0;Rr<wn;Rr++)da=Rr===0?eo(se):-Cu,Xn=Rr===0?ci(H):0,Rr<wn-1?qo.push(k(P((mt-Ga[Rr])/(_e[Rr].split(" ").length-1)))):qo.push(0),N.push([_e[Rr],Xn,da])}}var Dm=typeof ce.R2L=="boolean"?ce.R2L:tt;Dm===!0&&(N=Mf(N,function(sr,ir,Fr){return[sr.split("").reverse().join(""),ir,Fr]})),Ne={text:N,x:H,y:se,options:ce,mutex:{pdfEscape:ca,activeFontKey:St,fonts:tr,activeFontSize:Le}},Wt.publish("postProcessText",Ne),N=Ne.text,Ps=Ne.mutex.isHex||!1;var Rf=tr[St].encoding;Rf!=="WinAnsiEncoding"&&Rf!=="StandardEncoding"||(N=Mf(N,function(sr,ir,Fr){return[jm(sr),ir,Fr]})),_e=Ef(N),N=[];for(var tc,rc,Ko,nc=0,Pu=1,ac=Array.isArray(_e[0])?Pu:nc,Xo="",Ff=function(sr,ir,Fr){var an="";return Fr instanceof ot?(Fr=typeof ce.angle=="number"?js(Fr,new ot(1,0,0,1,sr,ir)):js(new ot(1,0,0,1,sr,ir),Fr),S===x.ADVANCED&&(Fr=js(new ot(1,0,0,-1,0,0),Fr)),an=Fr.join(" ")+` Tm
`):an=k(sr)+" "+k(ir)+` Td
`,an},Xa=0;Xa<_e.length;Xa++){switch(Xo="",ac){case Pu:Ko=(Ps?"<":"(")+_e[Xa][0]+(Ps?">":")"),tc=parseFloat(_e[Xa][1]),rc=parseFloat(_e[Xa][2]);break;case nc:Ko=(Ps?"<":"(")+_e[Xa]+(Ps?">":")"),tc=ci(H),rc=eo(se)}qo!==void 0&&qo[Xa]!==void 0&&(Xo=qo[Xa]+` Tw
`),Xa===0?N.push(Xo+Ff(tc,rc,Pr)+Ko):ac===nc?N.push(Xo+Ko):ac===Pu&&N.push(Xo+Ff(tc,rc,Pr)+Ko)}N=ac===nc?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Qa=`BT
/`;return Qa+=St+" "+Le+` Tf
`,Qa+=k(Le*Ea)+` TL
`,Qa+=Jl+`
`,Qa+=dn,Qa+=N,ae(Qa+="ET"),h[St]=!0,Kr};var Oy=m.__private__.clip=m.clip=function(N){return ae(N==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return Oy("evenodd")},m.__private__.discardPath=m.discardPath=function(){return ae("n"),this};var li=m.__private__.isValidStyle=function(N){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(H=!0),H};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(N){return li(N)&&(u=N),this};var mm=m.__private__.getStyle=m.getStyle=function(N){var H=u;switch(N){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=N}return H},gm=m.close=function(){return ae("h"),this};m.stroke=function(){return ae("S"),this},m.fill=function(N){return gu("f",N),this},m.fillEvenOdd=function(N){return gu("f*",N),this},m.fillStroke=function(N){return gu("B",N),this},m.fillStrokeEvenOdd=function(N){return gu("B*",N),this};var gu=function(N,H){jt(H)==="object"?Iy(H,N):ae(N)},bf=function(N){N===null||S===x.ADVANCED&&N===void 0||(N=mm(N),ae(N))};function Ty(N,H,se,ce,pe){var Ne=new sd(H||this.boundingBox,se||this.xStep,ce||this.yStep,this.gState,pe||this.matrix);Ne.stream=this.stream;var _e=N+"$$"+this.cloneIndex+++"$$";return la(_e,Ne),Ne}var Iy=function(N,H){var se=ql[N.key],ce=Ht[se];if(ce instanceof hc)ae("q"),ae(Ry(H)),ce.gState&&m.setGState(ce.gState),ae(N.matrix.toString()+" cm"),ae("/"+se+" sh"),ae("Q");else if(ce instanceof sd){var pe=new ot(1,0,0,-1,0,Vo());N.matrix&&(pe=pe.multiply(N.matrix||si),se=Ty.call(ce,N.key,N.boundingBox,N.xStep,N.yStep,pe).id),ae("q"),ae("/Pattern cs"),ae("/"+se+" scn"),ce.gState&&m.setGState(ce.gState),ae(H),ae("Q")}},Ry=function(N){switch(N){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},wf=m.moveTo=function(N,H){return ae(k(P(N))+" "+k(O(H))+" m"),this},Xl=m.lineTo=function(N,H){return ae(k(P(N))+" "+k(O(H))+" l"),this},Wo=m.curveTo=function(N,H,se,ce,pe,Ne){return ae([k(P(N)),k(O(H)),k(P(se)),k(O(ce)),k(P(pe)),k(O(Ne)),"c"].join(" ")),this};m.__private__.line=m.line=function(N,H,se,ce,pe){if(isNaN(N)||isNaN(H)||isNaN(se)||isNaN(ce)||!li(pe))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[se-N,ce-H]],N,H,[1,1],pe||"S"):this.lines([[se-N,ce-H]],N,H,[1,1]).stroke()},m.__private__.lines=m.lines=function(N,H,se,ce,pe,Ne){var _e,We,rt,vt,mt,Pt,wr,Pr,Kr,Ln,dn,Ps;if(typeof N=="number"&&(Ps=se,se=H,H=N,N=Ps),ce=ce||[1,1],Ne=Ne||!1,isNaN(H)||isNaN(se)||!Array.isArray(N)||!Array.isArray(ce)||!li(pe)||typeof Ne!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(wf(H,se),_e=ce[0],We=ce[1],vt=N.length,Ln=H,dn=se,rt=0;rt<vt;rt++)(mt=N[rt]).length===2?(Ln=mt[0]*_e+Ln,dn=mt[1]*We+dn,Xl(Ln,dn)):(Pt=mt[0]*_e+Ln,wr=mt[1]*We+dn,Pr=mt[2]*_e+Ln,Kr=mt[3]*We+dn,Ln=mt[4]*_e+Ln,dn=mt[5]*We+dn,Wo(Pt,wr,Pr,Kr,Ln,dn));return Ne&&gm(),bf(pe),this},m.path=function(N){for(var H=0;H<N.length;H++){var se=N[H],ce=se.c;switch(se.op){case"m":wf(ce[0],ce[1]);break;case"l":Xl(ce[0],ce[1]);break;case"c":Wo.apply(this,ce);break;case"h":gm()}}return this},m.__private__.rect=m.rect=function(N,H,se,ce,pe){if(isNaN(N)||isNaN(H)||isNaN(se)||isNaN(ce)||!li(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(ce=-ce),ae([k(P(N)),k(O(H)),k(P(se)),k(P(ce)),"re"].join(" ")),bf(pe),this},m.__private__.triangle=m.triangle=function(N,H,se,ce,pe,Ne,_e){if(isNaN(N)||isNaN(H)||isNaN(se)||isNaN(ce)||isNaN(pe)||isNaN(Ne)||!li(_e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[se-N,ce-H],[pe-se,Ne-ce],[N-pe,H-Ne]],N,H,[1,1],_e,!0),this},m.__private__.roundedRect=m.roundedRect=function(N,H,se,ce,pe,Ne,_e){if(isNaN(N)||isNaN(H)||isNaN(se)||isNaN(ce)||isNaN(pe)||isNaN(Ne)||!li(_e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*se),Ne=Math.min(Ne,.5*ce),this.lines([[se-2*pe,0],[pe*We,0,pe,Ne-Ne*We,pe,Ne],[0,ce-2*Ne],[0,Ne*We,-pe*We,Ne,-pe,Ne],[2*pe-se,0],[-pe*We,0,-pe,-Ne*We,-pe,-Ne],[0,2*Ne-ce],[0,-Ne*We,pe*We,-Ne,pe,-Ne]],N+pe,H,[1,1],_e,!0),this},m.__private__.ellipse=m.ellipse=function(N,H,se,ce,pe){if(isNaN(N)||isNaN(H)||isNaN(se)||isNaN(ce)||!li(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ne=4/3*(Math.SQRT2-1)*se,_e=4/3*(Math.SQRT2-1)*ce;return wf(N+se,H),Wo(N+se,H-_e,N+Ne,H-ce,N,H-ce),Wo(N-Ne,H-ce,N-se,H-_e,N-se,H),Wo(N-se,H+_e,N-Ne,H+ce,N,H+ce),Wo(N+Ne,H+ce,N+se,H+_e,N+se,H),bf(pe),this},m.__private__.circle=m.circle=function(N,H,se,ce){if(isNaN(N)||isNaN(H)||isNaN(se)||!li(ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,H,se,se,ce)},m.setFont=function(N,H,se){return se&&(H=T(H,se)),St=fm(N,H,{disableWarning:!1}),this};var Fy=m.__private__.getFont=m.getFont=function(){return tr[fm.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var N,H,se={};for(N in vr)if(vr.hasOwnProperty(N))for(H in se[N]=[],vr[N])vr[N].hasOwnProperty(H)&&se[N].push(H);return se},m.addFont=function(N,H,se,ce,pe){var Ne=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ne.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&Ne.indexOf(arguments[3])==-1&&(se=T(se,ce)),pe=pe||"Identity-H",vf.call(this,N,H,se,pe)};var Ql,Nf=e.lineWidth||.200025,vu=m.__private__.getLineWidth=m.getLineWidth=function(){return Nf},vm=m.__private__.setLineWidth=m.setLineWidth=function(N){return Nf=N,ae(k(P(N))+" w"),this};m.__private__.setLineDash=lt.API.setLineDash=lt.API.setLineDashPattern=function(N,H){if(N=N||[],H=H||0,isNaN(H)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(se){return k(P(se))}).join(" "),H=k(P(H)),ae("["+N+"] "+H+" d"),this};var xm=m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Ql};m.__private__.getLineHeight=m.getLineHeight=function(){return Le*Ql};var ym=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Ql=N),this},bm=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return Ql};ym(e.lineHeight);var ci=m.__private__.getHorizontalCoordinate=function(N){return P(N)},eo=m.__private__.getVerticalCoordinate=function(N){return S===x.ADVANCED?N:pt[$].mediaBox.topRightY-pt[$].mediaBox.bottomLeftY-P(N)},$y=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(N){return k(ci(N))},Yo=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(N){return k(eo(N))},_s=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return ks(_s)},m.__private__.setStrokeColor=m.setDrawColor=function(N,H,se,ce){return _s=Cs({ch1:N,ch2:H,ch3:se,ch4:ce,pdfColorType:"draw",precision:2}),ae(_s),this};var jf=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return ks(jf)},m.__private__.setFillColor=m.setFillColor=function(N,H,se,ce){return jf=Cs({ch1:N,ch2:H,ch3:se,ch4:ce,pdfColorType:"fill",precision:2}),ae(jf),this};var Jl=e.textColor||"0 g",Uy=m.__private__.getTextColor=m.getTextColor=function(){return ks(Jl)};m.__private__.setTextColor=m.setTextColor=function(N,H,se,ce){return Jl=Cs({ch1:N,ch2:H,ch3:se,ch4:ce,pdfColorType:"text",precision:3}),this};var xu=e.charSpace,zy=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(xu||0)};m.__private__.setCharSpace=m.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return xu=N,this};var Sf=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(N){var H=m.CapJoinStyles[N];if(H===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Sf=H,ae(H+" J"),this};var kf=0;m.__private__.setLineJoin=m.setLineJoin=function(N){var H=m.CapJoinStyles[N];if(H===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return kf=H,ae(H+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(k(P(N))+" M"),this},m.GState=rv,m.setGState=function(N){(N=typeof N=="string"?Dr[Ns[N]]:wm(null,N)).equals(Qi)||(ae("/"+N.id+" gs"),Qi=N)};var wm=function(N,H){if(!N||!Ns[N]){var se=!1;for(var ce in Dr)if(Dr.hasOwnProperty(ce)&&Dr[ce].equals(H)){se=!0;break}if(se)H=Dr[ce];else{var pe="GS"+(Object.keys(Dr).length+1).toString(10);Dr[pe]=H,H.id=pe}return N&&(Ns[N]=H.id),Wt.publish("addGState",H),H}};m.addGState=function(N,H){return wm(N,H),this},m.saveGraphicsState=function(){return ae("q"),ri.push({key:St,size:Le,color:Jl}),this},m.restoreGraphicsState=function(){ae("Q");var N=ri.pop();return St=N.key,Le=N.size,Jl=N.color,Qi=null,this},m.setCurrentTransformationMatrix=function(N){return ae(N.toString()+" cm"),this},m.comment=function(N){return ae("#"+N),this};var yu=function(N,H){var se=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return se},set:function(Ne){isNaN(Ne)||(se=parseFloat(Ne))}});var ce=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ce},set:function(Ne){isNaN(Ne)||(ce=parseFloat(Ne))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(Ne){pe=Ne.toString()}}),this},Cf=function(N,H,se,ce){yu.call(this,N,H),this.type="rect";var pe=se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(_e){isNaN(_e)||(pe=parseFloat(_e))}});var Ne=ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ne},set:function(_e){isNaN(_e)||(Ne=parseFloat(_e))}}),this},Df=function(){this.page=_r,this.currentPage=$,this.pages=xe.slice(0),this.pagesContext=pt.slice(0),this.x=Mn,this.y=Tt,this.matrix=ws,this.width=Zl($),this.height=Vo($),this.outputDestination=Ee,this.id="",this.objectNumber=-1};Df.prototype.restore=function(){_r=this.page,$=this.currentPage,pt=this.pagesContext,xe=this.pages,Mn=this.x,Tt=this.y,ws=this.matrix,_f($,this.width),Pf($,this.height),Ee=this.outputDestination};var Nm=function(N,H,se,ce,pe){ai.push(new Df),_r=$=0,xe=[],Mn=N,Tt=H,ws=pe,xf([se,ce])},By=function(N){if(ni[N])ai.pop().restore();else{var H=new Df,se="Xo"+(Object.keys(bn).length+1).toString(10);H.id=se,ni[N]=se,bn[se]=H,Wt.publish("addFormObject",H),ai.pop().restore()}};for(var bu in m.beginFormObject=function(N,H,se,ce,pe){return Nm(N,H,se,ce,pe),this},m.endFormObject=function(N){return By(N),this},m.doFormObject=function(N,H){var se=bn[ni[N]];return ae("q"),ae(H.toString()+" cm"),ae("/"+se.id+" Do"),ae("Q"),this},m.getFormObject=function(N){var H=bn[ni[N]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},m.save=function(N,H){return N=N||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(uc(pu(Zi()),N),typeof uc.unload=="function"&&ct.setTimeout&&setTimeout(uc.unload,911),this):new Promise(function(se,ce){try{var pe=uc(pu(Zi()),N);typeof uc.unload=="function"&&ct.setTimeout&&setTimeout(uc.unload,911),se(pe)}catch(Ne){ce(Ne.message)}})},lt.API)lt.API.hasOwnProperty(bu)&&(bu==="events"&&lt.API.events.length?function(N,H){var se,ce,pe;for(pe=H.length-1;pe!==-1;pe--)se=H[pe][0],ce=H[pe][1],N.subscribe.apply(N,[se].concat(typeof ce=="function"?[ce]:ce))}(Wt,lt.API.events):m[bu]=lt.API[bu]);var Zl=m.getPageWidth=function(N){return(pt[N=N||$].mediaBox.topRightX-pt[N].mediaBox.bottomLeftX)/He},_f=m.setPageWidth=function(N,H){pt[N].mediaBox.topRightX=H*He+pt[N].mediaBox.bottomLeftX},Vo=m.getPageHeight=function(N){return(pt[N=N||$].mediaBox.topRightY-pt[N].mediaBox.bottomLeftY)/He},Pf=m.setPageHeight=function(N,H){pt[N].mediaBox.topRightY=H*He+pt[N].mediaBox.bottomLeftY};return m.internal={pdfEscape:ca,getStyle:mm,getFont:Fy,getFontSize:Fe,getCharSpace:zy,getTextColor:Uy,getLineHeight:xm,getLineHeightFactor:bm,getLineWidth:vu,write:Je,getHorizontalCoordinate:ci,getVerticalCoordinate:eo,getCoordinateString:$y,getVerticalCoordinateString:Yo,collections:{},newObject:nn,newAdditionalObject:iu,newObjectDeferred:Gr,newObjectDeferredBegin:Pa,getFilters:ii,putStream:qa,events:Wt,scaleFactor:He,pageSize:{getWidth:function(){return Zl($)},setWidth:function(N){_f($,N)},getHeight:function(){return Vo($)},setHeight:function(N){Pf($,N)}},encryptionOptions:d,encryption:An,getEncryptor:Ay,output:mu,getNumberOfPages:Dy,pages:xe,out:ae,f2:R,f3:M,getPageInfo:pm,getPageInfoByObjId:ft,getCurrentPageInfo:Ly,getPDFVersion:v,Point:yu,Rectangle:Cf,Matrix:ot,hasHotfix:hm},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return Zl($)},set:function(N){_f($,N)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return Vo($)},set:function(N){Pf($,N)},enumerable:!0,configurable:!0}),ky.call(m,Pe),St="F1",um(a,r),Wt.publish("initialized"),m}Bu.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Bu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Bu.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Bu.prototype.processOwnerPassword=function(e,t){return R2(I2(t).substr(0,5),e)},Bu.prototype.encryptor=function(e,t){var r=I2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return R2(r,n)}},rv.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||jt(e)!==jt(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},lt.API={events:[]},lt.version="2.5.2";var Mr=lt.API,O5=1,ru=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ru=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},gt=function(e){return e.toFixed(2)},ol=function(e){return e.toFixed(5)};Mr.__acroform__={};var _a=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},R4=function(e){return e*O5},pi=function(e){var t=new jP,r=Qe.internal.getHeight(e)||0,n=Qe.internal.getWidth(e)||0;return t.BBox=[0,0,Number(gt(n)),Number(gt(r))],t},w9=Mr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},N9=Mr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},j9=Mr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},zr=Mr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return j9(e,t-1)},Br=Mr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return w9(e,t-1)},Hr=Mr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return N9(e,t-1)},S9=Mr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],s=e[1],o=e[2],l=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(gt(c.lowerLeft_X)),Number(gt(c.lowerLeft_Y)),Number(gt(c.upperRight_X)),Number(gt(c.upperRight_Y))]},k9=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=F2(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+gt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=pi(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},F2=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(M){return M.split(`
`)}):a.map(function(M){return[M]});var s=r,o=Qe.internal.getHeight(e)||0;o=o<0?-o:o;var l=Qe.internal.getWidth(e)||0;l=l<0?-l:l;var c=function(M,P,F){if(M+1<a.length){var O=P+" "+a[M+1][0];return p0(O,e,F).width<=l-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=p0("3",e,s).height,h=e.multiline?o-s:(o-f)/2,m=h+=2,y=0,v=0,w=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+p0(t,e,s=12).width+", FieldWidth:"+l+`
`;break}for(var g="",x=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var j=!1;if(a[S].length!==1&&w!==a[S].length-1){if((f+2)*(x+2)+2>o)continue e;g+=a[S][w],j=!0,v=S,S--}else{g=(g+=a[S][w]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var E=parseInt(S),T=c(E,g,s),k=S>=a.length-1;if(T&&!k){g+=" ",w=0;continue}if(T||k){if(k)v=E;else if(e.multiline&&(f+2)*(x+2)+2>o)continue e}else{if(!e.multiline||(f+2)*(x+2)+2>o)continue e;v=E}}for(var D="",I=y;I<=v;I++){var R=a[I];if(e.multiline){if(I===v){D+=R[w]+" ",w=(w+1)%R.length;continue}if(I===y){D+=R[R.length-1]+" ";continue}}D+=R[0]+" "}switch(D=D.substr(D.length-1)==" "?D.substr(0,D.length-1):D,d=p0(D,e,s).width,e.textAlign){case"right":u=l-d-2;break;case"center":u=(l-d)/2;break;case"left":default:u=2}t+=gt(u)+" "+gt(m)+` Td
`,t+="("+ru(D)+`) Tj
`,t+=-gt(u)+` 0 Td
`,m=-(s+2),d=0,y=j?v:v+1,x++,g=""}break}return n.text=t,n.fontSize=s,n},p0=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},C9={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},D9=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},_9=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),jt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},P9=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Zs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(C9)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");O5=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new SP,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&D9(s,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=S9(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Qe.createDefaultAppearanceStream(l),jt(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var d=k9(l);c.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(l.appearanceStreamContent){var f="";for(var h in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(h)){var m=l.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var o in m)if(m.hasOwnProperty(o)){var y=m[o];typeof y=="function"&&(y=y.call(a,l)),f+="/"+o+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=m)=="function"&&(y=y.call(a,l)),f+="/"+o+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&_9(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},NP=Mr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(o){return o};if(Array.isArray(e)){for(var a="[",s=0;s<e.length;s++)switch(s!==0&&(a+=" "),jt(e[s])){case"boolean":case"number":case"object":a+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+ru(n(e[s].toString()))+")"):a+=e[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},V1=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ru(n(e))+")"},Di=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Di.prototype.toString=function(){return this.objId+" 0 R"},Di.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Di.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:NP(a,this.objId,this.scope)}):a instanceof Di?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var jP=function(){Di.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};_a(jP,Di);var SP=function(){Di.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ru(r(e))+")"}},set:function(r){e=r}})};_a(SP,Di);var Zs=function e(){Di.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!zr(t,3)},set:function(g){g?this.F=Br(t,3):this.F=Hr(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');r=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof nv)return;s="FieldObject"+e.FieldNum++}var g=function(x){return x};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+ru(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/O5:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof nv||this instanceof kc))return V1(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof mn?h:V1(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof mn?g:g.substr(0,1)==="("?Ru(g.substr(1,g.length-2)):Ru(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mn?Ru(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof mn?"/"+g:g}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof mn?m:V1(m,this.objId,this.scope)},set:function(g){g=g.toString(),m=this instanceof mn?g:g.substr(0,1)==="("?Ru(g.substr(1,g.length-2)):Ru(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mn?Ru(m.substr(1,m.length-1)):m},set:function(g){g=g.toString(),m=this instanceof mn?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(g){g=!!g,v=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(g){y=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,1)},set:function(g){g?this.Ff=Br(this.Ff,1):this.Ff=Hr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,2)},set:function(g){g?this.Ff=Br(this.Ff,2):this.Ff=Hr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,3)},set:function(g){g?this.Ff=Br(this.Ff,3):this.Ff=Hr(this.Ff,3)}});var w=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(w!==null)return w},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');w=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(w){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:w=2;break;case"center":case 1:w=1;break;case"left":case 0:default:w=0}}})};_a(Zs,Di);var pd=function(){Zs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return NP(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,18)},set:function(r){r?this.Ff=Br(this.Ff,18):this.Ff=Hr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Br(this.Ff,19):this.Ff=Hr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,20)},set:function(r){r?(this.Ff=Br(this.Ff,20),t.sort()):this.Ff=Hr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,22)},set:function(r){r?this.Ff=Br(this.Ff,22):this.Ff=Hr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,23)},set:function(r){r?this.Ff=Br(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,27)},set:function(r){r?this.Ff=Br(this.Ff,27):this.Ff=Hr(this.Ff,27)}}),this.hasAppearanceStream=!1};_a(pd,Zs);var md=function(){pd.call(this),this.fontName="helvetica",this.combo=!1};_a(md,pd);var gd=function(){md.call(this),this.combo=!0};_a(gd,md);var tg=function(){gd.call(this),this.edit=!0};_a(tg,gd);var mn=function(){Zs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,15)},set:function(r){r?this.Ff=Br(this.Ff,15):this.Ff=Hr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,16)},set:function(r){r?this.Ff=Br(this.Ff,16):this.Ff=Hr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,17)},set:function(r){r?this.Ff=Br(this.Ff,17):this.Ff=Hr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,26)},set:function(r){r?this.Ff=Br(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+ru(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){jt(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};_a(mn,Zs);var rg=function(){mn.call(this),this.pushButton=!0};_a(rg,mn);var vd=function(){mn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};_a(vd,mn);var nv=function(){var e,t;Zs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+ru(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){jt(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};_a(nv,Zs),vd.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},vd.prototype.createOption=function(e){var t=new nv;return t.Parent=this,t.optionName=e,this.Kids.push(t),E9.call(this.scope,t),t};var ng=function(){mn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};_a(ng,mn);var kc=function(){Zs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,13)},set:function(t){t?this.Ff=Br(this.Ff,13):this.Ff=Hr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,21)},set:function(t){t?this.Ff=Br(this.Ff,21):this.Ff=Hr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,23)},set:function(t){t?this.Ff=Br(this.Ff,23):this.Ff=Hr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,24)},set:function(t){t?this.Ff=Br(this.Ff,24):this.Ff=Hr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,25)},set:function(t){t?this.Ff=Br(this.Ff,25):this.Ff=Hr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,26)},set:function(t){t?this.Ff=Br(this.Ff,26):this.Ff=Hr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};_a(kc,Zs);var ag=function(){kc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!zr(this.Ff,14)},set:function(e){e?this.Ff=Br(this.Ff,14):this.Ff=Hr(this.Ff,14)}}),this.password=!0};_a(ag,kc);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=pi(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),s=F2(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+gt(Qe.internal.getWidth(e))+" "+gt(Qe.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+gt(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=pi(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],s=Qe.internal.getHeight(e),o=Qe.internal.getWidth(e),l=F2(e,e.caption);return a.push("1 g"),a.push("0 0 "+gt(o)+" "+gt(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+gt(o-1)+" "+gt(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+gt(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=pi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+gt(Qe.internal.getWidth(e))+" "+gt(Qe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Qe.RadioButton.Circle.YesNormal,t.D[e]=Qe.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=pi(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Qe.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ol(Qe.internal.getWidth(e)/2)+" "+ol(Qe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=pi(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Qe.internal.Bezier_C).toFixed(5)),o=Number((n*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ol(Qe.internal.getWidth(e)/2)+" "+ol(Qe.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ol(Qe.internal.getWidth(e)/2)+" "+ol(Qe.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=pi(e);t.scope=e.scope;var r=[],n=Qe.internal.getWidth(e)<=Qe.internal.getHeight(e)?Qe.internal.getWidth(e)/4:Qe.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*Qe.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ol(Qe.internal.getWidth(e)/2)+" "+ol(Qe.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Qe.RadioButton.Cross.YesNormal,t.D[e]=Qe.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=pi(e);t.scope=e.scope;var r=[],n=Qe.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+gt(Qe.internal.getWidth(e)-2)+" "+gt(Qe.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(gt(n.x1.x)+" "+gt(n.x1.y)+" m"),r.push(gt(n.x2.x)+" "+gt(n.x2.y)+" l"),r.push(gt(n.x4.x)+" "+gt(n.x4.y)+" m"),r.push(gt(n.x3.x)+" "+gt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=pi(e);t.scope=e.scope;var r=Qe.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+gt(Qe.internal.getWidth(e))+" "+gt(Qe.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+gt(Qe.internal.getWidth(e)-2)+" "+gt(Qe.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(gt(r.x1.x)+" "+gt(r.x1.y)+" m"),n.push(gt(r.x2.x)+" "+gt(r.x2.y)+" l"),n.push(gt(r.x4.x)+" "+gt(r.x4.y)+" m"),n.push(gt(r.x3.x)+" "+gt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=pi(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+gt(Qe.internal.getWidth(e))+" "+gt(Qe.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Qe.internal.getWidth(e),r=Qe.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Qe.internal.getWidth=function(e){var t=0;return jt(e)==="object"&&(t=R4(e.Rect[2])),t},Qe.internal.getHeight=function(e){var t=0;return jt(e)==="object"&&(t=R4(e.Rect[3])),t};var E9=Mr.addField=function(e){if(P9(this,e),!(e instanceof Zs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Mr.AcroFormChoiceField=pd,Mr.AcroFormListBox=md,Mr.AcroFormComboBox=gd,Mr.AcroFormEditBox=tg,Mr.AcroFormButton=mn,Mr.AcroFormPushButton=rg,Mr.AcroFormRadioButton=vd,Mr.AcroFormCheckBox=ng,Mr.AcroFormTextField=kc,Mr.AcroFormPasswordField=ag,Mr.AcroFormAppearance=Qe,Mr.AcroForm={ChoiceField:pd,ListBox:md,ComboBox:gd,EditBox:tg,Button:mn,PushButton:rg,RadioButton:vd,CheckBox:ng,TextField:kc,PasswordField:ag,Appearance:Qe},lt.AcroForm={ChoiceField:pd,ListBox:md,ComboBox:gd,EditBox:tg,Button:mn,PushButton:rg,RadioButton:vd,CheckBox:ng,TextField:kc,PasswordField:ag,Appearance:Qe};function kP(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(M,P){var F,O,U,z,V,q=t;if((P=P||t)==="RGBA"||M.data!==void 0&&M.data instanceof Uint8ClampedArray&&"height"in M&&"width"in M)return"RGBA";if(T(M))for(V in r)for(U=r[V],F=0;F<U.length;F+=1){for(z=!0,O=0;O<U[F].length;O+=1)if(U[F][O]!==void 0&&U[F][O]!==M[O]){z=!1;break}if(z===!0){q=V;break}}else for(V in r)for(U=r[V],F=0;F<U.length;F+=1){for(z=!0,O=0;O<U[F].length;O+=1)if(U[F][O]!==void 0&&U[F][O]!==M.charCodeAt(O)){z=!1;break}if(z===!0){q=V;break}}return q===t&&P!==t&&(q=P),q},a=function M(P){for(var F=this.internal.write,O=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var z=[];if(z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Image"}),z.push({key:"Width",value:P.width}),z.push({key:"Height",value:P.height}),P.colorSpace===w.INDEXED?z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(z.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===w.DEVICE_CMYK&&z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),z.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&z.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var V="",q=0,re=P.transparency.length;q<re;q++)V+=P.transparency[q]+" "+P.transparency[q]+" ";z.push({key:"Mask",value:"["+V+"]"})}P.sMask!==void 0&&z.push({key:"SMask",value:P.objectId+1+" 0 R"});var oe=P.filter!==void 0?["/"+P.filter]:void 0;if(O({data:P.data,additionalKeyValues:z,alreadyAppliedFilters:oe,objectId:P.objectId}),F("endobj"),"sMask"in P&&P.sMask!==void 0){var le="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,_={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:le,data:P.sMask};"filter"in P&&(_.filter=P.filter),M.call(this,_)}if(P.colorSpace===w.INDEXED){var $=this.internal.newObject();O({data:D(new Uint8Array(P.palette)),objectId:$}),F("endobj")}},s=function(){var M=this.internal.collections.addImage_images;for(var P in M)a.call(this,M[P])},o=function(){var M,P=this.internal.collections.addImage_images,F=this.internal.write;for(var O in P)F("/I"+(M=P[O]).index,M.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var M=this.internal.collections.addImage_images;return l.call(this),M},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(M){return typeof e["process"+M.toUpperCase()]=="function"},f=function(M){return jt(M)==="object"&&M.nodeType===1},h=function(M,P){if(M.nodeName==="IMG"&&M.hasAttribute("src")){var F=""+M.getAttribute("src");if(F.indexOf("data:image/")===0)return Ah(unescape(F).split("base64,").pop());var O=e.loadFile(F,!0);if(O!==void 0)return O}if(M.nodeName==="CANVAS"){if(M.width===0||M.height===0)throw new Error("Given canvas must have data. Canvas width: "+M.width+", height: "+M.height);var U;switch(P){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return Ah(M.toDataURL(U,1).split("base64,").pop())}},m=function(M){var P=this.internal.collections.addImage_images;if(P){for(var F in P)if(M===P[F].alias)return P[F]}},y=function(M,P,F){return M||P||(M=-96,P=-96),M<0&&(M=-1*F.width*72/M/this.internal.scaleFactor),P<0&&(P=-1*F.height*72/P/this.internal.scaleFactor),M===0&&(M=P*F.width/F.height),P===0&&(P=M*F.height/F.width),[M,P]},v=function(M,P,F,O,U,z){var V=y.call(this,F,O,U),q=this.internal.getCoordinateString,re=this.internal.getVerticalCoordinateString,oe=c.call(this);if(F=V[0],O=V[1],oe[U.index]=U,z){z*=Math.PI/180;var le=Math.cos(z),_=Math.sin(z),$=function(W){return W.toFixed(4)},Y=[$(le),$(_),$(-1*_),$(le),0,0,"cm"]}this.internal.write("q"),z?(this.internal.write([1,"0","0",1,q(M),re(P+O),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([q(F),"0","0",q(O),"0","0","cm"].join(" "))):this.internal.write([q(F),"0","0",q(O),q(M),re(P+O),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},w=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=e.__addimage__.sHashCode=function(M){var P,F,O=0;if(typeof M=="string")for(F=M.length,P=0;P<F;P++)O=(O<<5)-O+M.charCodeAt(P),O|=0;else if(T(M))for(F=M.byteLength/2,P=0;P<F;P++)O=(O<<5)-O+M[P],O|=0;return O},S=e.__addimage__.validateStringAsBase64=function(M){(M=M||"").toString().trim();var P=!0;return M.length===0&&(P=!1),M.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(M.substr(0,M.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(M.substr(-2))===!1&&(P=!1),P},j=e.__addimage__.extractImageFromDataUrl=function(M){var P=(M=M||"").split("base64,"),F=null;if(P.length===2){var O=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(O)&&(F={mimeType:O[1],charset:O[2],data:P[1]})}return F},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(M){return E()&&M instanceof ArrayBuffer};var T=e.__addimage__.isArrayBufferView=function(M){return E()&&typeof Uint32Array<"u"&&(M instanceof Int8Array||M instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&M instanceof Uint8ClampedArray||M instanceof Int16Array||M instanceof Uint16Array||M instanceof Int32Array||M instanceof Uint32Array||M instanceof Float32Array||M instanceof Float64Array)},k=e.__addimage__.binaryStringToUint8Array=function(M){for(var P=M.length,F=new Uint8Array(P),O=0;O<P;O++)F[O]=M.charCodeAt(O);return F},D=e.__addimage__.arrayBufferToBinaryString=function(M){for(var P="",F=T(M)?M:new Uint8Array(M),O=0;O<F.length;O+=8192)P+=String.fromCharCode.apply(null,F.subarray(O,O+8192));return P};e.addImage=function(){var M,P,F,O,U,z,V,q,re;if(typeof arguments[1]=="number"?(P=t,F=arguments[1],O=arguments[2],U=arguments[3],z=arguments[4],V=arguments[5],q=arguments[6],re=arguments[7]):(P=arguments[1],F=arguments[2],O=arguments[3],U=arguments[4],z=arguments[5],V=arguments[6],q=arguments[7],re=arguments[8]),jt(M=arguments[0])==="object"&&!f(M)&&"imageData"in M){var oe=M;M=oe.imageData,P=oe.format||P||t,F=oe.x||F||0,O=oe.y||O||0,U=oe.w||oe.width||U,z=oe.h||oe.height||z,V=oe.alias||V,q=oe.compression||q,re=oe.rotation||oe.angle||re}var le=this.internal.getFilters();if(q===void 0&&le.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(F)||isNaN(O))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var _=I.call(this,M,P,V,q);return v.call(this,F,O,U,z,_,re),this};var I=function(M,P,F,O){var U,z,V;if(typeof M=="string"&&n(M)===t){M=unescape(M);var q=R(M,!1);(q!==""||(q=e.loadFile(M,!0))!==void 0)&&(M=q)}if(f(M)&&(M=h(M,P)),P=n(M,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((V=F)==null||V.length===0)&&(F=function(re){return typeof re=="string"||T(re)?x(re):T(re.data)?x(re.data):null}(M)),(U=m.call(this,F))||(E()&&(M instanceof Uint8Array||P==="RGBA"||(z=M,M=k(M))),U=this["process"+P.toUpperCase()](M,u.call(this),F,function(re){return re&&typeof re=="string"&&(re=re.toUpperCase()),re in e.image_compression?re:g.NONE}(O),z)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},R=e.__addimage__.convertBase64ToBinaryString=function(M,P){var F;P=typeof P!="boolean"||P;var O,U="";if(typeof M=="string"){O=(F=j(M))!==null?F.data:M;try{U=Ah(O)}catch(z){if(P)throw S(O)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return U};e.getImageProperties=function(M){var P,F,O="";if(f(M)&&(M=h(M)),typeof M=="string"&&n(M)===t&&((O=R(M,!1))===""&&(O=e.loadFile(M)||""),M=O),F=n(M),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!E()||M instanceof Uint8Array||(M=k(M)),!(P=this["process"+F.toUpperCase()](M)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=F,P}})(lt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};lt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((n=u[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var h=0;h<u.length;h++){n=u[h];var m=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),w=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(v.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+m(g(n.contents))+")",s+=" /Popup "+w.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+m(g(x))+") >>",v.content=s;var S=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",w.content=s,this.internal.write(v.objId,"0 R",w.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var j=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var T=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+T+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:o,type:"link"})},e.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var d=this.splitTextToSize(r,l).length;o=Math.ceil(u*d)}else l=c,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,o,s),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(lt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},l=e.__arabicParser__.isArabicEndLetter=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(v){return o(v)&&a.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return o(v)&&s(v)&&t[v.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(v){var w=0,g=r,x="",S=0;for(w=0;w<v.length;w+=1)g[v.charCodeAt(w)]!==void 0?(S++,typeof(g=g[v.charCodeAt(w)])=="number"&&(x+=String.fromCharCode(g),g=r,S=0),w===v.length-1&&(g=r,x+=v.charAt(w-(S-1)),w-=S-1,S=0)):(g=r,x+=v.charAt(w-S),w-=S,S=0);return x};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(v,w,g){return o(v)?s(v)===!1?-1:!u(v)||!o(w)&&!o(g)||!o(g)&&l(w)||l(v)&&!o(w)||l(v)&&c(w)||l(v)&&l(w)?0:d(v)&&o(w)&&!l(w)&&o(g)&&u(g)?3:l(v)||!o(g)?1:2:-1},m=function(v){var w=0,g=0,x=0,S="",j="",E="",T=(v=v||"").split("\\s+"),k=[];for(w=0;w<T.length;w+=1){for(k.push(""),g=0;g<T[w].length;g+=1)S=T[w][g],j=T[w][g-1],E=T[w][g+1],o(S)?(x=h(S,j,E),k[w]+=x!==-1?String.fromCharCode(t[S.charCodeAt(0)][x]):S):k[w]+=S;k[w]=f(k[w])}return k.join(" ")},y=e.__arabicParser__.processArabic=e.processArabic=function(){var v,w=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(w)){var x=0;for(g=[],x=0;x<w.length;x+=1)Array.isArray(w[x])?g.push([m(w[x][0]),w[x][1],w[x][2]]):g.push([m(w[x])]);v=g}else v=m(w);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",y])}(lt.API),lt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(lt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),h=u.scaleFactor||this.internal.scaleFactor,m=0,y=0,v=0,w=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,j){return S.concat(w.splitTextToSize(j,g))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)m<(v=this.getStringUnitWidth(c[x],{font:f})*d)&&(m=v);return m!==0&&(y=c.length),{w:m/=h,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,m&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,d,f,h){if(n.call(this),!d)throw new Error("No data for PDF table.");var m,y,v,w,g=[],x=[],S=[],j={},E={},T=[],k=[],D=(h=h||{}).autoSize||!1,I=h.printHeaders!==!1,R=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,M=h.margins||Object.assign({width:this.getPageWidth()},t),P=typeof h.padding=="number"?h.padding:3,F=h.headerBackgroundColor||"#c8c8c8",O=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=M,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=O,this.setFontSize(R),f==null)x=g=Object.keys(d[0]),S=g.map(function(){return"left"});else if(Array.isArray(f)&&jt(f[0])==="object")for(g=f.map(function(oe){return oe.name}),x=f.map(function(oe){return oe.prompt||oe.name||""}),S=f.map(function(oe){return oe.align||"left"}),m=0;m<f.length;m+=1)E[f[m].name]=f[m].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(x=g=f,S=g.map(function(){return"left"}));if(D||Array.isArray(f)&&typeof f[0]=="string")for(m=0;m<g.length;m+=1){for(j[w=g[m]]=d.map(function(oe){return oe[w]}),this.setFont(void 0,"bold"),T.push(this.getTextDimensions(x[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=j[w],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)T.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[w]=Math.max.apply(null,T)+P+P,T=[]}if(I){var U={};for(m=0;m<g.length;m+=1)U[g[m]]={},U[g[m]].text=x[m],U[g[m]].align=S[m];var z=l.call(this,U,E);k=g.map(function(oe){return new s(c,u,E[oe],z,U[oe].text,void 0,U[oe].align)}),this.setTableHeaderRow(k),this.printHeaderRow(1,!1)}var V=f.reduce(function(oe,le){return oe[le.name]=le.align,oe},{});for(m=0;m<d.length;m+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:m,data:d[m]},this);var q=l.call(this,d[m],E);for(v=0;v<g.length;v+=1){var re=d[m][g[v]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:m,col:v,data:re},this),o.call(this,new s(c,u,E[g[v]],q,re,m+2,V[g[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(m){var y=c[m];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[m]-d-d)},this).map(function(m){return this.getLineHeightFactor()*m.length*f/h+d+d},this).reduce(function(m,y){return Math.max(m,y)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){d=this.internal.__cell__.tableHeaderRow[m].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,h.push(d)),d.lineNumber=c;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(lt.API);var CP={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},DP=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$2=kP(DP),_P=[100,200,300,400,500,600,700,800,900],M9=kP(_P);function U2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return CP[s=s||"normal"]?s:"normal"}(e.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(s){return typeof $2[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function F4(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var A9={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$4={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function U4(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function L9(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},A9,r.genericFontFamilies||{}),s=null,o=null,l=0;l<t.length;++l)if(a[(s=U2(t[l])).family]&&(s.family=a[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[n]))throw new Error("Could not find a font-family for the rule '"+U4(s)+"' and default family '"+n+"'.");if(o=function(c,u){if(u[c])return u[c];var d=$2[c],f=d<=$2.normal?-1:1,h=F4(u,DP,d,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(s.stretch,o),o=function(c,u){if(u[c])return u[c];for(var d=CP[c],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var d=M9[c],f=F4(u,_P,d,c<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+c);return f}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+U4(s)+"'.");return o}function z4(e){return e.trimLeft()}function O9(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function T9(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var m0,B4,H4,q1=["times"];(function(e){var t,r,n,a,s,o,l,c,u,d=function(_){return _=_||{},this.isStrokeTransparent=_.isStrokeTransparent||!1,this.strokeOpacity=_.strokeOpacity||1,this.strokeStyle=_.strokeStyle||"#000000",this.fillStyle=_.fillStyle||"#000000",this.isFillTransparent=_.isFillTransparent||!1,this.fillOpacity=_.fillOpacity||1,this.font=_.font||"10px sans-serif",this.textBaseline=_.textBaseline||"alphabetic",this.textAlign=_.textAlign||"left",this.lineWidth=_.lineWidth||1,this.lineJoin=_.lineJoin||"miter",this.lineCap=_.lineCap||"butt",this.path=_.path||[],this.transform=_.transform!==void 0?_.transform.clone():new c,this.globalCompositeOperation=_.globalCompositeOperation||"normal",this.globalAlpha=_.globalAlpha||1,this.clip_path=_.clip_path||[],this.currentPoint=_.currentPoint||new o,this.miterLimit=_.miterLimit||10,this.lastPoint=_.lastPoint||new o,this.lineDashOffset=_.lineDashOffset||0,this.lineDash=_.lineDash||[],this.margin=_.margin||[0,0,0,0],this.prevPageLastElemOffset=_.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _.ignoreClearRect!="boolean"||_.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var f=function(_){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=_;Object.defineProperty(this,"pdf",{get:function(){return $}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(we){Y=!!we}});var W=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return W},set:function(we){W=!!we}});var X=0;Object.defineProperty(this,"posX",{get:function(){return X},set:function(we){isNaN(we)||(X=we)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(we){isNaN(we)||(Z=we)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(we){var ae;typeof we=="number"?ae=[we,we,we,we]:((ae=new Array(4))[0]=we[0],ae[1]=we.length>=2?we[1]:ae[0],ae[2]=we.length>=3?we[2]:ae[0],ae[3]=we.length>=4?we[3]:ae[1]),u.margin=ae}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(we){ne=we}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(we){ie=we}});var me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return me},set:function(we){me=we}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(we){we instanceof d&&(u=we)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(we){u.path=we}});var xe=[];Object.defineProperty(this,"ctxStack",{get:function(){return xe},set:function(we){xe=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var ae;ae=h(we),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var ae=h(we);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var De=null;function Ee(we,ae){if(De===null){var Je=function(qe){var Pe=[];return Object.keys(qe).forEach(function(Le){qe[Le].forEach(function($e){var Fe=null;switch($e){case"bold":Fe={family:Le,weight:"bold"};break;case"italic":Fe={family:Le,style:"italic"};break;case"bolditalic":Fe={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Fe={family:Le}}Fe!==null&&(Fe.ref={name:Le,style:$e},Pe.push(Fe))})}),Pe}(we.getFontList());De=function(qe){for(var Pe={},Le=0;Le<qe.length;++Le){var $e=U2(qe[Le]),Fe=$e.family,tt=$e.stretch,ut=$e.style,ht=$e.weight;Pe[Fe]=Pe[Fe]||{},Pe[Fe][tt]=Pe[Fe][tt]||{},Pe[Fe][tt][ut]=Pe[Fe][tt][ut]||{},Pe[Fe][tt][ut][ht]=$e}return Pe}(Je.concat(ae))}return De}var Ze=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ze},set:function(we){De=null,Ze=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var ae;if(this.ctx.font=we,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var Je=ae[1],qe=(ae[2],ae[3]),Pe=ae[4],Le=(ae[5],ae[6]),$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor($e==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Fe=function(dt){var St,He,Mn=[],Tt=dt.trim();if(Tt==="")return q1;if(Tt in $4)return[$4[Tt]];for(;Tt!=="";){switch(He=null,St=(Tt=z4(Tt)).charAt(0)){case'"':case"'":He=O9(Tt.substring(1),St);break;default:He=T9(Tt)}if(He===null||(Mn.push(He[0]),(Tt=z4(He[1]))!==""&&Tt.charAt(0)!==","))return q1;Tt=Tt.replace(/^,/,"")}return Mn}(Le);if(this.fontFaces){var tt=L9(Ee(this.pdf,this.fontFaces),Fe.map(function(dt){return{family:dt,stretch:"normal",weight:qe,style:Je}}));this.pdf.setFont(tt.ref.name,tt.ref.style)}else{var ut="";(qe==="bold"||parseInt(qe,10)>=700||Je==="bold")&&(ut="bold"),Je==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var ht="",bt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ct=0;Ct<Fe.length;Ct++){if(this.pdf.internal.getFont(Fe[Ct],ut,{noFallback:!0,disableWarning:!0})!==void 0){ht=Fe[Ct];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Fe[Ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ht=Fe[Ct],ut="bold";else if(this.pdf.internal.getFont(Fe[Ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ht=Fe[Ct],ut="normal";break}}if(ht===""){for(var Ft=0;Ft<Fe.length;Ft++)if(bt[Fe[Ft]]){ht=bt[Fe[Ft]];break}}ht=ht===""?"Times":ht,this.pdf.setFont(ht,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};f.prototype.setLineDash=function(_){this.lineDash=_},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){j.call(this,"fill",!1)},f.prototype.stroke=function(){j.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(_,$){if(isNaN(_)||isNaN($))throw nr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new o(_,$));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(_,$)},f.prototype.closePath=function(){var _=new o(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&jt(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){_=new o(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(_.x,_.y)},f.prototype.lineTo=function(_,$){if(isNaN(_)||isNaN($))throw nr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new o(_,$));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new o(Y.x,Y.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},f.prototype.quadraticCurveTo=function(_,$,Y,W){if(isNaN(Y)||isNaN(W)||isNaN(_)||isNaN($))throw nr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var X=this.ctx.transform.applyToPoint(new o(Y,W)),Z=this.ctx.transform.applyToPoint(new o(_,$));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:X.x,y:X.y}),this.ctx.lastPoint=new o(X.x,X.y)},f.prototype.bezierCurveTo=function(_,$,Y,W,X,Z){if(isNaN(X)||isNaN(Z)||isNaN(_)||isNaN($)||isNaN(Y)||isNaN(W))throw nr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new o(X,Z)),ie=this.ctx.transform.applyToPoint(new o(_,$)),me=this.ctx.transform.applyToPoint(new o(Y,W));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:me.x,y2:me.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},f.prototype.arc=function(_,$,Y,W,X,Z){if(isNaN(_)||isNaN($)||isNaN(Y)||isNaN(W)||isNaN(X))throw nr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new o(_,$));_=ne.x,$=ne.y;var ie=this.ctx.transform.applyToPoint(new o(0,Y)),me=this.ctx.transform.applyToPoint(new o(0,0));Y=Math.sqrt(Math.pow(ie.x-me.x,2)+Math.pow(ie.y-me.y,2))}Math.abs(X-W)>=2*Math.PI&&(W=0,X=2*Math.PI),this.path.push({type:"arc",x:_,y:$,radius:Y,startAngle:W,endAngle:X,counterclockwise:Z})},f.prototype.arcTo=function(_,$,Y,W,X){throw new Error("arcTo not implemented.")},f.prototype.rect=function(_,$,Y,W){if(isNaN(_)||isNaN($)||isNaN(Y)||isNaN(W))throw nr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_,$),this.lineTo(_+Y,$),this.lineTo(_+Y,$+W),this.lineTo(_,$+W),this.lineTo(_,$),this.lineTo(_+Y,$),this.lineTo(_,$)},f.prototype.fillRect=function(_,$,Y,W){if(isNaN(_)||isNaN($)||isNaN(Y)||isNaN(W))throw nr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var X={};this.lineCap!=="butt"&&(X.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(X.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_,$,Y,W),this.fill(),X.hasOwnProperty("lineCap")&&(this.lineCap=X.lineCap),X.hasOwnProperty("lineJoin")&&(this.lineJoin=X.lineJoin)}},f.prototype.strokeRect=function(_,$,Y,W){if(isNaN(_)||isNaN($)||isNaN(Y)||isNaN(W))throw nr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(_,$,Y,W),this.stroke())},f.prototype.clearRect=function(_,$,Y,W){if(isNaN(_)||isNaN($)||isNaN(Y)||isNaN(W))throw nr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_,$,Y,W))},f.prototype.save=function(_){_=typeof _!="boolean"||_;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage($),_){this.ctx.fontSize=this.pdf.internal.getFontSize();var W=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=W}},f.prototype.restore=function(_){_=typeof _!="boolean"||_;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage($),_&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(_){var $,Y,W,X;if(_.isCanvasGradient===!0&&(_=_.getColor()),!_)return{r:0,g:0,b:0,a:0,style:_};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_))$=0,Y=0,W=0,X=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_);if(Z!==null)$=parseInt(Z[1]),Y=parseInt(Z[2]),W=parseInt(Z[3]),X=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_))!==null)$=parseInt(Z[1]),Y=parseInt(Z[2]),W=parseInt(Z[3]),X=parseFloat(Z[4]);else{if(X=1,typeof _=="string"&&_.charAt(0)!=="#"){var ne=new yP(_);_=ne.ok?ne.toHex():"#000000"}_.length===4?($=_.substring(1,2),$+=$,Y=_.substring(2,3),Y+=Y,W=_.substring(3,4),W+=W):($=_.substring(1,3),Y=_.substring(3,5),W=_.substring(5,7)),$=parseInt($,16),Y=parseInt(Y,16),W=parseInt(W,16)}}return{r:$,g:Y,b:W,a:X,style:_}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(_,$,Y,W){if(isNaN($)||isNaN(Y)||typeof _!="string")throw nr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(W=isNaN(W)?void 0:W,!m.call(this)){var X=q(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:_,x:$,y:Y,scale:Z,angle:X,align:this.textAlign,maxWidth:W})}},f.prototype.strokeText=function(_,$,Y,W){if(isNaN($)||isNaN(Y)||typeof _!="string")throw nr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){W=isNaN(W)?void 0:W;var X=q(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;P.call(this,{text:_,x:$,y:Y,scale:Z,renderingMode:"stroke",angle:X,align:this.textAlign,maxWidth:W})}},f.prototype.measureText=function(_){if(typeof _!="string")throw nr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,Y=this.pdf.internal.scaleFactor,W=$.internal.getFontSize(),X=$.getStringUnitWidth(_)*W/$.internal.scaleFactor,Z=function(ne){var ie=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new Z({width:X*=Math.round(96*Y/72*1e4)/1e4})},f.prototype.scale=function(_,$){if(isNaN(_)||isNaN($))throw nr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new c(_,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.rotate=function(_){if(isNaN(_))throw nr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new c(Math.cos(_),Math.sin(_),-Math.sin(_),Math.cos(_),0,0);this.ctx.transform=this.ctx.transform.multiply($)},f.prototype.translate=function(_,$){if(isNaN(_)||isNaN($))throw nr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new c(1,0,0,1,_,$);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.transform=function(_,$,Y,W,X,Z){if(isNaN(_)||isNaN($)||isNaN(Y)||isNaN(W)||isNaN(X)||isNaN(Z))throw nr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new c(_,$,Y,W,X,Z);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.setTransform=function(_,$,Y,W,X,Z){_=isNaN(_)?1:_,$=isNaN($)?0:$,Y=isNaN(Y)?0:Y,W=isNaN(W)?1:W,X=isNaN(X)?0:X,Z=isNaN(Z)?0:Z,this.ctx.transform=new c(_,$,Y,W,X,Z)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(_,$,Y,W,X,Z,ne,ie,me){var xe=this.pdf.getImageProperties(_),De=1,Ee=1,Ze=1,we=1;W!==void 0&&ie!==void 0&&(Ze=ie/W,we=me/X,De=xe.width/W*ie/W,Ee=xe.height/X*me/X),Z===void 0&&(Z=$,ne=Y,$=0,Y=0),W!==void 0&&ie===void 0&&(ie=W,me=X),W===void 0&&ie===void 0&&(ie=xe.width,me=xe.height);for(var ae,Je=this.ctx.transform.decompose(),qe=q(Je.rotate.shx),Pe=new c,Le=(Pe=(Pe=(Pe=Pe.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new l(Z-$*Ze,ne-Y*we,W*De,X*Ee)),$e=w.call(this,Le),Fe=[],tt=0;tt<$e.length;tt+=1)Fe.indexOf($e[tt])===-1&&Fe.push($e[tt]);if(S(Fe),this.autoPaging)for(var ut=Fe[0],ht=Fe[Fe.length-1],bt=ut;bt<ht+1;bt++){this.pdf.setPage(bt);var Ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ft=bt===1?this.posY+this.margin[0]:this.margin[0],dt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],He=bt===1?0:dt+(bt-2)*St;if(this.ctx.clip_path.length!==0){var Mn=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(ae,this.posX+this.margin[3],-He+Ft+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=Mn}var Tt=JSON.parse(JSON.stringify(Le));Tt=x([Tt],this.posX+this.margin[3],-He+Ft+this.ctx.prevPageLastElemOffset)[0];var ws=(bt>ut||bt<ht)&&v.call(this);ws&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ct,St,null).clip().discardPath()),this.pdf.addImage(_,"JPEG",Tt.x,Tt.y,Tt.w,Tt.h,null,null,qe),ws&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,qe)};var w=function(_,$,Y){var W=[];$=$||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var X=this.posY+this.ctx.prevPageLastElemOffset;switch(_.type){default:case"mt":case"lt":W.push(Math.floor((_.y+X)/Y)+1);break;case"arc":W.push(Math.floor((_.y+X-_.radius)/Y)+1),W.push(Math.floor((_.y+X+_.radius)/Y)+1);break;case"qct":var Z=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x,_.y);W.push(Math.floor((Z.y+X)/Y)+1),W.push(Math.floor((Z.y+Z.h+X)/Y)+1);break;case"bct":var ne=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_.x1,_.y1,_.x2,_.y2,_.x,_.y);W.push(Math.floor((ne.y+X)/Y)+1),W.push(Math.floor((ne.y+ne.h+X)/Y)+1);break;case"rect":W.push(Math.floor((_.y+X)/Y)+1),W.push(Math.floor((_.y+_.h+X)/Y)+1)}for(var ie=0;ie<W.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<W[ie];)g.call(this);return W},g=function(){var _=this.fillStyle,$=this.strokeStyle,Y=this.font,W=this.lineCap,X=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=_,this.strokeStyle=$,this.font=Y,this.lineCap=W,this.lineWidth=X,this.lineJoin=Z},x=function(_,$,Y){for(var W=0;W<_.length;W++)switch(_[W].type){case"bct":_[W].x2+=$,_[W].y2+=Y;case"qct":_[W].x1+=$,_[W].y1+=Y;case"mt":case"lt":case"arc":default:_[W].x+=$,_[W].y+=Y}return _},S=function(_){return _.sort(function($,Y){return $-Y})},j=function(_,$){for(var Y,W,X=this.fillStyle,Z=this.strokeStyle,ne=this.lineCap,ie=this.lineWidth,me=Math.abs(ie*this.ctx.transform.scaleX),xe=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Ze=[],we=0;we<Ee.length;we++)if(Ee[we].x!==void 0)for(var ae=w.call(this,Ee[we]),Je=0;Je<ae.length;Je+=1)Ze.indexOf(ae[Je])===-1&&Ze.push(ae[Je]);for(var qe=0;qe<Ze.length;qe++)for(;this.pdf.internal.getNumberOfPages()<Ze[qe];)g.call(this);if(S(Ze),this.autoPaging)for(var Pe=Ze[0],Le=Ze[Ze.length-1],$e=Pe;$e<Le+1;$e++){this.pdf.setPage($e),this.fillStyle=X,this.strokeStyle=Z,this.lineCap=ne,this.lineWidth=me,this.lineJoin=xe;var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],tt=$e===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=$e===1?0:ut+($e-2)*ht;if(this.ctx.clip_path.length!==0){var Ct=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Y,this.posX+this.margin[3],-bt+tt+this.ctx.prevPageLastElemOffset),E.call(this,_,!0),this.path=Ct}if(W=JSON.parse(JSON.stringify(De)),this.path=x(W,this.posX+this.margin[3],-bt+tt+this.ctx.prevPageLastElemOffset),$===!1||$e===0){var Ft=($e>Pe||$e<Le)&&v.call(this);Ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,ht,null).clip().discardPath()),E.call(this,_,$),Ft&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=me,E.call(this,_,$),this.lineWidth=ie;this.path=De},E=function(_,$){if((_!=="stroke"||$||!y.call(this))&&(_==="stroke"||$||!m.call(this))){for(var Y,W,X=[],Z=this.path,ne=0;ne<Z.length;ne++){var ie=Z[ne];switch(ie.type){case"begin":X.push({begin:!0});break;case"close":X.push({close:!0});break;case"mt":X.push({start:ie,deltas:[],abs:[]});break;case"lt":var me=X.length;if(Z[ne-1]&&!isNaN(Z[ne-1].x)&&(Y=[ie.x-Z[ne-1].x,ie.y-Z[ne-1].y],me>0)){for(;me>=0;me--)if(X[me-1].close!==!0&&X[me-1].begin!==!0){X[me-1].deltas.push(Y),X[me-1].abs.push(ie);break}}break;case"bct":Y=[ie.x1-Z[ne-1].x,ie.y1-Z[ne-1].y,ie.x2-Z[ne-1].x,ie.y2-Z[ne-1].y,ie.x-Z[ne-1].x,ie.y-Z[ne-1].y],X[X.length-1].deltas.push(Y);break;case"qct":var xe=Z[ne-1].x+2/3*(ie.x1-Z[ne-1].x),De=Z[ne-1].y+2/3*(ie.y1-Z[ne-1].y),Ee=ie.x+2/3*(ie.x1-ie.x),Ze=ie.y+2/3*(ie.y1-ie.y),we=ie.x,ae=ie.y;Y=[xe-Z[ne-1].x,De-Z[ne-1].y,Ee-Z[ne-1].x,Ze-Z[ne-1].y,we-Z[ne-1].x,ae-Z[ne-1].y],X[X.length-1].deltas.push(Y);break;case"arc":X.push({deltas:[],abs:[],arc:!0}),Array.isArray(X[X.length-1].abs)&&X[X.length-1].abs.push(ie)}}W=$?null:_==="stroke"?"stroke":"fill";for(var Je=!1,qe=0;qe<X.length;qe++)if(X[qe].arc)for(var Pe=X[qe].abs,Le=0;Le<Pe.length;Le++){var $e=Pe[Le];$e.type==="arc"?D.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,$,!Je):F.call(this,$e.x,$e.y),Je=!0}else if(X[qe].close===!0)this.pdf.internal.out("h"),Je=!1;else if(X[qe].begin!==!0){var Fe=X[qe].start.x,tt=X[qe].start.y;O.call(this,X[qe].deltas,Fe,tt),Je=!0}W&&I.call(this,W),$&&R.call(this)}},T=function(_){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _-Y;case"top":return _+$-Y;case"hanging":return _+$-2*Y;case"middle":return _+$/2-Y;case"ideographic":return _;case"alphabetic":default:return _}},k=function(_){return _+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var _=function(){};return _.colorStops=[],_.addColorStop=function($,Y){this.colorStops.push([$,Y])},_.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_.isCanvasGradient=!0,_},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var D=function(_,$,Y,W,X,Z,ne,ie,me){for(var xe=z.call(this,Y,W,X,Z),De=0;De<xe.length;De++){var Ee=xe[De];De===0&&(me?M.call(this,Ee.x1+_,Ee.y1+$):F.call(this,Ee.x1+_,Ee.y1+$)),U.call(this,_,$,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}ie?R.call(this):I.call(this,ne)},I=function(_){switch(_){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},M=function(_,$){this.pdf.internal.out(r(_)+" "+n($)+" m")},P=function(_){var $;switch(_.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var Y=this.pdf.getTextDimensions(_.text),W=T.call(this,_.y),X=k.call(this,W)-Y.h,Z=this.ctx.transform.applyToPoint(new o(_.x,W)),ne=this.ctx.transform.decompose(),ie=new c;ie=(ie=(ie=ie.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale);for(var me,xe,De,Ee=this.ctx.transform.applyToRectangle(new l(_.x,W,Y.w,Y.h)),Ze=ie.applyToRectangle(new l(_.x,X,Y.w,Y.h)),we=w.call(this,Ze),ae=[],Je=0;Je<we.length;Je+=1)ae.indexOf(we[Je])===-1&&ae.push(we[Je]);if(S(ae),this.autoPaging)for(var qe=ae[0],Pe=ae[ae.length-1],Le=qe;Le<Pe+1;Le++){this.pdf.setPage(Le);var $e=Le===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tt=this.pdf.internal.pageSize.height-this.margin[2],ut=tt-this.margin[0],ht=this.pdf.internal.pageSize.width-this.margin[1],bt=ht-this.margin[3],Ct=Le===1?0:Fe+(Le-2)*ut;if(this.ctx.clip_path.length!==0){var Ft=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(me,this.posX+this.margin[3],-1*Ct+$e),E.call(this,"fill",!0),this.path=Ft}var dt=x([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-Ct+$e+this.ctx.prevPageLastElemOffset)[0];_.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*_.scale),De=this.lineWidth,this.lineWidth=De*_.scale);var St=this.autoPaging!=="text";if(St||dt.y+dt.h<=tt){if(St||dt.y>=$e&&dt.x<=ht){var He=St?_.text:this.pdf.splitTextToSize(_.text,_.maxWidth||ht-dt.x)[0],Mn=x([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-Ct+$e+this.ctx.prevPageLastElemOffset)[0],Tt=St&&(Le>qe||Le<Pe)&&v.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,ut,null).clip().discardPath()),this.pdf.text(He,Mn.x,Mn.y,{angle:_.angle,align:$,renderingMode:_.renderingMode}),Tt&&this.pdf.restoreGraphicsState()}}else dt.y<tt&&(this.ctx.prevPageLastElemOffset+=tt-dt.y);_.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=De)}else _.scale>=.01&&(xe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(xe*_.scale),De=this.lineWidth,this.lineWidth=De*_.scale),this.pdf.text(_.text,Z.x+this.posX,Z.y+this.posY,{angle:_.angle,align:$,renderingMode:_.renderingMode,maxWidth:_.maxWidth}),_.scale>=.01&&(this.pdf.setFontSize(xe),this.lineWidth=De)},F=function(_,$,Y,W){Y=Y||0,W=W||0,this.pdf.internal.out(r(_+Y)+" "+n($+W)+" l")},O=function(_,$,Y){return this.pdf.lines(_,$,Y,null,null)},U=function(_,$,Y,W,X,Z,ne,ie){this.pdf.internal.out([t(a(Y+_)),t(s(W+$)),t(a(X+_)),t(s(Z+$)),t(a(ne+_)),t(s(ie+$)),"c"].join(" "))},z=function(_,$,Y,W){for(var X=2*Math.PI,Z=Math.PI/2;$>Y;)$-=X;var ne=Math.abs(Y-$);ne<X&&W&&(ne=X-ne);for(var ie=[],me=W?-1:1,xe=$;ne>1e-5;){var De=xe+me*Math.min(ne,Z);ie.push(V.call(this,_,xe,De)),ne-=Math.abs(De-xe),xe=De}return ie},V=function(_,$,Y){var W=(Y-$)/2,X=_*Math.cos(W),Z=_*Math.sin(W),ne=X,ie=-Z,me=ne*ne+ie*ie,xe=me+ne*X+ie*Z,De=4/3*(Math.sqrt(2*me*xe)-xe)/(ne*Z-ie*X),Ee=ne-De*ie,Ze=ie+De*ne,we=Ee,ae=-Ze,Je=W+$,qe=Math.cos(Je),Pe=Math.sin(Je);return{x1:_*Math.cos($),y1:_*Math.sin($),x2:Ee*qe-Ze*Pe,y2:Ee*Pe+Ze*qe,x3:we*qe-ae*Pe,y3:we*Pe+ae*qe,x4:_*Math.cos(Y),y4:_*Math.sin(Y)}},q=function(_){return 180*_/Math.PI},re=function(_,$,Y,W,X,Z){var ne=_+.5*(Y-_),ie=$+.5*(W-$),me=X+.5*(Y-X),xe=Z+.5*(W-Z),De=Math.min(_,X,ne,me),Ee=Math.max(_,X,ne,me),Ze=Math.min($,Z,ie,xe),we=Math.max($,Z,ie,xe);return new l(De,Ze,Ee-De,we-Ze)},oe=function(_,$,Y,W,X,Z,ne,ie){var me,xe,De,Ee,Ze,we,ae,Je,qe,Pe,Le,$e,Fe,tt,ut=Y-_,ht=W-$,bt=X-Y,Ct=Z-W,Ft=ne-X,dt=ie-Z;for(xe=0;xe<41;xe++)qe=(ae=(De=_+(me=xe/40)*ut)+me*((Ze=Y+me*bt)-De))+me*(Ze+me*(X+me*Ft-Ze)-ae),Pe=(Je=(Ee=$+me*ht)+me*((we=W+me*Ct)-Ee))+me*(we+me*(Z+me*dt-we)-Je),xe==0?(Le=qe,$e=Pe,Fe=qe,tt=Pe):(Le=Math.min(Le,qe),$e=Math.min($e,Pe),Fe=Math.max(Fe,qe),tt=Math.max(tt,Pe));return new l(Math.round(Le),Math.round($e),Math.round(Fe-Le),Math.round(tt-$e))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _,$,Y=(_=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:_,lineDashOffset:$}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(lt.API),function(e){var t=function(s){var o,l,c,u,d,f,h,m,y,v;for(l=[],c=0,u=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;u>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(f=(d=((d=((d=((d=(d-(v=d%85))/85)-(y=d%85))/85)-(m=d%85))/85)-(h=d%85))/85)%85,l.push(f+33,h+33,m+33,y+33,v+33)):l.push(122);return function(w,g){for(var x=g;x>0;x--)w.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},r=function(s){var o,l,c,u,d,f=String,h="length",m=255,y="charCodeAt",v="slice",w="replace";for(s[v](-2),s=s[v](0,-2)[w](/\s/g,"")[w]("z","!!!!!"),c=[],u=0,d=(s+=o="uuuuu"[v](s[h]%5||5))[h];d>u;u+=5)l=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(g,x){for(var S=x;S>0;S--)g.pop()}(c,o[h]),f.fromCharCode.apply(f,c)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var l="",c=0;c<s.length;c+=2)l+=String.fromCharCode("0x"+(s[c]+s[c+1]));return l},a=function(s){for(var o=new Uint8Array(s.length),l=s.length;l--;)o[l]=s.charCodeAt(l);return s=(o=O2(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(s,o){var l=0,c=s||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(lt.API),function(e){e.loadFile=function(t,r,n){return function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=function(c,u,d){var f=new XMLHttpRequest,h=0,m=function(y){var v=y.length,w=[],g=String.fromCharCode;for(h=0;h<v;h+=1)w.push(g(255&y.charCodeAt(h)));return w.join("")};if(f.open("GET",c,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(m(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return m(f.responseText)}(a,s,o)}catch{}return l}(t,r,n)},e.loadImageFile=e.loadFile}(lt.API),function(e){function t(){return(ct.html2canvas?Promise.resolve(ct.html2canvas):P2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(ct.DOMPurify?Promise.resolve(ct.DOMPurify):P2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var l=jt(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,o,1,[o])).set(l)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,l){return o.__proto__=l||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),h=u.firstChild;h;h=h.nextSibling)d!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(c(h,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var h=0;h<u.length;++h){var m=u[h],y=m.src.find(function(v){return v.format==="truetype"});y&&c.addFont(y.url,m.ref.name,m.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,c.context2d.save(!0),l(this.prop.container,f)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},s.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},s.prototype.get=function(o,l){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||lt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,d){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return c.updateProgress(null,u),f}).then(u,d).then(function(f){return c.updateProgress(1),f})})},s.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(u,o,l);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},s.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},s.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return s.convert(l,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,lt.getPageSize=function(o,l,c){if(jt(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,f=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+l}var m,y=0,v=0;if(h.hasOwnProperty(f))y=h[f][1]/d,v=h[f][0]/d;else try{y=c[1],v=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",v>y&&(m=v,v=y,y=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",y>v&&(m=v,v=y,y=m)}return{width:v,height:y,unit:l,k:d,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(U2):null;var c=new s(l);return l.worker?c:c.from(o).doCallback()}}(lt.API),lt.API.addJS=function(e){return H4=e,this.internal.events.subscribe("postPutResources",function(){m0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(m0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),B4=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+H4+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){m0!==void 0&&B4!==void 0&&this.internal.out("/Names <</JavaScript "+m0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=r.internal.newObject();d.push(f);var h=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var m=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+m+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])}(lt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,s,o,l){var c,u=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(f){for(var h,m=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,v={width:0,height:0,numcomponents:1},w=4;w<y;w+=2){if(w+=m,t.indexOf(f.charCodeAt(w+1))!==-1){h=256*f.charCodeAt(w+5)+f.charCodeAt(w+6),v={width:256*f.charCodeAt(w+7)+f.charCodeAt(w+8),height:h,numcomponents:f.charCodeAt(w+9)};break}m=256*f.charCodeAt(w+2)+f.charCodeAt(w+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return d}}(lt.API);var Fu,g0,W4,Y4,V4,I9=function(){var e,t,r;function n(s){var o,l,c,u,d,f,h,m,y,v,w,g,x,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(o=this.readUInt32(),y=(function(){var j,E;for(E=[],j=0;j<4;++j)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,o-=4),s=(f!=null?f.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((v=c-this.transparency.indexed.length)>0)for(x=0;0<=v?x<v:x>v;0<=v?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(w=this.read(o)).indexOf(0),m=String.fromCharCode.apply(String,w.slice(0,h)),this.text[m]=String.fromCharCode.apply(String,w.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,l;for(l=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*o),c=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,h,m,y){var v,w,g,x,S,j,E,T,k,D,I,R,M,P,F,O,U,z,V,q,re,oe=Math.ceil((u.width-f)/m),le=Math.ceil((u.height-h)/y),_=u.width==oe&&u.height==le;for(P=o*oe,R=_?l:new Uint8Array(P*le),j=s.length,M=0,w=0;M<le&&c<j;){switch(s[c++]){case 0:for(x=U=0;U<P;x=U+=1)R[w++]=s[c++];break;case 1:for(x=z=0;z<P;x=z+=1)v=s[c++],S=x<o?0:R[w-o],R[w++]=(v+S)%256;break;case 2:for(x=V=0;V<P;x=V+=1)v=s[c++],g=(x-x%o)/o,F=M&&R[(M-1)*P+g*o+x%o],R[w++]=(F+v)%256;break;case 3:for(x=q=0;q<P;x=q+=1)v=s[c++],g=(x-x%o)/o,S=x<o?0:R[w-o],F=M&&R[(M-1)*P+g*o+x%o],R[w++]=(v+Math.floor((S+F)/2))%256;break;case 4:for(x=re=0;re<P;x=re+=1)v=s[c++],g=(x-x%o)/o,S=x<o?0:R[w-o],M===0?F=O=0:(F=R[(M-1)*P+g*o+x%o],O=g&&R[(M-1)*P+(g-1)*o+x%o]),E=S+F-O,T=Math.abs(E-S),D=Math.abs(E-F),I=Math.abs(E-O),k=T<=D&&T<=I?S:D<=I?F:O,R[w++]=(v+k)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!_){var $=((h+M*y)*u.width+f)*o,Y=M*P;for(x=0;x<oe;x+=1){for(var W=0;W<o;W+=1)l[$++]=R[Y++];$+=(m-1)*o}}M++}}return s=p9(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),l},n.prototype.decodePalette=function(){var s,o,l,c,u,d,f,h,m;for(l=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+l.length),c=0,s=0,o=f=0,h=l.length;f<h;o=f+=3)u[c++]=l[o],u[c++]=l[o+1],u[c++]=l[o+2],u[c++]=(m=d[s++])!=null?m:255;return u},n.prototype.copyToImageData=function(s,o){var l,c,u,d,f,h,m,y,v,w,g;if(c=this.colors,v=null,l=this.hasAlphaChannel,this.palette.length&&(v=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),c=4,l=!0),y=(u=s.data||s).length,f=v||o,d=h=0,c===1)for(;d<y;)m=v?4*o[d/4]:h,w=f[m++],u[d++]=w,u[d++]=w,u[d++]=w,u[d++]=l?f[m++]:255,h=m;else for(;d<y;)m=v?4*o[d/4]:h,u[d++]=f[m++],u[d++]=f[m++],u[d++]=f[m++],u[d++]=l?f[m++]:255,h=m},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(ct)==="[object Window]"){try{t=ct.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(s){var o;if(a()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,l,c,u,d,f,h,m;if(this.animation){for(m=[],l=d=0,f=(h=this.animation.frames).length;d<f;l=++d)o=h[l],c=s.createImageData(o.width,o.height),u=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,u),o.imageData=c,m.push(o.image=e(c));return m}},n.prototype.renderFrame=function(s,o){var l,c,u;return l=(c=this.animation.frames)[o],u=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&s.clearRect(l.xOffset,l.yOffset,l.width,l.height),s.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(s){var o,l,c,u,d,f,h=this;return l=0,f=this.animation,u=f.numFrames,c=f.frames,d=f.numPlays,(o=function(){var m,y;if(m=l++%u,y=c[m],h.renderFrame(s,m),u>1&&l/u<d)return h.animation._timeout=setTimeout(o,y.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,l;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(l=o.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),o.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function R9(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],s=a>>7,o=1<<(7&a)+1;e[t++],e[t++];var l=null,c=null;s&&(l=t,c=o,t+=3*o);var u=!0,d=[],f=0,h=null,m=0,y=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,y=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&v)&&(h=null),m=v>>2&7,t++;break;case 254:for(;;){if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var w=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,j=e[t++],E=j>>6&1,T=1<<(7&j)+1,k=l,D=c,I=!1;j>>7&&(I=!0,k=t,D=T,t+=3*T);var R=t;for(t++;;){var M;if(!((M=e[t++])>=0))throw Error("Invalid block size");if(M===0)break;t+=M}d.push({x:w,y:g,width:x,height:S,has_local_palette:I,palette_offset:k,palette_size:D,data_offset:R,data_length:t-R,transparent_index:h,interlaced:!!E,delay:f,disposal:m});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,F){var O=this.frameInfo(P),U=O.width*O.height,z=new Uint8Array(U);q4(e,O.data_offset,z,U);var V=O.palette_offset,q=O.transparent_index;q===null&&(q=256);var re=O.width,oe=r-re,le=re,_=4*(O.y*r+O.x),$=4*((O.y+O.height)*r+O.x),Y=_,W=4*oe;O.interlaced===!0&&(W+=4*r*7);for(var X=8,Z=0,ne=z.length;Z<ne;++Z){var ie=z[Z];if(le===0&&(le=re,(Y+=W)>=$&&(W=4*oe+4*r*(X-1),Y=_+(re+oe)*(X<<1),X>>=1)),ie===q)Y+=4;else{var me=e[V+3*ie],xe=e[V+3*ie+1],De=e[V+3*ie+2];F[Y++]=De,F[Y++]=xe,F[Y++]=me,F[Y++]=255}--le}},this.decodeAndBlitFrameRGBA=function(P,F){var O=this.frameInfo(P),U=O.width*O.height,z=new Uint8Array(U);q4(e,O.data_offset,z,U);var V=O.palette_offset,q=O.transparent_index;q===null&&(q=256);var re=O.width,oe=r-re,le=re,_=4*(O.y*r+O.x),$=4*((O.y+O.height)*r+O.x),Y=_,W=4*oe;O.interlaced===!0&&(W+=4*r*7);for(var X=8,Z=0,ne=z.length;Z<ne;++Z){var ie=z[Z];if(le===0&&(le=re,(Y+=W)>=$&&(W=4*oe+4*r*(X-1),Y=_+(re+oe)*(X<<1),X>>=1)),ie===q)Y+=4;else{var me=e[V+3*ie],xe=e[V+3*ie+1],De=e[V+3*ie+2];F[Y++]=me,F[Y++]=xe,F[Y++]=De,F[Y++]=255}--le}}}function q4(e,t,r,n){for(var a=e[t++],s=1<<a,o=s+1,l=o+1,c=a+1,u=(1<<c)-1,d=0,f=0,h=0,m=e[t++],y=new Int32Array(4096),v=null;;){for(;d<16&&m!==0;)f|=e[t++]<<d,d+=8,m===1?m=e[t++]:--m;if(d<c)break;var w=f&u;if(f>>=c,d-=c,w!==s){if(w===o)break;for(var g=w<l?w:v,x=0,S=g;S>s;)S=y[S]>>8,++x;var j=S;if(h+x+(g!==w?1:0)>n)return void nr.log("Warning, gif stream longer than expected.");r[h++]=j;var E=h+=x;for(g!==w&&(r[h++]=j),S=g;x--;)S=y[S],r[--E]=255&S,S>>=8;v!==null&&l<4096&&(y[l++]=v<<8|j,l>=u+1&&c<12&&(++c,u=u<<1|1)),v=w}else l=o+1,u=(1<<(c=a+1))-1,v=null}return h!==n&&nr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function G1(e){var t,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),h=new Array(65535),m=new Array(64),y=new Array(64),v=[],w=0,g=7,x=new Array(64),S=new Array(64),j=new Array(64),E=new Array(256),T=new Array(2048),k=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],D=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],M=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function z(_,$){for(var Y=0,W=0,X=new Array,Z=1;Z<=16;Z++){for(var ne=1;ne<=_[Z];ne++)X[$[W]]=[],X[$[W]][0]=Y,X[$[W]][1]=Z,W++,Y++;Y*=2}return X}function V(_){for(var $=_[0],Y=_[1]-1;Y>=0;)$&1<<Y&&(w|=1<<g),Y--,--g<0&&(w==255?(q(255),q(0)):q(w),g=7,w=0)}function q(_){v.push(_)}function re(_){q(_>>8&255),q(255&_)}function oe(_,$,Y,W,X){for(var Z,ne=X[0],ie=X[240],me=function(Pe,Le){var $e,Fe,tt,ut,ht,bt,Ct,Ft,dt,St,He=0;for(dt=0;dt<8;++dt){$e=Pe[He],Fe=Pe[He+1],tt=Pe[He+2],ut=Pe[He+3],ht=Pe[He+4],bt=Pe[He+5],Ct=Pe[He+6];var Mn=$e+(Ft=Pe[He+7]),Tt=$e-Ft,ws=Fe+Ct,tr=Fe-Ct,vr=tt+bt,ri=tt-bt,Ht=ut+ht,ql=ut-ht,Dr=Mn+Ht,Ns=Mn-Ht,Qi=ws+vr,_r=ws-vr;Pe[He]=Dr+Qi,Pe[He+4]=Dr-Qi;var pt=.707106781*(_r+Ns);Pe[He+2]=Ns+pt,Pe[He+6]=Ns-pt;var Wt=.382683433*((Dr=ql+ri)-(_r=tr+Tt)),Gl=.5411961*Dr+Wt,bn=1.306562965*_r+Wt,ni=.707106781*(Qi=ri+tr),ai=Tt+ni,ot=Tt-ni;Pe[He+5]=ot+Gl,Pe[He+3]=ot-Gl,Pe[He+1]=ai+bn,Pe[He+7]=ai-bn,He+=8}for(He=0,dt=0;dt<8;++dt){$e=Pe[He],Fe=Pe[He+8],tt=Pe[He+16],ut=Pe[He+24],ht=Pe[He+32],bt=Pe[He+40],Ct=Pe[He+48];var js=$e+(Ft=Pe[He+56]),si=$e-Ft,la=Fe+Ct,nn=Fe-Ct,Gr=tt+bt,Pa=tt-bt,iu=ut+ht,Ji=ut-ht,Ss=js+iu,ks=js-iu,Cs=la+Gr,ii=la-Gr;Pe[He]=Ss+Cs,Pe[He+32]=Ss-Cs;var qa=.707106781*(ii+ks);Pe[He+16]=ks+qa,Pe[He+48]=ks-qa;var oi=.382683433*((Ss=Ji+Pa)-(ii=nn+si)),Kl=.5411961*Ss+oi,ou=1.306562965*ii+oi,lu=.707106781*(Cs=Pa+nn),cu=si+lu,uu=si-lu;Pe[He+40]=uu+Kl,Pe[He+24]=uu-Kl,Pe[He+8]=cu+ou,Pe[He+56]=cu-ou,He++}for(dt=0;dt<64;++dt)St=Pe[dt]*Le[dt],m[dt]=St>0?St+.5|0:St-.5|0;return m}(_,$),xe=0;xe<64;++xe)y[k[xe]]=me[xe];var De=y[0]-Y;Y=y[0],De==0?V(W[0]):(V(W[h[Z=32767+De]]),V(f[Z]));for(var Ee=63;Ee>0&&y[Ee]==0;)Ee--;if(Ee==0)return V(ne),Y;for(var Ze,we=1;we<=Ee;){for(var ae=we;y[we]==0&&we<=Ee;)++we;var Je=we-ae;if(Je>=16){Ze=Je>>4;for(var qe=1;qe<=Ze;++qe)V(ie);Je&=15}Z=32767+y[we],V(X[(Je<<4)+h[Z]]),V(f[Z]),we++}return Ee!=63&&V(ne),Y}function le(_){_=Math.min(Math.max(_,1),100),s!=_&&(function($){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],W=0;W<64;W++){var X=o((Y[W]*$+50)/100);X=Math.min(Math.max(X,1),255),l[k[W]]=X}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var ie=o((Z[ne]*$+50)/100);ie=Math.min(Math.max(ie,1),255),c[k[ne]]=ie}for(var me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],xe=0,De=0;De<8;De++)for(var Ee=0;Ee<8;Ee++)u[xe]=1/(l[k[xe]]*me[De]*me[Ee]*8),d[xe]=1/(c[k[xe]]*me[De]*me[Ee]*8),xe++}(_<50?Math.floor(5e3/_):Math.floor(200-2*_)),s=_)}this.encode=function(_,$){$&&le($),v=new Array,w=0,g=7,re(65496),re(65504),re(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),re(1),re(1),q(0),q(0),function(){re(65499),re(132),q(0);for(var Fe=0;Fe<64;Fe++)q(l[Fe]);q(1);for(var tt=0;tt<64;tt++)q(c[tt])}(),function(Fe,tt){re(65472),re(17),q(8),re(tt),re(Fe),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(_.width,_.height),function(){re(65476),re(418),q(0);for(var Fe=0;Fe<16;Fe++)q(D[Fe+1]);for(var tt=0;tt<=11;tt++)q(I[tt]);q(16);for(var ut=0;ut<16;ut++)q(R[ut+1]);for(var ht=0;ht<=161;ht++)q(M[ht]);q(1);for(var bt=0;bt<16;bt++)q(P[bt+1]);for(var Ct=0;Ct<=11;Ct++)q(F[Ct]);q(17);for(var Ft=0;Ft<16;Ft++)q(O[Ft+1]);for(var dt=0;dt<=161;dt++)q(U[dt])}(),re(65498),re(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var Y=0,W=0,X=0;w=0,g=7,this.encode.displayName="_encode_";for(var Z,ne,ie,me,xe,De,Ee,Ze,we,ae=_.data,Je=_.width,qe=_.height,Pe=4*Je,Le=0;Le<qe;){for(Z=0;Z<Pe;){for(xe=Pe*Le+Z,Ee=-1,Ze=0,we=0;we<64;we++)De=xe+(Ze=we>>3)*Pe+(Ee=4*(7&we)),Le+Ze>=qe&&(De-=Pe*(Le+1+Ze-qe)),Z+Ee>=Pe&&(De-=Z+Ee-Pe+4),ne=ae[De++],ie=ae[De++],me=ae[De++],x[we]=(T[ne]+T[ie+256>>0]+T[me+512>>0]>>16)-128,S[we]=(T[ne+768>>0]+T[ie+1024>>0]+T[me+1280>>0]>>16)-128,j[we]=(T[ne+1280>>0]+T[ie+1536>>0]+T[me+1792>>0]>>16)-128;Y=oe(x,u,Y,t,n),W=oe(S,d,W,r,a),X=oe(j,d,X,r,a),Z+=32}Le+=8}if(g>=0){var $e=[];$e[1]=g+1,$e[0]=(1<<g+1)-1,V($e)}return re(65497),new Uint8Array(v)},e=e||50,function(){for(var _=String.fromCharCode,$=0;$<256;$++)E[$]=_($)}(),t=z(D,I),r=z(P,F),n=z(R,M),a=z(O,U),function(){for(var _=1,$=2,Y=1;Y<=15;Y++){for(var W=_;W<$;W++)h[32767+W]=Y,f[32767+W]=[],f[32767+W][1]=Y,f[32767+W][0]=W;for(var X=-($-1);X<=-_;X++)h[32767+X]=Y,f[32767+X]=[],f[32767+X][1]=Y,f[32767+X][0]=$-1+X;_<<=1,$<<=1}}(),function(){for(var _=0;_<256;_++)T[_]=19595*_,T[_+256>>0]=38470*_,T[_+512>>0]=7471*_+32768,T[_+768>>0]=-11059*_,T[_+1024>>0]=-21709*_,T[_+1280>>0]=32768*_+8421375,T[_+1536>>0]=-27439*_,T[_+1792>>0]=-5329*_}(),le(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ts(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function G4(e){function t(D){if(!D)throw Error("assert :P")}function r(D,I,R){for(var M=0;4>M;M++)if(D[I+M]!=R.charCodeAt(M))return!0;return!1}function n(D,I,R,M,P){for(var F=0;F<P;F++)D[I+F]=R[M+F]}function a(D,I,R,M){for(var P=0;P<M;P++)D[I+P]=R}function s(D){return new Int32Array(D)}function o(D,I){for(var R=[],M=0;M<D;M++)R.push(new I);return R}function l(D,I){var R=[];return function M(P,F,O){for(var U=O[F],z=0;z<U&&(P.push(O.length>F+1?[]:new I),!(O.length<F+1));z++)M(P[z],F+1,O)}(R,0,D),R}var c=function(){var D=this;function I(p,b){for(var C=1<<b-1>>>0;p&C;)C>>>=1;return C?(p&C-1)+C:p}function R(p,b,C,A,B){t(!(A%C));do p[b+(A-=C)]=B;while(0<A)}function M(p,b,C,A,B){if(t(2328>=B),512>=B)var G=s(512);else if((G=s(B))==null)return 0;return function(K,Q,J,te,ue,ge){var ve,he,ke=Q,be=1<<J,de=s(16),fe=s(16);for(t(ue!=0),t(te!=null),t(K!=null),t(0<J),he=0;he<ue;++he){if(15<te[he])return 0;++de[te[he]]}if(de[0]==ue)return 0;for(fe[1]=0,ve=1;15>ve;++ve){if(de[ve]>1<<ve)return 0;fe[ve+1]=fe[ve]+de[ve]}for(he=0;he<ue;++he)ve=te[he],0<te[he]&&(ge[fe[ve]++]=he);if(fe[15]==1)return(te=new P).g=0,te.value=ge[0],R(K,ke,1,be,te),be;var je,Ce=-1,Se=be-1,Ye=0,Ie=1,st=1,Ue=1<<J;for(he=0,ve=1,ue=2;ve<=J;++ve,ue<<=1){if(Ie+=st<<=1,0>(st-=de[ve]))return 0;for(;0<de[ve];--de[ve])(te=new P).g=ve,te.value=ge[he++],R(K,ke+Ye,ue,Ue,te),Ye=I(Ye,ve)}for(ve=J+1,ue=2;15>=ve;++ve,ue<<=1){if(Ie+=st<<=1,0>(st-=de[ve]))return 0;for(;0<de[ve];--de[ve]){if(te=new P,(Ye&Se)!=Ce){for(ke+=Ue,je=1<<(Ce=ve)-J;15>Ce&&!(0>=(je-=de[Ce]));)++Ce,je<<=1;be+=Ue=1<<(je=Ce-J),K[Q+(Ce=Ye&Se)].g=je+J,K[Q+Ce].value=ke-Q-Ce}te.g=ve-J,te.value=ge[he++],R(K,ke+(Ye>>J),ue,Ue,te),Ye=I(Ye,ve)}}return Ie!=2*fe[15]-1?0:be}(p,b,C,A,B,G)}function P(){this.value=this.g=0}function F(){this.value=this.g=0}function O(){this.G=o(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(wn,F)}function U(p,b,C,A){t(p!=null),t(b!=null),t(2147483648>A),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=C,p.Jd=b,p.Yc=C+A,p.Zc=4<=A?C+A-4+1:C,Z(p)}function z(p,b){for(var C=0;0<b--;)C|=ie(p,128)<<b;return C}function V(p,b){var C=z(p,b);return ne(p)?-C:C}function q(p,b,C,A){var B,G=0;for(t(p!=null),t(b!=null),t(4294967288>A),p.Sb=A,p.Ra=0,p.u=0,p.h=0,4<A&&(A=4),B=0;B<A;++B)G+=b[C+B]<<8*B;p.Ra=G,p.bb=A,p.oa=b,p.pa=C}function re(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<ku-8>>>0,++p.bb,p.u-=8;Y(p)&&(p.h=1,p.u=0)}function oe(p,b){if(t(0<=b),!p.h&&b<=Su){var C=$(p)&ju[b];return p.u+=b,re(p),C}return p.h=1,p.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(p){return p.Ra>>>(p.u&ku-1)>>>0}function Y(p){return t(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>ku}function W(p,b){p.u=b,p.h=Y(p)}function X(p){p.u>=Of&&(t(p.u>=Of),re(p))}function Z(p){t(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(t(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ne(p){return z(p,1)}function ie(p,b){var C=p.Ca;0>p.b&&Z(p);var A=p.b,B=C*b>>>8,G=(p.I>>>A>B)+0;for(G?(C-=B,p.I-=B+1<<A>>>0):C=B+1,A=C,B=0;256<=A;)B+=8,A>>=8;return A=7^B+ua[A],p.b-=A,p.Ca=(C<<A)-1,G}function me(p,b,C){p[b+0]=C>>24&255,p[b+1]=C>>16&255,p[b+2]=C>>8&255,p[b+3]=C>>0&255}function xe(p,b){return p[b+0]<<0|p[b+1]<<8}function De(p,b){return xe(p,b)|p[b+2]<<16}function Ee(p,b){return xe(p,b)|xe(p,b+2)<<16}function Ze(p,b){var C=1<<b;return t(p!=null),t(0<b),p.X=s(C),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function we(p,b){t(p!=null),t(b!=null),t(p.Xa==b.Xa),n(b.X,0,p.X,0,1<<b.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Je(p,b,C,A){t(C!=null),t(A!=null);var B=C[0],G=A[0];return B==0&&(B=(p*G+b/2)/b),G==0&&(G=(b*B+p/2)/p),0>=B||0>=G?0:(C[0]=B,A[0]=G,1)}function qe(p,b){return p+(1<<b)-1>>>b}function Pe(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function Le(p,b){D[b]=function(C,A,B,G,K,Q,J){var te;for(te=0;te<K;++te){var ue=D[p](Q[J+te-1],B,G+te);Q[J+te]=Pe(C[A+te],ue)}}}function $e(){this.ud=this.hd=this.jd=0}function Fe(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function tt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function ut(p,b){return tt(p+(p-b+.5>>1))}function ht(p,b,C){return Math.abs(b-C)-Math.abs(p-C)}function bt(p,b,C,A,B,G,K){for(A=G[K-1],C=0;C<B;++C)G[K+C]=A=Pe(p[b+C],A)}function Ct(p,b,C,A,B){var G;for(G=0;G<C;++G){var K=p[b+G],Q=K>>8&255,J=16711935&(J=(J=16711935&K)+((Q<<16)+Q));A[B+G]=(4278255360&K)+J>>>0}}function Ft(p,b){b.jd=p>>0&255,b.hd=p>>8&255,b.ud=p>>16&255}function dt(p,b,C,A,B,G){var K;for(K=0;K<A;++K){var Q=b[C+K],J=Q>>>8,te=Q,ue=255&(ue=(ue=Q>>>16)+((p.jd<<24>>24)*(J<<24>>24)>>>5));te=255&(te=(te=te+((p.hd<<24>>24)*(J<<24>>24)>>>5))+((p.ud<<24>>24)*(ue<<24>>24)>>>5)),B[G+K]=(4278255360&Q)+(ue<<16)+te}}function St(p,b,C,A,B){D[b]=function(G,K,Q,J,te,ue,ge,ve,he){for(J=ge;J<ve;++J)for(ge=0;ge<he;++ge)te[ue++]=B(Q[A(G[K++])])},D[p]=function(G,K,Q,J,te,ue,ge){var ve=8>>G.b,he=G.Ea,ke=G.K[0],be=G.w;if(8>ve)for(G=(1<<G.b)-1,be=(1<<ve)-1;K<Q;++K){var de,fe=0;for(de=0;de<he;++de)de&G||(fe=A(J[te++])),ue[ge++]=B(ke[fe&be]),fe>>=ve}else D["VP8LMapColor"+C](J,te,ke,be,ue,ge,K,Q,he)}}function He(p,b,C,A,B){for(C=b+C;b<C;){var G=p[b++];A[B++]=G>>16&255,A[B++]=G>>8&255,A[B++]=G>>0&255}}function Mn(p,b,C,A,B){for(C=b+C;b<C;){var G=p[b++];A[B++]=G>>16&255,A[B++]=G>>8&255,A[B++]=G>>0&255,A[B++]=G>>24&255}}function Tt(p,b,C,A,B){for(C=b+C;b<C;){var G=(K=p[b++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;A[B++]=G,A[B++]=K}}function ws(p,b,C,A,B){for(C=b+C;b<C;){var G=(K=p[b++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;A[B++]=G,A[B++]=K}}function tr(p,b,C,A,B){for(C=b+C;b<C;){var G=p[b++];A[B++]=G>>0&255,A[B++]=G>>8&255,A[B++]=G>>16&255}}function vr(p,b,C,A,B,G){if(G==0)for(C=b+C;b<C;)me(A,((G=p[b++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),B+=32;else n(A,B,p,b,C)}function ri(p,b){D[b][0]=D[p+"0"],D[b][1]=D[p+"1"],D[b][2]=D[p+"2"],D[b][3]=D[p+"3"],D[b][4]=D[p+"4"],D[b][5]=D[p+"5"],D[b][6]=D[p+"6"],D[b][7]=D[p+"7"],D[b][8]=D[p+"8"],D[b][9]=D[p+"9"],D[b][10]=D[p+"10"],D[b][11]=D[p+"11"],D[b][12]=D[p+"12"],D[b][13]=D[p+"13"],D[b][14]=D[p+"0"],D[b][15]=D[p+"0"]}function Ht(p){return p==Vy||p==qy||p==Om||p==Gy}function ql(){this.eb=[],this.size=this.A=this.fb=0}function Dr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ns(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ql,this.f.kb=new Dr,this.sd=null}function Qi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function _r(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function pt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Wt(p,b){var C=p.T,A=b.ba.f.RGBA,B=A.eb,G=A.fb+p.ka*A.A,K=Za[b.ba.S],Q=p.y,J=p.O,te=p.f,ue=p.N,ge=p.ea,ve=p.W,he=b.cc,ke=b.dc,be=b.Mc,de=b.Nc,fe=p.ka,je=p.ka+p.T,Ce=p.U,Se=Ce+1>>1;for(fe==0?K(Q,J,null,null,te,ue,ge,ve,te,ue,ge,ve,B,G,null,null,Ce):(K(b.ec,b.fc,Q,J,he,ke,be,de,te,ue,ge,ve,B,G-A.A,B,G,Ce),++C);fe+2<je;fe+=2)he=te,ke=ue,be=ge,de=ve,ue+=p.Rc,ve+=p.Rc,G+=2*A.A,K(Q,(J+=2*p.fa)-p.fa,Q,J,he,ke,be,de,te,ue,ge,ve,B,G-A.A,B,G,Ce);return J+=p.fa,p.j+je<p.o?(n(b.ec,b.fc,Q,J,Ce),n(b.cc,b.dc,te,ue,Se),n(b.Mc,b.Nc,ge,ve,Se),C--):1&je||K(Q,J,null,null,te,ue,ge,ve,te,ue,ge,ve,B,G+A.A,null,null,Ce),C}function Gl(p,b,C){var A=p.F,B=[p.J];if(A!=null){var G=p.U,K=b.ba.S,Q=K==Lm||K==Om;b=b.ba.f.RGBA;var J=[0],te=p.ka;J[0]=p.T,p.Kb&&(te==0?--J[0]:(--te,B[0]-=p.width),p.j+p.ka+p.T==p.o&&(J[0]=p.o-p.j-te));var ue=b.eb;te=b.fb+te*b.A,p=ir(A,B[0],p.width,G,J,ue,te+(Q?0:3),b.A),t(C==J),p&&Ht(K)&&Qa(ue,te,Q,G,J,b.A)}return 0}function bn(p){var b=p.ma,C=b.ba.S,A=11>C,B=C==Mm||C==Am||C==Lm||C==Yy||C==12||Ht(C);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!Af(b.Oa,p,B?11:12))return 0;if(B&&Ht(C)&&_e(),p.da)alert("todo:use_scaling");else{if(A){if(b.Ib=pt,p.Kb){if(C=p.U+1>>1,b.memory=s(p.U+2*C),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+C,b.Ib=Wt,_e()}}else alert("todo:EmitYUV");B&&(b.Jb=Gl,A&&pe())}if(A&&!jj){for(p=0;256>p;++p)UL[p]=89858*(p-128)+Im>>Tm,HL[p]=-22014*(p-128)+Im,BL[p]=-45773*(p-128),zL[p]=113618*(p-128)+Im>>Tm;for(p=zf;p<Qy;++p)b=76283*(p-16)+Im>>Tm,WL[p-zf]=Ea(b,255),YL[p-zf]=Ea(b+8>>4,15);jj=1}return 1}function ni(p){var b=p.ma,C=p.U,A=p.T;return t(!(1&p.ka)),0>=C||0>=A?0:(C=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,C),b.Dc+=C,1)}function ai(p){p.ma.memory=null}function ot(p,b,C,A){return oe(p,8)!=47?0:(b[0]=oe(p,14)+1,C[0]=oe(p,14)+1,A[0]=oe(p,1),oe(p,3)!=0?0:!p.h)}function js(p,b){if(4>p)return p+1;var C=p-2>>1;return(2+(1&p)<<C)+oe(b,C)+1}function si(p,b){return 120<b?b-120:1<=(C=((C=CL[b-1])>>4)*p+(8-(15&C)))?C:1;var C}function la(p,b,C){var A=$(C),B=p[b+=255&A].g-8;return 0<B&&(W(C,C.u+8),A=$(C),b+=p[b].value,b+=A&(1<<B)-1),W(C,C.u+p[b].g),p[b].value}function nn(p,b,C){return C.g+=p.g,C.value+=p.value<<b>>>0,t(8>=C.g),p.g}function Gr(p,b,C){var A=p.xc;return t((b=A==0?0:p.vc[p.md*(C>>A)+(b>>A)])<p.Wb),p.Ya[b]}function Pa(p,b,C,A){var B=p.ab,G=p.c*b,K=p.C;b=K+b;var Q=C,J=A;for(A=p.Ta,C=p.Ua;0<B--;){var te=p.gc[B],ue=K,ge=b,ve=Q,he=J,ke=(J=A,Q=C,te.Ea);switch(t(ue<ge),t(ge<=te.nc),te.hc){case 2:Sm(ve,he,(ge-ue)*ke,J,Q);break;case 0:var be=ue,de=ge,fe=J,je=Q,Ce=(Ue=te).Ea;be==0&&(Hy(ve,he,null,null,1,fe,je),bt(ve,he+1,0,0,Ce-1,fe,je+1),he+=Ce,je+=Ce,++be);for(var Se=1<<Ue.b,Ye=Se-1,Ie=qe(Ce,Ue.b),st=Ue.K,Ue=Ue.w+(be>>Ue.b)*Ie;be<de;){var $t=st,Vt=Ue,Mt=1;for(Tf(ve,he,fe,je-Ce,1,fe,je);Mt<Ce;){var Dt=(Mt&~Ye)+Se;Dt>Ce&&(Dt=Ce),(0,qo[$t[Vt++]>>8&15])(ve,he+ +Mt,fe,je+Mt-Ce,Dt-Mt,fe,je+Mt),Mt=Dt}he+=Ce,je+=Ce,++be&Ye||(Ue+=Ie)}ge!=te.nc&&n(J,Q-ke,J,Q+(ge-ue-1)*ke,ke);break;case 1:for(ke=ve,de=he,Ce=(ve=te.Ea)-(je=ve&~(fe=(he=1<<te.b)-1)),be=qe(ve,te.b),Se=te.K,te=te.w+(ue>>te.b)*be;ue<ge;){for(Ye=Se,Ie=te,st=new $e,Ue=de+je,$t=de+ve;de<Ue;)Ft(Ye[Ie++],st),ec(st,ke,de,he,J,Q),de+=he,Q+=he;de<$t&&(Ft(Ye[Ie++],st),ec(st,ke,de,Ce,J,Q),de+=Ce,Q+=Ce),++ue&fe||(te+=be)}break;case 3:if(ve==J&&he==Q&&0<te.b){for(de=J,ve=ke=Q+(ge-ue)*ke-(je=(ge-ue)*qe(te.Ea,te.b)),he=J,fe=Q,be=[],je=(Ce=je)-1;0<=je;--je)be[je]=he[fe+je];for(je=Ce-1;0<=je;--je)de[ve+je]=be[je];Ga(te,ue,ge,J,ke,J,Q)}else Ga(te,ue,ge,ve,he,J,Q)}Q=A,J=C}J!=C&&n(A,C,Q,J,G)}function iu(p,b){var C=p.V,A=p.Ba+p.c*p.C,B=b-p.C;if(t(b<=p.l.o),t(16>=B),0<B){var G=p.l,K=p.Ta,Q=p.Ua,J=G.width;if(Pa(p,B,C,A),B=Q=[Q],t((C=p.C)<(A=b)),t(G.v<G.va),A>G.o&&(A=G.o),C<G.j){var te=G.j-C;C=G.j,B[0]+=te*J}if(C>=A?C=0:(B[0]+=4*G.v,G.ka=C-G.j,G.U=G.va-G.v,G.T=A-C,C=1),C){if(Q=Q[0],11>(C=p.ca).S){var ue=C.f.RGBA,ge=(A=C.S,B=G.U,G=G.T,te=ue.eb,ue.A),ve=G;for(ue=ue.fb+p.Ma*ue.A;0<ve--;){var he=K,ke=Q,be=B,de=te,fe=ue;switch(A){case Em:da(he,ke,be,de,fe);break;case Mm:Xn(he,ke,be,de,fe);break;case Vy:Xn(he,ke,be,de,fe),Qa(de,fe,0,be,1,0);break;case hj:ro(he,ke,be,de,fe);break;case Am:vr(he,ke,be,de,fe,1);break;case qy:vr(he,ke,be,de,fe,1),Qa(de,fe,0,be,1,0);break;case Lm:vr(he,ke,be,de,fe,0);break;case Om:vr(he,ke,be,de,fe,0),Qa(de,fe,1,be,1,0);break;case Yy:Go(he,ke,be,de,fe);break;case Gy:Go(he,ke,be,de,fe),sr(de,fe,be,1,0);break;case pj:to(he,ke,be,de,fe);break;default:t(0)}Q+=J,ue+=ge}p.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(p.Ma<=C.height)}}p.C=b,t(p.C<=p.i)}function Ji(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var C=p.Ya[b].G,A=p.Ya[b].H;if(0<C[1][A[1]+0].g||0<C[2][A[2]+0].g||0<C[3][A[3]+0].g)return 0}return 1}function Ss(p,b,C,A,B,G){if(p.Z!=0){var K=p.qd,Q=p.rd;for(t(Jo[p.Z]!=null);b<C;++b)Jo[p.Z](K,Q,A,B,A,B,G),K=A,Q=B,B+=G;p.qd=K,p.rd=Q}}function ks(p,b){var C=p.l.ma,A=C.Z==0||C.Z==1?p.l.j:p.C;if(A=p.C<A?A:p.C,t(b<=p.l.o),b>A){var B=p.l.width,G=C.ca,K=C.tb+B*A,Q=p.V,J=p.Ba+p.c*A,te=p.gc;t(p.ab==1),t(te[0].hc==3),km(te[0],A,b,Q,J,G,K),Ss(C,A,b,G,K,B)}p.C=p.Ma=b}function Cs(p,b,C,A,B,G,K){var Q=p.$/A,J=p.$%A,te=p.m,ue=p.s,ge=C+p.$,ve=ge;B=C+A*B;var he=C+A*G,ke=280+ue.ua,be=p.Pb?Q:16777216,de=0<ue.ua?ue.Wa:null,fe=ue.wc,je=ge<he?Gr(ue,J,Q):null;t(p.C<G),t(he<=B);var Ce=!1;e:for(;;){for(;Ce||ge<he;){var Se=0;if(Q>=be){var Ye=ge-C;t((be=p).Pb),be.wd=be.m,be.xd=Ye,0<be.s.ua&&we(be.s.Wa,be.s.vb),be=Q+_L}if(J&fe||(je=Gr(ue,J,Q)),t(je!=null),je.Qb&&(b[ge]=je.qb,Ce=!0),!Ce)if(X(te),je.jc){Se=te,Ye=b;var Ie=ge,st=je.pd[$(Se)&wn-1];t(je.jc),256>st.g?(W(Se,Se.u+st.g),Ye[Ie]=st.value,Se=0):(W(Se,Se.u+st.g-256),t(256<=st.value),Se=st.value),Se==0&&(Ce=!0)}else Se=la(je.G[0],je.H[0],te);if(te.h)break;if(Ce||256>Se){if(!Ce)if(je.nd)b[ge]=(je.qb|Se<<8)>>>0;else{if(X(te),Ce=la(je.G[1],je.H[1],te),X(te),Ye=la(je.G[2],je.H[2],te),Ie=la(je.G[3],je.H[3],te),te.h)break;b[ge]=(Ie<<24|Ce<<16|Se<<8|Ye)>>>0}if(Ce=!1,++ge,++J>=A&&(J=0,++Q,K!=null&&Q<=G&&!(Q%16)&&K(p,Q),de!=null))for(;ve<ge;)Se=b[ve++],de.X[(506832829*Se&4294967295)>>>de.Mb]=Se}else if(280>Se){if(Se=js(Se-256,te),Ye=la(je.G[4],je.H[4],te),X(te),Ye=si(A,Ye=js(Ye,te)),te.h)break;if(ge-C<Ye||B-ge<Se)break e;for(Ie=0;Ie<Se;++Ie)b[ge+Ie]=b[ge+Ie-Ye];for(ge+=Se,J+=Se;J>=A;)J-=A,++Q,K!=null&&Q<=G&&!(Q%16)&&K(p,Q);if(t(ge<=B),J&fe&&(je=Gr(ue,J,Q)),de!=null)for(;ve<ge;)Se=b[ve++],de.X[(506832829*Se&4294967295)>>>de.Mb]=Se}else{if(!(Se<ke))break e;for(Ce=Se-280,t(de!=null);ve<ge;)Se=b[ve++],de.X[(506832829*Se&4294967295)>>>de.Mb]=Se;Se=ge,t(!(Ce>>>(Ye=de).Xa)),b[Se]=Ye.X[Ce],Ce=!0}Ce||t(te.h==Y(te))}if(p.Pb&&te.h&&ge<B)t(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&we(p.s.vb,p.s.Wa);else{if(te.h)break e;K!=null&&K(p,Q>G?G:Q),p.a=0,p.$=ge-C}return 1}return p.a=3,0}function ii(p){t(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,t(p!=null)}function qa(){var p=new By;return p==null?null:(p.a=0,p.xb=vj,ri("Predictor","VP8LPredictors"),ri("Predictor","VP8LPredictors_C"),ri("PredictorAdd","VP8LPredictorsAdd"),ri("PredictorAdd","VP8LPredictorsAdd_C"),Sm=Ct,ec=dt,da=He,Xn=Mn,Go=Tt,to=ws,ro=tr,D.VP8LMapColor32b=Cu,D.VP8LMapColor8b=Cm,p)}function oi(p,b,C,A,B){var G=1,K=[p],Q=[b],J=A.m,te=A.s,ue=null,ge=0;e:for(;;){if(C)for(;G&&oe(J,1);){var ve=K,he=Q,ke=A,be=1,de=ke.m,fe=ke.gc[ke.ab],je=oe(de,2);if(ke.Oc&1<<je)G=0;else{switch(ke.Oc|=1<<je,fe.hc=je,fe.Ea=ve[0],fe.nc=he[0],fe.K=[null],++ke.ab,t(4>=ke.ab),je){case 0:case 1:fe.b=oe(de,3)+2,be=oi(qe(fe.Ea,fe.b),qe(fe.nc,fe.b),0,ke,fe.K),fe.K=fe.K[0];break;case 3:var Ce,Se=oe(de,8)+1,Ye=16<Se?0:4<Se?1:2<Se?2:3;if(ve[0]=qe(fe.Ea,Ye),fe.b=Ye,Ce=be=oi(Se,1,0,ke,fe.K)){var Ie,st=Se,Ue=fe,$t=1<<(8>>Ue.b),Vt=s($t);if(Vt==null)Ce=0;else{var Mt=Ue.K[0],Dt=Ue.w;for(Vt[0]=Ue.K[0][0],Ie=1;Ie<1*st;++Ie)Vt[Ie]=Pe(Mt[Dt+Ie],Vt[Ie-1]);for(;Ie<4*$t;++Ie)Vt[Ie]=0;Ue.K[0]=null,Ue.K[0]=Vt,Ce=1}}be=Ce;break;case 2:break;default:t(0)}G=be}}if(K=K[0],Q=Q[0],G&&oe(J,1)&&!(G=1<=(ge=oe(J,4))&&11>=ge)){A.a=3;break e}var rr;if(rr=G)t:{var Zt,xt,Xr,fa=A,Qr=K,ha=Q,qt=ge,Aa=C,La=fa.m,fn=fa.s,Nn=[null],Jn=1,es=0,di=DL[qt];r:for(;;){if(Aa&&oe(La,1)){var hn=oe(La,3)+2,io=qe(Qr,hn),sc=qe(ha,hn),Mu=io*sc;if(!oi(io,sc,0,fa,Nn))break r;for(Nn=Nn[0],fn.xc=hn,Zt=0;Zt<Mu;++Zt){var Zo=Nn[Zt]>>8&65535;Nn[Zt]=Zo,Zo>=Jn&&(Jn=Zo+1)}}if(La.h)break r;for(xt=0;5>xt;++xt){var Er=mj[xt];!xt&&0<qt&&(Er+=1<<qt),es<Er&&(es=Er)}var Jy=o(Jn*di,P),Cj=Jn,Dj=o(Cj,O);if(Dj==null)var Fm=null;else t(65536>=Cj),Fm=Dj;var Bf=s(es);if(Fm==null||Bf==null||Jy==null){fa.a=1;break r}var $m=Jy;for(Zt=Xr=0;Zt<Jn;++Zt){var Ms=Fm[Zt],Au=Ms.G,Lu=Ms.H,_j=0,Um=1,Pj=0;for(xt=0;5>xt;++xt){Er=mj[xt],Au[xt]=$m,Lu[xt]=Xr,!xt&&0<qt&&(Er+=1<<qt);a:{var zm,Zy=Er,Bm=fa,Hf=Bf,GL=$m,KL=Xr,e1=0,el=Bm.m,XL=oe(el,1);if(a(Hf,0,0,Zy),XL){var QL=oe(el,1)+1,JL=oe(el,1),Ej=oe(el,JL==0?1:8);Hf[Ej]=1,QL==2&&(Hf[Ej=oe(el,8)]=1);var Hm=1}else{var Mj=s(19),Aj=oe(el,4)+4;if(19<Aj){Bm.a=3;var Wm=0;break a}for(zm=0;zm<Aj;++zm)Mj[kL[zm]]=oe(el,3);var t1=void 0,Wf=void 0,Lj=Bm,ZL=Mj,Ym=Zy,Oj=Hf,r1=0,tl=Lj.m,Tj=8,Ij=o(128,P);n:for(;M(Ij,0,7,ZL,19);){if(oe(tl,1)){var eO=2+2*oe(tl,3);if((t1=2+oe(tl,eO))>Ym)break n}else t1=Ym;for(Wf=0;Wf<Ym&&t1--;){X(tl);var Rj=Ij[0+(127&$(tl))];W(tl,tl.u+Rj.g);var Ou=Rj.value;if(16>Ou)Oj[Wf++]=Ou,Ou!=0&&(Tj=Ou);else{var tO=Ou==16,Fj=Ou-16,rO=jL[Fj],$j=oe(tl,NL[Fj])+rO;if(Wf+$j>Ym)break n;for(var nO=tO?Tj:0;0<$j--;)Oj[Wf++]=nO}}r1=1;break n}r1||(Lj.a=3),Hm=r1}(Hm=Hm&&!el.h)&&(e1=M(GL,KL,8,Hf,Zy)),Hm&&e1!=0?Wm=e1:(Bm.a=3,Wm=0)}if(Wm==0)break r;if(Um&&SL[xt]==1&&(Um=$m[Xr].g==0),_j+=$m[Xr].g,Xr+=Wm,3>=xt){var Yf,n1=Bf[0];for(Yf=1;Yf<Er;++Yf)Bf[Yf]>n1&&(n1=Bf[Yf]);Pj+=n1}}if(Ms.nd=Um,Ms.Qb=0,Um&&(Ms.qb=(Au[3][Lu[3]+0].value<<24|Au[1][Lu[1]+0].value<<16|Au[2][Lu[2]+0].value)>>>0,_j==0&&256>Au[0][Lu[0]+0].value&&(Ms.Qb=1,Ms.qb+=Au[0][Lu[0]+0].value<<8)),Ms.jc=!Ms.Qb&&6>Pj,Ms.jc){var Vm,oo=Ms;for(Vm=0;Vm<wn;++Vm){var rl=Vm,nl=oo.pd[rl],qm=oo.G[0][oo.H[0]+rl];256<=qm.value?(nl.g=qm.g+256,nl.value=qm.value):(nl.g=0,nl.value=0,rl>>=nn(qm,8,nl),rl>>=nn(oo.G[1][oo.H[1]+rl],16,nl),rl>>=nn(oo.G[2][oo.H[2]+rl],0,nl),nn(oo.G[3][oo.H[3]+rl],24,nl))}}}fn.vc=Nn,fn.Wb=Jn,fn.Ya=Fm,fn.yc=Jy,rr=1;break t}rr=0}if(!(G=rr)){A.a=3;break e}if(0<ge){if(te.ua=1<<ge,!Ze(te.Wa,ge)){A.a=1,G=0;break e}}else te.ua=0;var a1=A,Uj=K,aO=Q,s1=a1.s,i1=s1.xc;if(a1.c=Uj,a1.i=aO,s1.md=qe(Uj,i1),s1.wc=i1==0?-1:(1<<i1)-1,C){A.xb=TL;break e}if((ue=s(K*Q))==null){A.a=1,G=0;break e}G=(G=Cs(A,ue,0,K,Q,Q,null))&&!J.h;break e}return G?(B!=null?B[0]=ue:(t(ue==null),t(C)),A.$=0,C||ii(te)):ii(te),G}function Kl(p,b){var C=p.c*p.i,A=C+b+16*b;return t(p.c<=b),p.V=s(A),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+C+b,1)}function ou(p,b){var C=p.C,A=b-C,B=p.V,G=p.Ba+p.c*C;for(t(b<=p.l.o);0<A;){var K=16<A?16:A,Q=p.l.ma,J=p.l.width,te=J*K,ue=Q.ca,ge=Q.tb+J*C,ve=p.Ta,he=p.Ua;Pa(p,K,B,G),Fr(ve,he,ue,ge,te),Ss(Q,C,C+K,ue,ge,J),A-=K,B+=K*p.c,C+=K}t(C==b),p.C=p.Ma=b}function lu(){this.ub=this.yd=this.td=this.Rb=0}function cu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function uu(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function am(){this.Yb=function(){var p=[];return function b(C,A,B){for(var G=B[A],K=0;K<G&&(C.push(B.length>A+1?[]:0),!(B.length<A+1));K++)b(C[K],A+1,B)}(p,0,[3,11]),p}()}function yy(){this.jb=s(3),this.Wc=l([4,8],am),this.Xc=l([4,17],am)}function by(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function du(){this.ld=this.La=this.dd=this.tc=0}function sm(){this.Na=this.la=0}function wy(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gf(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ny(){this.uc=this.M=this.Nb=0,this.wa=Array(new du),this.Y=0,this.ya=Array(new gf),this.aa=0,this.l=new fu}function im(){this.y=s(16),this.f=s(8),this.ea=s(8)}function jy(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new lu,this.Kc=new cu,this.ed=new by,this.Qa=new uu,this.Ic=this.$c=this.Aa=0,this.D=new Ny,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,wy),this.Pa=new yy,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new im),this.Hd=0,this.rb=Array(new sm),this.sb=0,this.wa=Array(new du),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gf),this.L=this.aa=0,this.gd=l([4,2],du),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fu(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sy(){var p=new jy;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Uf||(Uf=cm)),p}function Ir(p,b,C){return p.a==0&&(p.a=b,p.sc=C,p.cb=0),0}function om(p,b,C){return 3<=C&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function lm(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return Ir(p,2,"null VP8Io passed to VP8GetHeaders()");var C=b.data,A=b.w,B=b.ha;if(4>B)return Ir(p,7,"Truncated header.");var G=C[A+0]|C[A+1]<<8|C[A+2]<<16,K=p.Od;if(K.Rb=!(1&G),K.td=G>>1&7,K.yd=G>>4&1,K.ub=G>>5,3<K.td)return Ir(p,3,"Incorrect keyframe parameters.");if(!K.yd)return Ir(p,4,"Frame not displayable.");A+=3,B-=3;var Q=p.Kc;if(K.Rb){if(7>B)return Ir(p,7,"cannot parse picture header");if(!om(C,A,B))return Ir(p,3,"Bad code word");Q.c=16383&(C[A+4]<<8|C[A+3]),Q.Td=C[A+4]>>6,Q.i=16383&(C[A+6]<<8|C[A+5]),Q.Ud=C[A+6]>>6,A+=7,B-=7,p.za=Q.c+15>>4,p.Ub=Q.i+15>>4,b.width=Q.c,b.height=Q.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((G=p.Pa).jb,0,255,G.jb.length),t((G=p.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,a(G.Zb,0,0,G.Zb.length),a(G.Lb,0,0,G.Lb)}if(K.ub>B)return Ir(p,7,"bad partition length");U(G=p.m,C,A,K.ub),A+=K.ub,B-=K.ub,K.Rb&&(Q.Ld=ne(G),Q.Kd=ne(G)),Q=p.Qa;var J,te=p.Pa;if(t(G!=null),t(Q!=null),Q.Cb=ne(G),Q.Cb){if(Q.Bb=ne(G),ne(G)){for(Q.Fb=ne(G),J=0;4>J;++J)Q.Zb[J]=ne(G)?V(G,7):0;for(J=0;4>J;++J)Q.Lb[J]=ne(G)?V(G,6):0}if(Q.Bb)for(J=0;3>J;++J)te.jb[J]=ne(G)?z(G,8):255}else Q.Bb=0;if(G.Ka)return Ir(p,3,"cannot parse segment header");if((Q=p.ed).zd=ne(G),Q.Tb=z(G,6),Q.wb=z(G,3),Q.Pc=ne(G),Q.Pc&&ne(G)){for(te=0;4>te;++te)ne(G)&&(Q.vd[te]=V(G,6));for(te=0;4>te;++te)ne(G)&&(Q.od[te]=V(G,6))}if(p.L=Q.Tb==0?0:Q.zd?1:2,G.Ka)return Ir(p,3,"cannot parse filter header");var ue=B;if(B=J=A,A=J+ue,Q=ue,p.Xb=(1<<z(p.m,2))-1,ue<3*(te=p.Xb))C=7;else{for(J+=3*te,Q-=3*te,ue=0;ue<te;++ue){var ge=C[B+0]|C[B+1]<<8|C[B+2]<<16;ge>Q&&(ge=Q),U(p.Jc[+ue],C,J,ge),J+=ge,Q-=ge,B+=3}U(p.Jc[+te],C,J,Q),C=J<A?0:5}if(C!=0)return Ir(p,C,"cannot parse partitions");for(C=z(J=p.m,7),B=ne(J)?V(J,4):0,A=ne(J)?V(J,4):0,Q=ne(J)?V(J,4):0,te=ne(J)?V(J,4):0,J=ne(J)?V(J,4):0,ue=p.Qa,ge=0;4>ge;++ge){if(ue.Cb){var ve=ue.Zb[ge];ue.Fb||(ve+=C)}else{if(0<ge){p.pb[ge]=p.pb[0];continue}ve=C}var he=p.pb[ge];he.Sc[0]=Ky[Ea(ve+B,127)],he.Sc[1]=Xy[Ea(ve+0,127)],he.Eb[0]=2*Ky[Ea(ve+A,127)],he.Eb[1]=101581*Xy[Ea(ve+Q,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=Ky[Ea(ve+te,117)],he.Qc[1]=Xy[Ea(ve+J,127)],he.lc=ve+J}if(!K.Rb)return Ir(p,4,"Not a key frame.");for(ne(G),K=p.Pa,C=0;4>C;++C){for(B=0;8>B;++B)for(A=0;3>A;++A)for(Q=0;11>Q;++Q)te=ie(G,LL[C][B][A][Q])?z(G,8):ML[C][B][A][Q],K.Wc[C][B].Yb[A][Q]=te;for(B=0;17>B;++B)K.Xc[C][B]=K.Wc[C][OL[B]]}return p.kc=ne(G),p.kc&&(p.Bd=z(G,8)),p.cb=1}function cm(p,b,C,A,B,G,K){var Q=b[B].Yb[C];for(C=0;16>B;++B){if(!ie(p,Q[C+0]))return B;for(;!ie(p,Q[C+1]);)if(Q=b[++B].Yb[0],C=0,B==16)return 16;var J=b[B+1].Yb;if(ie(p,Q[C+2])){var te=p,ue=0;if(ie(te,(ve=Q)[(ge=C)+3]))if(ie(te,ve[ge+6])){for(Q=0,ge=2*(ue=ie(te,ve[ge+8]))+(ve=ie(te,ve[ge+9+ue])),ue=0,ve=PL[ge];ve[Q];++Q)ue+=ue+ie(te,ve[Q]);ue+=3+(8<<ge)}else ie(te,ve[ge+7])?(ue=7+2*ie(te,165),ue+=ie(te,145)):ue=5+ie(te,159);else ue=ie(te,ve[ge+4])?3+ie(te,ve[ge+5]):2;Q=J[2]}else ue=1,Q=J[1];J=K+EL[B],0>(te=p).b&&Z(te);var ge,ve=te.b,he=(ge=te.Ca>>1)-(te.I>>ve)>>31;--te.b,te.Ca+=he,te.Ca|=1,te.I-=(ge+1&he)<<ve,G[J]=((ue^he)-he)*A[(0<B)+0]}return 16}function vf(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function ky(p,b){if(p==null)return 0;if(b==null)return Ir(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!lm(p,b))return 0;if(t(p.cb),b.ac==null||b.ac(b)){b.ob&&(p.L=0);var C=Rm[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=b.v-C>>4,p.zb=b.j-C>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=b.o+15+C>>4,p.Hb=b.va+15+C>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var A=p.ed;for(C=0;4>C;++C){var B;if(p.Qa.Cb){var G=p.Qa.Lb[C];p.Qa.Fb||(G+=A.Tb)}else G=A.Tb;for(B=0;1>=B;++B){var K=p.gd[C][B],Q=G;if(A.Pc&&(Q+=A.vd[0],B&&(Q+=A.od[0])),0<(Q=0>Q?0:63<Q?63:Q)){var J=Q;0<A.wb&&(J=4<A.wb?J>>2:J>>1)>9-A.wb&&(J=9-A.wb),1>J&&(J=1),K.dd=J,K.tc=2*Q+J,K.ld=40<=Q?2:15<=Q?1:0}else K.tc=0;K.La=B}}}C=0}else Ir(p,6,"Frame setup failed"),C=p.a;if(C=C==0){if(C){p.$c=0,0<p.Aa||(p.Ic=qL);e:{C=p.Ic,A=4*(J=p.za);var te=32*J,ue=J+1,ge=0<p.L?J*(0<p.Aa?2:1):0,ve=(p.Aa==2?2:1)*J;if((K=A+832+(B=3*(16*C+Rm[p.L])/2*te)+(G=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=K)C=0;else{if(K>p.Vb){if(p.Vb=0,p.Ec=s(K),p.Fc=0,p.Ec==null){C=Ir(p,1,"no memory during frame initialization.");break e}p.Vb=K}K=p.Ec,Q=p.Fc,p.Ac=K,p.Bc=Q,Q+=A,p.Gd=o(te,im),p.Hd=0,p.rb=o(ue+1,sm),p.sb=1,p.wa=ge?o(ge,du):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=J),t(!0),p.oc=K,p.pc=Q,Q+=832,p.ya=o(ve,gf),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=J),p.R=16*J,p.B=8*J,J=(te=Rm[p.L])*p.R,te=te/2*p.B,p.sa=K,p.ta=Q+J,p.qa=p.sa,p.ra=p.ta+16*C*p.R+te,p.Ha=p.qa,p.Ia=p.ra+8*C*p.B+te,p.$c=0,Q+=B,p.mb=G?K:null,p.nb=G?Q:null,t(Q+G<=p.Fc+p.Vb),vf(p),a(p.Ac,p.Bc,0,A),C=1}}if(C){if(b.ka=0,b.y=p.sa,b.O=p.ta,b.f=p.qa,b.N=p.ra,b.ea=p.Ha,b.Vd=p.Ia,b.fa=p.R,b.Rc=p.B,b.F=null,b.J=0,!_m){for(C=-255;255>=C;++C)an[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)ao[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)$f[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)Eu[255+C]=0>C?0:255<C?255:C;_m=1}Du=_y,no=Cy,If=dm,Qn=Dy,Ka=fm,Rr=um,_u=jf,Dm=Jl,Rf=zy,tc=Sf,rc=Uy,Ko=xu,nc=kf,Pu=wm,ac=bm,Xo=ci,Ff=eo,Xa=$y,Es[0]=li,Es[1]=Py,Es[2]=Ly,Es[3]=Oy,Es[4]=mm,Es[5]=gu,Es[6]=gm,Es[7]=bf,Es[8]=Iy,Es[9]=Ty,Qo[0]=hm,Qo[1]=My,Qo[2]=Zi,Qo[3]=pu,Qo[4]=An,Qo[5]=Ay,Qo[6]=pm,so[0]=Wo,so[1]=Ey,so[2]=Ry,so[3]=wf,so[4]=Ql,so[5]=Fy,so[6]=Nf,C=1}else C=0}C&&(C=function(he,ke){for(he.M=0;he.M<he.Va;++he.M){var be,de=he.Jc[he.M&he.Xb],fe=he.m,je=he;for(be=0;be<je.za;++be){var Ce=fe,Se=je,Ye=Se.Ac,Ie=Se.Bc+4*be,st=Se.zc,Ue=Se.ya[Se.aa+be];if(Se.Qa.Bb?Ue.$b=ie(Ce,Se.Pa.jb[0])?2+ie(Ce,Se.Pa.jb[2]):ie(Ce,Se.Pa.jb[1]):Ue.$b=0,Se.kc&&(Ue.Ad=ie(Ce,Se.Bd)),Ue.Za=!ie(Ce,145)+0,Ue.Za){var $t=Ue.Ob,Vt=0;for(Se=0;4>Se;++Se){var Mt,Dt=st[0+Se];for(Mt=0;4>Mt;++Mt){Dt=AL[Ye[Ie+Mt]][Dt];for(var rr=gj[ie(Ce,Dt[0])];0<rr;)rr=gj[2*rr+ie(Ce,Dt[rr])];Dt=-rr,Ye[Ie+Mt]=Dt}n($t,Vt,Ye,Ie,4),Vt+=4,st[0+Se]=Dt}}else Dt=ie(Ce,156)?ie(Ce,128)?1:3:ie(Ce,163)?2:0,Ue.Ob[0]=Dt,a(Ye,Ie,Dt,4),a(st,0,Dt,4);Ue.Dd=ie(Ce,142)?ie(Ce,114)?ie(Ce,183)?1:3:2:0}if(je.m.Ka)return Ir(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(je=de,Ce=(fe=he).rb[fe.sb-1],Ye=fe.rb[fe.sb+fe.ja],be=fe.ya[fe.aa+fe.ja],Ie=fe.kc?be.Ad:0)Ce.la=Ye.la=0,be.Za||(Ce.Na=Ye.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var Zt,xt;if(Ce=Ye,Ye=je,Ie=fe.Pa.Xc,st=fe.ya[fe.aa+fe.ja],Ue=fe.pb[st.$b],Se=st.ad,$t=0,Vt=fe.rb[fe.sb-1],Dt=Mt=0,a(Se,$t,0,384),st.Za)var Xr=0,fa=Ie[3];else{rr=s(16);var Qr=Ce.Na+Vt.Na;if(Qr=Uf(Ye,Ie[1],Qr,Ue.Eb,0,rr,0),Ce.Na=Vt.Na=(0<Qr)+0,1<Qr)Du(rr,0,Se,$t);else{var ha=rr[0]+3>>3;for(rr=0;256>rr;rr+=16)Se[$t+rr]=ha}Xr=1,fa=Ie[0]}var qt=15&Ce.la,Aa=15&Vt.la;for(rr=0;4>rr;++rr){var La=1&Aa;for(ha=xt=0;4>ha;++ha)qt=qt>>1|(La=(Qr=Uf(Ye,fa,Qr=La+(1&qt),Ue.Sc,Xr,Se,$t))>Xr)<<7,xt=xt<<2|(3<Qr?3:1<Qr?2:Se[$t+0]!=0),$t+=16;qt>>=4,Aa=Aa>>1|La<<7,Mt=(Mt<<8|xt)>>>0}for(fa=qt,Xr=Aa>>4,Zt=0;4>Zt;Zt+=2){for(xt=0,qt=Ce.la>>4+Zt,Aa=Vt.la>>4+Zt,rr=0;2>rr;++rr){for(La=1&Aa,ha=0;2>ha;++ha)Qr=La+(1&qt),qt=qt>>1|(La=0<(Qr=Uf(Ye,Ie[2],Qr,Ue.Qc,0,Se,$t)))<<3,xt=xt<<2|(3<Qr?3:1<Qr?2:Se[$t+0]!=0),$t+=16;qt>>=2,Aa=Aa>>1|La<<5}Dt|=xt<<4*Zt,fa|=qt<<4<<Zt,Xr|=(240&Aa)<<Zt}Ce.la=fa,Vt.la=Xr,st.Hc=Mt,st.Gc=Dt,st.ia=43690&Dt?0:Ue.ia,Ie=!(Mt|Dt)}if(0<fe.L&&(fe.wa[fe.Y+fe.ja]=fe.gd[be.$b][be.Za],fe.wa[fe.Y+fe.ja].La|=!Ie),je.Ka)return Ir(he,7,"Premature end-of-file encountered.")}if(vf(he),fe=ke,je=1,be=(de=he).D,Ce=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(be.M=de.M,be.uc=Ce,Mf(de,be),je=1,be=(xt=de.D).Nb,Ce=(Dt=Rm[de.L])*de.R,Ye=Dt/2*de.B,rr=16*be*de.R,ha=8*be*de.B,Ie=de.sa,st=de.ta-Ce+rr,Ue=de.qa,Se=de.ra-Ye+ha,$t=de.Ha,Vt=de.Ia-Ye+ha,Aa=(qt=xt.M)==0,Mt=qt>=de.Va-1,de.Aa==2&&Mf(de,xt),xt.uc)for(La=(Qr=de).D.M,t(Qr.D.uc),xt=Qr.yb;xt<Qr.Hb;++xt){Xr=xt,fa=La;var fn=(Nn=(Er=Qr).D).Nb;Zt=Er.R;var Nn=Nn.wa[Nn.Y+Xr],Jn=Er.sa,es=Er.ta+16*fn*Zt+16*Xr,di=Nn.dd,hn=Nn.tc;if(hn!=0)if(t(3<=hn),Er.L==1)0<Xr&&Xo(Jn,es,Zt,hn+4),Nn.La&&Xa(Jn,es,Zt,hn),0<fa&&ac(Jn,es,Zt,hn+4),Nn.La&&Ff(Jn,es,Zt,hn);else{var io=Er.B,sc=Er.qa,Mu=Er.ra+8*fn*io+8*Xr,Zo=Er.Ha,Er=Er.Ia+8*fn*io+8*Xr;fn=Nn.ld,0<Xr&&(Dm(Jn,es,Zt,hn+4,di,fn),tc(sc,Mu,Zo,Er,io,hn+4,di,fn)),Nn.La&&(Ko(Jn,es,Zt,hn,di,fn),Pu(sc,Mu,Zo,Er,io,hn,di,fn)),0<fa&&(_u(Jn,es,Zt,hn+4,di,fn),Rf(sc,Mu,Zo,Er,io,hn+4,di,fn)),Nn.La&&(rc(Jn,es,Zt,hn,di,fn),nc(sc,Mu,Zo,Er,io,hn,di,fn))}}if(de.ia&&alert("todo:DitherRow"),fe.put!=null){if(xt=16*qt,qt=16*(qt+1),Aa?(fe.y=de.sa,fe.O=de.ta+rr,fe.f=de.qa,fe.N=de.ra+ha,fe.ea=de.Ha,fe.W=de.Ia+ha):(xt-=Dt,fe.y=Ie,fe.O=st,fe.f=Ue,fe.N=Se,fe.ea=$t,fe.W=Vt),Mt||(qt-=Dt),qt>fe.o&&(qt=fe.o),fe.F=null,fe.J=null,de.Fa!=null&&0<de.Fa.length&&xt<qt&&(fe.J=Pf(de,fe,xt,qt-xt),fe.F=de.mb,fe.F==null&&fe.F.length==0)){je=Ir(de,3,"Could not decode alpha data.");break e}xt<fe.j&&(Dt=fe.j-xt,xt=fe.j,t(!(1&Dt)),fe.O+=de.R*Dt,fe.N+=de.B*(Dt>>1),fe.W+=de.B*(Dt>>1),fe.F!=null&&(fe.J+=fe.width*Dt)),xt<qt&&(fe.O+=fe.v,fe.N+=fe.v>>1,fe.W+=fe.v>>1,fe.F!=null&&(fe.J+=fe.v),fe.ka=xt-fe.j,fe.U=fe.va-fe.v,fe.T=qt-xt,je=fe.put(fe))}be+1!=de.Ic||Mt||(n(de.sa,de.ta-Ce,Ie,st+16*de.R,Ce),n(de.qa,de.ra-Ye,Ue,Se+8*de.B,Ye),n(de.Ha,de.Ia-Ye,$t,Vt+8*de.B,Ye))}if(!je)return Ir(he,6,"Output aborted.")}return 1}(p,b)),b.bc!=null&&b.bc(b),C&=1}return C?(p.cb=0,C):0}function Ds(p,b,C,A,B){B=p[b+C+32*A]+(B>>3),p[b+C+32*A]=-256&B?0>B?0:255:B}function hu(p,b,C,A,B,G){Ds(p,b,0,C,A+B),Ds(p,b,1,C,A+G),Ds(p,b,2,C,A-G),Ds(p,b,3,C,A-B)}function ca(p){return(20091*p>>16)+p}function xf(p,b,C,A){var B,G=0,K=s(16);for(B=0;4>B;++B){var Q=p[b+0]+p[b+8],J=p[b+0]-p[b+8],te=(35468*p[b+4]>>16)-ca(p[b+12]),ue=ca(p[b+4])+(35468*p[b+12]>>16);K[G+0]=Q+ue,K[G+1]=J+te,K[G+2]=J-te,K[G+3]=Q-ue,G+=4,b++}for(B=G=0;4>B;++B)Q=(p=K[G+0]+4)+K[G+8],J=p-K[G+8],te=(35468*K[G+4]>>16)-ca(K[G+12]),Ds(C,A,0,0,Q+(ue=ca(K[G+4])+(35468*K[G+12]>>16))),Ds(C,A,1,0,J+te),Ds(C,A,2,0,J-te),Ds(C,A,3,0,Q-ue),G++,A+=32}function um(p,b,C,A){var B=p[b+0]+4,G=35468*p[b+4]>>16,K=ca(p[b+4]),Q=35468*p[b+1]>>16;hu(C,A,0,B+K,p=ca(p[b+1]),Q),hu(C,A,1,B+G,p,Q),hu(C,A,2,B-G,p,Q),hu(C,A,3,B-K,p,Q)}function Cy(p,b,C,A,B){xf(p,b,C,A),B&&xf(p,b+16,C,A+4)}function dm(p,b,C,A){no(p,b+0,C,A,1),no(p,b+32,C,A+128,1)}function Dy(p,b,C,A){var B;for(p=p[b+0]+4,B=0;4>B;++B)for(b=0;4>b;++b)Ds(C,A,b,B,p)}function fm(p,b,C,A){p[b+0]&&Qn(p,b+0,C,A),p[b+16]&&Qn(p,b+16,C,A+4),p[b+32]&&Qn(p,b+32,C,A+128),p[b+48]&&Qn(p,b+48,C,A+128+4)}function _y(p,b,C,A){var B,G=s(16);for(B=0;4>B;++B){var K=p[b+0+B]+p[b+12+B],Q=p[b+4+B]+p[b+8+B],J=p[b+4+B]-p[b+8+B],te=p[b+0+B]-p[b+12+B];G[0+B]=K+Q,G[8+B]=K-Q,G[4+B]=te+J,G[12+B]=te-J}for(B=0;4>B;++B)K=(p=G[0+4*B]+3)+G[3+4*B],Q=G[1+4*B]+G[2+4*B],J=G[1+4*B]-G[2+4*B],te=p-G[3+4*B],C[A+0]=K+Q>>3,C[A+16]=te+J>>3,C[A+32]=K-Q>>3,C[A+48]=te-J>>3,A+=64}function yf(p,b,C){var A,B=b-32,G=Ma,K=255-p[B-1];for(A=0;A<C;++A){var Q,J=G,te=K+p[b-1];for(Q=0;Q<C;++Q)p[b+Q]=J[te+p[B+Q]];b+=32}}function Py(p,b){yf(p,b,4)}function Ey(p,b){yf(p,b,8)}function My(p,b){yf(p,b,16)}function Zi(p,b){var C;for(C=0;16>C;++C)n(p,b+32*C,p,b-32,16)}function pu(p,b){var C;for(C=16;0<C;--C)a(p,b,p[b-1],16),b+=32}function mu(p,b,C){var A;for(A=0;16>A;++A)a(b,C+32*A,p,16)}function hm(p,b){var C,A=16;for(C=0;16>C;++C)A+=p[b-1+32*C]+p[b+C-32];mu(A>>5,p,b)}function An(p,b){var C,A=8;for(C=0;16>C;++C)A+=p[b-1+32*C];mu(A>>4,p,b)}function Ay(p,b){var C,A=8;for(C=0;16>C;++C)A+=p[b+C-32];mu(A>>4,p,b)}function pm(p,b){mu(128,p,b)}function ft(p,b,C){return p+2*b+C+2>>2}function Ly(p,b){var C,A=b-32;for(A=new Uint8Array([ft(p[A-1],p[A+0],p[A+1]),ft(p[A+0],p[A+1],p[A+2]),ft(p[A+1],p[A+2],p[A+3]),ft(p[A+2],p[A+3],p[A+4])]),C=0;4>C;++C)n(p,b+32*C,A,0,A.length)}function Oy(p,b){var C=p[b-1],A=p[b-1+32],B=p[b-1+64],G=p[b-1+96];me(p,b+0,16843009*ft(p[b-1-32],C,A)),me(p,b+32,16843009*ft(C,A,B)),me(p,b+64,16843009*ft(A,B,G)),me(p,b+96,16843009*ft(B,G,G))}function li(p,b){var C,A=4;for(C=0;4>C;++C)A+=p[b+C-32]+p[b-1+32*C];for(A>>=3,C=0;4>C;++C)a(p,b+32*C,A,4)}function mm(p,b){var C=p[b-1+0],A=p[b-1+32],B=p[b-1+64],G=p[b-1-32],K=p[b+0-32],Q=p[b+1-32],J=p[b+2-32],te=p[b+3-32];p[b+0+96]=ft(A,B,p[b-1+96]),p[b+1+96]=p[b+0+64]=ft(C,A,B),p[b+2+96]=p[b+1+64]=p[b+0+32]=ft(G,C,A),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=ft(K,G,C),p[b+3+64]=p[b+2+32]=p[b+1+0]=ft(Q,K,G),p[b+3+32]=p[b+2+0]=ft(J,Q,K),p[b+3+0]=ft(te,J,Q)}function gm(p,b){var C=p[b+1-32],A=p[b+2-32],B=p[b+3-32],G=p[b+4-32],K=p[b+5-32],Q=p[b+6-32],J=p[b+7-32];p[b+0+0]=ft(p[b+0-32],C,A),p[b+1+0]=p[b+0+32]=ft(C,A,B),p[b+2+0]=p[b+1+32]=p[b+0+64]=ft(A,B,G),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=ft(B,G,K),p[b+3+32]=p[b+2+64]=p[b+1+96]=ft(G,K,Q),p[b+3+64]=p[b+2+96]=ft(K,Q,J),p[b+3+96]=ft(Q,J,J)}function gu(p,b){var C=p[b-1+0],A=p[b-1+32],B=p[b-1+64],G=p[b-1-32],K=p[b+0-32],Q=p[b+1-32],J=p[b+2-32],te=p[b+3-32];p[b+0+0]=p[b+1+64]=G+K+1>>1,p[b+1+0]=p[b+2+64]=K+Q+1>>1,p[b+2+0]=p[b+3+64]=Q+J+1>>1,p[b+3+0]=J+te+1>>1,p[b+0+96]=ft(B,A,C),p[b+0+64]=ft(A,C,G),p[b+0+32]=p[b+1+96]=ft(C,G,K),p[b+1+32]=p[b+2+96]=ft(G,K,Q),p[b+2+32]=p[b+3+96]=ft(K,Q,J),p[b+3+32]=ft(Q,J,te)}function bf(p,b){var C=p[b+0-32],A=p[b+1-32],B=p[b+2-32],G=p[b+3-32],K=p[b+4-32],Q=p[b+5-32],J=p[b+6-32],te=p[b+7-32];p[b+0+0]=C+A+1>>1,p[b+1+0]=p[b+0+64]=A+B+1>>1,p[b+2+0]=p[b+1+64]=B+G+1>>1,p[b+3+0]=p[b+2+64]=G+K+1>>1,p[b+0+32]=ft(C,A,B),p[b+1+32]=p[b+0+96]=ft(A,B,G),p[b+2+32]=p[b+1+96]=ft(B,G,K),p[b+3+32]=p[b+2+96]=ft(G,K,Q),p[b+3+64]=ft(K,Q,J),p[b+3+96]=ft(Q,J,te)}function Ty(p,b){var C=p[b-1+0],A=p[b-1+32],B=p[b-1+64],G=p[b-1+96];p[b+0+0]=C+A+1>>1,p[b+2+0]=p[b+0+32]=A+B+1>>1,p[b+2+32]=p[b+0+64]=B+G+1>>1,p[b+1+0]=ft(C,A,B),p[b+3+0]=p[b+1+32]=ft(A,B,G),p[b+3+32]=p[b+1+64]=ft(B,G,G),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=G}function Iy(p,b){var C=p[b-1+0],A=p[b-1+32],B=p[b-1+64],G=p[b-1+96],K=p[b-1-32],Q=p[b+0-32],J=p[b+1-32],te=p[b+2-32];p[b+0+0]=p[b+2+32]=C+K+1>>1,p[b+0+32]=p[b+2+64]=A+C+1>>1,p[b+0+64]=p[b+2+96]=B+A+1>>1,p[b+0+96]=G+B+1>>1,p[b+3+0]=ft(Q,J,te),p[b+2+0]=ft(K,Q,J),p[b+1+0]=p[b+3+32]=ft(C,K,Q),p[b+1+32]=p[b+3+64]=ft(A,C,K),p[b+1+64]=p[b+3+96]=ft(B,A,C),p[b+1+96]=ft(G,B,A)}function Ry(p,b){var C;for(C=0;8>C;++C)n(p,b+32*C,p,b-32,8)}function wf(p,b){var C;for(C=0;8>C;++C)a(p,b,p[b-1],8),b+=32}function Xl(p,b,C){var A;for(A=0;8>A;++A)a(b,C+32*A,p,8)}function Wo(p,b){var C,A=8;for(C=0;8>C;++C)A+=p[b+C-32]+p[b-1+32*C];Xl(A>>4,p,b)}function Fy(p,b){var C,A=4;for(C=0;8>C;++C)A+=p[b+C-32];Xl(A>>3,p,b)}function Ql(p,b){var C,A=4;for(C=0;8>C;++C)A+=p[b-1+32*C];Xl(A>>3,p,b)}function Nf(p,b){Xl(128,p,b)}function vu(p,b,C){var A=p[b-C],B=p[b+0],G=3*(B-A)+Wy[1020+p[b-2*C]-p[b+C]],K=Pm[112+(G+4>>3)];p[b-C]=Ma[255+A+Pm[112+(G+3>>3)]],p[b+0]=Ma[255+B-K]}function vm(p,b,C,A){var B=p[b+0],G=p[b+C];return Ja[255+p[b-2*C]-p[b-C]]>A||Ja[255+G-B]>A}function xm(p,b,C,A){return 4*Ja[255+p[b-C]-p[b+0]]+Ja[255+p[b-2*C]-p[b+C]]<=A}function ym(p,b,C,A,B){var G=p[b-3*C],K=p[b-2*C],Q=p[b-C],J=p[b+0],te=p[b+C],ue=p[b+2*C],ge=p[b+3*C];return 4*Ja[255+Q-J]+Ja[255+K-te]>A?0:Ja[255+p[b-4*C]-G]<=B&&Ja[255+G-K]<=B&&Ja[255+K-Q]<=B&&Ja[255+ge-ue]<=B&&Ja[255+ue-te]<=B&&Ja[255+te-J]<=B}function bm(p,b,C,A){var B=2*A+1;for(A=0;16>A;++A)xm(p,b+A,C,B)&&vu(p,b+A,C)}function ci(p,b,C,A){var B=2*A+1;for(A=0;16>A;++A)xm(p,b+A*C,1,B)&&vu(p,b+A*C,1)}function eo(p,b,C,A){var B;for(B=3;0<B;--B)bm(p,b+=4*C,C,A)}function $y(p,b,C,A){var B;for(B=3;0<B;--B)ci(p,b+=4,C,A)}function Yo(p,b,C,A,B,G,K,Q){for(G=2*G+1;0<B--;){if(ym(p,b,C,G,K))if(vm(p,b,C,Q))vu(p,b,C);else{var J=p,te=b,ue=C,ge=J[te-2*ue],ve=J[te-ue],he=J[te+0],ke=J[te+ue],be=J[te+2*ue],de=27*(je=Wy[1020+3*(he-ve)+Wy[1020+ge-ke]])+63>>7,fe=18*je+63>>7,je=9*je+63>>7;J[te-3*ue]=Ma[255+J[te-3*ue]+je],J[te-2*ue]=Ma[255+ge+fe],J[te-ue]=Ma[255+ve+de],J[te+0]=Ma[255+he-de],J[te+ue]=Ma[255+ke-fe],J[te+2*ue]=Ma[255+be-je]}b+=A}}function _s(p,b,C,A,B,G,K,Q){for(G=2*G+1;0<B--;){if(ym(p,b,C,G,K))if(vm(p,b,C,Q))vu(p,b,C);else{var J=p,te=b,ue=C,ge=J[te-ue],ve=J[te+0],he=J[te+ue],ke=Pm[112+((be=3*(ve-ge))+4>>3)],be=Pm[112+(be+3>>3)],de=ke+1>>1;J[te-2*ue]=Ma[255+J[te-2*ue]+de],J[te-ue]=Ma[255+ge+be],J[te+0]=Ma[255+ve-ke],J[te+ue]=Ma[255+he-de]}b+=A}}function jf(p,b,C,A,B,G){Yo(p,b,C,1,16,A,B,G)}function Jl(p,b,C,A,B,G){Yo(p,b,1,C,16,A,B,G)}function Uy(p,b,C,A,B,G){var K;for(K=3;0<K;--K)_s(p,b+=4*C,C,1,16,A,B,G)}function xu(p,b,C,A,B,G){var K;for(K=3;0<K;--K)_s(p,b+=4,1,C,16,A,B,G)}function zy(p,b,C,A,B,G,K,Q){Yo(p,b,B,1,8,G,K,Q),Yo(C,A,B,1,8,G,K,Q)}function Sf(p,b,C,A,B,G,K,Q){Yo(p,b,1,B,8,G,K,Q),Yo(C,A,1,B,8,G,K,Q)}function kf(p,b,C,A,B,G,K,Q){_s(p,b+4*B,B,1,8,G,K,Q),_s(C,A+4*B,B,1,8,G,K,Q)}function wm(p,b,C,A,B,G,K,Q){_s(p,b+4,1,B,8,G,K,Q),_s(C,A+4,1,B,8,G,K,Q)}function yu(){this.ba=new Ns,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new _r,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Cf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Df(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Nm(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new O,this.yc=new P}function By(){this.xb=this.a=0,this.l=new fu,this.ca=new Ns,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _,this.Pb=0,this.wd=new _,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Nm,this.ab=0,this.gc=o(4,Df),this.Oc=0}function bu(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fu,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zl(p,b,C,A,B,G,K){for(p=p==null?0:p[b+0],b=0;b<K;++b)B[G+b]=p+C[A+b]&255,p=B[G+b]}function _f(p,b,C,A,B,G,K){var Q;if(p==null)Zl(null,null,C,A,B,G,K);else for(Q=0;Q<K;++Q)B[G+Q]=p[b+Q]+C[A+Q]&255}function Vo(p,b,C,A,B,G,K){if(p==null)Zl(null,null,C,A,B,G,K);else{var Q,J=p[b+0],te=J,ue=J;for(Q=0;Q<K;++Q)te=ue+(J=p[b+Q])-te,ue=C[A+Q]+(-256&te?0>te?0:255:te)&255,te=J,B[G+Q]=ue}}function Pf(p,b,C,A){var B=b.width,G=b.o;if(t(p!=null&&b!=null),0>C||0>=A||C+A>G)return null;if(!p.Cc){if(p.ga==null){var K;if(p.ga=new bu,(K=p.ga==null)||(K=b.width*b.o,t(p.Gb.length==0),p.Gb=s(K),p.Uc=0,p.Gb==null?K=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,K=1),K=!K),!K){K=p.ga;var Q=p.Fa,J=p.P,te=p.qc,ue=p.mb,ge=p.nb,ve=J+1,he=te-1,ke=K.l;if(t(Q!=null&&ue!=null&&b!=null),Jo[0]=null,Jo[1]=Zl,Jo[2]=_f,Jo[3]=Vo,K.ca=ue,K.tb=ge,K.c=b.width,K.i=b.height,t(0<K.c&&0<K.i),1>=te)b=0;else if(K.$a=Q[J+0]>>0&3,K.Z=Q[J+0]>>2&3,K.Lc=Q[J+0]>>4&3,J=Q[J+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||J)b=0;else if(ke.put=ni,ke.ac=bn,ke.bc=ai,ke.ma=K,ke.width=b.width,ke.height=b.height,ke.Da=b.Da,ke.v=b.v,ke.va=b.va,ke.j=b.j,ke.o=b.o,K.$a)e:{t(K.$a==1),b=qa();t:for(;;){if(b==null){b=0;break e}if(t(K!=null),K.mc=b,b.c=K.c,b.i=K.i,b.l=K.l,b.l.ma=K,b.l.width=K.c,b.l.height=K.i,b.a=0,q(b.m,Q,ve,he),!oi(K.c,K.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&Ji(b.s)?(K.ic=1,Q=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(Q),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(K.ic=0,b=Kl(b,K.c)),!b))break t;b=1;break e}K.mc=null,b=0}else b=he>=K.c*K.i;K=!b}if(K)return null;p.ga.Lc!=1?p.Ga=0:A=G-C}t(p.ga!=null),t(C+A<=G);e:{if(b=(Q=p.ga).c,G=Q.l.o,Q.$a==0){if(ve=p.rc,he=p.Vc,ke=p.Fa,J=p.P+1+C*b,te=p.mb,ue=p.nb+C*b,t(J<=p.P+p.qc),Q.Z!=0)for(t(Jo[Q.Z]!=null),K=0;K<A;++K)Jo[Q.Z](ve,he,ke,J,te,ue,b),ve=te,he=ue,ue+=b,J+=b;else for(K=0;K<A;++K)n(te,ue,ke,J,b),ve=te,he=ue,ue+=b,J+=b;p.rc=ve,p.Vc=he}else{if(t(Q.mc!=null),b=C+A,t((K=Q.mc)!=null),t(b<=K.i),K.C>=b)b=1;else if(Q.ic||pe(),Q.ic){Q=K.V,ve=K.Ba,he=K.c;var be=K.i,de=(ke=1,J=K.$/he,te=K.$%he,ue=K.m,ge=K.s,K.$),fe=he*be,je=he*b,Ce=ge.wc,Se=de<je?Gr(ge,te,J):null;t(de<=fe),t(b<=be),t(Ji(ge));t:for(;;){for(;!ue.h&&de<je;){if(te&Ce||(Se=Gr(ge,te,J)),t(Se!=null),X(ue),256>(be=la(Se.G[0],Se.H[0],ue)))Q[ve+de]=be,++de,++te>=he&&(te=0,++J<=b&&!(J%16)&&ks(K,J));else{if(!(280>be)){ke=0;break t}be=js(be-256,ue);var Ye,Ie=la(Se.G[4],Se.H[4],ue);if(X(ue),!(de>=(Ie=si(he,Ie=js(Ie,ue)))&&fe-de>=be)){ke=0;break t}for(Ye=0;Ye<be;++Ye)Q[ve+de+Ye]=Q[ve+de+Ye-Ie];for(de+=be,te+=be;te>=he;)te-=he,++J<=b&&!(J%16)&&ks(K,J);de<je&&te&Ce&&(Se=Gr(ge,te,J))}t(ue.h==Y(ue))}ks(K,J>b?b:J);break t}!ke||ue.h&&de<fe?(ke=0,K.a=ue.h?5:3):K.$=de,b=ke}else b=Cs(K,K.V,K.Ba,K.c,K.i,b,ou);if(!b){A=0;break e}}C+A>=G&&(p.Cc=1),A=1}if(!A)return null;if(p.Cc&&((A=p.ga)!=null&&(A.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+C*B}function N(p,b,C,A,B,G){for(;0<B--;){var K,Q=p,J=b+(C?1:0),te=p,ue=b+(C?0:3);for(K=0;K<A;++K){var ge=te[ue+4*K];ge!=255&&(ge*=32897,Q[J+4*K+0]=Q[J+4*K+0]*ge>>23,Q[J+4*K+1]=Q[J+4*K+1]*ge>>23,Q[J+4*K+2]=Q[J+4*K+2]*ge>>23)}b+=G}}function H(p,b,C,A,B){for(;0<A--;){var G;for(G=0;G<C;++G){var K=p[b+2*G+0],Q=15&(te=p[b+2*G+1]),J=4369*Q,te=(240&te|te>>4)*J>>16;p[b+2*G+0]=(240&K|K>>4)*J>>16&240|(15&K|K<<4)*J>>16>>4&15,p[b+2*G+1]=240&te|Q}b+=B}}function se(p,b,C,A,B,G,K,Q){var J,te,ue=255;for(te=0;te<B;++te){for(J=0;J<A;++J){var ge=p[b+J];G[K+4*J]=ge,ue&=ge}b+=C,K+=Q}return ue!=255}function ce(p,b,C,A,B){var G;for(G=0;G<B;++G)C[A+G]=p[b+G]>>8}function pe(){Qa=N,sr=H,ir=se,Fr=ce}function Ne(p,b,C){D[p]=function(A,B,G,K,Q,J,te,ue,ge,ve,he,ke,be,de,fe,je,Ce){var Se,Ye=Ce-1>>1,Ie=Q[J+0]|te[ue+0]<<16,st=ge[ve+0]|he[ke+0]<<16;t(A!=null);var Ue=3*Ie+st+131074>>2;for(b(A[B+0],255&Ue,Ue>>16,be,de),G!=null&&(Ue=3*st+Ie+131074>>2,b(G[K+0],255&Ue,Ue>>16,fe,je)),Se=1;Se<=Ye;++Se){var $t=Q[J+Se]|te[ue+Se]<<16,Vt=ge[ve+Se]|he[ke+Se]<<16,Mt=Ie+$t+st+Vt+524296,Dt=Mt+2*($t+st)>>3;Ue=Dt+Ie>>1,Ie=(Mt=Mt+2*(Ie+Vt)>>3)+$t>>1,b(A[B+2*Se-1],255&Ue,Ue>>16,be,de+(2*Se-1)*C),b(A[B+2*Se-0],255&Ie,Ie>>16,be,de+(2*Se-0)*C),G!=null&&(Ue=Mt+st>>1,Ie=Dt+Vt>>1,b(G[K+2*Se-1],255&Ue,Ue>>16,fe,je+(2*Se-1)*C),b(G[K+2*Se+0],255&Ie,Ie>>16,fe,je+(2*Se+0)*C)),Ie=$t,st=Vt}1&Ce||(Ue=3*Ie+st+131074>>2,b(A[B+Ce-1],255&Ue,Ue>>16,be,de+(Ce-1)*C),G!=null&&(Ue=3*st+Ie+131074>>2,b(G[K+Ce-1],255&Ue,Ue>>16,fe,je+(Ce-1)*C)))}}function _e(){Za[Em]=IL,Za[Mm]=xj,Za[hj]=RL,Za[Am]=yj,Za[Lm]=bj,Za[Yy]=wj,Za[pj]=FL,Za[Vy]=xj,Za[qy]=yj,Za[Om]=bj,Za[Gy]=wj}function We(p){return p&~$L?0>p?0:255:p>>Nj}function rt(p,b){return We((19077*p>>8)+(26149*b>>8)-14234)}function vt(p,b,C){return We((19077*p>>8)-(6419*b>>8)-(13320*C>>8)+8708)}function mt(p,b){return We((19077*p>>8)+(33050*b>>8)-17685)}function Pt(p,b,C,A,B){A[B+0]=rt(p,C),A[B+1]=vt(p,b,C),A[B+2]=mt(p,b)}function wr(p,b,C,A,B){A[B+0]=mt(p,b),A[B+1]=vt(p,b,C),A[B+2]=rt(p,C)}function Pr(p,b,C,A,B){var G=vt(p,b,C);b=G<<3&224|mt(p,b)>>3,A[B+0]=248&rt(p,C)|G>>5,A[B+1]=b}function Kr(p,b,C,A,B){var G=240&mt(p,b)|15;A[B+0]=240&rt(p,C)|vt(p,b,C)>>4,A[B+1]=G}function Ln(p,b,C,A,B){A[B+0]=255,Pt(p,b,C,A,B+1)}function dn(p,b,C,A,B){wr(p,b,C,A,B),A[B+3]=255}function Ps(p,b,C,A,B){Pt(p,b,C,A,B),A[B+3]=255}function Ea(p,b){return 0>p?0:p>b?b:p}function ui(p,b,C){D[p]=function(A,B,G,K,Q,J,te,ue,ge){for(var ve=ue+(-2&ge)*C;ue!=ve;)b(A[B+0],G[K+0],Q[J+0],te,ue),b(A[B+1],G[K+0],Q[J+0],te,ue+C),B+=2,++K,++J,ue+=2*C;1&ge&&b(A[B+0],G[K+0],Q[J+0],te,ue)}}function jm(p,b,C){return C==0?p==0?b==0?6:5:b==0?4:0:C}function Ef(p,b,C,A,B){switch(p>>>30){case 3:no(b,C,A,B,0);break;case 2:Rr(b,C,A,B);break;case 1:Qn(b,C,A,B)}}function Mf(p,b){var C,A,B=b.M,G=b.Nb,K=p.oc,Q=p.pc+40,J=p.oc,te=p.pc+584,ue=p.oc,ge=p.pc+600;for(C=0;16>C;++C)K[Q+32*C-1]=129;for(C=0;8>C;++C)J[te+32*C-1]=129,ue[ge+32*C-1]=129;for(0<B?K[Q-1-32]=J[te-1-32]=ue[ge-1-32]=129:(a(K,Q-32-1,127,21),a(J,te-32-1,127,9),a(ue,ge-32-1,127,9)),A=0;A<p.za;++A){var ve=b.ya[b.aa+A];if(0<A){for(C=-1;16>C;++C)n(K,Q+32*C-4,K,Q+32*C+12,4);for(C=-1;8>C;++C)n(J,te+32*C-4,J,te+32*C+4,4),n(ue,ge+32*C-4,ue,ge+32*C+4,4)}var he=p.Gd,ke=p.Hd+A,be=ve.ad,de=ve.Hc;if(0<B&&(n(K,Q-32,he[ke].y,0,16),n(J,te-32,he[ke].f,0,8),n(ue,ge-32,he[ke].ea,0,8)),ve.Za){var fe=K,je=Q-32+16;for(0<B&&(A>=p.za-1?a(fe,je,he[ke].y[15],4):n(fe,je,he[ke+1].y,0,4)),C=0;4>C;C++)fe[je+128+C]=fe[je+256+C]=fe[je+384+C]=fe[je+0+C];for(C=0;16>C;++C,de<<=2)fe=K,je=Q+Sj[C],Es[ve.Ob[C]](fe,je),Ef(de,be,16*+C,fe,je)}else if(fe=jm(A,B,ve.Ob[0]),Qo[fe](K,Q),de!=0)for(C=0;16>C;++C,de<<=2)Ef(de,be,16*+C,K,Q+Sj[C]);for(C=ve.Gc,fe=jm(A,B,ve.Dd),so[fe](J,te),so[fe](ue,ge),de=be,fe=J,je=te,255&(ve=C>>0)&&(170&ve?If(de,256,fe,je):Ka(de,256,fe,je)),ve=ue,de=ge,255&(C>>=8)&&(170&C?If(be,320,ve,de):Ka(be,320,ve,de)),B<p.Ub-1&&(n(he[ke].y,0,K,Q+480,16),n(he[ke].f,0,J,te+224,8),n(he[ke].ea,0,ue,ge+224,8)),C=8*G*p.B,he=p.sa,ke=p.ta+16*A+16*G*p.R,be=p.qa,ve=p.ra+8*A+C,de=p.Ha,fe=p.Ia+8*A+C,C=0;16>C;++C)n(he,ke+C*p.R,K,Q+32*C,16);for(C=0;8>C;++C)n(be,ve+C*p.B,J,te+32*C,8),n(de,fe+C*p.B,ue,ge+32*C,8)}}function wu(p,b,C,A,B,G,K,Q,J){var te=[0],ue=[0],ge=0,ve=J!=null?J.kd:0,he=J??new Cf;if(p==null||12>C)return 7;he.data=p,he.w=b,he.ha=C,b=[b],C=[C],he.gb=[he.gb];e:{var ke=b,be=C,de=he.gb;if(t(p!=null),t(be!=null),t(de!=null),de[0]=0,12<=be[0]&&!r(p,ke[0],"RIFF")){if(r(p,ke[0]+8,"WEBP")){de=3;break e}var fe=Ee(p,ke[0]+4);if(12>fe||4294967286<fe){de=3;break e}if(ve&&fe>be[0]-8){de=7;break e}de[0]=fe,ke[0]+=12,be[0]-=12}de=0}if(de!=0)return de;for(fe=0<he.gb[0],C=C[0];;){e:{var je=p;be=b,de=C;var Ce=te,Se=ue,Ye=ke=[0];if((Ue=ge=[ge])[0]=0,8>de[0])de=7;else{if(!r(je,be[0],"VP8X")){if(Ee(je,be[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var Ie=Ee(je,be[0]+8),st=1+De(je,be[0]+12);if(2147483648<=st*(je=1+De(je,be[0]+15))){de=3;break e}Ye!=null&&(Ye[0]=Ie),Ce!=null&&(Ce[0]=st),Se!=null&&(Se[0]=je),be[0]+=18,de[0]-=18,Ue[0]=1}de=0}}if(ge=ge[0],ke=ke[0],de!=0)return de;if(be=!!(2&ke),!fe&&ge)return 3;if(G!=null&&(G[0]=!!(16&ke)),K!=null&&(K[0]=be),Q!=null&&(Q[0]=0),K=te[0],ke=ue[0],ge&&be&&J==null){de=0;break}if(4>C){de=7;break}if(fe&&ge||!fe&&!ge&&!r(p,b[0],"ALPH")){C=[C],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Ie=p,de=b,fe=C;var Ue=he.gb;Ce=he.na,Se=he.P,Ye=he.Sa,st=22,t(Ie!=null),t(fe!=null),je=de[0];var $t=fe[0];for(t(Ce!=null),t(Ye!=null),Ce[0]=null,Se[0]=null,Ye[0]=0;;){if(de[0]=je,fe[0]=$t,8>$t){de=7;break e}var Vt=Ee(Ie,je+4);if(4294967286<Vt){de=3;break e}var Mt=8+Vt+1&-2;if(st+=Mt,0<Ue&&st>Ue){de=3;break e}if(!r(Ie,je,"VP8 ")||!r(Ie,je,"VP8L")){de=0;break e}if($t[0]<Mt){de=7;break e}r(Ie,je,"ALPH")||(Ce[0]=Ie,Se[0]=je+8,Ye[0]=Vt),je+=Mt,$t-=Mt}}if(C=C[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],de!=0)break}C=[C],he.Ja=[he.Ja],he.xa=[he.xa];e:if(Ue=p,de=b,fe=C,Ce=he.gb[0],Se=he.Ja,Ye=he.xa,Ie=de[0],je=!r(Ue,Ie,"VP8 "),st=!r(Ue,Ie,"VP8L"),t(Ue!=null),t(fe!=null),t(Se!=null),t(Ye!=null),8>fe[0])de=7;else{if(je||st){if(Ue=Ee(Ue,Ie+4),12<=Ce&&Ue>Ce-12){de=3;break e}if(ve&&Ue>fe[0]-8){de=7;break e}Se[0]=Ue,de[0]+=8,fe[0]-=8,Ye[0]=st}else Ye[0]=5<=fe[0]&&Ue[Ie+0]==47&&!(Ue[Ie+4]>>5),Se[0]=fe[0];de=0}if(C=C[0],he.Ja=he.Ja[0],he.xa=he.xa[0],b=b[0],de!=0)break;if(4294967286<he.Ja)return 3;if(Q==null||be||(Q[0]=he.xa?2:1),K=[K],ke=[ke],he.xa){if(5>C){de=7;break}Q=K,ve=ke,be=G,p==null||5>C?p=0:5<=C&&p[b+0]==47&&!(p[b+4]>>5)?(fe=[0],Ue=[0],Ce=[0],q(Se=new _,p,b,C),ot(Se,fe,Ue,Ce)?(Q!=null&&(Q[0]=fe[0]),ve!=null&&(ve[0]=Ue[0]),be!=null&&(be[0]=Ce[0]),p=1):p=0):p=0}else{if(10>C){de=7;break}Q=ke,p==null||10>C||!om(p,b+3,C-3)?p=0:(ve=p[b+0]|p[b+1]<<8|p[b+2]<<16,be=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&ve||3<(ve>>1&7)||!(ve>>4&1)||ve>>5>=he.Ja||!be||!p?p=0:(K&&(K[0]=be),Q&&(Q[0]=p),p=1))}if(!p||(K=K[0],ke=ke[0],ge&&(te[0]!=K||ue[0]!=ke)))return 3;J!=null&&(J[0]=he,J.offset=b-J.w,t(4294967286>b-J.w),t(J.offset==J.ha-C));break}return de==0||de==7&&ge&&J==null?(G!=null&&(G[0]|=he.na!=null&&0<he.na.length),A!=null&&(A[0]=K),B!=null&&(B[0]=ke),0):de}function Af(p,b,C){var A=b.width,B=b.height,G=0,K=0,Q=A,J=B;if(b.Da=p!=null&&0<p.Da,b.Da&&(Q=p.cd,J=p.bd,G=p.v,K=p.j,11>C||(G&=-2,K&=-2),0>G||0>K||0>=Q||0>=J||G+Q>A||K+J>B))return 0;if(b.v=G,b.j=K,b.va=G+Q,b.o=K+J,b.U=Q,b.T=J,b.da=p!=null&&0<p.da,b.da){if(!Je(Q,J,C=[p.ib],G=[p.hb]))return 0;b.ib=C[0],b.hb=G[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*A/4&&b.hb<3*B/4,b.Kb=0),1}function Lf(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function Nu(p,b,C,A){if(A==null||0>=p||0>=b)return 2;if(C!=null){if(C.Da){var B=C.cd,G=C.bd,K=-2&C.v,Q=-2&C.j;if(0>K||0>Q||0>=B||0>=G||K+B>p||Q+G>b)return 2;p=B,b=G}if(C.da){if(!Je(p,b,B=[C.ib],G=[C.hb]))return 2;p=B[0],b=G[0]}}A.width=p,A.height=b;e:{var J=A.width,te=A.height;if(p=A.S,0>=J||0>=te||!(p>=Em&&13>p))p=2;else{if(0>=A.Rd&&A.sd==null){K=G=B=b=0;var ue=(Q=J*kj[p])*te;if(11>p||(G=(te+1)/2*(b=(J+1)/2),p==12&&(K=(B=J)*te)),(te=s(ue+2*G+K))==null){p=1;break e}A.sd=te,11>p?((J=A.f.RGBA).eb=te,J.fb=0,J.A=Q,J.size=ue):((J=A.f.kb).y=te,J.O=0,J.fa=Q,J.Fd=ue,J.f=te,J.N=0+ue,J.Ab=b,J.Cd=G,J.ea=te,J.W=0+ue+G,J.Db=b,J.Ed=G,p==12&&(J.F=te,J.J=0+ue+2*G),J.Tc=K,J.lb=B)}if(b=1,B=A.S,G=A.width,K=A.height,B>=Em&&13>B)if(11>B)p=A.f.RGBA,b&=(Q=Math.abs(p.A))*(K-1)+G<=p.size,b&=Q>=G*kj[B],b&=p.eb!=null;else{p=A.f.kb,Q=(G+1)/2,ue=(K+1)/2,J=Math.abs(p.fa),te=Math.abs(p.Ab);var ge=Math.abs(p.Db),ve=Math.abs(p.lb),he=ve*(K-1)+G;b&=J*(K-1)+G<=p.Fd,b&=te*(ue-1)+Q<=p.Cd,b=(b&=ge*(ue-1)+Q<=p.Ed)&J>=G&te>=Q&ge>=Q,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,B==12&&(b&=ve>=G,b&=he<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||C!=null&&C.fd&&(p=Lf(A)),p}var wn=64,ju=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Su=24,ku=32,Of=8,ua=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),D.Predictor0=function(){return 4278190080},D.Predictor1=function(p){return p},D.Predictor2=function(p,b,C){return b[C+0]},D.Predictor3=function(p,b,C){return b[C+1]},D.Predictor4=function(p,b,C){return b[C-1]},D.Predictor5=function(p,b,C){return Fe(Fe(p,b[C+1]),b[C+0])},D.Predictor6=function(p,b,C){return Fe(p,b[C-1])},D.Predictor7=function(p,b,C){return Fe(p,b[C+0])},D.Predictor8=function(p,b,C){return Fe(b[C-1],b[C+0])},D.Predictor9=function(p,b,C){return Fe(b[C+0],b[C+1])},D.Predictor10=function(p,b,C){return Fe(Fe(p,b[C-1]),Fe(b[C+0],b[C+1]))},D.Predictor11=function(p,b,C){var A=b[C+0];return 0>=ht(A>>24&255,p>>24&255,(b=b[C-1])>>24&255)+ht(A>>16&255,p>>16&255,b>>16&255)+ht(A>>8&255,p>>8&255,b>>8&255)+ht(255&A,255&p,255&b)?A:p},D.Predictor12=function(p,b,C){var A=b[C+0];return(tt((p>>24&255)+(A>>24&255)-((b=b[C-1])>>24&255))<<24|tt((p>>16&255)+(A>>16&255)-(b>>16&255))<<16|tt((p>>8&255)+(A>>8&255)-(b>>8&255))<<8|tt((255&p)+(255&A)-(255&b)))>>>0},D.Predictor13=function(p,b,C){var A=b[C-1];return(ut((p=Fe(p,b[C+0]))>>24&255,A>>24&255)<<24|ut(p>>16&255,A>>16&255)<<16|ut(p>>8&255,A>>8&255)<<8|ut(p>>0&255,A>>0&255))>>>0};var Hy=D.PredictorAdd0;D.PredictorAdd1=bt,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var Tf=D.PredictorAdd2;St("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),St("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Sm,Ga=D.ColorIndexInverseTransform,Cu=D.MapARGB,km=D.VP8LColorIndexInverseTransformAlpha,Cm=D.MapAlpha,qo=D.VP8LPredictorsAdd=[];qo.length=16,(D.VP8LPredictors=[]).length=16,(D.VP8LPredictorsAdd_C=[]).length=16,(D.VP8LPredictors_C=[]).length=16;var ec,da,Xn,Go,to,ro,Du,no,Rr,If,Qn,Ka,_u,Dm,Rf,tc,rc,Ko,nc,Pu,ac,Xo,Ff,Xa,Qa,sr,ir,Fr,an=s(511),ao=s(2041),$f=s(225),Eu=s(767),_m=0,Wy=ao,Pm=$f,Ma=Eu,Ja=an,Em=0,Mm=1,hj=2,Am=3,Lm=4,Yy=5,pj=6,Vy=7,qy=8,Om=9,Gy=10,NL=[2,3,7],jL=[3,3,11],mj=[280,256,256,256,40],SL=[0,1,1,1,0],kL=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],CL=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],DL=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],_L=8,Ky=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xy=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Uf=null,PL=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],EL=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gj=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ML=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],AL=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],LL=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],OL=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Qo=[],Es=[],so=[],TL=1,vj=2,Jo=[],Za=[];Ne("UpsampleRgbLinePair",Pt,3),Ne("UpsampleBgrLinePair",wr,3),Ne("UpsampleRgbaLinePair",Ps,4),Ne("UpsampleBgraLinePair",dn,4),Ne("UpsampleArgbLinePair",Ln,4),Ne("UpsampleRgba4444LinePair",Kr,2),Ne("UpsampleRgb565LinePair",Pr,2);var IL=D.UpsampleRgbLinePair,RL=D.UpsampleBgrLinePair,xj=D.UpsampleRgbaLinePair,yj=D.UpsampleBgraLinePair,bj=D.UpsampleArgbLinePair,wj=D.UpsampleRgba4444LinePair,FL=D.UpsampleRgb565LinePair,Tm=16,Im=1<<Tm-1,zf=-227,Qy=482,Nj=6,$L=(256<<Nj)-1,jj=0,UL=s(256),zL=s(256),BL=s(256),HL=s(256),WL=s(Qy-zf),YL=s(Qy-zf);ui("YuvToRgbRow",Pt,3),ui("YuvToBgrRow",wr,3),ui("YuvToRgbaRow",Ps,4),ui("YuvToBgraRow",dn,4),ui("YuvToArgbRow",Ln,4),ui("YuvToRgba4444Row",Kr,2),ui("YuvToRgb565Row",Pr,2);var Sj=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Rm=[0,2,8],VL=[8,7,6,4,4,2,2,2,1,1,1,1],qL=1;this.WebPDecodeRGBA=function(p,b,C,A,B){var G=Mm,K=new yu,Q=new Ns;K.ba=Q,Q.S=G,Q.width=[Q.width],Q.height=[Q.height];var J=Q.width,te=Q.height,ue=new Qi;if(ue==null||p==null)var ge=2;else t(ue!=null),ge=wu(p,b,C,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(ge!=0?J=0:(J!=null&&(J[0]=ue.width[0]),te!=null&&(te[0]=ue.height[0]),J=1),J){Q.width=Q.width[0],Q.height=Q.height[0],A!=null&&(A[0]=Q.width),B!=null&&(B[0]=Q.height);e:{if(A=new fu,(B=new Cf).data=p,B.w=b,B.ha=C,B.kd=1,b=[0],t(B!=null),((p=wu(B.data,B.w,B.ha,null,null,null,b,null,B))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(t(K!=null),A.data=B.data,A.w=B.w+B.offset,A.ha=B.ha-B.offset,A.put=ni,A.ac=bn,A.bc=ai,A.ma=K,B.xa){if((p=qa())==null){K=1;break e}if(function(ve,he){var ke=[0],be=[0],de=[0];t:for(;;){if(ve==null)return 0;if(he==null)return ve.a=2,0;if(ve.l=he,ve.a=0,q(ve.m,he.data,he.w,he.ha),!ot(ve.m,ke,be,de)){ve.a=3;break t}if(ve.xb=vj,he.width=ke[0],he.height=be[0],!oi(ke[0],be[0],1,ve,null))break t;return 1}return t(ve.a!=0),0}(p,A)){if(A=(b=Nu(A.width,A.height,K.Oa,K.ba))==0){t:{A=p;r:for(;;){if(A==null){A=0;break t}if(t(A.s.yc!=null),t(A.s.Ya!=null),t(0<A.s.Wb),t((C=A.l)!=null),t((B=C.ma)!=null),A.xb!=0){if(A.ca=B.ba,A.tb=B.tb,t(A.ca!=null),!Af(B.Oa,C,Am)){A.a=2;break r}if(!Kl(A,C.width)||C.da)break r;if((C.da||Ht(A.ca.S))&&pe(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&pe()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Ze(A.s.vb,A.s.Wa.Xa)){A.a=1;break r}A.xb=0}if(!Cs(A,A.V,A.Ba,A.c,A.i,C.o,iu))break r;B.Dc=A.Ma,A=1;break t}t(A.a!=0),A=0}A=!A}A&&(b=p.a)}else b=p.a}else{if((p=new Sy)==null){K=1;break e}if(p.Fa=B.na,p.P=B.P,p.qc=B.Sa,lm(p,A)){if((b=Nu(A.width,A.height,K.Oa,K.ba))==0){if(p.Aa=0,C=K.Oa,t((B=p)!=null),C!=null){if(0<(J=0>(J=C.Md)?0:100<J?255:255*J/100)){for(te=ue=0;4>te;++te)12>(ge=B.pb[te]).lc&&(ge.ia=J*VL[0>ge.lc?0:ge.lc]>>3),ue|=ge.ia;ue&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=C.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}ky(p,A)||(b=p.a)}}else b=p.a}b==0&&K.Oa!=null&&K.Oa.fd&&(b=Lf(K.ba))}K=b}G=K!=0?null:11>G?Q.f.RGBA.eb:Q.f.kb.y}else G=null;return G};var kj=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(D,I){for(var R="",M=0;M<4;M++)R+=String.fromCharCode(D[I++]);return R}function d(D,I){return(D[I+0]<<0|D[I+1]<<8|D[I+2]<<16)>>>0}function f(D,I){return(D[I+0]<<0|D[I+1]<<8|D[I+2]<<16|D[I+3]<<24)>>>0}new c;var h=[0],m=[0],y=[],v=new c,w=e,g=function(D,I){var R={},M=0,P=!1,F=0,O=0;if(R.frames=[],!function($,Y,W,X){for(var Z=0;Z<X;Z++)if($[Y+Z]!=W.charCodeAt(Z))return!0;return!1}(D,I,"RIFF",4)){var U,z;for(f(D,I+=4),I+=8;I<D.length;){var V=u(D,I),q=f(D,I+=4);I+=4;var re=q+(1&q);switch(V){case"VP8 ":case"VP8L":R.frames[M]===void 0&&(R.frames[M]={}),(_=R.frames[M]).src_off=P?O:I-8,_.src_size=F+q+8,M++,P&&(P=!1,F=0,O=0);break;case"VP8X":(_=R.header={}).feature_flags=D[I];var oe=I+4;_.canvas_width=1+d(D,oe),oe+=3,_.canvas_height=1+d(D,oe),oe+=3;break;case"ALPH":P=!0,F=re+8,O=I-8;break;case"ANIM":(_=R.header).bgcolor=f(D,I),oe=I+4,_.loop_count=(U=D)[(z=oe)+0]<<0|U[z+1]<<8,oe+=2;break;case"ANMF":var le,_;(_=R.frames[M]={}).offset_x=2*d(D,I),I+=3,_.offset_y=2*d(D,I),I+=3,_.width=1+d(D,I),I+=3,_.height=1+d(D,I),I+=3,_.duration=d(D,I),I+=3,le=D[I++],_.dispose=1&le,_.blend=le>>1&1}V!="ANMF"&&(I+=re)}return R}}(w,0);g.response=w,g.rgbaoutput=!0,g.dataurl=!1;var x=g.header?g.header:null,S=g.frames?g.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],m=[x.canvas_width];for(var j=0;j<S.length&&S[j].blend!=0;j++);}var E=S[0],T=v.WebPDecodeRGBA(w,E.src_off,E.src_size,m,h);E.rgba=T,E.imgwidth=m[0],E.imgheight=h[0];for(var k=0;k<m[0]*h[0]*4;k++)y[k]=T[k];return this.width=m,this.height=h,this.data=y,this}(function(e){var t=function(){return typeof O2=="function"},r=function(h,m,y,v){var w=4,g=o;switch(v){case e.image_compression.FAST:w=1,g=s;break;case e.image_compression.MEDIUM:w=6,g=l;break;case e.image_compression.SLOW:w=9,g=c}h=n(h,m,y,g);var x=O2(h,{level:w});return e.__addimage__.arrayBufferToBinaryString(x)},n=function(h,m,y,v){for(var w,g,x,S=h.length/m,j=new Uint8Array(h.length+S),E=d(),T=0;T<S;T+=1){if(x=T*m,w=h.subarray(x,x+m),v)j.set(v(w,y,g),x+T);else{for(var k,D=E.length,I=[];k<D;k+=1)I[k]=E[k](w,y,g);var R=f(I.concat());j.set(I[R],x+T)}g=w}return j},a=function(h){var m=Array.apply([],h);return m.unshift(0),m},s=function(h,m){var y,v=[],w=h.length;v[0]=1;for(var g=0;g<w;g+=1)y=h[g-m]||0,v[g+1]=h[g]-y+256&255;return v},o=function(h,m,y){var v,w=[],g=h.length;w[0]=2;for(var x=0;x<g;x+=1)v=y&&y[x]||0,w[x+1]=h[x]-v+256&255;return w},l=function(h,m,y){var v,w,g=[],x=h.length;g[0]=3;for(var S=0;S<x;S+=1)v=h[S-m]||0,w=y&&y[S]||0,g[S+1]=h[S]+256-(v+w>>>1)&255;return g},c=function(h,m,y){var v,w,g,x,S=[],j=h.length;S[0]=4;for(var E=0;E<j;E+=1)v=h[E-m]||0,w=y&&y[E]||0,g=y&&y[E-m]||0,x=u(v,w,g),S[E+1]=h[E]-x+256&255;return S},u=function(h,m,y){if(h===m&&m===y)return h;var v=Math.abs(m-y),w=Math.abs(h-y),g=Math.abs(h+m-y-y);return v<=w&&v<=g?h:w<=g?m:y},d=function(){return[a,s,o,l,c]},f=function(h){var m=h.map(function(y){return y.reduce(function(v,w){return v+Math.abs(w)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(h,m,y,v){var w,g,x,S,j,E,T,k,D,I,R,M,P,F,O,U=this.decode.FLATE_DECODE,z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(x=new I9(h)).imgData,g=x.bits,w=x.colorSpace,j=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){D=(k=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,R=new Uint8Array(D*x.colors),I=new Uint8Array(D);var V,q=x.pixelBitlength-x.bits;for(F=0,O=0;F<D;F++){for(P=k[F],V=0;V<q;)R[O++]=P>>>V&255,V+=x.bits;I[F]=P>>>V&255}}if(x.bits===16){D=(k=new Uint32Array(x.decodePixels().buffer)).length,R=new Uint8Array(D*(32/x.pixelBitlength)*x.colors),I=new Uint8Array(D*(32/x.pixelBitlength)),M=x.colors>1,F=0,O=0;for(var re=0;F<D;)P=k[F++],R[O++]=P>>>0&255,M&&(R[O++]=P>>>16&255,P=k[F++],R[O++]=P>>>0&255),I[re++]=P>>>16&255;g=8}v!==e.image_compression.NONE&&t()?(h=r(R,x.width*x.colors,x.colors,v),T=r(I,x.width,1,v)):(h=R,T=I,U=void 0)}if(x.colorType===3&&(w=this.color_spaces.INDEXED,E=x.palette,x.transparency.indexed)){var oe=x.transparency.indexed,le=0;for(F=0,D=oe.length;F<D;++F)le+=oe[F];if((le/=255)===D-1&&oe.indexOf(0)!==-1)S=[oe.indexOf(0)];else if(le!==D){for(k=x.decodePixels(),I=new Uint8Array(k.length),F=0,D=k.length;F<D;F++)I[F]=oe[k[F]];T=r(I,x.width,1)}}var _=function($){var Y;switch($){case e.image_compression.FAST:Y=11;break;case e.image_compression.MEDIUM:Y=13;break;case e.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(v);return U===this.decode.FLATE_DECODE&&(z="/Predictor "+_+" "),z+="/Colors "+j+" /BitsPerComponent "+g+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(T&&this.__addimage__.isArrayBuffer(T)||this.__addimage__.isArrayBufferView(T))&&(T=this.__addimage__.arrayBufferToBinaryString(T)),{alias:y,data:h,index:m,filter:U,decodeParameters:z,transparency:S,palette:E,sMask:T,predictor:_,width:x.width,height:x.height,bitsPerComponent:g,colorSpace:w}}}})(lt.API),function(e){e.processGIF89A=function(t,r,n,a){var s=new R9(t),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},d=new G1(100).encode(u,100);return e.processJPEG.call(this,d,r,n,a)},e.processGIF87A=e.processGIF89A}(lt.API),Ts.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ts.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){nr.log("bit decode error:"+r)}},Ts.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Ts.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},Ts.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},Ts.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&t)/t*255|0,c=(s>>10&t)/t*255|0,u=s>>15?255:0,d=n*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=u}this.pos+=e}},Ts.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&t)/t*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=l,this.data[d+3]=255}this.pos+=e}},Ts.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Ts.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Ts.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var s=new Ts(t,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new G1(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(lt.API),G4.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var s=new G4(t),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new G1(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(lt.API),lt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var d=n[u],f=n[u+1],h=n[u+2],m=n[u+3];s[l++]=d,s[l++]=f,s[l++]=h,o[c++]=m}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},lt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fu=lt.API,g0=Fu.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,h=0,m=e.length,y=0,v=l[0]||c,w=[];for(r=0;r<m;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?w.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(h=f&&jt(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/d:0,w.push((l[n]||v)/c+h)),y=n;return w},W4=Fu.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Fu.processArabic&&(e=Fu.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:g0.apply(this,arguments).reduce(function(s,o){return s+o},0)},Y4=function(e,t,r,n){for(var a=[],s=0,o=e.length,l=0;s!==o&&l+t[s]<r;)l+=t[s],s++;a.push(e.slice(0,s));var c=s;for(l=0;s!==o;)l+t[s]>n&&(a.push(e.slice(c,s)),l=0,c=s),l+=t[s],s++;return c!==s&&a.push(e.slice(c,s)),a},V4=function(e,t,r){r||(r={});var n,a,s,o,l,c,u,d=[],f=[d],h=r.textIndent||0,m=0,y=0,v=e.split(" "),w=g0.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var g=Array(c).join(" "),x=[];v.map(function(j){(j=j.split(/\s*\n/)).length>1?x=x.concat(j.map(function(E,T){return(T&&E.length?`
`:"")+E})):x.push(j[0])}),v=x,c=W4.apply(this,[g,r])}for(s=0,o=v.length;s<o;s++){var S=0;if(n=v[s],c&&n[0]==`
`&&(n=n.substr(1),S=1),h+m+(y=(a=g0.apply(this,[n,r])).reduce(function(j,E){return j+E},0))>t||S){if(y>t){for(l=Y4.apply(this,[n,a,t-(h+m),t]),d.push(l.shift()),d=[l.pop()];l.length;)f.push([l.shift()]);y=a.slice(n.length-(d[0]?d[0].length:0)).reduce(function(j,E){return j+E},0)}else d=[n];f.push(d),h=y+c,m=w}else d.push(n),h+=m+y,m=w}return u=c?function(j,E){return(E?g:"")+j.join(" ")}:function(j){return j.join(" ")},f.map(u)},Fu.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(V4.apply(this,[n[l],o,s]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=e.__fontmetrics__.compress=function(f){var h,m,y,v,w=["{"];for(var g in f){if(h=f[g],isNaN(parseInt(g,10))?m="'"+g+"'":(g=parseInt(g,10),m=(m=s(g).slice(2)).slice(0,-1)+n[m.slice(-1)]),typeof h=="number")h<0?(y=s(h).slice(3),v="-"):(y=s(h).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(jt(h)!=="object")throw new Error("Don't know what to do with value type "+jt(h)+".");y=o(h)}w.push(m+y)}return w.push("}"),w.join("")},l=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,m,y,v,w={},g=1,x=w,S=[],j="",E="",T=f.length-1,k=1;k<T;k+=1)(v=f[k])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(v):v=="{"?(S.push([x,y]),x={},y=void 0):v=="}"?((m=S.pop())[0][m[1]]=x,y=void 0,x=m[0]):v=="-"?g=-1:y===void 0?r.hasOwnProperty(v)?(j+=r[v],y=parseInt(j,16)*g,g=1,j=""):j+=v:r.hasOwnProperty(v)?(E+=r[v],x[y]=parseInt(E,16)*g,g=1,y=void 0,E=""):E+=v;return w},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,m=d.Unicode[h.postScriptName];m&&(h.metadata.Unicode={},h.metadata.Unicode.widths=m.widths,h.metadata.Unicode.kerning=m.kerning);var y=u.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(lt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?t(l):t(Ah(l)),o.metadata=e.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])}(lt),function(e){function t(){return(ct.canvg?Promise.resolve(ct.canvg):P2(()=>import("./index.es-B7_2ukO8.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}lt.API.addSvgAsImage=function(r,n,a,s,o,l,c,u){if(isNaN(n)||isNaN(a))throw nr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw nr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(y){return y.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){m.addImage(d.toDataURL("image/jpeg",1),n,a,s,o,c,u)})}}(),lt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},lt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,d=0,f=0;function h(y,v){var w,g=!1;for(w=0;w<y.length;w+=1)y[w]===v&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=l.length;for(f=0;f<m;f+=1)r[l[f]].value=r[l[f]].defaultValue,r[l[f]].explicitSet=!1}if(jt(e)==="object"){for(a in e)if(s=e[a],h(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&h(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(lt.API),function(e){var t=e.API,r=t.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,h=s.length;f<h;++f){if(l=o.metadata.characterToGlyph(s.charCodeAt(f)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(f),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return d.join("");l=l.toString(16),d.push(u[4-l.length],l)}return d.join("")},n=function(s){var o,l,c,u,d,f,h;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(l=Object.keys(s).sort(function(m,y){return m-y})).length;f<h;f++)o=l[f],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="Identity-H"){for(var f=l.metadata.Unicode.widths,h=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),m="",y=0;y<h.length;y++)m+=String.fromCharCode(h[y]);var v=u();d({data:m,addLength1:!0,objectId:v}),c("endobj");var w=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+Hu(l.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var x=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+Hu(l.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+e.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+w+" 0 R"),c("/BaseFont /"+Hu(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,d=o.putStream;if(l.metadata instanceof e.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var f=l.metadata.rawData,h="",m=0;m<f.length;m++)h+=String.fromCharCode(f[m]);var y=u();d({data:h,addLength1:!0,objectId:y}),c("endobj");var v=u();d({data:n(l.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var w=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+y+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+Hu(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var g=0;g<l.metadata.hmtx.widths.length;g++)l.metadata.hmtx.widths[g]=parseInt(l.metadata.hmtx.widths[g]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Hu(l.fontName)+"/FontDescriptor "+w+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,u=s.y,d=s.options||{},f=s.mutex||{},h=f.pdfEscape,m=f.activeFontKey,y=f.fonts,v=m,w="",g=0,x="",S=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:l,x:c,y:u,options:d,mutex:f};for(x=l,v=m,Array.isArray(l)&&(x=l[0]),g=0;g<x.length;g+=1)y[v].metadata.hasOwnProperty("cmap")&&(o=y[v].metadata.cmap.unicode.codeMap[x[g].charCodeAt(0)]),o||x[g].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?w+=x[g]:w+="";var j="";return parseInt(v.slice(1))<14||S==="WinAnsiEncoding"?j=h(w,v).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(j=r(w,y[v])),f.isHex=!0,{text:j,x:c,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])}(lt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(lt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,s,o,l,c,u,d,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},w=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var j=function(M){var P=M.charCodeAt(),F=P>>8,O=v[F];return O!==void 0?f[256*O+(255&P)]:F===252||F===253?"AL":g.test(F)?"L":F===8?"R":"N"},E=function(M){for(var P,F=0;F<M.length;F++){if((P=j(M.charAt(F)))==="L")return!1;if(P==="R")return!0}return!1},T=function(M,P,F,O){var U,z,V,q,re=P[O];switch(re){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(re="AN");break;case"AL":x=!0,re="R";break;case"WS":re="N";break;case"CS":O<1||O+1>=P.length||(U=F[O-1])!=="EN"&&U!=="AN"||(z=P[O+1])!=="EN"&&z!=="AN"?re="N":x&&(z="AN"),re=z===U?z:"N";break;case"ES":re=(U=O>0?F[O-1]:"B")==="EN"&&O+1<P.length&&P[O+1]==="EN"?"EN":"N";break;case"ET":if(O>0&&F[O-1]==="EN"){re="EN";break}if(x){re="N";break}for(V=O+1,q=P.length;V<q&&P[V]==="ET";)V++;re=V<q&&P[V]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(q=P.length,V=O+1;V<q&&P[V]==="NSM";)V++;if(V<q){var oe=M[O],le=oe>=1425&&oe<=2303||oe===64286;if(U=P[V],le&&(U==="R"||U==="AL")){re="R";break}}}re=O<1||(U=P[O-1])==="B"?"N":F[O-1];break;case"B":x=!1,a=!0,re=S;break;case"S":s=!0,re="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":re="N"}return re},k=function(M,P,F){var O=M.split("");return F&&D(O,F,{hiLevel:S}),O.reverse(),P&&P.reverse(),O.join("")},D=function(M,P,F){var O,U,z,V,q,re=-1,oe=M.length,le=0,_=[],$=S?m:h,Y=[];for(x=!1,a=!1,s=!1,U=0;U<oe;U++)Y[U]=j(M[U]);for(z=0;z<oe;z++){if(q=le,_[z]=T(M,Y,_,z),O=240&(le=$[q][y[_[z]]]),le&=15,P[z]=V=$[le][5],O>0)if(O===16){for(U=re;U<z;U++)P[U]=1;re=-1}else re=-1;if($[le][6])re===-1&&(re=z);else if(re>-1){for(U=re;U<z;U++)P[U]=V;re=-1}Y[z]==="B"&&(P[z]=0),F.hiLevel|=V}s&&function(W,X,Z){for(var ne=0;ne<Z;ne++)if(W[ne]==="S"){X[ne]=S;for(var ie=ne-1;ie>=0&&W[ie]==="WS";ie--)X[ie]=S}}(Y,P,oe)},I=function(M,P,F,O,U){if(!(U.hiLevel<M)){if(M===1&&S===1&&!a)return P.reverse(),void(F&&F.reverse());for(var z,V,q,re,oe=P.length,le=0;le<oe;){if(O[le]>=M){for(q=le+1;q<oe&&O[q]>=M;)q++;for(re=le,V=q-1;re<V;re++,V--)z=P[re],P[re]=P[V],P[V]=z,F&&(z=F[re],F[re]=F[V],F[V]=z);le=q}le++}}},R=function(M,P,F){var O=M.split(""),U={hiLevel:S};return F||(F=[]),D(O,F,U),function(z,V,q){if(q.hiLevel!==0&&d)for(var re,oe=0;oe<z.length;oe++)V[oe]===1&&(re=w.indexOf(z[oe]))>=0&&(z[oe]=w[re+1])}(O,F,U),I(2,O,P,F,U),I(1,O,P,F,U),O.join("")};return this.__bidiEngine__.doBidiReorder=function(M,P,F){if(function(U,z){if(z)for(var V=0;V<U.length;V++)z[V]=V;l===void 0&&(l=E(U)),u===void 0&&(u=E(U))}(M,P),o||!c||u)if(o&&c&&l^u)S=l?1:0,M=k(M,P,F);else if(!o&&c&&u)S=l?1:0,M=R(M,P,F),M=k(M,P);else if(!o||l||c||u){if(o&&!c&&l^u)M=k(M,P),l?(S=0,M=R(M,P,F)):(S=1,M=R(M,P,F),M=k(M,P));else if(o&&l&&!c&&u)S=1,M=R(M,P,F),M=k(M,P);else if(!o&&!c&&l^u){var O=d;l?(S=1,M=R(M,P,F),S=0,d=!1,M=R(M,P,F),d=O):(S=0,M=R(M,P,F),M=k(M,P),S=1,d=!1,M=R(M,P,F),d=O,M=k(M,P))}}else S=0,M=R(M,P,F);else S=l?1:0,M=R(M,P,F);return M},this.__bidiEngine__.setOptions=function(M){M&&(o=M.isInputVisual,c=M.isOutputVisual,l=M.isInputRtl,u=M.isOutputRtl,d=M.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,s=(n.x,n.y,n.options||{}),o=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(lt),lt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ol(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new J9(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new F9(this.contents),this.head=new U9(this),this.name=new Y9(this),this.cmap=new PP(this),this.toUnicode={},this.hhea=new z9(this),this.maxp=new V9(this),this.hmtx=new q9(this),this.post=new H9(this),this.os2=new B9(this),this.loca=new Q9(this),this.glyf=new G9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)t=c[o],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,s,o,l;for(o=0,s=0,l=(t=""+t).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ei,Ol=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,s,o,l,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,s;for(s=[],n=0,a=t.length;n<a;n++)r=t[n],s.push(this.writeByte(r));return s},e}(),F9=function(){var e;function t(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,s,o,l,c,u,d,f,h,m,y,v;for(v in m=Object.keys(r).length,c=Math.log(2),f=16*Math.floor(Math.log(m)/c),o=Math.floor(f/c),d=16*m-f,(a=new Ol).writeInt(this.scalarType),a.writeShort(m),a.writeShort(f),a.writeShort(o),a.writeShort(d),s=16*m,u=a.pos+s,l=null,y=[],r)for(h=r[v],a.writeString(v),a.writeInt(e(h)),a.writeInt(u),a.writeInt(h.length),y=y.concat(h),v==="head"&&(l=u),u+=h.length;u%4;)y.push(0),u++;return a.write(y),n=2981146554-e(a.data),a.pos=l+8,a.writeUInt32(n),a.data},e=function(r){var n,a,s,o;for(r=EP.call(r);r.length%4;)r.push(0);for(s=new Ol(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},t}(),$9={}.hasOwnProperty,Vi=function(e,t){for(var r in t)$9.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ei=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var U9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Ol).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),K4=function(){function e(t,r){var n,a,s,o,l,c,u,d,f,h,m,y,v,w,g,x,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),h=m/2,t.pos+=6,s=function(){var j,E;for(E=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)E.push(t.readUInt16());return E}(),t.pos+=2,v=function(){var j,E;for(E=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)E.push(t.readUInt16());return E}(),u=function(){var j,E;for(E=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)E.push(t.readUInt16());return E}(),d=function(){var j,E;for(E=[],c=j=0;0<=h?j<h:j>h;c=0<=h?++j:--j)E.push(t.readUInt16());return E}(),a=(this.length-t.pos+this.offset)/2,l=function(){var j,E;for(E=[],c=j=0;0<=a?j<a:j>a;c=0<=a?++j:--j)E.push(t.readUInt16());return E}(),c=g=0,S=s.length;g<S;c=++g)for(w=s[c],n=x=y=v[c];y<=w?x<=w:x>=w;n=y<=w?++x:--x)d[c]===0?o=n+u[c]:(o=l[d[c]/2+(n-y)-(h-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}t.pos=f}return e.encode=function(t,r){var n,a,s,o,l,c,u,d,f,h,m,y,v,w,g,x,S,j,E,T,k,D,I,R,M,P,F,O,U,z,V,q,re,oe,le,_,$,Y,W,X,Z,ne,ie,me,xe,De;switch(O=new Ol,o=Object.keys(t).sort(function(Ee,Ze){return Ee-Ze}),r){case"macroman":for(v=0,w=function(){var Ee=[];for(y=0;y<256;++y)Ee.push(0);return Ee}(),x={0:0},s={},U=0,re=o.length;U<re;U++)x[ie=t[a=o[U]]]==null&&(x[ie]=++v),s[a]={old:t[a],new:x[t[a]]},w[a]=x[t[a]];return O.writeUInt16(1),O.writeUInt16(0),O.writeUInt32(12),O.writeUInt16(0),O.writeUInt16(262),O.writeUInt16(0),O.write(w),{charMap:s,subtable:O.data,maxGlyphID:v+1};case"unicode":for(P=[],f=[],S=0,x={},n={},g=u=null,z=0,oe=o.length;z<oe;z++)x[E=t[a=o[z]]]==null&&(x[E]=++S),n[a]={old:E,new:x[E]},l=x[E]-a,g!=null&&l===u||(g&&f.push(g),P.push(a),u=l),g=a;for(g&&f.push(g),f.push(65535),P.push(65535),R=2*(I=P.length),D=2*Math.pow(Math.log(I)/Math.LN2,2),h=Math.log(D/2)/Math.LN2,k=2*I-D,c=[],T=[],m=[],y=V=0,le=P.length;V<le;y=++V){if(M=P[y],d=f[y],M===65535){c.push(0),T.push(0);break}if(M-(F=n[M].new)>=32768)for(c.push(0),T.push(2*(m.length+I-y)),a=q=M;M<=d?q<=d:q>=d;a=M<=d?++q:--q)m.push(n[a].new);else c.push(F-M),T.push(0)}for(O.writeUInt16(3),O.writeUInt16(1),O.writeUInt32(12),O.writeUInt16(4),O.writeUInt16(16+8*I+2*m.length),O.writeUInt16(0),O.writeUInt16(R),O.writeUInt16(D),O.writeUInt16(h),O.writeUInt16(k),Z=0,_=f.length;Z<_;Z++)a=f[Z],O.writeUInt16(a);for(O.writeUInt16(0),ne=0,$=P.length;ne<$;ne++)a=P[ne],O.writeUInt16(a);for(me=0,Y=c.length;me<Y;me++)l=c[me],O.writeUInt16(l);for(xe=0,W=T.length;xe<W;xe++)j=T[xe],O.writeUInt16(j);for(De=0,X=m.length;De<X;De++)v=m[De],O.writeUInt16(v);return{charMap:n,subtable:O.data,maxGlyphID:S+1}}},e}(),PP=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)n=new K4(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,s;return n==null&&(n="macroman"),a=K4.encode(r,n),(s=new Ol).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),z9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),B9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),H9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(a=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=a?o<a:o>a;o=0<=a?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},t}(),W9=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Y9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,s,o,l,c,u,d,f,h,m;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},o=f=0,h=a.length;f<h;o=++f)s=a[o],r.pos=s.offset,d=r.readString(s.length),l=new W9(d,s),u[m=s.nameID]==null&&(u[m]=[]),u[s.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),V9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),q9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,s,o,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)f.push(r.readInt16());return f}(),this.widths=(function(){var d,f,h,m;for(m=[],d=0,f=(h=this.metrics).length;d<f;d++)o=h[d],m.push(o.advance);return m}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=s?l<s:l>s;n=0<=s?++l:--l)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),EP=[].slice,G9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,s,o,l,c,u,d,f,h;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,a=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new Ol(n.read(s))).readShort(),d=c.readShort(),h=c.readShort(),u=c.readShort(),f=c.readShort(),this.cache[r]=l===-1?new X9(c,d,h,u,f):new K9(c,l,d,h,u,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var s,o,l,c,u;for(l=[],o=[],c=0,u=n.length;c<u;c++)s=r[n[c]],o.push(l.length),s&&(l=l.concat(s.encode(a)));return o.push(l.length),{table:l,offsets:o}},t}(),K9=function(){function e(t,r,n,a,s,o){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),X9=function(){function e(t,r,n,a,s){var o,l;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ol(EP.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Q9=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Vi(t,ei),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],a=0,s=this.length;a<s;a+=4)o.push(r.readUInt32());return o}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<a.length;++l)if(a[l]=s,o<n.length&&n[o]==l){++o,a[l]=s;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),J9=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)n=s[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,s,o,l,c;for(a={},o=0,l=t.length;o<l;o++)a[s=t[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},e.prototype.encode=function(t,r){var n,a,s,o,l,c,u,d,f,h,m,y,v,w,g;for(a in n=PP.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),m={0:0},g=n.charMap)m[(c=g[a]).old]=c.new;for(y in h=n.maxGlyphID,o)y in m||(m[y]=h++);return d=function(x){var S,j;for(S in j={},x)j[x[S]]=S;return j}(m),f=Object.keys(d).sort(function(x,S){return x-S}),v=function(){var x,S,j;for(j=[],x=0,S=f.length;x<S;x++)l=f[x],j.push(d[l]);return j}(),s=this.font.glyf.encode(o,v,m),u=this.font.loca.encode(s.offsets,v),w={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(w["OS/2"]=this.font.os2.raw()),this.font.directory.encode(w)},e}();lt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+r},t}();const Z9=({quote:e,onClose:t,onEdit:r})=>{const{prospects:n,updateQuote:a,companySettings:s}=ia(),[o,l]=L.useState(!1),c=n.find(v=>v.id===e.prospectId),u=new Date>e.vigencia&&e.estado==="Enviada",d=v=>({Borrador:"bg-gray-100 text-gray-800",Enviada:"bg-blue-100 text-blue-800",Aceptada:"bg-green-100 text-green-800",Rechazada:"bg-red-100 text-red-800",Vencida:"bg-orange-100 text-orange-800"})[v],f=v=>{const g={Borrador:vn,Enviada:ux,Aceptada:y4,Rechazada:qs,Vencida:vn}[v];return i.jsx(g,{className:"h-4 w-4"})},h=v=>{a(e.id,{estado:v,historialCambios:[...e.historialCambios,{id:Date.now().toString(),fecha:new Date,accion:`Estado cambiado a ${v}`,usuario:"Usuario Actual",detalles:`Estado anterior: ${e.estado}`}]})},m=async()=>{l(!0);try{const v=new lt("p","mm","a4"),w=v.internal.pageSize.getWidth(),g=v.internal.pageSize.getHeight();let x=20;v.setFontSize(20),v.setFont("helvetica","bold"),v.text(s.nombre,20,x),x+=10,v.setFontSize(10),v.setFont("helvetica","normal"),v.text(s.direccion,20,x),x+=5,v.text(`Tel: ${s.telefono} | Email: ${s.correo}`,20,x),x+=5,v.text(`RFC: ${s.rfc}`,20,x),x+=15,v.setFontSize(16),v.setFont("helvetica","bold"),v.text("COTIZACIÓN",20,x),v.setFontSize(12),v.text(`No. ${e.numero}`,w-60,x),x+=15,v.setFontSize(12),v.setFont("helvetica","bold"),v.text("CLIENTE:",20,x),x+=7,v.setFont("helvetica","normal"),v.text((c==null?void 0:c.nombre)||"Cliente no encontrado",20,x),x+=5,v.text((c==null?void 0:c.telefono)||"",20,x),x+=5,v.text((c==null?void 0:c.correo)||"",20,x),v.text(`Fecha: ${it(e.fecha,"dd/MM/yyyy")}`,w-80,x-10),v.text(`Vigencia: ${it(e.vigencia,"dd/MM/yyyy")}`,w-80,x-5),x+=15,v.setFont("helvetica","bold"),v.text("DESCRIPCIÓN",20,x),v.text("CANT.",120,x),v.text("PRECIO UNIT.",140,x),v.text("SUBTOTAL",170,x),x+=5,v.line(20,x,w-20,x),x+=5,v.setFont("helvetica","normal"),e.items.forEach(j=>{x>g-40&&(v.addPage(),x=20),v.text(j.nombre,20,x),v.text(j.cantidad.toString(),120,x),v.text(`$${j.precioUnitario.toLocaleString()}`,140,x),v.text(`$${j.subtotal.toLocaleString()}`,170,x),x+=5,j.descripcion&&(v.setFontSize(8),v.text(j.descripcion,20,x),v.setFontSize(10),x+=4),x+=2}),x+=10,v.line(120,x,w-20,x),x+=7,v.setFont("helvetica","bold"),v.text(`Subtotal: $${e.subtotal.toLocaleString()}`,120,x),x+=5,e.descuentoGlobal>0&&(v.text(`Descuento: -$${(e.tipoDescuentoGlobal==="porcentaje"?e.subtotal*(e.descuentoGlobal/100):e.descuentoGlobal).toLocaleString()}`,120,x),x+=5);const S=(e.subtotal-(e.tipoDescuentoGlobal==="porcentaje"?e.subtotal*(e.descuentoGlobal/100):e.descuentoGlobal))*(e.iva/100);if(v.text(`IVA (${e.iva}%): $${S.toLocaleString()}`,120,x),x+=5,v.setFontSize(12),v.text(`TOTAL: $${e.total.toLocaleString()}`,120,x),e.terminosCondiciones){x+=15,v.setFontSize(10),v.setFont("helvetica","bold"),v.text("TÉRMINOS Y CONDICIONES:",20,x),x+=5,v.setFont("helvetica","normal");const j=v.splitTextToSize(e.terminosCondiciones,w-40);v.text(j,20,x)}e.condicionesPago&&(x+=15,v.setFont("helvetica","bold"),v.text("CONDICIONES DE PAGO:",20,x),x+=5,v.setFont("helvetica","normal"),v.text(e.condicionesPago,20,x)),v.save(`Cotizacion-${e.numero}.pdf`)}catch(v){console.error("Error generating PDF:",v),alert("Error al generar el PDF")}finally{l(!1)}},y=()=>{if(c){const v=c.telefono.replace(/[^\d+]/g,""),w=`Hola ${c.nombre}, te envío la cotización ${e.numero} por un total de $${e.total.toLocaleString()}. ¿Te gustaría revisar los detalles?`;window.open(`https://wa.me/${v}?text=${encodeURIComponent(w)}`,"_blank")}};return i.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:[i.jsx(Ip,{className:"h-5 w-5 mr-2"}),"Volver"]}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Cotización ",e.numero]}),i.jsxs("p",{className:"text-gray-600",children:["Creada el ",it(e.fecha,"dd/MM/yyyy")," • Vence el ",it(e.vigencia,"dd/MM/yyyy")]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`inline-flex items-center px-3 py-1 text-sm font-semibold rounded-full gap-1 ${u?"bg-orange-100 text-orange-800":d(e.estado)}`,children:[f(u?"Vencida":e.estado),u?"Vencida":e.estado]}),i.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Gn,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:m,disabled:o,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[i.jsx(fs,{className:"h-4 w-4"}),o?"Generando...":"PDF"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"De:"}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx("p",{className:"font-medium",children:s.nombre}),i.jsx("p",{className:"text-gray-600",children:s.direccion}),i.jsx("p",{className:"text-gray-600",children:s.telefono}),i.jsx("p",{className:"text-gray-600",children:s.correo}),i.jsxs("p",{className:"text-gray-600",children:["RFC: ",s.rfc]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Para:"}),c?i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx("p",{className:"font-medium",children:c.nombre}),i.jsx("p",{className:"text-gray-600",children:c.telefono}),i.jsx("p",{className:"text-gray-600",children:c.correo}),i.jsxs("p",{className:"text-gray-600",children:["Plataforma: ",c.plataforma]}),i.jsxs("p",{className:"text-gray-600",children:["Interés: ",c.servicioInteres]})]}):i.jsx("p",{className:"text-red-600",children:"Cliente no encontrado"})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items de la Cotización"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-700",children:"Descripción"}),i.jsx("th",{className:"text-center py-3 text-sm font-medium text-gray-700",children:"Cantidad"}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Precio Unit."}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Descuento"}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Subtotal"})]})}),i.jsx("tbody",{children:e.items.map((v,w)=>i.jsxs("tr",{className:w%2===0?"bg-gray-50":"bg-white",children:[i.jsx("td",{className:"py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:v.nombre}),v.descripcion&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:v.descripcion})]})}),i.jsx("td",{className:"py-4 text-center",children:v.cantidad}),i.jsxs("td",{className:"py-4 text-right",children:["$",v.precioUnitario.toLocaleString()]}),i.jsx("td",{className:"py-4 text-right",children:v.descuento>0&&i.jsxs("span",{className:"text-red-600",children:["-",v.tipoDescuento==="porcentaje"?`${v.descuento}%`:`$${v.descuento.toLocaleString()}`]})}),i.jsxs("td",{className:"py-4 text-right font-medium",children:["$",v.subtotal.toLocaleString()]})]},v.id))})]})}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("div",{className:"flex justify-end",children:i.jsxs("div",{className:"w-64 space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Subtotal:"}),i.jsxs("span",{className:"font-medium",children:["$",e.subtotal.toLocaleString()]})]}),e.descuentoGlobal>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Descuento Global:"}),i.jsxs("span",{className:"font-medium text-red-600",children:["-",e.tipoDescuentoGlobal==="porcentaje"?`${e.descuentoGlobal}%`:`$${e.descuentoGlobal.toLocaleString()}`]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"text-gray-600",children:["IVA (",e.iva,"%):"]}),i.jsxs("span",{className:"font-medium",children:["$",((e.subtotal-(e.tipoDescuentoGlobal==="porcentaje"?e.subtotal*(e.descuentoGlobal/100):e.descuentoGlobal))*(e.iva/100)).toLocaleString()]})]}),i.jsx("div",{className:"border-t pt-2",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",e.total.toLocaleString()]})]})})]})})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información Adicional"}),i.jsxs("div",{className:"space-y-4",children:[e.condicionesPago&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Condiciones de Pago"}),i.jsx("p",{className:"text-gray-700",children:e.condicionesPago})]}),e.notasAdicionales&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Notas Adicionales"}),i.jsx("p",{className:"text-gray-700",children:e.notasAdicionales})]}),e.terminosCondiciones&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Términos y Condiciones"}),i.jsx("p",{className:"text-gray-700",children:e.terminosCondiciones})]}),e.metodosPago.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Métodos de Pago Aceptados"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.metodosPago.map(v=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded",children:v},v))})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estado de la Cotización"}),i.jsx("div",{className:"space-y-2",children:["Borrador","Enviada","Aceptada","Rechazada"].map(v=>i.jsx("button",{onClick:()=>h(v),className:`w-full text-left p-3 rounded-lg border transition-colors ${e.estado===v?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"font-medium",children:v}),e.estado===v&&i.jsx(y4,{className:"h-4 w-4"})]})},v))})]}),c&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rápidas"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:y,className:"w-full bg-green-600 text-white p-3 rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(tu,{className:"h-4 w-4"}),"Enviar por WhatsApp"]}),i.jsxs("button",{onClick:()=>window.open(`mailto:${c.correo}?subject=Cotización ${e.numero}&body=Estimado/a ${c.nombre}, adjunto encontrará la cotización solicitada.`),className:"w-full bg-blue-600 text-white p-3 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Ui,{className:"h-4 w-4"}),"Enviar por Email"]}),i.jsxs("button",{onClick:()=>window.open(`tel:${c.telefono}`),className:"w-full bg-purple-600 text-white p-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center gap-2",children:[i.jsx(Lo,{className:"h-4 w-4"}),"Llamar Cliente"]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información de la Cotización"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Número:"}),i.jsx("span",{className:"font-medium",children:e.numero})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Fecha de creación:"}),i.jsx("span",{className:"font-medium",children:it(e.fechaCreacion,"dd/MM/yyyy")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Última actualización:"}),i.jsx("span",{className:"font-medium",children:it(e.fechaActualizacion,"dd/MM/yyyy")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Creado por:"}),i.jsx("span",{className:"font-medium",children:e.creadoPor})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Items:"}),i.jsx("span",{className:"font-medium",children:e.items.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Vigencia:"}),i.jsx("span",{className:`font-medium ${u?"text-red-600":"text-green-600"}`,children:u?"Vencida":"Vigente"})]})]})]}),e.historialCambios.length>0&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Historial de Cambios"}),i.jsx("div",{className:"space-y-3",children:e.historialCambios.slice(0,5).map(v=>i.jsxs("div",{className:"border-l-2 border-blue-200 pl-3",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:v.accion}),i.jsx("p",{className:"text-xs text-gray-500",children:v.usuario})]}),i.jsx("span",{className:"text-xs text-gray-400",children:it(v.fecha,"dd/MM HH:mm")})]}),v.detalles&&i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:v.detalles})]},v.id))})]})]})]})]})},X4=(e,t="dd/MM/yyyy")=>{if(!e)return"-";let r;return e instanceof Date?r=e:e&&typeof e.toDate=="function"?r=e.toDate():r=new Date(e),isNaN(r.getTime())?"-":it(r,t)},Q4=({navigationParams:e})=>{const{quotes:t,prospects:r,deleteQuote:n}=ia(),[a,s]=L.useState(""),[o,l]=L.useState("all"),[c,u]=L.useState(!1),[d,f]=L.useState(null),[h,m]=L.useState(null),[y,v]=L.useState(null);L.useEffect(()=>{if(e!=null&&e.quoteId&&e.showDetail){const D=[...t,...r.flatMap(I=>I.cotizaciones)].find(I=>I.id===e.quoteId);D&&(f(D),v(D.id),setTimeout(()=>v(null),3e3))}else if(e!=null&&e.selectedQuote){const k=e.selectedQuote;f(k),v(k.id),setTimeout(()=>v(null),3e3)}},[e,t,r]);const w=[...t,...r.flatMap(k=>k.cotizaciones)],g=w.filter(k=>{const D=r.find(P=>P.id===k.prospectId),I=a.toLowerCase(),R=(k.numero||"").toLowerCase().includes(I)||((D==null?void 0:D.nombre)||"").toLowerCase().includes(I)||k.items.some(P=>(P.nombre||"").toLowerCase().includes(I)),M=o==="all"||k.estado===o;return R&&M}),x=k=>({Borrador:"bg-gray-100 text-gray-800",Enviada:"bg-blue-100 text-blue-800",Aceptada:"bg-green-100 text-green-800",Rechazada:"bg-red-100 text-red-800",Vencida:"bg-orange-100 text-orange-800"})[k]||"",S=k=>{const I={Borrador:vn,Enviada:ux,Aceptada:Yr,Rechazada:en,Vencida:vn}[k];return i.jsx(I,{className:"h-4 w-4"})},j=k=>{confirm("¿Estás seguro de eliminar esta cotización?")&&n(k)},E=k=>{m(k),u(!0)},T=()=>{m(null),u(!1)};return c?i.jsx(Z$,{onClose:T,editingQuote:h}):d?i.jsx(Z9,{quote:d,onClose:()=>f(null),onEdit:()=>E(d)}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Cotizaciones"}),i.jsx("p",{className:"text-gray-600",children:"Administra todas las propuestas"})]}),i.jsxs("button",{onClick:()=>u(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-blue-700",children:[i.jsx(cr,{className:"h-4 w-4"})," Nueva Cotización"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(Wi,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),i.jsx("input",{type:"text",value:a,onChange:k=>s(k.target.value),placeholder:"Buscar...",className:"pl-10 w-full border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("select",{value:o,onChange:k=>l(k.target.value),className:"border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 px-3 py-2",children:[i.jsx("option",{value:"all",children:"Todos"}),i.jsx("option",{value:"Borrador",children:"Borrador"}),i.jsx("option",{value:"Enviada",children:"Enviada"}),i.jsx("option",{value:"Aceptada",children:"Aceptada"}),i.jsx("option",{value:"Rechazada",children:"Rechazada"}),i.jsx("option",{value:"Vencida",children:"Vencida"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-white p-4 border rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Cotizaciones"}),i.jsx("p",{className:"text-2xl font-bold",children:w.length})]}),i.jsx(Yr,{className:"h-8 w-8 text-blue-500"})]}),i.jsxs("div",{className:"bg-white p-4 border rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),i.jsxs("p",{className:"text-2xl font-bold",children:["$",w.reduce((k,D)=>k+D.total,0).toLocaleString()]})]}),i.jsx(fs,{className:"h-8 w-8 text-green-500"})]}),i.jsxs("div",{className:"bg-white p-4 border rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Aceptadas"}),i.jsx("p",{className:"text-2xl font-bold",children:w.filter(k=>k.estado==="Aceptada").length})]}),i.jsx(Yr,{className:"h-8 w-8 text-green-500"})]}),i.jsxs("div",{className:"bg-white p-4 border rounded-lg flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Tasa Aceptación"}),i.jsxs("p",{className:"text-2xl font-bold",children:[w.length?(w.filter(k=>k.estado==="Aceptada").length/w.length*100).toFixed(1):"0.0","%"]})]}),i.jsx(Yr,{className:"h-8 w-8 text-purple-500"})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow overflow-auto border",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"#"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha / Vence"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),i.jsx("tbody",{className:"divide-y divide-gray-200",children:g.map(k=>{const D=r.find(P=>P.id===k.prospectId),I=X4(k.fecha),R=X4(k.vigencia),M=new Date>new Date(k.vigencia)&&k.estado==="Enviada";return i.jsxs("tr",{className:`hover:bg-gray-50 ${y===k.id?"bg-blue-50 border-l-4 border-blue-400":""}`,children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"font-medium",children:k.numero||"Sin número"}),i.jsxs("div",{className:"text-sm text-gray-500",children:[k.items.length," ítem",k.items.length!==1&&"s"]})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"font-medium",children:(D==null?void 0:D.nombre)||"Cliente desconocido"}),i.jsx("div",{className:"text-sm text-gray-500",children:(D==null?void 0:D.correo)||""})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"",children:I}),i.jsxs("div",{className:`${M?"text-red-600":"text-gray-500"} text-sm`,children:["Vence: ",R]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"font-medium",children:["$",k.total.toLocaleString()]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full gap-1 ${M?"bg-orange-100 text-orange-800":x(k.estado)}`,children:[S(M?"Vencida":k.estado),M?"Vencida":k.estado]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>f(k),className:"text-blue-600 hover:text-blue-900",children:i.jsx(ka,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>E(k),className:"text-green-600 hover:text-green-900",children:i.jsx(Gn,{className:"h-4 w-4"})}),i.jsx("button",{className:"text-purple-600 hover:text-purple-900",children:i.jsx(fs,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>j(k.id),className:"text-red-600 hover:text-red-900",children:i.jsx(en,{className:"h-4 w-4"})})]})})]},k.id)})})]})})]})},eU=()=>{const{products:e,addProduct:t,updateProduct:r,deleteProduct:n}=ia(),[a,s]=L.useState(""),[o,l]=L.useState("all"),[c,u]=L.useState("all"),[d,f]=L.useState(!1),[h,m]=L.useState(null),[y,v]=L.useState({nombre:"",descripcion:"",precio:0,categoria:"",unidadMedida:"",estado:"activo"}),w=[...new Set(e.map(k=>k.categoria))],g=e.filter(k=>{const D=k.nombre.toLowerCase().includes(a.toLowerCase())||k.descripcion.toLowerCase().includes(a.toLowerCase())||k.categoria.toLowerCase().includes(a.toLowerCase()),I=o==="all"||k.categoria===o,R=c==="all"||k.estado===c;return D&&I&&R}),x=k=>{k.preventDefault(),h?r(h.id,y):t(y),S()},S=()=>{v({nombre:"",descripcion:"",precio:0,categoria:"",unidadMedida:"",estado:"activo"}),m(null),f(!1)},j=k=>{v({nombre:k.nombre,descripcion:k.descripcion,precio:k.precio,categoria:k.categoria,unidadMedida:k.unidadMedida,estado:k.estado}),m(k),f(!0)},E=k=>{window.confirm("¿Estás seguro de que deseas eliminar este producto?")&&n(k)},T=k=>{r(k.id,{estado:k.estado==="activo"?"inactivo":"activo"})};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Catálogo de Productos"}),i.jsx("p",{className:"text-gray-600",children:"Administra tu catálogo de productos y servicios"})]}),i.jsxs("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nuevo Producto"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar productos...",value:a,onChange:k=>s(k.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:o,onChange:k=>l(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todas las categorías"}),w.map(k=>i.jsx("option",{value:k,children:k},k))]}),i.jsxs("select",{value:c,onChange:k=>u(k.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los estados"}),i.jsx("option",{value:"activo",children:"Activos"}),i.jsx("option",{value:"inactivo",children:"Inactivos"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Productos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]}),i.jsx(F1,{className:"h-8 w-8 text-blue-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Productos Activos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(k=>k.estado==="activo").length})]}),i.jsx(ka,{className:"h-8 w-8 text-green-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Categorías"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),i.jsx(Z_,{className:"h-8 w-8 text-purple-500"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Precio Promedio"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.length>0?Math.round(e.reduce((k,D)=>k+D.precio,0)/e.length).toLocaleString():0]})]}),i.jsx(F1,{className:"h-8 w-8 text-orange-500"})]})})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:["Mostrando ",g.length," de ",e.length," productos"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(k=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:k.nombre}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:k.descripcion}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:k.categoria}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs rounded ${k.estado==="activo"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:k.estado})]})]}),i.jsx("button",{onClick:()=>T(k),className:`p-2 rounded-lg transition-colors ${k.estado==="activo"?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"}`,title:k.estado==="activo"?"Desactivar":"Activar",children:k.estado==="activo"?i.jsx(ka,{className:"h-4 w-4"}):i.jsx(Qg,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Precio:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",k.precio.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Unidad:"}),i.jsx("span",{className:"text-gray-900",children:k.unidadMedida})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Actualizado:"}),i.jsx("span",{className:"text-gray-900",children:it(k.fechaActualizacion,"dd/MM/yyyy")})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("button",{onClick:()=>j(k),className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center gap-1",children:[i.jsx(Gn,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:()=>E(k.id),className:"text-red-600 hover:text-red-800 transition-colors flex items-center gap-1",children:[i.jsx(en,{className:"h-4 w-4"}),"Eliminar"]})]})]},k.id))}),g.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(F1,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron productos"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros o agregar un nuevo producto."}),i.jsx("button",{onClick:()=>f(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar Primer Producto"})]}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:h?"Editar Producto":"Nuevo Producto"}),i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del producto/servicio *"}),i.jsx("input",{type:"text",value:y.nombre,onChange:k=>v(D=>({...D,nombre:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción *"}),i.jsx("textarea",{value:y.descripcion,onChange:k=>v(D=>({...D,descripcion:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,required:!0})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio *"}),i.jsx("input",{type:"number",value:y.precio,onChange:k=>v(D=>({...D,precio:Number(k.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unidad de Medida *"}),i.jsxs("select",{value:y.unidadMedida,onChange:k=>v(D=>({...D,unidadMedida:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"",children:"Seleccionar"}),i.jsx("option",{value:"Servicio",children:"Servicio"}),i.jsx("option",{value:"Hora",children:"Hora"}),i.jsx("option",{value:"Mes",children:"Mes"}),i.jsx("option",{value:"Año",children:"Año"}),i.jsx("option",{value:"Pieza",children:"Pieza"}),i.jsx("option",{value:"Licencia",children:"Licencia"}),i.jsx("option",{value:"Proyecto",children:"Proyecto"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría *"}),i.jsx("input",{type:"text",value:y.categoria,onChange:k=>v(D=>({...D,categoria:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Chatbots, Marketing, etc.",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),i.jsxs("select",{value:y.estado,onChange:k=>v(D=>({...D,estado:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"activo",children:"Activo"}),i.jsx("option",{value:"inactivo",children:"Inactivo"})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-6",children:[i.jsx("button",{type:"button",onClick:S,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[h?"Actualizar":"Crear"," Producto"]})]})]})]})})]})},tU=()=>{const{quoteTemplates:e,addQuoteTemplate:t,updateQuoteTemplate:r,deleteQuoteTemplate:n,products:a}=ia(),[s,o]=L.useState(""),[l,c]=L.useState(!1),[u,d]=L.useState(null),[f,h]=L.useState(null),[m,y]=L.useState({nombre:"",descripcion:"",condicionesPago:"",notasAdicionales:"",terminosCondiciones:"",metodosPago:[]}),[v,w]=L.useState([]),g=e.filter(R=>R.nombre.toLowerCase().includes(s.toLowerCase())||R.descripcion.toLowerCase().includes(s.toLowerCase())),x=()=>{y({nombre:"",descripcion:"",condicionesPago:"",notasAdicionales:"",terminosCondiciones:"",metodosPago:[]}),w([]),d(null),c(!1)},S=R=>{y({nombre:R.nombre,descripcion:R.descripcion,condicionesPago:R.condicionesPago,notasAdicionales:R.notasAdicionales,terminosCondiciones:R.terminosCondiciones,metodosPago:R.metodosPago}),w(R.items),d(R),c(!0)},j=R=>{if(R.preventDefault(),v.length===0){alert("Agrega al menos un item a la plantilla");return}const M={...m,items:v,creadoPor:"Usuario Actual"};u?r(u.id,M):t(M),x()},E=()=>{const R={nombre:"",descripcion:"",cantidad:1,precioUnitario:0,descuento:0,tipoDescuento:"porcentaje",subtotal:0};w(M=>[...M,R])},T=(R,M,P)=>{w(F=>F.map((O,U)=>{if(U===R){const z={...O,[M]:P},V=z.cantidad*z.precioUnitario;let q=0;return z.tipoDescuento==="porcentaje"?q=V*(z.descuento/100):q=z.descuento,z.subtotal=V-q,z}return O}))},k=R=>{w(M=>M.filter((P,F)=>F!==R))},D=R=>{window.confirm("¿Estás seguro de que deseas eliminar esta plantilla?")&&n(R)},I=R=>{const M={...R,nombre:`${R.nombre} (Copia)`,creadoPor:"Usuario Actual"};delete M.id,delete M.fechaCreacion,t(M)};return f?i.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>h(null),className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:"← Volver"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:f.nombre}),i.jsx("p",{className:"text-gray-600",children:f.descripcion})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>S(f),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Gn,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:()=>I(f),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[i.jsx(Xg,{className:"h-4 w-4"}),"Duplicar"]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Items de la Plantilla"}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-200",children:[i.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-700",children:"Descripción"}),i.jsx("th",{className:"text-center py-3 text-sm font-medium text-gray-700",children:"Cantidad"}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Precio Unit."}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Descuento"}),i.jsx("th",{className:"text-right py-3 text-sm font-medium text-gray-700",children:"Subtotal"})]})}),i.jsx("tbody",{children:f.items.map((R,M)=>i.jsxs("tr",{className:M%2===0?"bg-gray-50":"bg-white",children:[i.jsx("td",{className:"py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:R.nombre}),R.descripcion&&i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.descripcion})]})}),i.jsx("td",{className:"py-4 text-center",children:R.cantidad}),i.jsxs("td",{className:"py-4 text-right",children:["$",R.precioUnitario.toLocaleString()]}),i.jsx("td",{className:"py-4 text-right",children:R.descuento>0&&i.jsxs("span",{className:"text-red-600",children:["-",R.tipoDescuento==="porcentaje"?`${R.descuento}%`:`$${R.descuento.toLocaleString()}`]})}),i.jsxs("td",{className:"py-4 text-right font-medium",children:["$",R.subtotal.toLocaleString()]})]},M))})]})}),i.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:i.jsx("div",{className:"flex justify-end",children:i.jsx("div",{className:"w-64",children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Total:"}),i.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",f.items.reduce((R,M)=>R+M.subtotal,0).toLocaleString()]})]})})})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Condiciones de Pago"}),i.jsx("p",{className:"text-gray-700",children:f.condicionesPago||"No especificadas"})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Métodos de Pago"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:f.metodosPago.map(R=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded",children:R},R))})]}),f.notasAdicionales&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Notas Adicionales"}),i.jsx("p",{className:"text-gray-700",children:f.notasAdicionales})]}),f.terminosCondiciones&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Términos y Condiciones"}),i.jsx("p",{className:"text-gray-700",children:f.terminosCondiciones})]})]})]}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Plantillas de Cotización"}),i.jsx("p",{className:"text-gray-600",children:"Crea plantillas reutilizables para agilizar el proceso de cotización"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nueva Plantilla"]})]}),i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar plantillas...",value:s,onChange:R=>o(R.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(R=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:R.nombre}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:R.descripcion}),i.jsxs("div",{className:"text-xs text-gray-500",children:[R.items.length," items • Creado por ",R.creadoPor]})]})}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Total estimado:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",R.items.reduce((M,P)=>M+P.subtotal,0).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Creado:"}),i.jsx("span",{className:"text-gray-900",children:it(R.fechaCreacion,"dd/MM/yyyy")})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("button",{onClick:()=>h(R),className:"text-blue-600 hover:text-blue-800 transition-colors flex items-center gap-1",children:[i.jsx(ka,{className:"h-4 w-4"}),"Ver"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>S(R),className:"text-green-600 hover:text-green-800 transition-colors flex items-center gap-1",children:[i.jsx(Gn,{className:"h-4 w-4"}),"Editar"]}),i.jsxs("button",{onClick:()=>I(R),className:"text-purple-600 hover:text-purple-800 transition-colors flex items-center gap-1",children:[i.jsx(Xg,{className:"h-4 w-4"}),"Duplicar"]}),i.jsxs("button",{onClick:()=>D(R.id),className:"text-red-600 hover:text-red-800 transition-colors flex items-center gap-1",children:[i.jsx(en,{className:"h-4 w-4"}),"Eliminar"]})]})]})]},R.id))}),g.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Yr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron plantillas"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera plantilla para agilizar el proceso de cotización."}),i.jsx("button",{onClick:()=>c(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Crear Primera Plantilla"})]}),l&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-4xl max-h-screen overflow-y-auto m-4",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:u?"Editar Plantilla":"Nueva Plantilla"}),i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre de la plantilla *"}),i.jsx("input",{type:"text",value:m.nombre,onChange:R=>y(M=>({...M,nombre:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción *"}),i.jsx("input",{type:"text",value:m.descripcion,onChange:R=>y(M=>({...M,descripcion:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h5",{className:"text-md font-semibold text-gray-900",children:"Items de la Plantilla"}),i.jsxs("button",{type:"button",onClick:E,className:"bg-blue-600 text-white px-3 py-1 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-1",children:[i.jsx(cr,{className:"h-4 w-4"}),"Agregar Item"]})]}),i.jsxs("div",{className:"space-y-4",children:[v.map((R,M)=>i.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-4 items-start",children:[i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Producto/Servicio"}),i.jsx("input",{type:"text",value:R.nombre,onChange:P=>T(M,"nombre",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del producto"})]}),i.jsxs("div",{className:"md:col-span-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:R.descripcion,onChange:P=>T(M,"descripcion",P.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Descripción detallada"})]}),i.jsxs("div",{className:"md:col-span-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cantidad"}),i.jsx("input",{type:"number",value:R.cantidad,onChange:P=>T(M,"cantidad",Number(P.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"1",step:"1"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Precio Unitario"}),i.jsx("input",{type:"number",value:R.precioUnitario,onChange:P=>T(M,"precioUnitario",Number(P.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descuento"}),i.jsxs("div",{className:"flex",children:[i.jsx("input",{type:"number",value:R.descuento,onChange:P=>T(M,"descuento",Number(P.target.value)),className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01"}),i.jsxs("select",{value:R.tipoDescuento,onChange:P=>T(M,"tipoDescuento",P.target.value),className:"px-2 py-2 border border-l-0 border-gray-300 rounded-r-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"porcentaje",children:"%"}),i.jsx("option",{value:"monto",children:"$"})]})]})]}),i.jsx("div",{className:"md:col-span-1 flex items-end",children:i.jsx("button",{type:"button",onClick:()=>k(M),className:"p-2 text-red-600 hover:text-red-800 transition-colors",title:"Eliminar item",children:i.jsx(en,{className:"h-4 w-4"})})})]})},M)),v.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Yr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay items agregados"}),i.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Item" para comenzar'})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condiciones de Pago"}),i.jsx("textarea",{value:m.condicionesPago,onChange:R=>y(M=>({...M,condicionesPago:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Ej: 50% anticipo, 50% contra entrega"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas Adicionales"}),i.jsx("textarea",{value:m.notasAdicionales,onChange:R=>y(M=>({...M,notasAdicionales:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"Información adicional"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Términos y Condiciones"}),i.jsx("textarea",{value:m.terminosCondiciones,onChange:R=>y(M=>({...M,terminosCondiciones:R.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Términos y condiciones del servicio"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Métodos de Pago Aceptados"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:["Transferencia bancaria","PayPal","Stripe","Tarjeta de crédito","Efectivo","Cheque"].map(R=>i.jsxs("label",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:m.metodosPago.includes(R),onChange:M=>{M.target.checked?y(P=>({...P,metodosPago:[...P.metodosPago,R]})):y(P=>({...P,metodosPago:P.metodosPago.filter(F=>F!==R)}))},className:"mr-2"}),i.jsx("span",{className:"text-sm",children:R})]},R))})]}),i.jsxs("div",{className:"flex justify-end space-x-2 pt-6 border-t",children:[i.jsx("button",{type:"button",onClick:x,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[u?"Actualizar":"Crear"," Plantilla"]})]})]})]})})]})};function J4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J4(Object(r),!0).forEach(function(n){Us(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gx(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function un(e,t){if(e==null)return{};var r,n,a=gx(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kn(e,t,r){return t=Md(t),iP(e,M5()?Reflect.construct(t,r||[],Md(e).constructor):t.apply(e,r))}function MP(e){if(Array.isArray(e))return e}function rU(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,a=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function AP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(e,t){return MP(e)||rU(e,t)||E5(e,t)||AP()}function LP(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=LP(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Lr(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=LP(e))&&(n&&(n+=" "),n+=t);return n}function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ve.apply(null,arguments)}var nU=function(e,t,r,n,a,s,o,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,s,o,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},aU=nU;const np=Da(aU);var sU=function(){};function iU(e,t){var r={};return Object.keys(e).forEach(function(n){r[sg(n)]=sU}),r}function Z4(e,t){return e[t]!==void 0}function sg(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function oU(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function lU(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,tv(e,t)}function OP(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function TP(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function IP(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}OP.__suppressDeprecationWarning=!0;TP.__suppressDeprecationWarning=!0;IP.__suppressDeprecationWarning=!0;function cU(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,a=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||n!==null||a!==null){var s=e.displayName||e.name,o=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=OP,t.componentWillReceiveProps=TP),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=IP;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}var uU="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function RP(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",a=oU(e),s=Object.keys(t),o=s.map(sg);a||!r.length||np(!1);var l=function(u){lU(d,u);function d(){for(var h,m=arguments.length,y=new Array(m),v=0;v<m;v++)y[v]=arguments[v];h=u.call.apply(u,[this].concat(y))||this,h.handlers=Object.create(null),s.forEach(function(g){var x=t[g],S=function(E){if(h.props[x]){var T;h._notifying=!0;for(var k=arguments.length,D=new Array(k>1?k-1:0),I=1;I<k;I++)D[I-1]=arguments[I];(T=h.props)[x].apply(T,[E].concat(D)),h._notifying=!1}h.unmounted||h.setState(function(R){var M,P=R.values;return{values:Ve(Object.create(null),P,(M={},M[g]=E,M))}})};h.handlers[x]=S}),r.length&&(h.attachRef=function(g){h.inner=g});var w=Object.create(null);return s.forEach(function(g){w[g]=h.props[sg(g)]}),h.state={values:w,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(m,y){var v=y.values,w=y.prevProps,g={values:Ve(Object.create(null),v),prevProps:{}};return s.forEach(function(x){g.prevProps[x]=m[x],!Z4(m,x)&&Z4(w,x)&&(g.values[x]=m[sg(x)])}),g},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var m=this,y=this.props,v=y.innerRef,w=gx(y,["innerRef"]);o.forEach(function(x){delete w[x]});var g={};return s.forEach(function(x){var S=m.props[x];g[x]=S!==void 0?S:m.state.values[x]}),ee.createElement(e,Ve({},w,g,this.handlers,{ref:v||this.attachRef}))},d}(ee.Component);cU(l),l.displayName="Uncontrolled("+n+")",l.propTypes=Ve({innerRef:function(){}},iU(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return ee.forwardRef&&(c=ee.forwardRef(function(u,d){return ee.createElement(l,Ve({},u,{innerRef:d,__source:{fileName:uU,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),RP(u,Ve({},t,d),f)},c}var FP={exports:{}},dU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fU=dU,hU=fU;function $P(){}function UP(){}UP.resetWarningCache=$P;var pU=function(){function e(n,a,s,o,l,c){if(c!==hU){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:UP,resetWarningCache:$P};return r.PropTypes=r,r};FP.exports=pU();var mU=FP.exports;const Oe=Da(mU);var av="milliseconds",ap="seconds",sp="minutes",ip="hours",Bc="day",Ad="week",op="month",Hc="year",Wc="decade",Yc="century",zP={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},gU={month:1,year:12,decade:10*12,century:100*12};function vU(e){return[31,xU(e),31,30,31,30,31,31,30,31,30,31]}function xU(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Gs(e,t,r){switch(e=new Date(e),r){case av:case ap:case sp:case ip:case Bc:case Ad:return yU(e,t*zP[r]);case op:case Hc:case Wc:case Yc:return bU(e,t*gU[r])}throw new TypeError('Invalid units: "'+r+'"')}function yU(e,t){var r=new Date(+e+t);return wU(e,r)}function bU(e,t){var r=e.getFullYear(),n=e.getMonth(),a=e.getDate(),s=r*12+n+t,o=Math.trunc(s/12),l=s%12,c=Math.min(a,vU(o)[l]),u=new Date(e);return u.setFullYear(o),u.setDate(1),u.setMonth(l),u.setDate(c),u}function wU(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),a=n-r;return new Date(+t+a*zP.minutes)}function lp(e,t,r){return Gs(e,-t,r)}function Pn(e,t,r){switch(e=new Date(e),t){case Yc:case Wc:case Hc:e=iv(e,0);case op:e=VP(e,1);case Ad:case Bc:e=dp(e,0);case ip:e=Ld(e,0);case sp:e=up(e,0);case ap:e=cp(e,0)}return t===Wc&&(e=lp(e,Vc(e)%10,"year")),t===Yc&&(e=lp(e,Vc(e)%100,"year")),t===Ad&&(e=qP(e,0,r)),e}function sv(e,t,r){switch(e=new Date(e),e=Pn(e,t,r),t){case Yc:case Wc:case Hc:case op:case Ad:e=Gs(e,1,t),e=lp(e,1,Bc),e.setHours(23,59,59,999);break;case Bc:e.setHours(23,59,59,999);break;case ip:case sp:case ap:e=Gs(e,1,t),e=lp(e,1,av)}return e}var Rp=tf(function(e,t){return e===t}),T5=tf(function(e,t){return e!==t}),vx=tf(function(e,t){return e>t}),Fp=tf(function(e,t){return e>=t}),I5=tf(function(e,t){return e<t}),ef=tf(function(e,t){return e<=t});function BP(){return new Date(Math.min.apply(Math,arguments))}function HP(){return new Date(Math.max.apply(Math,arguments))}function WP(e,t,r,n){return n=n||"day",(!t||Fp(e,t,n))&&(!r||ef(e,r,n))}var cp=Wl("Milliseconds"),up=Wl("Seconds"),Ld=Wl("Minutes"),dp=Wl("Hours"),YP=Wl("Day"),VP=Wl("Date"),iv=Wl("Month"),Vc=Wl("FullYear");function NU(e,t){return t===void 0?Vc(Pn(e,Wc)):Gs(e,t+10,Hc)}function jU(e,t){return t===void 0?Vc(Pn(e,Yc)):Gs(e,t+100,Hc)}function qP(e,t,r){var n=(YP(e)+7-(r||0))%7;return t===void 0?n:Gs(e,t-n,Bc)}function SU(e,t,r,n){var a,s,o;switch(r){case av:case ap:case sp:case ip:case Bc:case Ad:a=t.getTime()-e.getTime();break;case op:case Hc:case Wc:case Yc:a=(Vc(t)-Vc(e))*12+iv(t)-iv(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case av:s=1;break;case ap:s=1e3;break;case sp:s=1e3*60;break;case ip:s=1e3*60*60;break;case Bc:s=1e3*60*60*24;break;case Ad:s=1e3*60*60*24*7;break;case op:s=1;break;case Hc:s=12;break;case Wc:s=120;break;case Yc:s=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return o=a/s,n?o:Math.round(o)}function Wl(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var a=new Date(r);return a["set"+e](n),t&&a["get"+e]()!=n&&(e==="Hours"||n>=t&&a.getHours()-r.getHours()<Math.floor(n/t))&&a["set"+e](n+t),a}}function tf(e){return function(t,r,n){return e(+Pn(t,n),+Pn(r,n))}}const e3=Object.freeze(Object.defineProperty({__proto__:null,add:Gs,century:jU,date:VP,day:YP,decade:NU,diff:SU,endOf:sv,eq:Rp,gt:vx,gte:Fp,hours:dp,inRange:WP,lt:I5,lte:ef,max:HP,milliseconds:cp,min:BP,minutes:Ld,month:iv,neq:T5,seconds:up,startOf:Pn,subtract:lp,weekday:qP,year:Vc},Symbol.toStringTag,{value:"Module"}));function kU(e){if(Array.isArray(e))return _2(e)}function GP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cc(e){return kU(e)||GP(e)||E5(e)||CU()}function DU(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=Array(a);++n<a;)s[n]=e[n+t];return s}var KP=DU;function _U(e,t){return e===t||e!==e&&t!==t}var $p=_U,PU=typeof cs=="object"&&cs&&cs.Object===Object&&cs,XP=PU,EU=XP,MU=typeof self=="object"&&self&&self.Object===Object&&self,AU=EU||MU||Function("return this")(),qi=AU,LU=qi,OU=LU.Symbol,rf=OU,t3=rf,QP=Object.prototype,TU=QP.hasOwnProperty,IU=QP.toString,ah=t3?t3.toStringTag:void 0;function RU(e){var t=TU.call(e,ah),r=e[ah];try{e[ah]=void 0;var n=!0}catch{}var a=IU.call(e);return n&&(t?e[ah]=r:delete e[ah]),a}var FU=RU,$U=Object.prototype,UU=$U.toString;function zU(e){return UU.call(e)}var BU=zU,r3=rf,HU=FU,WU=BU,YU="[object Null]",VU="[object Undefined]",n3=r3?r3.toStringTag:void 0;function qU(e){return e==null?e===void 0?VU:YU:n3&&n3 in Object(e)?HU(e):WU(e)}var nf=qU;function GU(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Uo=GU,KU=nf,XU=Uo,QU="[object AsyncFunction]",JU="[object Function]",ZU="[object GeneratorFunction]",ez="[object Proxy]";function tz(e){if(!XU(e))return!1;var t=KU(e);return t==JU||t==ZU||t==QU||t==ez}var R5=tz,rz=9007199254740991;function nz(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=rz}var F5=nz,az=R5,sz=F5;function iz(e){return e!=null&&sz(e.length)&&!az(e)}var Up=iz,oz=9007199254740991,lz=/^(?:0|[1-9]\d*)$/;function cz(e,t){var r=typeof e;return t=t??oz,!!t&&(r=="number"||r!="symbol"&&lz.test(e))&&e>-1&&e%1==0&&e<t}var $5=cz,uz=$p,dz=Up,fz=$5,hz=Uo;function pz(e,t,r){if(!hz(r))return!1;var n=typeof t;return(n=="number"?dz(r)&&fz(t,r.length):n=="string"&&t in r)?uz(r[t],e):!1}var xx=pz,mz=/\s/;function gz(e){for(var t=e.length;t--&&mz.test(e.charAt(t)););return t}var vz=gz,xz=vz,yz=/^\s+/;function bz(e){return e&&e.slice(0,xz(e)+1).replace(yz,"")}var wz=bz;function Nz(e){return e!=null&&typeof e=="object"}var Yl=Nz,jz=nf,Sz=Yl,kz="[object Symbol]";function Cz(e){return typeof e=="symbol"||Sz(e)&&jz(e)==kz}var zp=Cz,Dz=wz,a3=Uo,_z=zp,s3=NaN,Pz=/^[-+]0x[0-9a-f]+$/i,Ez=/^0b[01]+$/i,Mz=/^0o[0-7]+$/i,Az=parseInt;function Lz(e){if(typeof e=="number")return e;if(_z(e))return s3;if(a3(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=a3(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Dz(e);var r=Ez.test(e);return r||Mz.test(e)?Az(e.slice(2),r?2:8):Pz.test(e)?s3:+e}var Oz=Lz,Tz=Oz,i3=1/0,Iz=17976931348623157e292;function Rz(e){if(!e)return e===0?e:0;if(e=Tz(e),e===i3||e===-i3){var t=e<0?-1:1;return t*Iz}return e===e?e:0}var JP=Rz,Fz=JP;function $z(e){var t=Fz(e),r=t%1;return t===t?r?t-r:t:0}var ZP=$z,Uz=KP,zz=xx,Bz=ZP,Hz=Math.ceil,Wz=Math.max;function Yz(e,t,r){(r?zz(e,t,r):t===void 0)?t=1:t=Wz(Bz(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var a=0,s=0,o=Array(Hz(n/t));a<n;)o[s++]=Uz(e,a,a+=t);return o}var Vz=Yz;const qz=Da(Vz);function Bp(e){return e&&e.ownerDocument||document}function Gz(e){var t=Bp(e);return t&&t.defaultView||window}function Kz(e,t){return Gz(e).getComputedStyle(e,t)}var Xz=/([A-Z])/g;function Qz(e){return e.replace(Xz,"-$1").toLowerCase()}var Jz=/^ms-/;function v0(e){return Qz(e).replace(Jz,"-ms-")}var Zz=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function eB(e){return!!(e&&Zz.test(e))}function Wu(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(v0(t))||Kz(e).getPropertyValue(v0(t));Object.keys(t).forEach(function(a){var s=t[a];!s&&s!==0?e.style.removeProperty(v0(a)):eB(a)?n+=a+"("+s+") ":r+=v0(a)+": "+s+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function fp(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function tB(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function U5(e){return"window"in e&&e.window===e?e:tB(e)&&e.defaultView||!1}function eE(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,a){var s=U5(n);if(a===void 0)return s?s[e]:n[t];s?s.scrollTo(s[e],a):n[t]=a}return r}const tE=eE("pageXOffset"),rE=eE("pageYOffset");function Dc(e){var t=Bp(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!fp(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+rE(n)-(n.clientTop||0),left:r.left+tE(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var rB=function(t){return!!t&&"offsetParent"in t};function nB(e){for(var t=Bp(e),r=e&&e.offsetParent;rB(r)&&r.nodeName!=="HTML"&&Wu(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var aB=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function nE(e,t){var r={top:0,left:0},n;if(Wu(e,"position")==="fixed")n=e.getBoundingClientRect();else{var a=t||nB(e);n=Dc(e),aB(a)!=="html"&&(r=Dc(a));var s=String(Wu(a,"borderTopWidth")||0);r.top+=parseInt(s,10)-rE(a)||0;var o=String(Wu(a,"borderLeftWidth")||0);r.left+=parseInt(o,10)-tE(a)||0}var l=String(Wu(e,"marginTop")||0),c=String(Wu(e,"marginLeft")||0);return Ve({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const z5=!!(typeof window<"u"&&window.document&&window.document.createElement);var o3=new Date().getTime();function sB(e){var t=new Date().getTime(),r=Math.max(0,16-(t-o3)),n=setTimeout(e,r);return o3=t,n}var iB=["","webkit","moz","o","ms"],z2="clearTimeout",B2=sB,l3=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};z5&&iB.some(function(e){var t=l3(e,"request");return t in window&&(z2=l3(e,"cancel"),B2=function(n){return window[t](n)}),!!B2});var c3=function(t){typeof window[z2]=="function"&&window[z2](t)},aE=B2,K1;function oB(e,t){if(!K1){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;K1=function(s,o){return n.call(s,o)}}return K1(e,t)}var lB=Function.prototype.bind.call(Function.prototype.call,[].slice);function cB(e,t){return lB(e.querySelectorAll(t))}var H2=!1,W2=!1;try{var X1={get passive(){return H2=!0},get once(){return W2=H2=!0}};z5&&(window.addEventListener("test",X1,X1),window.removeEventListener("test",X1,!0))}catch{}function uB(e,t,r,n){if(n&&typeof n!="boolean"&&!W2){var a=n.once,s=n.capture,o=r;!W2&&a&&(o=r.__once||function l(c){this.removeEventListener(t,l,s),r.call(this,c)},r.__once=o),e.addEventListener(t,o,H2?n:s)}e.addEventListener(t,r,n)}function dB(e){const t=L.useRef(e);return L.useEffect(()=>{t.current=e},[e]),t}function u3(e){const t=dB(e);return L.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function d3(){return L.useState(null)}function fB(){const e=L.useRef(!0),t=L.useRef(()=>e.current);return L.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function hB(e){const t=fB();return[e[0],L.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var Na="top",ms="bottom",gs="right",ja="left",B5="auto",Hp=[Na,ms,gs,ja],Od="start",hp="end",pB="clippingParents",sE="viewport",sh="popper",mB="reference",f3=Hp.reduce(function(e,t){return e.concat([t+"-"+Od,t+"-"+hp])},[]),H5=[].concat(Hp,[B5]).reduce(function(e,t){return e.concat([t,t+"-"+Od,t+"-"+hp])},[]),gB="beforeRead",vB="read",xB="afterRead",yB="beforeMain",bB="main",wB="afterMain",NB="beforeWrite",jB="write",SB="afterWrite",kB=[gB,vB,xB,yB,bB,wB,NB,jB,SB];function Ti(e){return e.split("-")[0]}function Ba(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function qc(e){var t=Ba(e).Element;return e instanceof t||e instanceof Element}function Ii(e){var t=Ba(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function W5(e){if(typeof ShadowRoot>"u")return!1;var t=Ba(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var _c=Math.max,ov=Math.min,Td=Math.round;function Y2(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function iE(){return!/^((?!chrome|android).)*safari/i.test(Y2())}function Id(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),a=1,s=1;t&&Ii(e)&&(a=e.offsetWidth>0&&Td(n.width)/e.offsetWidth||1,s=e.offsetHeight>0&&Td(n.height)/e.offsetHeight||1);var o=qc(e)?Ba(e):window,l=o.visualViewport,c=!iE()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/a,d=(n.top+(c&&l?l.offsetTop:0))/s,f=n.width/a,h=n.height/s;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Y5(e){var t=Id(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function oE(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&W5(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Tl(e){return e?(e.nodeName||"").toLowerCase():null}function Oo(e){return Ba(e).getComputedStyle(e)}function CB(e){return["table","td","th"].indexOf(Tl(e))>=0}function Vl(e){return((qc(e)?e.ownerDocument:e.document)||window.document).documentElement}function yx(e){return Tl(e)==="html"?e:e.assignedSlot||e.parentNode||(W5(e)?e.host:null)||Vl(e)}function h3(e){return!Ii(e)||Oo(e).position==="fixed"?null:e.offsetParent}function DB(e){var t=/firefox/i.test(Y2()),r=/Trident/i.test(Y2());if(r&&Ii(e)){var n=Oo(e);if(n.position==="fixed")return null}var a=yx(e);for(W5(a)&&(a=a.host);Ii(a)&&["html","body"].indexOf(Tl(a))<0;){var s=Oo(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function Wp(e){for(var t=Ba(e),r=h3(e);r&&CB(r)&&Oo(r).position==="static";)r=h3(r);return r&&(Tl(r)==="html"||Tl(r)==="body"&&Oo(r).position==="static")?t:r||DB(e)||t}function V5(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Lh(e,t,r){return _c(e,ov(t,r))}function _B(e,t,r){var n=Lh(e,t,r);return n>r?r:n}function lE(){return{top:0,right:0,bottom:0,left:0}}function cE(e){return Object.assign({},lE(),e)}function uE(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var PB=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,cE(typeof t!="number"?t:uE(t,Hp))};function EB(e){var t,r=e.state,n=e.name,a=e.options,s=r.elements.arrow,o=r.modifiersData.popperOffsets,l=Ti(r.placement),c=V5(l),u=[ja,gs].indexOf(l)>=0,d=u?"height":"width";if(!(!s||!o)){var f=PB(a.padding,r),h=Y5(s),m=c==="y"?Na:ja,y=c==="y"?ms:gs,v=r.rects.reference[d]+r.rects.reference[c]-o[c]-r.rects.popper[d],w=o[c]-r.rects.reference[c],g=Wp(s),x=g?c==="y"?g.clientHeight||0:g.clientWidth||0:0,S=v/2-w/2,j=f[m],E=x-h[d]-f[y],T=x/2-h[d]/2+S,k=Lh(j,T,E),D=c;r.modifiersData[n]=(t={},t[D]=k,t.centerOffset=k-T,t)}}function MB(e){var t=e.state,r=e.options,n=r.element,a=n===void 0?"[data-popper-arrow]":n;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||oE(t.elements.popper,a)&&(t.elements.arrow=a))}const AB={name:"arrow",enabled:!0,phase:"main",fn:EB,effect:MB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Rd(e){return e.split("-")[1]}var LB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function OB(e,t){var r=e.x,n=e.y,a=t.devicePixelRatio||1;return{x:Td(r*a)/a||0,y:Td(n*a)/a||0}}function p3(e){var t,r=e.popper,n=e.popperRect,a=e.placement,s=e.variation,o=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=o.x,m=h===void 0?0:h,y=o.y,v=y===void 0?0:y,w=typeof d=="function"?d({x:m,y:v}):{x:m,y:v};m=w.x,v=w.y;var g=o.hasOwnProperty("x"),x=o.hasOwnProperty("y"),S=ja,j=Na,E=window;if(u){var T=Wp(r),k="clientHeight",D="clientWidth";if(T===Ba(r)&&(T=Vl(r),Oo(T).position!=="static"&&l==="absolute"&&(k="scrollHeight",D="scrollWidth")),T=T,a===Na||(a===ja||a===gs)&&s===hp){j=ms;var I=f&&T===E&&E.visualViewport?E.visualViewport.height:T[k];v-=I-n.height,v*=c?1:-1}if(a===ja||(a===Na||a===ms)&&s===hp){S=gs;var R=f&&T===E&&E.visualViewport?E.visualViewport.width:T[D];m-=R-n.width,m*=c?1:-1}}var M=Object.assign({position:l},u&&LB),P=d===!0?OB({x:m,y:v},Ba(r)):{x:m,y:v};if(m=P.x,v=P.y,c){var F;return Object.assign({},M,(F={},F[j]=x?"0":"",F[S]=g?"0":"",F.transform=(E.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",F))}return Object.assign({},M,(t={},t[j]=x?v+"px":"",t[S]=g?m+"px":"",t.transform="",t))}function TB(e){var t=e.state,r=e.options,n=r.gpuAcceleration,a=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:Ti(t.placement),variation:Rd(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,p3(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,p3(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const IB={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TB,data:{}};var x0={passive:!0};function RB(e){var t=e.state,r=e.instance,n=e.options,a=n.scroll,s=a===void 0?!0:a,o=n.resize,l=o===void 0?!0:o,c=Ba(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",r.update,x0)}),l&&c.addEventListener("resize",r.update,x0),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",r.update,x0)}),l&&c.removeEventListener("resize",r.update,x0)}}const FB={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:RB,data:{}};var $B={left:"right",right:"left",bottom:"top",top:"bottom"};function ig(e){return e.replace(/left|right|bottom|top/g,function(t){return $B[t]})}var UB={start:"end",end:"start"};function m3(e){return e.replace(/start|end/g,function(t){return UB[t]})}function q5(e){var t=Ba(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function G5(e){return Id(Vl(e)).left+q5(e).scrollLeft}function zB(e,t){var r=Ba(e),n=Vl(e),a=r.visualViewport,s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;var u=iE();(u||!u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l+G5(e),y:c}}function BB(e){var t,r=Vl(e),n=q5(e),a=(t=e.ownerDocument)==null?void 0:t.body,s=_c(r.scrollWidth,r.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=_c(r.scrollHeight,r.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+G5(e),c=-n.scrollTop;return Oo(a||r).direction==="rtl"&&(l+=_c(r.clientWidth,a?a.clientWidth:0)-s),{width:s,height:o,x:l,y:c}}function K5(e){var t=Oo(e),r=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+a+n)}function dE(e){return["html","body","#document"].indexOf(Tl(e))>=0?e.ownerDocument.body:Ii(e)&&K5(e)?e:dE(yx(e))}function Oh(e,t){var r;t===void 0&&(t=[]);var n=dE(e),a=n===((r=e.ownerDocument)==null?void 0:r.body),s=Ba(n),o=a?[s].concat(s.visualViewport||[],K5(n)?n:[]):n,l=t.concat(o);return a?l:l.concat(Oh(yx(o)))}function V2(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function HB(e,t){var r=Id(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function g3(e,t,r){return t===sE?V2(zB(e,r)):qc(t)?HB(t,r):V2(BB(Vl(e)))}function WB(e){var t=Oh(yx(e)),r=["absolute","fixed"].indexOf(Oo(e).position)>=0,n=r&&Ii(e)?Wp(e):e;return qc(n)?t.filter(function(a){return qc(a)&&oE(a,n)&&Tl(a)!=="body"}):[]}function YB(e,t,r,n){var a=t==="clippingParents"?WB(e):[].concat(t),s=[].concat(a,[r]),o=s[0],l=s.reduce(function(c,u){var d=g3(e,u,n);return c.top=_c(d.top,c.top),c.right=ov(d.right,c.right),c.bottom=ov(d.bottom,c.bottom),c.left=_c(d.left,c.left),c},g3(e,o,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function fE(e){var t=e.reference,r=e.element,n=e.placement,a=n?Ti(n):null,s=n?Rd(n):null,o=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(a){case Na:c={x:o,y:t.y-r.height};break;case ms:c={x:o,y:t.y+t.height};break;case gs:c={x:t.x+t.width,y:l};break;case ja:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=a?V5(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case Od:c[u]=c[u]-(t[d]/2-r[d]/2);break;case hp:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function pp(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=n===void 0?e.placement:n,s=r.strategy,o=s===void 0?e.strategy:s,l=r.boundary,c=l===void 0?pB:l,u=r.rootBoundary,d=u===void 0?sE:u,f=r.elementContext,h=f===void 0?sh:f,m=r.altBoundary,y=m===void 0?!1:m,v=r.padding,w=v===void 0?0:v,g=cE(typeof w!="number"?w:uE(w,Hp)),x=h===sh?mB:sh,S=e.rects.popper,j=e.elements[y?x:h],E=YB(qc(j)?j:j.contextElement||Vl(e.elements.popper),c,d,o),T=Id(e.elements.reference),k=fE({reference:T,element:S,strategy:"absolute",placement:a}),D=V2(Object.assign({},S,k)),I=h===sh?D:T,R={top:E.top-I.top+g.top,bottom:I.bottom-E.bottom+g.bottom,left:E.left-I.left+g.left,right:I.right-E.right+g.right},M=e.modifiersData.offset;if(h===sh&&M){var P=M[a];Object.keys(R).forEach(function(F){var O=[gs,ms].indexOf(F)>=0?1:-1,U=[Na,ms].indexOf(F)>=0?"y":"x";R[F]+=P[U]*O})}return R}function VB(e,t){t===void 0&&(t={});var r=t,n=r.placement,a=r.boundary,s=r.rootBoundary,o=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?H5:c,d=Rd(n),f=d?l?f3:f3.filter(function(y){return Rd(y)===d}):Hp,h=f.filter(function(y){return u.indexOf(y)>=0});h.length===0&&(h=f);var m=h.reduce(function(y,v){return y[v]=pp(e,{placement:v,boundary:a,rootBoundary:s,padding:o})[Ti(v)],y},{});return Object.keys(m).sort(function(y,v){return m[y]-m[v]})}function qB(e){if(Ti(e)===B5)return[];var t=ig(e);return[m3(e),t,m3(t)]}function GB(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=r.mainAxis,s=a===void 0?!0:a,o=r.altAxis,l=o===void 0?!0:o,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,m=r.flipVariations,y=m===void 0?!0:m,v=r.allowedAutoPlacements,w=t.options.placement,g=Ti(w),x=g===w,S=c||(x||!y?[ig(w)]:qB(w)),j=[w].concat(S).reduce(function(Y,W){return Y.concat(Ti(W)===B5?VB(t,{placement:W,boundary:d,rootBoundary:f,padding:u,flipVariations:y,allowedAutoPlacements:v}):W)},[]),E=t.rects.reference,T=t.rects.popper,k=new Map,D=!0,I=j[0],R=0;R<j.length;R++){var M=j[R],P=Ti(M),F=Rd(M)===Od,O=[Na,ms].indexOf(P)>=0,U=O?"width":"height",z=pp(t,{placement:M,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),V=O?F?gs:ja:F?ms:Na;E[U]>T[U]&&(V=ig(V));var q=ig(V),re=[];if(s&&re.push(z[P]<=0),l&&re.push(z[V]<=0,z[q]<=0),re.every(function(Y){return Y})){I=M,D=!1;break}k.set(M,re)}if(D)for(var oe=y?3:1,le=function(W){var X=j.find(function(Z){var ne=k.get(Z);if(ne)return ne.slice(0,W).every(function(ie){return ie})});if(X)return I=X,"break"},_=oe;_>0;_--){var $=le(_);if($==="break")break}t.placement!==I&&(t.modifiersData[n]._skip=!0,t.placement=I,t.reset=!0)}}const KB={name:"flip",enabled:!0,phase:"main",fn:GB,requiresIfExists:["offset"],data:{_skip:!1}};function v3(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function x3(e){return[Na,gs,ms,ja].some(function(t){return e[t]>=0})}function XB(e){var t=e.state,r=e.name,n=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,o=pp(t,{elementContext:"reference"}),l=pp(t,{altBoundary:!0}),c=v3(o,n),u=v3(l,a,s),d=x3(c),f=x3(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const QB={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:XB};function JB(e,t,r){var n=Ti(e),a=[ja,Na].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,o=s[0],l=s[1];return o=o||0,l=(l||0)*a,[ja,gs].indexOf(n)>=0?{x:l,y:o}:{x:o,y:l}}function ZB(e){var t=e.state,r=e.options,n=e.name,a=r.offset,s=a===void 0?[0,0]:a,o=H5.reduce(function(d,f){return d[f]=JB(f,t.rects,s),d},{}),l=o[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=o}const eH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ZB};function tH(e){var t=e.state,r=e.name;t.modifiersData[r]=fE({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const rH={name:"popperOffsets",enabled:!0,phase:"read",fn:tH,data:{}};function nH(e){return e==="x"?"y":"x"}function aH(e){var t=e.state,r=e.options,n=e.name,a=r.mainAxis,s=a===void 0?!0:a,o=r.altAxis,l=o===void 0?!1:o,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,m=h===void 0?!0:h,y=r.tetherOffset,v=y===void 0?0:y,w=pp(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),g=Ti(t.placement),x=Rd(t.placement),S=!x,j=V5(g),E=nH(j),T=t.modifiersData.popperOffsets,k=t.rects.reference,D=t.rects.popper,I=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,R=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),M=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(T){if(s){var F,O=j==="y"?Na:ja,U=j==="y"?ms:gs,z=j==="y"?"height":"width",V=T[j],q=V+w[O],re=V-w[U],oe=m?-D[z]/2:0,le=x===Od?k[z]:D[z],_=x===Od?-D[z]:-k[z],$=t.elements.arrow,Y=m&&$?Y5($):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:lE(),X=W[O],Z=W[U],ne=Lh(0,k[z],Y[z]),ie=S?k[z]/2-oe-ne-X-R.mainAxis:le-ne-X-R.mainAxis,me=S?-k[z]/2+oe+ne+Z+R.mainAxis:_+ne+Z+R.mainAxis,xe=t.elements.arrow&&Wp(t.elements.arrow),De=xe?j==="y"?xe.clientTop||0:xe.clientLeft||0:0,Ee=(F=M==null?void 0:M[j])!=null?F:0,Ze=V+ie-Ee-De,we=V+me-Ee,ae=Lh(m?ov(q,Ze):q,V,m?_c(re,we):re);T[j]=ae,P[j]=ae-V}if(l){var Je,qe=j==="x"?Na:ja,Pe=j==="x"?ms:gs,Le=T[E],$e=E==="y"?"height":"width",Fe=Le+w[qe],tt=Le-w[Pe],ut=[Na,ja].indexOf(g)!==-1,ht=(Je=M==null?void 0:M[E])!=null?Je:0,bt=ut?Fe:Le-k[$e]-D[$e]-ht+R.altAxis,Ct=ut?Le+k[$e]+D[$e]-ht-R.altAxis:tt,Ft=m&&ut?_B(bt,Le,Ct):Lh(m?bt:Fe,Le,m?Ct:tt);T[E]=Ft,P[E]=Ft-Le}t.modifiersData[n]=P}}const sH={name:"preventOverflow",enabled:!0,phase:"main",fn:aH,requiresIfExists:["offset"]};function iH(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function oH(e){return e===Ba(e)||!Ii(e)?q5(e):iH(e)}function lH(e){var t=e.getBoundingClientRect(),r=Td(t.width)/e.offsetWidth||1,n=Td(t.height)/e.offsetHeight||1;return r!==1||n!==1}function cH(e,t,r){r===void 0&&(r=!1);var n=Ii(t),a=Ii(t)&&lH(t),s=Vl(t),o=Id(e,a,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Tl(t)!=="body"||K5(s))&&(l=oH(t)),Ii(t)?(c=Id(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=G5(s))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function uH(e){var t=new Map,r=new Set,n=[];e.forEach(function(s){t.set(s.name,s)});function a(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&a(c)}}),n.push(s)}return e.forEach(function(s){r.has(s.name)||a(s)}),n}function dH(e){var t=uH(e);return kB.reduce(function(r,n){return r.concat(t.filter(function(a){return a.phase===n}))},[])}function fH(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function hH(e){var t=e.reduce(function(r,n){var a=r[n.name];return r[n.name]=a?Object.assign({},a,n,{options:Object.assign({},a.options,n.options),data:Object.assign({},a.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var y3={placement:"bottom",modifiers:[],strategy:"absolute"};function b3(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function pH(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,a=t.defaultOptions,s=a===void 0?y3:a;return function(l,c,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},y3,s),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,m={state:d,setOptions:function(g){var x=typeof g=="function"?g(d.options):g;v(),d.options=Object.assign({},s,d.options,x),d.scrollParents={reference:qc(l)?Oh(l):l.contextElement?Oh(l.contextElement):[],popper:Oh(c)};var S=dH(hH([].concat(n,d.options.modifiers)));return d.orderedModifiers=S.filter(function(j){return j.enabled}),y(),m.update()},forceUpdate:function(){if(!h){var g=d.elements,x=g.reference,S=g.popper;if(b3(x,S)){d.rects={reference:cH(x,Wp(S),d.options.strategy==="fixed"),popper:Y5(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(R){return d.modifiersData[R.name]=Object.assign({},R.data)});for(var j=0;j<d.orderedModifiers.length;j++){if(d.reset===!0){d.reset=!1,j=-1;continue}var E=d.orderedModifiers[j],T=E.fn,k=E.options,D=k===void 0?{}:k,I=E.name;typeof T=="function"&&(d=T({state:d,options:D,name:I,instance:m})||d)}}}},update:fH(function(){return new Promise(function(w){m.forceUpdate(),w(d)})}),destroy:function(){v(),h=!0}};if(!b3(l,c))return m;m.setOptions(u).then(function(w){!h&&u.onFirstUpdate&&u.onFirstUpdate(w)});function y(){d.orderedModifiers.forEach(function(w){var g=w.name,x=w.options,S=x===void 0?{}:x,j=w.effect;if(typeof j=="function"){var E=j({state:d,name:g,instance:m,options:S}),T=function(){};f.push(E||T)}})}function v(){f.forEach(function(w){return w()}),f=[]}return m}}var mH=pH({defaultModifiers:[QB,rH,IB,FB,eH,KB,sH,AB]}),w3=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},gH={name:"applyStyles",enabled:!1},vH={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,a=n.reference,s=n.popper;if("removeAttribute"in a){var o=(a.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==s.id});o.length?a.setAttribute("aria-describedby",o.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,a=n.elements,s=a.popper,o=a.reference,l=(r=s.getAttribute("role"))==null?void 0:r.toLowerCase();if(s.id&&l==="tooltip"&&"setAttribute"in o){var c=o.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",c?c+","+s.id:s.id)}}},xH=[];function yH(e,t,r){var n=r===void 0?{}:r,a=n.enabled,s=a===void 0?!0:a,o=n.placement,l=o===void 0?"bottom":o,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?xH:d,h=gx(n,["enabled","placement","strategy","modifiers"]),m=L.useRef(),y=L.useCallback(function(){var j;(j=m.current)==null||j.update()},[]),v=L.useCallback(function(){var j;(j=m.current)==null||j.forceUpdate()},[]),w=hB(L.useState({placement:l,update:y,forceUpdate:v,attributes:{},styles:{popper:w3(u),arrow:{}}})),g=w[0],x=w[1],S=L.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(E){var T=E.state,k={},D={};Object.keys(T.elements).forEach(function(I){k[I]=T.styles[I],D[I]=T.attributes[I]}),x({state:T,styles:k,attributes:D,update:y,forceUpdate:v,placement:T.placement})}}},[y,v,x]);return L.useEffect(function(){!m.current||!s||m.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[S,gH])})},[u,l,S,s]),L.useEffect(function(){if(!(!s||e==null||t==null))return m.current=mH(e,t,Ve({},h,{placement:l,strategy:u,modifiers:[].concat(f,[vH,S])})),function(){m.current!=null&&(m.current.destroy(),m.current=void 0,x(function(j){return Ve({},j,{attributes:{},styles:{popper:w3(u)}})}))}},[s,e,t]),g}function bH(e,t,r,n){var a=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,a),r.__once&&e.removeEventListener(t,r.__once,a)}function bh(e,t,r,n){return uB(e,t,r,n),function(){bH(e,t,r,n)}}var wH=function(){},NH=wH;const jH=Da(NH);function SH(e){return e&&"setState"in e?g5.findDOMNode(e):e??null}const kH=function(e){return Bp(SH(e))};var CH=27,N3=function(){};function DH(e){return e.button===0}function _H(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var j3=function(t){return t&&("current"in t?t.current:t)};function PH(e,t,r){var n=r===void 0?{}:r,a=n.disabled,s=n.clickTrigger,o=s===void 0?"click":s,l=L.useRef(!1),c=t||N3,u=L.useCallback(function(h){var m,y=j3(e);jH(!!y,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!y||_H(h)||!DH(h)||!!fp(y,(m=h.composedPath==null?void 0:h.composedPath()[0])!=null?m:h.target)},[e]),d=u3(function(h){l.current||c(h)}),f=u3(function(h){h.keyCode===CH&&c(h)});L.useEffect(function(){if(!(a||e==null)){var h=window.event,m=kH(j3(e)),y=bh(m,o,u,!0),v=bh(m,o,function(x){if(x===h){h=void 0;return}d(x)}),w=bh(m,"keyup",function(x){if(x===h){h=void 0;return}f(x)}),g=[];return"ontouchstart"in m.documentElement&&(g=[].slice.call(m.body.children).map(function(x){return bh(x,"mousemove",N3)})),function(){y(),v(),w(),g.forEach(function(x){return x()})}}},[e,a,o,u,d,f])}function EH(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function MH(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function AH(e){var t,r,n,a,s=e.enabled,o=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,h=e.arrowElement,m=e.popperConfig,y=m===void 0?{}:m,v=EH(y.modifiers);return Ve({},y,{placement:l,enabled:s,strategy:d?"fixed":y.strategy,modifiers:MH(Ve({},v,{eventListeners:{enabled:o},preventOverflow:Ve({},v.preventOverflow,{options:f?Ve({padding:f},(t=v.preventOverflow)==null?void 0:t.options):(r=v.preventOverflow)==null?void 0:r.options}),offset:{options:Ve({offset:u},(n=v.offset)==null?void 0:n.options)},arrow:Ve({},v.arrow,{enabled:!!h,options:Ve({},(a=v.arrow)==null?void 0:a.options,{element:h})}),flip:Ve({enabled:!!c},v.flip)}))})}function LH(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function OH(e,t){e.classList?e.classList.add(t):LH(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function S3(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function TH(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=S3(e.className,t):e.setAttribute("class",S3(e.className&&e.className.baseVal||"",t))}var y0;function X5(e){if((!y0&&y0!==0||e)&&z5){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),y0=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return y0}var Q1=function(t){var r;return typeof document>"u"?null:t==null?Bp().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function k3(e,t){var r=L.useState(function(){return Q1(e)}),n=r[0],a=r[1];if(!n){var s=Q1(e);s&&a(s)}return L.useEffect(function(){},[t,n]),L.useEffect(function(){var o=Q1(e);o!==n&&a(o)},[e,n]),n}const C3=e=>!e||typeof e=="function"?e:t=>{e.current=t};function IH(e,t){const r=C3(e),n=C3(t);return a=>{r&&r(a),n&&n(a)}}function RH(e,t){return L.useMemo(()=>IH(e,t),[e,t])}var Q5=ee.forwardRef(function(e,t){var r=e.flip,n=e.offset,a=e.placement,s=e.containerPadding,o=s===void 0?5:s,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=d3(),f=d[0],h=d[1],m=d3(),y=m[0],v=m[1],w=RH(h,t),g=k3(e.container),x=k3(e.target),S=L.useState(!e.show),j=S[0],E=S[1],T=yH(x,f,AH({placement:a,enableEvents:!!e.show,containerPadding:o||5,flip:r,offset:n,arrowElement:y,popperConfig:c})),k=T.styles,D=T.attributes,I=gx(T,["styles","attributes"]);e.show?j&&E(!1):!e.transition&&!j&&E(!0);var R=function(){E(!0),e.onExited&&e.onExited.apply(e,arguments)},M=e.show||u&&!j;if(PH(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!M)return null;var P=e.children(Ve({},I,{show:!!e.show,props:Ve({},D.popper,{style:k.popper,ref:w}),arrowProps:Ve({},D.arrow,{style:k.arrow,ref:v})}));if(u){var F=e.onExit,O=e.onExiting,U=e.onEnter,z=e.onEntering,V=e.onEntered;P=ee.createElement(u,{in:e.show,appear:!0,onExit:F,onExiting:O,onExited:R,onEnter:U,onEntering:z,onEntered:V},P)}return g?g5.createPortal(P,g):null});Q5.displayName="Overlay";Q5.propTypes={show:Oe.bool,placement:Oe.oneOf(H5),target:Oe.any,container:Oe.any,flip:Oe.bool,children:Oe.func.isRequired,containerPadding:Oe.number,popperConfig:Oe.object,rootClose:Oe.bool,rootCloseEvent:Oe.oneOf(["click","mousedown"]),rootCloseDisabled:Oe.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];if(t.rootClose){var s;return(s=Oe.func).isRequired.apply(s,[t].concat(n))}return Oe.func.apply(Oe,[t].concat(n))},transition:Oe.elementType,onEnter:Oe.func,onEntering:Oe.func,onEntered:Oe.func,onExit:Oe.func,onExiting:Oe.func,onExited:Oe.func};function FH(){this.__data__=[],this.size=0}var $H=FH,UH=$p;function zH(e,t){for(var r=e.length;r--;)if(UH(e[r][0],t))return r;return-1}var bx=zH,BH=bx,HH=Array.prototype,WH=HH.splice;function YH(e){var t=this.__data__,r=BH(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():WH.call(t,r,1),--this.size,!0}var VH=YH,qH=bx;function GH(e){var t=this.__data__,r=qH(t,e);return r<0?void 0:t[r][1]}var KH=GH,XH=bx;function QH(e){return XH(this.__data__,e)>-1}var JH=QH,ZH=bx;function eW(e,t){var r=this.__data__,n=ZH(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var tW=eW,rW=$H,nW=VH,aW=KH,sW=JH,iW=tW;function af(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}af.prototype.clear=rW;af.prototype.delete=nW;af.prototype.get=aW;af.prototype.has=sW;af.prototype.set=iW;var wx=af,oW=wx;function lW(){this.__data__=new oW,this.size=0}var cW=lW;function uW(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var dW=uW;function fW(e){return this.__data__.get(e)}var hW=fW;function pW(e){return this.__data__.has(e)}var mW=pW,gW=qi,vW=gW["__core-js_shared__"],xW=vW,J1=xW,D3=function(){var e=/[^.]+$/.exec(J1&&J1.keys&&J1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yW(e){return!!D3&&D3 in e}var bW=yW,wW=Function.prototype,NW=wW.toString;function jW(e){if(e!=null){try{return NW.call(e)}catch{}try{return e+""}catch{}}return""}var hE=jW,SW=R5,kW=bW,CW=Uo,DW=hE,_W=/[\\^$.*+?()[\]{}|]/g,PW=/^\[object .+?Constructor\]$/,EW=Function.prototype,MW=Object.prototype,AW=EW.toString,LW=MW.hasOwnProperty,OW=RegExp("^"+AW.call(LW).replace(_W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function TW(e){if(!CW(e)||kW(e))return!1;var t=SW(e)?OW:PW;return t.test(DW(e))}var IW=TW;function RW(e,t){return e==null?void 0:e[t]}var FW=RW,$W=IW,UW=FW;function zW(e,t){var r=UW(e,t);return $W(r)?r:void 0}var nu=zW,BW=nu,HW=qi,WW=BW(HW,"Map"),J5=WW,YW=nu,VW=YW(Object,"create"),Nx=VW,_3=Nx;function qW(){this.__data__=_3?_3(null):{},this.size=0}var GW=qW;function KW(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var XW=KW,QW=Nx,JW="__lodash_hash_undefined__",ZW=Object.prototype,eY=ZW.hasOwnProperty;function tY(e){var t=this.__data__;if(QW){var r=t[e];return r===JW?void 0:r}return eY.call(t,e)?t[e]:void 0}var rY=tY,nY=Nx,aY=Object.prototype,sY=aY.hasOwnProperty;function iY(e){var t=this.__data__;return nY?t[e]!==void 0:sY.call(t,e)}var oY=iY,lY=Nx,cY="__lodash_hash_undefined__";function uY(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=lY&&t===void 0?cY:t,this}var dY=uY,fY=GW,hY=XW,pY=rY,mY=oY,gY=dY;function sf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}sf.prototype.clear=fY;sf.prototype.delete=hY;sf.prototype.get=pY;sf.prototype.has=mY;sf.prototype.set=gY;var vY=sf,P3=vY,xY=wx,yY=J5;function bY(){this.size=0,this.__data__={hash:new P3,map:new(yY||xY),string:new P3}}var wY=bY;function NY(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var jY=NY,SY=jY;function kY(e,t){var r=e.__data__;return SY(t)?r[typeof t=="string"?"string":"hash"]:r.map}var jx=kY,CY=jx;function DY(e){var t=CY(this,e).delete(e);return this.size-=t?1:0,t}var _Y=DY,PY=jx;function EY(e){return PY(this,e).get(e)}var MY=EY,AY=jx;function LY(e){return AY(this,e).has(e)}var OY=LY,TY=jx;function IY(e,t){var r=TY(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var RY=IY,FY=wY,$Y=_Y,UY=MY,zY=OY,BY=RY;function of(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}of.prototype.clear=FY;of.prototype.delete=$Y;of.prototype.get=UY;of.prototype.has=zY;of.prototype.set=BY;var Z5=of,HY=wx,WY=J5,YY=Z5,VY=200;function qY(e,t){var r=this.__data__;if(r instanceof HY){var n=r.__data__;if(!WY||n.length<VY-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new YY(n)}return r.set(e,t),this.size=r.size,this}var GY=qY,KY=wx,XY=cW,QY=dW,JY=hW,ZY=mW,eV=GY;function lf(e){var t=this.__data__=new KY(e);this.size=t.size}lf.prototype.clear=XY;lf.prototype.delete=QY;lf.prototype.get=JY;lf.prototype.has=ZY;lf.prototype.set=eV;var eN=lf,tV="__lodash_hash_undefined__";function rV(e){return this.__data__.set(e,tV),this}var nV=rV;function aV(e){return this.__data__.has(e)}var sV=aV,iV=Z5,oV=nV,lV=sV;function lv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new iV;++t<r;)this.add(e[t])}lv.prototype.add=lv.prototype.push=oV;lv.prototype.has=lV;var cV=lv;function uV(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var dV=uV;function fV(e,t){return e.has(t)}var hV=fV,pV=cV,mV=dV,gV=hV,vV=1,xV=2;function yV(e,t,r,n,a,s){var o=r&vV,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=s.get(e),d=s.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&xV?new pV:void 0;for(s.set(e,t),s.set(t,e);++f<l;){var y=e[f],v=t[f];if(n)var w=o?n(v,y,f,t,e,s):n(y,v,f,e,t,s);if(w!==void 0){if(w)continue;h=!1;break}if(m){if(!mV(t,function(g,x){if(!gV(m,x)&&(y===g||a(y,g,r,n,s)))return m.push(x)})){h=!1;break}}else if(!(y===v||a(y,v,r,n,s))){h=!1;break}}return s.delete(e),s.delete(t),h}var pE=yV,bV=qi,wV=bV.Uint8Array,mE=wV;function NV(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var jV=NV;function SV(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var kV=SV,E3=rf,M3=mE,CV=$p,DV=pE,_V=jV,PV=kV,EV=1,MV=2,AV="[object Boolean]",LV="[object Date]",OV="[object Error]",TV="[object Map]",IV="[object Number]",RV="[object RegExp]",FV="[object Set]",$V="[object String]",UV="[object Symbol]",zV="[object ArrayBuffer]",BV="[object DataView]",A3=E3?E3.prototype:void 0,Z1=A3?A3.valueOf:void 0;function HV(e,t,r,n,a,s,o){switch(r){case BV:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zV:return!(e.byteLength!=t.byteLength||!s(new M3(e),new M3(t)));case AV:case LV:case IV:return CV(+e,+t);case OV:return e.name==t.name&&e.message==t.message;case RV:case $V:return e==t+"";case TV:var l=_V;case FV:var c=n&EV;if(l||(l=PV),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=MV,o.set(e,t);var d=DV(l(e),l(t),n,a,s,o);return o.delete(e),d;case UV:if(Z1)return Z1.call(e)==Z1.call(t)}return!1}var WV=HV;function YV(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var tN=YV,VV=Array.isArray,xs=VV,qV=tN,GV=xs;function KV(e,t,r){var n=t(e);return GV(e)?n:qV(n,r(e))}var gE=KV;function XV(e,t){for(var r=-1,n=e==null?0:e.length,a=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[a++]=o)}return s}var QV=XV;function JV(){return[]}var vE=JV,ZV=QV,eq=vE,tq=Object.prototype,rq=tq.propertyIsEnumerable,L3=Object.getOwnPropertySymbols,nq=L3?function(e){return e==null?[]:(e=Object(e),ZV(L3(e),function(t){return rq.call(e,t)}))}:eq,rN=nq;function aq(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var sq=aq,iq=nf,oq=Yl,lq="[object Arguments]";function cq(e){return oq(e)&&iq(e)==lq}var uq=cq,O3=uq,dq=Yl,xE=Object.prototype,fq=xE.hasOwnProperty,hq=xE.propertyIsEnumerable,pq=O3(function(){return arguments}())?O3:function(e){return dq(e)&&fq.call(e,"callee")&&!hq.call(e,"callee")},nN=pq,cv={exports:{}};function mq(){return!1}var gq=mq;cv.exports;(function(e,t){var r=qi,n=gq,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(cv,cv.exports);var Sx=cv.exports,vq=nf,xq=F5,yq=Yl,bq="[object Arguments]",wq="[object Array]",Nq="[object Boolean]",jq="[object Date]",Sq="[object Error]",kq="[object Function]",Cq="[object Map]",Dq="[object Number]",_q="[object Object]",Pq="[object RegExp]",Eq="[object Set]",Mq="[object String]",Aq="[object WeakMap]",Lq="[object ArrayBuffer]",Oq="[object DataView]",Tq="[object Float32Array]",Iq="[object Float64Array]",Rq="[object Int8Array]",Fq="[object Int16Array]",$q="[object Int32Array]",Uq="[object Uint8Array]",zq="[object Uint8ClampedArray]",Bq="[object Uint16Array]",Hq="[object Uint32Array]",dr={};dr[Tq]=dr[Iq]=dr[Rq]=dr[Fq]=dr[$q]=dr[Uq]=dr[zq]=dr[Bq]=dr[Hq]=!0;dr[bq]=dr[wq]=dr[Lq]=dr[Nq]=dr[Oq]=dr[jq]=dr[Sq]=dr[kq]=dr[Cq]=dr[Dq]=dr[_q]=dr[Pq]=dr[Eq]=dr[Mq]=dr[Aq]=!1;function Wq(e){return yq(e)&&xq(e.length)&&!!dr[vq(e)]}var Yq=Wq;function Vq(e){return function(t){return e(t)}}var kx=Vq,uv={exports:{}};uv.exports;(function(e,t){var r=XP,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(uv,uv.exports);var aN=uv.exports,qq=Yq,Gq=kx,T3=aN,I3=T3&&T3.isTypedArray,Kq=I3?Gq(I3):qq,sN=Kq,Xq=sq,Qq=nN,Jq=xs,Zq=Sx,eG=$5,tG=sN,rG=Object.prototype,nG=rG.hasOwnProperty;function aG(e,t){var r=Jq(e),n=!r&&Qq(e),a=!r&&!n&&Zq(e),s=!r&&!n&&!a&&tG(e),o=r||n||a||s,l=o?Xq(e.length,String):[],c=l.length;for(var u in e)(t||nG.call(e,u))&&!(o&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||eG(u,c)))&&l.push(u);return l}var yE=aG,sG=Object.prototype;function iG(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||sG;return e===r}var iN=iG;function oG(e,t){return function(r){return e(t(r))}}var bE=oG,lG=bE,cG=lG(Object.keys,Object),uG=cG,dG=iN,fG=uG,hG=Object.prototype,pG=hG.hasOwnProperty;function mG(e){if(!dG(e))return fG(e);var t=[];for(var r in Object(e))pG.call(e,r)&&r!="constructor"&&t.push(r);return t}var gG=mG,vG=yE,xG=gG,yG=Up;function bG(e){return yG(e)?vG(e):xG(e)}var Yp=bG,wG=gE,NG=rN,jG=Yp;function SG(e){return wG(e,jG,NG)}var wE=SG,R3=wE,kG=1,CG=Object.prototype,DG=CG.hasOwnProperty;function _G(e,t,r,n,a,s){var o=r&kG,l=R3(e),c=l.length,u=R3(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:DG.call(t,h)))return!1}var m=s.get(e),y=s.get(t);if(m&&y)return m==t&&y==e;var v=!0;s.set(e,t),s.set(t,e);for(var w=o;++f<c;){h=l[f];var g=e[h],x=t[h];if(n)var S=o?n(x,g,h,t,e,s):n(g,x,h,e,t,s);if(!(S===void 0?g===x||a(g,x,r,n,s):S)){v=!1;break}w||(w=h=="constructor")}if(v&&!w){var j=e.constructor,E=t.constructor;j!=E&&"constructor"in e&&"constructor"in t&&!(typeof j=="function"&&j instanceof j&&typeof E=="function"&&E instanceof E)&&(v=!1)}return s.delete(e),s.delete(t),v}var PG=_G,EG=nu,MG=qi,AG=EG(MG,"DataView"),LG=AG,OG=nu,TG=qi,IG=OG(TG,"Promise"),RG=IG,FG=nu,$G=qi,UG=FG($G,"Set"),zG=UG,BG=nu,HG=qi,WG=BG(HG,"WeakMap"),YG=WG,q2=LG,G2=J5,K2=RG,X2=zG,Q2=YG,NE=nf,cf=hE,F3="[object Map]",VG="[object Object]",$3="[object Promise]",U3="[object Set]",z3="[object WeakMap]",B3="[object DataView]",qG=cf(q2),GG=cf(G2),KG=cf(K2),XG=cf(X2),QG=cf(Q2),dc=NE;(q2&&dc(new q2(new ArrayBuffer(1)))!=B3||G2&&dc(new G2)!=F3||K2&&dc(K2.resolve())!=$3||X2&&dc(new X2)!=U3||Q2&&dc(new Q2)!=z3)&&(dc=function(e){var t=NE(e),r=t==VG?e.constructor:void 0,n=r?cf(r):"";if(n)switch(n){case qG:return B3;case GG:return F3;case KG:return $3;case XG:return U3;case QG:return z3}return t});var Cx=dc,eb=eN,JG=pE,ZG=WV,eK=PG,H3=Cx,W3=xs,Y3=Sx,tK=sN,rK=1,V3="[object Arguments]",q3="[object Array]",b0="[object Object]",nK=Object.prototype,G3=nK.hasOwnProperty;function aK(e,t,r,n,a,s){var o=W3(e),l=W3(t),c=o?q3:H3(e),u=l?q3:H3(t);c=c==V3?b0:c,u=u==V3?b0:u;var d=c==b0,f=u==b0,h=c==u;if(h&&Y3(e)){if(!Y3(t))return!1;o=!0,d=!1}if(h&&!d)return s||(s=new eb),o||tK(e)?JG(e,t,r,n,a,s):ZG(e,t,c,r,n,a,s);if(!(r&rK)){var m=d&&G3.call(e,"__wrapped__"),y=f&&G3.call(t,"__wrapped__");if(m||y){var v=m?e.value():e,w=y?t.value():t;return s||(s=new eb),a(v,w,r,n,s)}}return h?(s||(s=new eb),eK(e,t,r,n,a,s)):!1}var sK=aK,iK=sK,K3=Yl;function jE(e,t,r,n,a){return e===t?!0:e==null||t==null||!K3(e)&&!K3(t)?e!==e&&t!==t:iK(e,t,r,n,jE,a)}var oN=jE,oK=oN;function lK(e,t){return oK(e,t)}var cK=lK;const uK=Da(cK);function tb(e,t){var r=U5(e);return r?r.innerHeight:Dc(e).height}function SE(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(oB(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function dK(e,t,r,n){for(var a=e.length,s=r+(n?1:-1);n?s--:++s<a;)if(t(e[s],s,e))return s;return-1}var fK=dK,hK=eN,pK=oN,mK=1,gK=2;function vK(e,t,r,n){var a=r.length,s=a,o=!n;if(e==null)return!s;for(e=Object(e);a--;){var l=r[a];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++a<s;){l=r[a];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new hK;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?pK(d,u,mK|gK,n,f):h))return!1}}return!0}var xK=vK,yK=Uo;function bK(e){return e===e&&!yK(e)}var kE=bK,wK=kE,NK=Yp;function jK(e){for(var t=NK(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,wK(a)]}return t}var SK=jK;function kK(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var CE=kK,CK=xK,DK=SK,_K=CE;function PK(e){var t=DK(e);return t.length==1&&t[0][2]?_K(t[0][0],t[0][1]):function(r){return r===e||CK(r,e,t)}}var EK=PK,MK=xs,AK=zp,LK=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,OK=/^\w*$/;function TK(e,t){if(MK(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||AK(e)?!0:OK.test(e)||!LK.test(e)||t!=null&&e in Object(t)}var lN=TK,DE=Z5,IK="Expected a function";function cN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(IK);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],s=r.cache;if(s.has(a))return s.get(a);var o=e.apply(this,n);return r.cache=s.set(a,o)||s,o};return r.cache=new(cN.Cache||DE),r}cN.Cache=DE;var RK=cN,FK=RK,$K=500;function UK(e){var t=FK(e,function(n){return r.size===$K&&r.clear(),n}),r=t.cache;return t}var zK=UK,BK=zK,HK=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WK=/\\(\\)?/g,YK=BK(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(HK,function(r,n,a,s){t.push(a?s.replace(WK,"$1"):n||r)}),t}),VK=YK;function qK(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var uN=qK,X3=rf,GK=uN,KK=xs,XK=zp,QK=1/0,Q3=X3?X3.prototype:void 0,J3=Q3?Q3.toString:void 0;function _E(e){if(typeof e=="string")return e;if(KK(e))return GK(e,_E)+"";if(XK(e))return J3?J3.call(e):"";var t=e+"";return t=="0"&&1/e==-QK?"-0":t}var JK=_E,ZK=JK;function eX(e){return e==null?"":ZK(e)}var tX=eX,rX=xs,nX=lN,aX=VK,sX=tX;function iX(e,t){return rX(e)?e:nX(e,t)?[e]:aX(sX(e))}var Dx=iX,oX=zp,lX=1/0;function cX(e){if(typeof e=="string"||oX(e))return e;var t=e+"";return t=="0"&&1/e==-lX?"-0":t}var Vp=cX,uX=Dx,dX=Vp;function fX(e,t){t=uX(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[dX(t[r++])];return r&&r==n?e:void 0}var _x=fX,hX=_x;function pX(e,t,r){var n=e==null?void 0:hX(e,t);return n===void 0?r:n}var mX=pX;function gX(e,t){return e!=null&&t in Object(e)}var vX=gX,xX=Dx,yX=nN,bX=xs,wX=$5,NX=F5,jX=Vp;function SX(e,t,r){t=xX(t,e);for(var n=-1,a=t.length,s=!1;++n<a;){var o=jX(t[n]);if(!(s=e!=null&&r(e,o)))break;e=e[o]}return s||++n!=a?s:(a=e==null?0:e.length,!!a&&NX(a)&&wX(o,a)&&(bX(e)||yX(e)))}var kX=SX,CX=vX,DX=kX;function _X(e,t){return e!=null&&DX(e,t,CX)}var PX=_X,EX=oN,MX=mX,AX=PX,LX=lN,OX=kE,TX=CE,IX=Vp,RX=1,FX=2;function $X(e,t){return LX(e)&&OX(t)?TX(IX(e),t):function(r){var n=MX(r,e);return n===void 0&&n===t?AX(r,e):EX(t,n,RX|FX)}}var UX=$X;function zX(e){return e}var Px=zX;function BX(e){return function(t){return t==null?void 0:t[e]}}var HX=BX,WX=_x;function YX(e){return function(t){return WX(t,e)}}var VX=YX,qX=HX,GX=VX,KX=lN,XX=Vp;function QX(e){return KX(e)?qX(XX(e)):GX(e)}var JX=QX,ZX=EK,eQ=UX,tQ=Px,rQ=xs,nQ=JX;function aQ(e){return typeof e=="function"?e:e==null?tQ:typeof e=="object"?rQ(e)?eQ(e[0],e[1]):ZX(e):nQ(e)}var Ex=aQ,sQ=fK,iQ=Ex,oQ=ZP,lQ=Math.max;function cQ(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:oQ(r);return a<0&&(a=lQ(n+a,0)),sQ(e,iQ(t),a)}var uQ=cQ;const dQ=Da(uQ);var fQ=Math.ceil,hQ=Math.max;function pQ(e,t,r,n){for(var a=-1,s=hQ(fQ((t-e)/(r||1)),0),o=Array(s);s--;)o[n?s:++a]=e,e+=r;return o}var mQ=pQ,gQ=mQ,vQ=xx,rb=JP;function xQ(e){return function(t,r,n){return n&&typeof n!="number"&&vQ(t,r,n)&&(r=n=void 0),t=rb(t),r===void 0?(r=t,t=0):r=rb(r),n=n===void 0?t<r?1:-1:rb(n),gQ(t,r,n,e)}}var yQ=xQ,bQ=yQ,wQ=bQ(),NQ=wQ;const jQ=Da(NQ);var Z3=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function SQ(e,t){return!!(e===t||Z3(e)&&Z3(t))}function kQ(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!SQ(e[r],t[r]))return!1;return!0}function dN(e,t){t===void 0&&(t=kQ);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&t(a,r.lastArgs))return r.lastResult;var o=e.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}function J2(e,t){var r=U5(e);return r?r.innerWidth:Dc(e).width}var ek=rf,CQ=nN,DQ=xs,tk=ek?ek.isConcatSpreadable:void 0;function _Q(e){return DQ(e)||CQ(e)||!!(tk&&e&&e[tk])}var PQ=_Q,EQ=tN,MQ=PQ;function PE(e,t,r,n,a){var s=-1,o=e.length;for(r||(r=MQ),a||(a=[]);++s<o;){var l=e[s];t>0&&r(l)?t>1?PE(l,t-1,r,n,a):EQ(a,l):n||(a[a.length]=l)}return a}var EE=PE;function AQ(e){return function(t,r,n){for(var a=-1,s=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++a];if(r(s[c],c,s)===!1)break}return t}}var LQ=AQ,OQ=LQ,TQ=OQ(),IQ=TQ,RQ=IQ,FQ=Yp;function $Q(e,t){return e&&RQ(e,t,FQ)}var fN=$Q,UQ=Up;function zQ(e,t){return function(r,n){if(r==null)return r;if(!UQ(r))return e(r,n);for(var a=r.length,s=t?a:-1,o=Object(r);(t?s--:++s<a)&&n(o[s],s,o)!==!1;);return r}}var BQ=zQ,HQ=fN,WQ=BQ,YQ=WQ(HQ),VQ=YQ,qQ=VQ,GQ=Up;function KQ(e,t){var r=-1,n=GQ(e)?Array(e.length):[];return qQ(e,function(a,s,o){n[++r]=t(a,s,o)}),n}var XQ=KQ;function QQ(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var JQ=QQ,rk=zp;function ZQ(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,s=rk(e),o=t!==void 0,l=t===null,c=t===t,u=rk(t);if(!l&&!u&&!s&&e>t||s&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!a)return 1;if(!n&&!s&&!u&&e<t||u&&r&&a&&!n&&!s||l&&r&&a||!o&&a||!c)return-1}return 0}var eJ=ZQ,tJ=eJ;function rJ(e,t,r){for(var n=-1,a=e.criteria,s=t.criteria,o=a.length,l=r.length;++n<o;){var c=tJ(a[n],s[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var nJ=rJ,nb=uN,aJ=_x,sJ=Ex,iJ=XQ,oJ=JQ,lJ=kx,cJ=nJ,uJ=Px,dJ=xs;function fJ(e,t,r){t.length?t=nb(t,function(s){return dJ(s)?function(o){return aJ(o,s.length===1?s[0]:s)}:s}):t=[uJ];var n=-1;t=nb(t,lJ(sJ));var a=iJ(e,function(s,o,l){var c=nb(t,function(u){return u(s)});return{criteria:c,index:++n,value:s}});return oJ(a,function(s,o){return cJ(s,o,r)})}var hJ=fJ;function pJ(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var mJ=pJ,gJ=mJ,nk=Math.max;function vJ(e,t,r){return t=nk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,s=nk(n.length-t,0),o=Array(s);++a<s;)o[a]=n[t+a];a=-1;for(var l=Array(t+1);++a<t;)l[a]=n[a];return l[t]=r(o),gJ(e,this,l)}}var ME=vJ;function xJ(e){return function(){return e}}var yJ=xJ,bJ=nu,wJ=function(){try{var e=bJ(Object,"defineProperty");return e({},"",{}),e}catch{}}(),AE=wJ,NJ=yJ,ak=AE,jJ=Px,SJ=ak?function(e,t){return ak(e,"toString",{configurable:!0,enumerable:!1,value:NJ(t),writable:!0})}:jJ,kJ=SJ,CJ=800,DJ=16,_J=Date.now;function PJ(e){var t=0,r=0;return function(){var n=_J(),a=DJ-(n-r);if(r=n,a>0){if(++t>=CJ)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var EJ=PJ,MJ=kJ,AJ=EJ,LJ=AJ(MJ),LE=LJ,OJ=Px,TJ=ME,IJ=LE;function RJ(e,t){return IJ(TJ(e,t,OJ),e+"")}var OE=RJ,FJ=EE,$J=hJ,UJ=OE,sk=xx,zJ=UJ(function(e,t){if(e==null)return[];var r=t.length;return r>1&&sk(e,t[0],t[1])?t=[]:r>2&&sk(t[0],t[1],t[2])&&(t=[t[0]]),$J(e,FJ(t,1),[])}),BJ=zJ;const HJ=Da(BJ);function TE(e){return MP(e)||GP(e)||E5(e)||AP()}function WJ(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var YJ=WJ,VJ=Uo,qJ=iN,GJ=YJ,KJ=Object.prototype,XJ=KJ.hasOwnProperty;function QJ(e){if(!VJ(e))return GJ(e);var t=qJ(e),r=[];for(var n in e)n=="constructor"&&(t||!XJ.call(e,n))||r.push(n);return r}var JJ=QJ,ZJ=yE,eZ=JJ,tZ=Up;function rZ(e){return tZ(e)?ZJ(e,!0):eZ(e)}var Mx=rZ,nZ=OE,aZ=$p,sZ=xx,iZ=Mx,IE=Object.prototype,oZ=IE.hasOwnProperty,lZ=nZ(function(e,t){e=Object(e);var r=-1,n=t.length,a=n>2?t[2]:void 0;for(a&&sZ(t[0],t[1],a)&&(n=1);++r<n;)for(var s=t[r],o=iZ(s),l=-1,c=o.length;++l<c;){var u=o[l],d=e[u];(d===void 0||aZ(d,IE[u])&&!oZ.call(e,u))&&(e[u]=s[u])}return e}),cZ=lZ;const uZ=Da(cZ);var ik=AE;function dZ(e,t,r){t=="__proto__"&&ik?ik(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var hN=dZ,fZ=hN,hZ=fN,pZ=Ex;function mZ(e,t){var r={};return t=pZ(t),hZ(e,function(n,a,s){fZ(r,a,t(n,a,s))}),r}var gZ=mZ;const vZ=Da(gZ);function xZ(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var RE=xZ,yZ=hN,bZ=$p,wZ=Object.prototype,NZ=wZ.hasOwnProperty;function jZ(e,t,r){var n=e[t];(!(NZ.call(e,t)&&bZ(n,r))||r===void 0&&!(t in e))&&yZ(e,t,r)}var FE=jZ,SZ=FE,kZ=hN;function CZ(e,t,r,n){var a=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var l=t[s],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),a?kZ(r,l,c):SZ(r,l,c)}return r}var qp=CZ,DZ=qp,_Z=Yp;function PZ(e,t){return e&&DZ(t,_Z(t),e)}var EZ=PZ,MZ=qp,AZ=Mx;function LZ(e,t){return e&&MZ(t,AZ(t),e)}var OZ=LZ,dv={exports:{}};dv.exports;(function(e,t){var r=qi,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,s=a&&a.exports===n,o=s?r.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(dv,dv.exports);var TZ=dv.exports;function IZ(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var RZ=IZ,FZ=qp,$Z=rN;function UZ(e,t){return FZ(e,$Z(e),t)}var zZ=UZ,BZ=bE,HZ=BZ(Object.getPrototypeOf,Object),Ax=HZ,WZ=tN,YZ=Ax,VZ=rN,qZ=vE,GZ=Object.getOwnPropertySymbols,KZ=GZ?function(e){for(var t=[];e;)WZ(t,VZ(e)),e=YZ(e);return t}:qZ,$E=KZ,XZ=qp,QZ=$E;function JZ(e,t){return XZ(e,QZ(e),t)}var ZZ=JZ,eee=gE,tee=$E,ree=Mx;function nee(e){return eee(e,ree,tee)}var UE=nee,aee=Object.prototype,see=aee.hasOwnProperty;function iee(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&see.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var oee=iee,ok=mE;function lee(e){var t=new e.constructor(e.byteLength);return new ok(t).set(new ok(e)),t}var pN=lee,cee=pN;function uee(e,t){var r=t?cee(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var dee=uee,fee=/\w*$/;function hee(e){var t=new e.constructor(e.source,fee.exec(e));return t.lastIndex=e.lastIndex,t}var pee=hee,lk=rf,ck=lk?lk.prototype:void 0,uk=ck?ck.valueOf:void 0;function mee(e){return uk?Object(uk.call(e)):{}}var gee=mee,vee=pN;function xee(e,t){var r=t?vee(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var yee=xee,bee=pN,wee=dee,Nee=pee,jee=gee,See=yee,kee="[object Boolean]",Cee="[object Date]",Dee="[object Map]",_ee="[object Number]",Pee="[object RegExp]",Eee="[object Set]",Mee="[object String]",Aee="[object Symbol]",Lee="[object ArrayBuffer]",Oee="[object DataView]",Tee="[object Float32Array]",Iee="[object Float64Array]",Ree="[object Int8Array]",Fee="[object Int16Array]",$ee="[object Int32Array]",Uee="[object Uint8Array]",zee="[object Uint8ClampedArray]",Bee="[object Uint16Array]",Hee="[object Uint32Array]";function Wee(e,t,r){var n=e.constructor;switch(t){case Lee:return bee(e);case kee:case Cee:return new n(+e);case Oee:return wee(e,r);case Tee:case Iee:case Ree:case Fee:case $ee:case Uee:case zee:case Bee:case Hee:return See(e,r);case Dee:return new n;case _ee:case Mee:return new n(e);case Pee:return Nee(e);case Eee:return new n;case Aee:return jee(e)}}var Yee=Wee,Vee=Uo,dk=Object.create,qee=function(){function e(){}return function(t){if(!Vee(t))return{};if(dk)return dk(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),zE=qee,Gee=zE,Kee=Ax,Xee=iN;function Qee(e){return typeof e.constructor=="function"&&!Xee(e)?Gee(Kee(e)):{}}var Jee=Qee,Zee=Cx,ete=Yl,tte="[object Map]";function rte(e){return ete(e)&&Zee(e)==tte}var nte=rte,ate=nte,ste=kx,fk=aN,hk=fk&&fk.isMap,ite=hk?ste(hk):ate,ote=ite,lte=Cx,cte=Yl,ute="[object Set]";function dte(e){return cte(e)&&lte(e)==ute}var fte=dte,hte=fte,pte=kx,pk=aN,mk=pk&&pk.isSet,mte=mk?pte(mk):hte,gte=mte,vte=eN,xte=RE,yte=FE,bte=EZ,wte=OZ,Nte=TZ,jte=RZ,Ste=zZ,kte=ZZ,Cte=wE,Dte=UE,_te=Cx,Pte=oee,Ete=Yee,Mte=Jee,Ate=xs,Lte=Sx,Ote=ote,Tte=Uo,Ite=gte,Rte=Yp,Fte=Mx,$te=1,Ute=2,zte=4,BE="[object Arguments]",Bte="[object Array]",Hte="[object Boolean]",Wte="[object Date]",Yte="[object Error]",HE="[object Function]",Vte="[object GeneratorFunction]",qte="[object Map]",Gte="[object Number]",WE="[object Object]",Kte="[object RegExp]",Xte="[object Set]",Qte="[object String]",Jte="[object Symbol]",Zte="[object WeakMap]",ere="[object ArrayBuffer]",tre="[object DataView]",rre="[object Float32Array]",nre="[object Float64Array]",are="[object Int8Array]",sre="[object Int16Array]",ire="[object Int32Array]",ore="[object Uint8Array]",lre="[object Uint8ClampedArray]",cre="[object Uint16Array]",ure="[object Uint32Array]",or={};or[BE]=or[Bte]=or[ere]=or[tre]=or[Hte]=or[Wte]=or[rre]=or[nre]=or[are]=or[sre]=or[ire]=or[qte]=or[Gte]=or[WE]=or[Kte]=or[Xte]=or[Qte]=or[Jte]=or[ore]=or[lre]=or[cre]=or[ure]=!0;or[Yte]=or[HE]=or[Zte]=!1;function og(e,t,r,n,a,s){var o,l=t&$te,c=t&Ute,u=t&zte;if(r&&(o=a?r(e,n,a,s):r(e)),o!==void 0)return o;if(!Tte(e))return e;var d=Ate(e);if(d){if(o=Pte(e),!l)return jte(e,o)}else{var f=_te(e),h=f==HE||f==Vte;if(Lte(e))return Nte(e,l);if(f==WE||f==BE||h&&!a){if(o=c||h?{}:Mte(e),!l)return c?kte(e,wte(o,e)):Ste(e,bte(o,e))}else{if(!or[f])return a?e:{};o=Ete(e,f,l)}}s||(s=new vte);var m=s.get(e);if(m)return m;s.set(e,o),Ite(e)?e.forEach(function(w){o.add(og(w,t,r,w,e,s))}):Ote(e)&&e.forEach(function(w,g){o.set(g,og(w,t,r,g,e,s))});var y=u?c?Dte:Cte:c?Fte:Rte,v=d?void 0:y(e);return xte(v||e,function(w,g){v&&(g=w,w=e[g]),yte(o,g,og(w,t,r,g,e,s))}),o}var dre=og;function fre(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var hre=fre,pre=_x,mre=KP;function gre(e,t){return t.length<2?e:pre(e,mre(t,0,-1))}var vre=gre,xre=Dx,yre=hre,bre=vre,wre=Vp;function Nre(e,t){return t=xre(t,e),e=bre(e,t),e==null||delete e[wre(yre(t))]}var jre=Nre,Sre=nf,kre=Ax,Cre=Yl,Dre="[object Object]",_re=Function.prototype,Pre=Object.prototype,YE=_re.toString,Ere=Pre.hasOwnProperty,Mre=YE.call(Object);function Are(e){if(!Cre(e)||Sre(e)!=Dre)return!1;var t=kre(e);if(t===null)return!0;var r=Ere.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&YE.call(r)==Mre}var Lre=Are,Ore=Lre;function Tre(e){return Ore(e)?void 0:e}var Ire=Tre,Rre=EE;function Fre(e){var t=e==null?0:e.length;return t?Rre(e,1):[]}var $re=Fre,Ure=$re,zre=ME,Bre=LE;function Hre(e){return Bre(zre(e,void 0,Ure),e+"")}var Wre=Hre,Yre=uN,Vre=dre,qre=jre,Gre=Dx,Kre=qp,Xre=Ire,Qre=Wre,Jre=UE,Zre=1,ene=2,tne=4,rne=Qre(function(e,t){var r={};if(e==null)return r;var n=!1;t=Yre(t,function(s){return s=Gre(s,e),n||(n=s.length>1),s}),Kre(e,Jre(e),r),n&&(r=Vre(r,Zre|ene|tne,Xre));for(var a=t.length;a--;)qre(r,t[a]);return r}),nne=rne;const ane=Da(nne);var sne=RE,ine=zE,one=fN,lne=Ex,cne=Ax,une=xs,dne=Sx,fne=R5,hne=Uo,pne=sN;function mne(e,t,r){var n=une(e),a=n||dne(e)||pne(e);if(t=lne(t),r==null){var s=e&&e.constructor;a?r=n?new s:[]:hne(e)?r=fne(s)?ine(cne(e)):{}:r={}}return(a?sne:one)(e,function(o,l,c){return t(r,o,l,c)}),r}var gne=mne;const vne=Da(gne);var xne={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){return function(r,n,a){n.prototype.isBetween=function(s,o,l,c){var u=a(s),d=a(o),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(xne);var yne={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){return function(r,n){n.prototype.isSameOrAfter=function(a,s){return this.isSame(a,s)||this.isAfter(a,s)}}})})(yne);var bne={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){return function(r,n){n.prototype.isSameOrBefore=function(a,s){return this.isSame(a,s)||this.isBefore(a,s)}}})})(bne);var wne={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){return function(r,n,a){var s=n.prototype,o=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,m,y,v){var w=f.name?f:f.$locale(),g=o(w[h]),x=o(w[m]),S=g||x.map(function(E){return E.slice(0,y)});if(!v)return S;var j=w.weekStart;return S.map(function(E,T){return S[(T+(j||0))%7]})},c=function(){return a.Ls[a.locale()]},u=function(f,h){return f.formats[h]||function(m){return m.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,v,w){return v||w.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return l(c(),"months")},a.monthsShort=function(){return l(c(),"monthsShort","months",3)},a.weekdays=function(f){return l(c(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(wne);var Nne={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,a,s){var o=a.prototype,l=o.format;s.en.formats=r,o.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(m,y,v){var w=v&&v.toUpperCase();return y||h[v]||r[v]||h[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,x,S){return x||S.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})(Nne);var jne={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){return function(r,n,a){var s=function(o,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][o](c)||(c=l[u]);return c};a.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},a.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(jne);var Sne={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(s,o,l){var c=o.prototype;l.utc=function(v){var w={date:v,utc:!0,args:arguments};return new o(w)},c.utc=function(v){var w=l(this.toDate(),{locale:this.$L,utc:!0});return v?w.add(this.utcOffset(),r):w},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),u.call(this,v)};var d=c.init;c.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(v,w){var g=this.$utils().u;if(g(v))return this.$u?0:g(this.$offset)?f.call(this):this.$offset;if(typeof v=="string"&&(v=function(E){E===void 0&&(E="");var T=E.match(n);if(!T)return null;var k=(""+T[0]).match(a)||["-",0,0],D=k[0],I=60*+k[1]+ +k[2];return I===0?0:D==="+"?I:-I}(v),v===null))return this;var x=Math.abs(v)<=16?60*v:v,S=this;if(w)return S.$offset=x,S.$u=v===0,S;if(v!==0){var j=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(S=this.local().add(x+j,r)).$offset=x,S.$x.$localOffset=j}else S=this.utc();return S};var h=c.format;c.format=function(v){var w=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,w)},c.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var m=c.toDate;c.toDate=function(v){return v==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var y=c.diff;c.diff=function(v,w,g){if(v&&this.$u===v.$u)return y.call(this,v,w,g);var x=this.local(),S=l(v).local();return y.call(x,S,w,g)}}})})(Sne);var kne={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(cs,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(kne);function gi(e){return e.children}var Sa={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ar={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},gk=Object.keys(ar).map(function(e){return ar[e]});Oe.oneOfType([Oe.string,Oe.func]);Oe.any;Oe.func;Oe.oneOfType([Oe.arrayOf(Oe.oneOf(gk)),Oe.objectOf(function(e,t){var r=gk.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return Oe.elementType.apply(Oe,[e,t].concat(a))})]);Oe.oneOfType([Oe.oneOf(["overlap","no-overlap"]),Oe.func]);var vk={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function VE(e,t){var r=Pn(e,"month");return Pn(r,"week",t.startOfWeek())}function qE(e,t){var r=sv(e,"month");return sv(r,"week",t.startOfWeek())}function Cne(e,t){for(var r=VE(e,t),n=qE(e,t),a=[];ef(r,n,"day");)a.push(r),r=Gs(r,1,"day");return a}function Dne(e,t){var r=Pn(e,t);return Rp(r,e)?r:Gs(r,1,t)}function _ne(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,a=[];ef(n,t,r);)a.push(n),n=Gs(n,1,r);return a}function Pne(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Pn(e,"day"),e=dp(e,dp(t)),e=Ld(e,Ld(t)),e=up(e,up(t)),cp(e,cp(t)))}function xk(e){return dp(e)===0&&Ld(e)===0&&up(e)===0&&cp(e)===0}function Ene(e,t,r,n){return r==="day"&&(r="date"),Math.abs(e3[r](e,void 0,n)-e3[r](t,void 0,n))}function mN(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Pn(e,r)/vk[r]-+Pn(t,r)/vk[r]))}var Mne=Oe.oneOfType([Oe.string,Oe.func]);function Ane(e,t,r,n,a){var s=typeof n=="function"?n(r,a,e):t.call(e,r,n,a);return np(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function Lne(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function gN(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function One(e,t){return mN(e,t,"minutes")+gN(e,t)}function Tne(e){var t=Pn(e,"day");return mN(t,e,"minutes")+gN(t,e)}function Ine(e,t){return I5(e,t,"day")}function Rne(e,t,r){var n=Rp(e,t,"minutes");return n?Fp(t,r,"minutes"):vx(t,r,"minutes")}function Z2(e,t){return Ene(e,t,"day")}function Fne(e){var t=e.evtA,r=t.start,n=t.end,a=t.allDay,s=e.evtB,o=s.start,l=s.end,c=s.allDay,u=+Pn(r,"day")-+Pn(o,"day"),d=Z2(r,n),f=Z2(o,l);return u||f-d||!!c-!!a||+r-+o||+n-+l}function $ne(e){var t=e.event,r=t.start,n=t.end,a=e.range,s=a.start,o=a.end,l=Pn(r,"day"),c=ef(l,o,"day"),u=T5(l,n,"minutes"),d=u?vx(n,s,"minutes"):Fp(n,s,"minutes");return c&&d}function Une(e,t){return Rp(e,t,"day")}function zne(e,t){return xk(e)&&xk(t)}var Bne=rn(function e(t){var r=this;tn(this,e),np(typeof t.format=="function","date localizer `format(..)` must be a function"),np(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Mne,this.formats=t.formats,this.format=function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return Ane.apply(void 0,[r,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Pne,this.inRange=t.inRange||WP,this.lt=t.lt||I5,this.lte=t.lte||ef,this.gt=t.gt||vx,this.gte=t.gte||Fp,this.eq=t.eq||Rp,this.neq=t.neq||T5,this.startOf=t.startOf||Pn,this.endOf=t.endOf||sv,this.add=t.add||Gs,this.range=t.range||_ne,this.diff=t.diff||mN,this.ceil=t.ceil||Dne,this.min=t.min||BP,this.max=t.max||HP,this.minutes=t.minutes||Ld,this.daySpan=t.daySpan||Z2,this.firstVisibleDay=t.firstVisibleDay||VE,this.lastVisibleDay=t.lastVisibleDay||qE,this.visibleDays=t.visibleDays||Cne,this.getSlotDate=t.getSlotDate||Lne,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||gN,this.getTotalMin=t.getTotalMin||One,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Tne,this.continuesPrior=t.continuesPrior||Ine,this.continuesAfter=t.continuesAfter||Rne,this.sortEvents=t.sortEvents||Fne,this.inEventRange=t.inEventRange||$ne,this.isSameDate=t.isSameDate||Une,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||zne,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function Hne(e,t,r,n){var a=Re(Re({},e.formats),r);return Re(Re({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(o,l){return e.format(o,a[l]||l,t)}})}var Wne=function(e){function t(){var r;tn(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Kn(this,t,[].concat(a)),r.navigate=function(o){r.props.onNavigate(o)},r.view=function(o){r.props.onView(o)},r}return En(t,e),rn(t,[{key:"render",value:function(){var n=this.props,a=n.localizer.messages,s=n.label;return ee.createElement("div",{className:"rbc-toolbar"},ee.createElement("span",{className:"rbc-btn-group"},ee.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sa.TODAY)},a.today),ee.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sa.PREVIOUS)},a.previous),ee.createElement("button",{type:"button",onClick:this.navigate.bind(null,Sa.NEXT)},a.next)),ee.createElement("span",{className:"rbc-toolbar-label"},s),ee.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(n){var a=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(l){return ee.createElement("button",{type:"button",key:l,className:Lr({"rbc-active":o===l}),onClick:a.view.bind(null,l)},n[l])})}}])}(ee.Component);function fr(e,t){e&&e.apply(null,[].concat(t))}var Yne={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function Vne(e){return Re(Re({},Yne),e)}function qne(e){var t=e.ref,r=e.callback;L.useEffect(function(){var n=function(s){t.current&&!t.current.contains(s.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var Gne=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],GE=function(e){function t(){return tn(this,t),Kn(this,t,arguments)}return En(t,e),rn(t,[{key:"render",value:function(){var n=this.props,a=n.style,s=n.className,o=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,m=n.continuesPrior,y=n.continuesAfter,v=n.accessors,w=n.getters,g=n.children,x=n.components,S=x.event,j=x.eventWrapper,E=n.slotStart,T=n.slotEnd,k=un(n,Gne);delete k.resizable;var D=v.title(o),I=v.tooltip(o),R=v.end(o),M=v.start(o),P=v.allDay(o),F=c||P||h.diff(M,h.ceil(R,"day"),"day")>1,O=w.eventProp(o,M,R,l),U=ee.createElement("div",{className:"rbc-event-content",title:I||void 0},S?ee.createElement(S,{event:o,continuesPrior:m,continuesAfter:y,title:D,isAllDay:P,localizer:h,slotStart:E,slotEnd:T}):D);return ee.createElement(j,Object.assign({},this.props,{type:"date"}),ee.createElement("div",Object.assign({},k,{style:Re(Re({},O.style),a),className:Lr("rbc-event",s,O.className,{"rbc-selected":l,"rbc-event-allday":F,"rbc-event-continues-prior":m,"rbc-event-continues-after":y}),onClick:function(V){return u&&u(o,V)},onDoubleClick:function(V){return d&&d(o,V)},onKeyDown:function(V){return f&&f(o,V)}}),typeof g=="function"?g(U):U))}}])}(ee.Component);function Lx(e,t){return!e||t==null?!1:uK(e,t)}function KE(e,t){var r=e.right-e.left,n=r/t;return n}function XE(e,t,r,n){var a=KE(e,n);return r?n-1-Math.floor((t-e.left)/a):Math.floor((t-e.left)/a)}function Kne(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function Xne(e,t,r,n,a){var s=-1,o=-1,l=n-1,c=KE(t,n),u=XE(t,r.x,a,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,m=t.top>e.y,y=r.top<t.top&&r.bottom>t.bottom;return y&&(s=0,o=l),d&&(m?(s=0,o=u):h&&(s=u,o=l)),f&&(s=o=a?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<s?s=u:o=u:e.y<r.y?o=l:s=0),{startIdx:s,endIdx:o}}function Qne(e){var t=e.target,r=e.offset,n=e.container,a=e.box,s=Dc(t),o=s.top,l=s.left,c=s.width,u=s.height,d=Dc(n),f=d.top,h=d.left,m=d.width,y=d.height,v=Dc(a),w=v.width,g=v.height,x=f+y,S=h+m,j=o+g,E=l+w,T=r.x,k=r.y,D=j>x?o-g-k:o+k+u,I=E>S?l+T-w+c:l+T;return{topOffset:D,leftOffset:I}}function Jne(e){var t=e.containerRef,r=e.accessors,n=e.getters,a=e.selected,s=e.components,o=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,h=e.onSelect,m=e.onDoubleClick,y=e.onKeyPress,v=e.handleDragStart,w=e.popperRef,g=e.target,x=e.offset;qne({ref:w,callback:c}),L.useLayoutEffect(function(){var E=Qne({target:g,offset:x,container:t.current,box:w.current}),T=E.topOffset,k=E.leftOffset;w.current.style.top="".concat(T,"px"),w.current.style.left="".concat(k,"px")},[x.x,x.y,g]);var S=l.width,j={minWidth:S+S/2};return ee.createElement("div",{style:j,className:"rbc-overlay",ref:w},ee.createElement("div",{className:"rbc-overlay-header"},o.format(d,"dayHeaderFormat")),u.map(function(E,T){return ee.createElement(GE,{key:T,type:"popup",localizer:o,event:E,getters:n,onSelect:h,accessors:r,components:s,onDoubleClick:m,onKeyPress:y,continuesPrior:o.lt(r.end(E),d,"day"),continuesAfter:o.gte(r.start(E),f,"day"),slotStart:d,slotEnd:f,selected:Lx(E,a),draggable:!0,onDragStart:function(){return v(E)},onDragEnd:function(){return c()}})}))}var QE=ee.forwardRef(function(e,t){return ee.createElement(Jne,Object.assign({},e,{popperRef:t}))});QE.propTypes={accessors:Oe.object.isRequired,getters:Oe.object.isRequired,selected:Oe.object,components:Oe.object.isRequired,localizer:Oe.object.isRequired,position:Oe.object.isRequired,show:Oe.func.isRequired,events:Oe.array.isRequired,slotStart:Oe.instanceOf(Date).isRequired,slotEnd:Oe.instanceOf(Date),onSelect:Oe.func,onDoubleClick:Oe.func,onKeyPress:Oe.func,handleDragStart:Oe.func,style:Oe.object,offset:Oe.shape({x:Oe.number,y:Oe.number})};function Zne(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,a=e.overlay,s=e.accessors,o=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,m=e.handleDragStart,y=e.onHide,v=e.overlayDisplay,w=L.useRef(null);if(!a.position)return null;var g=n;isNaN(n)||(g={x:n,y:n});var x=a.position,S=a.events,j=a.date,E=a.end;return ee.createElement(Q5,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:y,target:a.target},function(T){var k=T.props;return ee.createElement(QE,Object.assign({},k,{containerRef:t,ref:w,target:a.target,offset:g,accessors:s,getters:c,selected:u,components:l,localizer:o,position:x,show:v,events:S,slotStart:j,slotEnd:E,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:m}))})}var vN=ee.forwardRef(function(e,t){return ee.createElement(Zne,Object.assign({},e,{containerRef:t}))});vN.propTypes={popupOffset:Oe.oneOfType([Oe.number,Oe.shape({x:Oe.number,y:Oe.number})]),overlay:Oe.shape({position:Oe.object,events:Oe.array,date:Oe.instanceOf(Date),end:Oe.instanceOf(Date)}),accessors:Oe.object.isRequired,localizer:Oe.object.isRequired,components:Oe.object.isRequired,getters:Oe.object.isRequired,selected:Oe.object,handleSelectEvent:Oe.func,handleDoubleClickEvent:Oe.func,handleKeyPressEvent:Oe.func,handleDragStart:Oe.func,onHide:Oe.func,overlayDisplay:Oe.func};function Un(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return bh(r,e,t,{passive:!1})}function eae(e,t,r){return!e||fp(e,document.elementFromPoint(t,r))}function tae(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return SE(a,".rbc-event",e)}function rae(e,t){var r=t.clientX,n=t.clientY,a=document.elementFromPoint(r,n);return SE(a,".rbc-show-more",e)}function fv(e,t){return!!tae(e,t)}function nae(e,t){return!!rae(e,t)}function ih(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var yk=5,aae=250,JE=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,a=n===void 0?!1:n,s=r.longPressThreshold,o=s===void 0?250:s,l=r.validContainers,c=l===void 0?[]:l;tn(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=o,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Un("touchmove",function(){},window),this._removeKeyDownListener=Un("keydown",this._keyListener),this._removeKeyUpListener=Un("keyup",this._keyListener),this._removeDropFromOutsideListener=Un("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Un("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return rn(e,[{key:"on",value:function(r,n){var a=this._listeners[r]||(this._listeners[r]=[]);return a.push(n),{remove:function(){var o=a.indexOf(n);o!==-1&&a.splice(o,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];var o,l=this._listeners[r]||[];return l.forEach(function(c){o===void 0&&(o=c.apply(void 0,a))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:bk(n,Gc(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var a=this,s=null,o=null,l=null,c=function(h){s=setTimeout(function(){d(),r(h)},a.longPressThreshold),o=Un("touchmove",function(){return d()}),l=Un("touchend",function(){return d()})},u=Un("touchstart",c),d=function(){s&&clearTimeout(s),o&&o(),l&&l(),s=null,o=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Un("mousedown",function(s){r._removeInitialEventListener(),r._handleInitialEvent(s),r._removeInitialEventListener=Un("mousedown",r._handleInitialEvent)}),a=Un("touchstart",function(s){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,s)});this._removeInitialEventListener=function(){n(),a()}}},{key:"_dropFromOutsideListener",value:function(r){var n=ih(r),a=n.pageX,s=n.pageY,o=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:a,y:s,clientX:o,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=ih(r),a=n.pageX,s=n.pageY,o=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:a,y:s,clientX:o,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=ih(r),a=n.clientX,s=n.clientY,o=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!eae(c,a,s))){if(!this.globalMouse&&c&&!fp(c,r.target)){var f=sae(0),h=f.top,m=f.left,y=f.bottom,v=f.right;if(d=Gc(c),u=bk({top:d.top-h,left:d.left-m,bottom:d.bottom+y,right:d.right+v},{top:l,left:o}),!u)return}var w=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:o,y:l,clientX:a,clientY:s});if(w!==!1)switch(r.type){case"mousedown":this._removeEndListener=Un("mouseup",this._handleTerminatingEvent),this._onEscListener=Un("keydown",this._handleTerminatingEvent),this._removeMoveListener=Un("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Un("touchend",this._handleTerminatingEvent),this._removeMoveListener=Un("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,a=this.validContainers;return!a||!a.length||!n?!0:a.some(function(s){return!!n.closest(s)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,a=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var s=!this.container||fp(this.container(),r.target),o=this._isWithinValidContainer(r);return r.key==="Escape"||!o?this.emit("reset"):!n&&s?this._handleClickEvent(r):n?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=ih(r),a=n.pageX,s=n.pageY,o=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<aae?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:s,clientX:o,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:a,y:s,clientX:o,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,a=n.x,s=n.y,o=ih(r),l=o.pageX,c=o.pageY,u=Math.abs(a-l),d=Math.abs(s-c),f=Math.min(l,a),h=Math.min(c,s),m=this.selecting,y=this.isClick(l,c);y&&!m&&!(u||d)||(!m&&!y&&this.emit("selectStart",this._initialEventData),y||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var a=this._initialEventData,s=a.x,o=a.y,l=a.isTouch;return!l&&Math.abs(r-s)<=yk&&Math.abs(n-o)<=yk}}])}();function sae(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return jt(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function bk(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Gc(e),a=n.top,s=n.left,o=n.right,l=o===void 0?s:o,c=n.bottom,u=c===void 0?a:c,d=Gc(t),f=d.top,h=d.left,m=d.right,y=m===void 0?h:m,v=d.bottom,w=v===void 0?f:v;return!(u-r<f||a+r>w||l-r<h||s+r>y)}function Gc(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+wk("left"),n=t.top+wk("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function wk(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var iae=function(e){function t(r,n){var a;return tn(this,t),a=Kn(this,t,[r,n]),a.state={selecting:!1},a.containerRef=L.createRef(),a}return En(t,e),rn(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,a=n.range,s=n.getNow,o=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,m=d.endIdx,y=s();return ee.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(v,w){var g=f&&w>=h&&w<=m,x=o.dayProp(v),S=x.className,j=x.style;return ee.createElement(c,{key:w,value:v,range:a},ee.createElement("div",{style:j,className:Lr("rbc-day-bg",S,g&&"rbc-selected-cell",u.isSameDate(v,y)&&"rbc-today",l&&u.neq(l,v,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,a=this.containerRef.current,s=this._selector=new JE(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(c,u){if(!fv(a,c)&&!nae(a,c)){var d=Gc(a),f=n.props,h=f.range,m=f.rtl;if(Kne(d,c)){var y=XE(d,c.x,m,h.length);n._selectSlot({startIdx:y,endIdx:y,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};s.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(fr(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),s.isSelected(a)){var m=Gc(a),y=Xne(n._initial,m,l,u.length,d);f=y.startIdx,h=y.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),s.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!fv(n.containerRef.current,l)}),s.on("click",function(l){return o(l,"click")}),s.on("doubleClick",function(l){return o(l,"doubleClick")}),s.on("select",function(l){n._selectSlot(Re(Re({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),fr(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var a=n.endIdx,s=n.startIdx,o=n.action,l=n.bounds,c=n.box;a!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:a,action:o,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(ee.Component),ns={propTypes:{slotMetrics:Oe.object.isRequired,selected:Oe.object,isAllDay:Oe.bool,accessors:Oe.object.isRequired,localizer:Oe.object.isRequired,components:Oe.object.isRequired,getters:Oe.object.isRequired,onSelect:Oe.func,onDoubleClick:Oe.func,onKeyPress:Oe.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var a=t.accessors,s=t.getters,o=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,m=d.continuesPrior(r),y=d.continuesAfter(r);return ee.createElement(GE,{event:r,getters:s,localizer:u,accessors:a,components:f,onSelect:o,onDoubleClick:l,onKeyPress:c,continuesPrior:m,continuesAfter:y,slotStart:d.first,slotEnd:d.last,selected:Lx(r,n),resizable:h})},renderSpan:function(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(r)/t*100+"%";return ee.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},a)}},ZE=function(e){function t(){return tn(this,t),Kn(this,t,arguments)}return En(t,e),rn(t,[{key:"render",value:function(){var n=this,a=this.props,s=a.segments,o=a.slotMetrics.slots,l=a.className,c=1;return ee.createElement("div",{className:Lr(l,"rbc-row")},s.reduce(function(u,d,f){var h=d.event,m=d.left,y=d.right,v=d.span,w="_lvl_"+f,g=m-c,x=ns.renderEvent(n.props,h);return g&&u.push(ns.renderSpan(o,g,"".concat(w,"_gap"))),u.push(ns.renderSpan(o,v,w,x)),c=y+1,u},[]))}}])}(ee.Component);ZE.defaultProps=Re({},ns.defaultProps);function eM(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,a=e.localizer;return{first:t[0],last:a.add(t[t.length-1],1,n)}}function oae(e,t,r,n){var a=eM({dateRange:t,localizer:n}),s=a.first,o=a.last,l=n.diff(s,o,"day"),c=n.max(n.startOf(r.start(e),"day"),s),u=n.min(n.ceil(r.end(e),"day"),o),d=dQ(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function ew(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,a,s=[],o=[];for(r=0;r<e.length;r++){for(a=e[r],n=0;n<s.length&&lae(a,s[n]);n++);n>=t?o.push(a):(s[n]||(s[n]=[])).push(a)}for(r=0;r<s.length;r++)s[r].sort(function(l,c){return l.left-c.left});return{levels:s,extra:o}}function mp(e,t,r,n,a){var s={start:n.start(e),end:n.end(e)},o={start:t,end:r};return a.inEventRange({event:s,range:o})}function lae(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function cae(e,t,r){var n=Cc(e),a=[],s=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?a.push(c):s.push(c)});var o=a.sort(function(c,u){return tw(c,u,t,r)}),l=s.sort(function(c,u){return tw(c,u,t,r)});return[].concat(Cc(o),Cc(l))}function tw(e,t,r,n){var a={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},s={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:a,evtB:s})}var rw=function(t,r){return t.left<=r&&t.right>=r},ab=function(t,r){return t.filter(function(n){return rw(n,r)}).map(function(n){return n.event})},tM=function(e){function t(){return tn(this,t),Kn(this,t,arguments)}return En(t,e),rn(t,[{key:"render",value:function(){for(var n=this.props,a=n.segments,s=n.slotMetrics.slots,o=ew(a).levels[0],l=1,c=1,u=[];l<=s;){var d="_lvl_"+l,f=o.filter(function(j){return rw(j,l)})[0]||{},h=f.event,m=f.left,y=f.right,v=f.span;if(!h){var w=this.getHiddenEventsForSlot(a,l);if(w.length>0){var g=l-c;g&&u.push(ns.renderSpan(s,g,d+"_gap")),u.push(ns.renderSpan(s,1,d,this.renderShowMore(a,l))),c=l=l+1;continue}l++;continue}var x=Math.max(0,m-c);if(this.canRenderSlotEvent(m,v)){var S=ns.renderEvent(this.props,h);x&&u.push(ns.renderSpan(s,x,d+"_gap")),u.push(ns.renderSpan(s,v,d,S)),c=l=y+1}else x&&u.push(ns.renderSpan(s,x,d+"_gap")),u.push(ns.renderSpan(s,1,d,this.renderShowMore(a,l))),c=l=l+1}return ee.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,a){var s=ab(n,a),o=ew(n).levels[0],l=o.filter(function(c){return rw(c,a)}).map(function(c){return c.event});return s.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,a){var s=this.props.segments;return jQ(n,n+a).every(function(o){var l=ab(s,o).length;return l===1})}},{key:"renderShowMore",value:function(n,a){var s=this,o=this.props,l=o.localizer,c=o.slotMetrics,u=o.components,d=c.getEventsForSlot(a),f=ab(n,a),h=f.length;if(u!=null&&u.showMore){var m=u.showMore,y=c.getDateForSlot(a-1);return h?ee.createElement(m,{localizer:l,slotDate:y,slot:a,count:h,events:d,remainingEvents:f}):!1}return h?ee.createElement("button",{type:"button",key:"sm_"+a,className:Lr("rbc-button-link","rbc-show-more"),onClick:function(w){return s.showMore(a,w)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(n,a.target)}}])}(ee.Component);tM.defaultProps=Re({},ns.defaultProps);var uae=function(t){var r=t.children;return ee.createElement("div",{className:"rbc-row-content-scroll-container"},r)},dae=function(t,r){return t.left<=r&&t.right>=r},fae=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function rM(){return dN(function(e){for(var t=e.range,r=e.events,n=e.maxRows,a=e.minRows,s=e.accessors,o=e.localizer,l=eM({dateRange:t,localizer:o}),c=l.first,u=l.last,d=r.map(function(v){return oae(v,t,s,o)}),f=ew(d,Math.max(n-1,1)),h=f.levels,m=f.extra,y=m.length>0?a-1:a;h.length<y;)h.push([]);return{first:c,last:u,levels:h,extra:m,range:t,slots:t.length,clone:function(w){var g=rM();return g(Re(Re({},e),w))},getDateForSlot:function(w){return t[w]},getSlotForDate:function(w){return t.find(function(g){return o.isSameDate(g,w)})},getEventsForSlot:function(w){return d.filter(function(g){return dae(g,w)}).map(function(g){return g.event})},continuesPrior:function(w){return o.continuesPrior(s.start(w),c)},continuesAfter:function(w){var g=s.start(w),x=s.end(w);return o.continuesAfter(g,x,u)}}},fae)}var gp=function(e){function t(){var r;tn(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Kn(this,t,[].concat(a)),r.handleSelectSlot=function(o){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(o.start,o.end+1),o)},r.handleShowMore=function(o,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=cB(r.containerRef.current,".rbc-row-bg")[0],m;h&&(m=h.children[o-1]);var y=f.getEventsForSlot(o);d(y,u[o-1],m,o,l)},r.getContainer=function(){var o=r.props.container;return o?o():r.containerRef.current},r.renderHeadingCell=function(o,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:o,key:"header_".concat(l),className:Lr("rbc-date-cell",f.isSameDate(o,d())&&"rbc-now")})},r.renderDummy=function(){var o=r.props,l=o.className,c=o.range,u=o.renderHeader,d=o.showAllEvents;return ee.createElement("div",{className:l,ref:r.containerRef},ee.createElement("div",{className:Lr("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&ee.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),ee.createElement("div",{className:"rbc-row",ref:r.eventRowRef},ee.createElement("div",{className:"rbc-row-segment"},ee.createElement("div",{className:"rbc-event"},ee.createElement("div",{className:"rbc-event-content"}," "))))))},r.containerRef=L.createRef(),r.headingRowRef=L.createRef(),r.eventRowRef=L.createRef(),r.slotMetrics=rM(),r}return En(t,e),rn(t,[{key:"getRowLimit",value:function(){var n,a=tb(this.eventRowRef.current),s=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?tb(this.headingRowRef.current):0,o=tb(this.containerRef.current)-s;return Math.max(Math.floor(o/a),1)}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.rtl,o=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,m=n.components,y=n.getNow,v=n.renderHeader,w=n.onSelect,g=n.localizer,x=n.onSelectStart,S=n.onSelectEnd,j=n.onDoubleClick,E=n.onKeyPress,T=n.resourceId,k=n.longPressThreshold,D=n.isAllDay,I=n.resizable,R=n.showAllEvents;if(d)return this.renderDummy();var M=this.slotMetrics(this.props),P=M.levels,F=M.extra,O=R?uae:gi,U=m.weekWrapper,z={selected:c,accessors:f,getters:h,localizer:g,components:m,onSelect:w,onDoubleClick:j,onKeyPress:E,resourceId:T,slotMetrics:M,resizable:I};return ee.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},ee.createElement(iae,{localizer:g,date:a,getNow:y,rtl:s,range:o,selectable:u,container:this.getContainer,getters:h,onSelectStart:x,onSelectEnd:S,onSelectSlot:this.handleSelectSlot,components:m,longPressThreshold:k,resourceId:T}),ee.createElement("div",{className:Lr("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},v&&ee.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),ee.createElement(O,null,ee.createElement(U,Object.assign({isAllDay:D},z,{rtl:this.props.rtl}),P.map(function(V,q){return ee.createElement(ZE,Object.assign({key:q,segments:V},z))}),!!F.length&&ee.createElement(tM,Object.assign({segments:F,onShowMore:this.handleShowMore},z))))))}}])}(ee.Component);gp.defaultProps={minRows:0,maxRows:1/0};var xN=function(t){var r=t.label;return ee.createElement("span",{role:"columnheader","aria-sort":"none"},r)},hae=function(t){var r=t.label,n=t.drilldownView,a=t.onDrillDown;return n?ee.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},r):ee.createElement("span",null,r)},pae=["date","className"],mae=function(t,r,n,a,s){return t.filter(function(o){return mp(o,r,n,a,s)})},Ox=function(e){function t(){var r;tn(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Kn(this,t,[].concat(a)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(o,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,m=c.selected,y=c.date,v=c.localizer,w=c.longPressThreshold,g=c.accessors,x=c.getters,S=c.showAllEvents,j=r.state,E=j.needLimitMeasure,T=j.rowLimit,k=mae(Cc(u),o[0],o[o.length-1],g,v),D=cae(k,g,v);return ee.createElement(gp,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:y,range:o,events:D,maxRows:S?1/0:T,selected:m,selectable:f,components:d,accessors:g,getters:x,localizer:v,renderHeader:r.readerDateHeading,renderForMeasure:E,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:w,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:S})},r.readerDateHeading=function(o){var l=o.date,c=o.className,u=un(o,pae),d=r.props,f=d.date,h=d.getDrilldownView,m=d.localizer,y=m.neq(f,l,"month"),v=m.isSameDate(l,f),w=h(l),g=m.format(l,"dateFormat"),x=r.props.components.dateHeader||hae;return ee.createElement("div",Object.assign({},u,{className:Lr(c,y&&"rbc-off-range",v&&"rbc-current"),role:"cell"}),ee.createElement(x,{label:g,date:l,drilldownView:w,isOffRange:y,onDrillDown:function(j){return r.handleHeadingClick(l,w,j)}}))},r.handleSelectSlot=function(o,l){r._pendingSelection=r._pendingSelection.concat(o),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(o,l,c){c.preventDefault(),r.clearSelection(),fr(r.props.onDrillDown,[o,l])},r.handleSelectEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onKeyPressEvent,l)},r.handleShowMore=function(o,l,c,u,d){var f=r.props,h=f.popup,m=f.onDrillDown,y=f.onShowMore,v=f.getDrilldownView,w=f.doShowMoreDrillDown;if(r.clearSelection(),h){var g=nE(c,r.containerRef.current);r.setState({overlay:{date:l,events:o,position:g,target:d}})}else w&&fr(m,[l,v(l)||ar.DAY]);fr(y,[o,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=L.createRef(),r.slotRowRef=L.createRef(),r._bgRows=[],r._pendingSelection=[],r}return En(t,e),rn(t,[{key:"componentDidMount",value:function(){var n=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||aE(function(){a=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,o=n.className,l=s.visibleDays(a,s),c=qz(l,7);return this._weekCount=c.length,ee.createElement("div",{className:Lr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},ee.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var a=this.props,s=a.localizer,o=a.components,l=n[0],c=n[n.length-1],u=o.header||xN;return s.range(l,c,"day").map(function(d,f){return ee.createElement("div",{key:"header_"+f,className:"rbc-header"},ee.createElement(u,{date:d,localizer:s,label:s.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,a,s=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,m=l.popupOffset,y=l.handleDragStart,v=function(){return s.setState({overlay:null})};return ee.createElement(vN,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:y,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(l,c){return+l-+c});var s=new Date(a[0]),o=new Date(a[a.length-1]);o.setDate(a[a.length-1].getDate()+1),fr(this.props.onSelectSlot,{slots:a,start:s,end:o,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,a){var s=n.date,o=n.localizer;return{date:s,needLimitMeasure:o.neq(s,a.date,"month")}}}])}(ee.Component);Ox.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),a=r.lastVisibleDay(e,r);return{start:n,end:a}};Ox.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sa.PREVIOUS:return n.add(e,-1,"month");case Sa.NEXT:return n.add(e,1,"month");default:return e}};Ox.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var Nk=function(t){var r=t.min,n=t.max,a=t.step,s=t.slots,o=t.localizer;return"".concat(+o.startOf(r,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(a,"-").concat(s)};function yN(e){for(var t=e.min,r=e.max,n=e.step,a=e.timeslots,s=e.localizer,o=Nk({start:t,end:r,step:n,timeslots:a,localizer:s}),l=1+s.getTotalMin(t,r),c=s.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*a)),d=u*a,f=new Array(u),h=new Array(d),m=0;m<u;m++){f[m]=new Array(a);for(var y=0;y<a;y++){var v=m*a+y,w=v*n;h[v]=f[m][y]=s.getSlotDate(t,c,w)}}var g=h.length*n;h.push(s.getSlotDate(t,c,g));function x(S){var j=s.diff(t,S,"minutes")+s.getDstOffset(t,S);return Math.min(j,l)}return{groups:f,update:function(j){return Nk(j)!==o?yN(j):this},dateIsInGroup:function(j,E){var T=f[E+1];return s.inRange(j,f[E][0],T?T[0]:r,"minutes")},nextSlot:function(j){var E=h[Math.min(h.findIndex(function(T){return T===j||s.eq(T,j)})+1,h.length-1)];return s.eq(E,j)&&(E=s.add(j,n,"minutes")),E},closestSlotToPosition:function(j){var E=Math.min(h.length-1,Math.max(0,Math.floor(j*d)));return h[E]},closestSlotFromPoint:function(j,E){var T=Math.abs(E.top-E.bottom);return this.closestSlotToPosition((j.y-E.top)/T)},closestSlotFromDate:function(j){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(j,t,"minutes"))return h[0];if(s.gt(j,r,"minutes"))return h[h.length-1];var T=s.diff(t,j,"minutes");return h[(T-T%n)/n+E]},startsBeforeDay:function(j){return s.lt(j,t,"day")},startsAfterDay:function(j){return s.gt(j,r,"day")},startsBefore:function(j){return s.lt(s.merge(t,j),t,"minutes")},startsAfter:function(j){return s.gt(s.merge(r,j),r,"minutes")},getRange:function(j,E,T,k){T||(j=s.min(r,s.max(t,j))),k||(E=s.min(r,s.max(t,E)));var D=x(j),I=x(E),R=I>n*d&&!s.eq(r,E)?(D-n)/(n*d)*100:D/(n*d)*100;return{top:R,height:I/(n*d)*100-R,start:x(j),startDate:j,end:x(E),endDate:E}},getCurrentTimePosition:function(j){var E=x(j),T=E/(n*d)*100;return T}}}var gae=function(){function e(t,r){var n=r.accessors,a=r.slotMetrics;tn(this,e);var s=a.getRange(n.start(t),n.end(t)),o=s.start,l=s.startDate,c=s.end,u=s.endDate,d=s.top,f=s.height;this.start=o,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return rn(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(a,s){return Math.max(a,s.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var a=this.row.leaves,s=a.indexOf(this);return s===a.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,a=r.xOffset,s=r._width,o=n.indexOf(this)+1;return a+o*s}}])}();function vae(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function xae(e){for(var t=HJ(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var a=0;a<t.length;a++){var s=t[a];if(!(n.endMs>s.startMs)){if(a>0){var o=t.splice(a,1)[0];r.push(o)}break}}}return r}function nM(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,s=t.map(function(d){return new gae(d,{slotMetrics:n,accessors:a})}),o=xae(s),l=[],c=function(){var f=o[u],h=l.find(function(v){return v.end>f.start||Math.abs(f.start-v.start)<r});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var m=null,y=h.rows.length-1;!m&&y>=0;y--)vae(h.rows[y],f,r)&&(m=h.rows[y]);m?(m.leaves.push(f),f.row=m):(f.leaves=[],h.rows.push(f))},u=0;u<o.length;u++)c();return o.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function aM(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var a=aM(e.friends[n],t,r);t=t>a?t:a}return t}function yae(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,a=e.accessors,s=nM({events:t,minimumStartDifference:r,slotMetrics:n,accessors:a});s.sort(function(U,z){return U=U.style,z=z.style,U.top!==z.top?U.top>z.top?1:-1:U.height!==z.height?U.top+U.height<z.top+z.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var l=0;l<s.length-1;++l)for(var c=s[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<s.length;++f){var h=s[f],m=h.style.top,y=h.style.top+h.style.height;(m>=u&&y<=d||y>u&&y<=d||m>=u&&m<d)&&(c.friends.push(h),h.friends.push(c))}for(var v=0;v<s.length;++v){for(var w=s[v],g=[],x=0;x<100;++x)g.push(1);for(var S=0;S<w.friends.length;++S)w.friends[S].idx!==void 0&&(g[w.friends[S].idx]=0);w.idx=g.indexOf(1)}for(var j=0;j<s.length;++j){var E=0;if(!s[j].size){var T=[],k=aM(s[j],0,T);E=100/(k+1),s[j].size=E;for(var D=0;D<T.length;++D)T[D].size=E}}for(var I=0;I<s.length;++I){var R=s[I];R.style.left=R.idx*R.size;for(var M=0,P=0;P<R.friends.length;++P){var F=R.friends[P].idx;M=M>F?M:F}M<=R.idx&&(R.size=100-R.idx*R.size);var O=R.idx===0?0:3;R.style.width="calc(".concat(R.size,"% - ").concat(O,"px)"),R.style.height="calc(".concat(R.style.height,"% - 2px)"),R.style.xOffset="calc(".concat(R.style.left,"% + ").concat(O,"px)")}return s}var jk={overlap:nM,"no-overlap":yae};function bae(e){return!!(e&&e.constructor&&e.call&&e.apply)}function wae(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in jk&&(r=jk[t]),bae(r)?r.apply(this,arguments):[]}var sM=function(e){function t(){return tn(this,t),Kn(this,t,arguments)}return En(t,e),rn(t,[{key:"render",value:function(){var n=this.props,a=n.renderSlot,s=n.resource,o=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?gi:d,h=l?l.slotGroupProp(o):{};return ee.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(m,y){var v=l?l.slotProp(m,s):{};return ee.createElement(f,{key:y,value:m,resource:s},ee.createElement("div",Object.assign({},v,{className:Lr("rbc-time-slot",v.className)}),a&&a(m,y)))}))}}])}(L.Component);function w0(e){return typeof e=="string"?e:e+"%"}function Nae(e){var t=e.style,r=e.className,n=e.event,a=e.accessors,s=e.rtl,o=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,m=e.isBackgroundEvent,y=e.onKeyPress,v=e.components,w=v.event,g=v.eventWrapper,x=a.title(n),S=a.tooltip(n),j=a.end(n),E=a.start(n),T=d.eventProp(n,E,j,o),k=[ee.createElement("div",{key:"1",className:"rbc-event-label"},l),ee.createElement("div",{key:"2",className:"rbc-event-content"},w?ee.createElement(w,{event:n,title:x}):x)],D=t.height,I=t.top,R=t.width,M=t.xOffset,P=Re(Re({},T.style),{},Us({top:w0(I),height:w0(D),width:w0(R)},s?"right":"left",w0(M)));return ee.createElement(g,Object.assign({type:"time"},e),ee.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:P,onKeyDown:y,title:S?(typeof l=="string"?l+": ":"")+S:void 0,className:Lr(m?"rbc-background-event":"rbc-event",r,T.className,{"rbc-selected":o,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},k))}var jae=function(t){var r=t.children,n=t.className,a=t.style,s=t.innerRef;return ee.createElement("div",{className:n,style:a,ref:s},r)},Sae=ee.forwardRef(function(e,t){return ee.createElement(jae,Object.assign({},e,{innerRef:t}))}),kae=["dayProp"],Cae=["eventContainerWrapper","timeIndicatorWrapper"],iM=function(e){function t(){var r;tn(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Kn(this,t,[].concat(a)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(o){var l=o.events,c=o.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,m=u.localizer,y=u.getters,v=u.components,w=u.step,g=u.timeslots,x=u.dayLayoutAlgorithm,S=u.resizable,j=r,E=j.slotMetrics,T=m.messages,k=wae({events:l,accessors:h,slotMetrics:E,minimumStartDifference:Math.ceil(w*g/2),dayLayoutAlgorithm:x});return k.map(function(D,I){var R,M=D.event,P=D.style,F=h.end(M),O=h.start(M),U=(R=h.eventId(M))!==null&&R!==void 0?R:"evt_"+I,z="eventTimeRangeFormat",V,q=E.startsBeforeDay(O),re=E.startsAfterDay(F);q?z="eventTimeRangeEndFormat":re&&(z="eventTimeRangeStartFormat"),q&&re?V=T.allDay:V=m.format({start:O,end:F},z);var oe=q||E.startsBefore(O),le=re||E.startsAfter(F);return ee.createElement(Nae,{style:P,event:M,label:V,key:U,getters:y,rtl:d,components:v,continuesPrior:oe,continuesAfter:le,accessors:h,resource:r.props.resource,selected:Lx(M,f),onClick:function($){return r._select(Re(Re(Re({},M),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),$)},onDoubleClick:function($){return r._doubleClick(M,$)},isBackgroundEvent:c,onKeyPress:function($){return r._keyPress(M,$)},resizable:S})})},r._selectable=function(){var o=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new JE(function(){return o},{longPressThreshold:c}),f=function(v){var w=r.props.onSelecting,g=r.state||{},x=h(v),S=x.startDate,j=x.endDate;w&&(u.eq(g.startDate,S,"minutes")&&u.eq(g.endDate,j,"minutes")||w({start:S,end:j,resourceId:r.props.resource})===!1)||(r.state.start!==x.start||r.state.end!==x.end||r.state.selecting!==x.selecting)&&r.setState(x)},h=function(v){var w=r.slotMetrics.closestSlotFromPoint(v,Gc(o));r.state.selecting||(r._initialSlot=w);var g=r._initialSlot;u.lte(g,w)?w=r.slotMetrics.nextSlot(w):u.gt(g,w)&&(g=r.slotMetrics.nextSlot(g));var x=r.slotMetrics.getRange(u.min(g,w),u.max(g,w));return Re(Re({},x),{},{selecting:!0,top:"".concat(x.top,"%"),height:"".concat(x.height,"%")})},m=function(v,w){if(!fv(r.containerRef.current,v)){var g=h(v),x=g.startDate,S=g.endDate;r._selectSlot({startDate:x,endDate:S,action:w,box:v})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(y){if(r.props.selectable==="ignoreEvents")return!fv(r.containerRef.current,y)}),d.on("click",function(y){return m(y,"click")}),d.on("doubleClick",function(y){return m(y,"doubleClick")}),d.on("select",function(y){r.state.selecting&&(r._selectSlot(Re(Re({},r.state),{},{action:"select",bounds:y})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(o){for(var l=o.startDate,c=o.endDate,u=o.action,d=o.bounds,f=o.box,h=l,m=[];r.props.localizer.lte(h,c);)m.push(h),h=new Date(+h+r.props.step*60*1e3);fr(r.props.onSelectSlot,{slots:m,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onKeyPressEvent,l)},r.slotMetrics=yN(r.props),r.containerRef=L.createRef(),r}return En(t,e),rn(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,a){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,l=s.isNow,c=s.localizer,u=s.date,d=s.min,f=s.max,h=c.neq(n.getNow(),o(),"minutes");if(n.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var m=!h&&c.eq(n.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(m)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,a=n.min,s=n.max,o=n.getNow,l=o();if(l>=a&&l<=s){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,a=n.date,s=n.max,o=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,m=un(f,kae),y=n.components,v=y.eventContainerWrapper,w=y.timeIndicatorWrapper,g=un(y,Cae);this.slotMetrics=this.slotMetrics.update(this.props);var x=this.slotMetrics,S=this.state,j=S.selecting,E=S.top,T=S.height,k=S.startDate,D=S.endDate,I={start:k,end:D},R=h(s,c),M=R.className,P=R.style,F={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},O=g.dayColumnWrapper||Sae;return ee.createElement(O,{ref:this.containerRef,date:a,style:P,className:Lr(M,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",j&&"rbc-slot-selecting"),slotMetrics:x,resource:c},x.groups.map(function(U,z){return ee.createElement(sM,{key:z,group:U,resource:c,getters:m,components:g})}),ee.createElement(v,{localizer:d,resource:c,accessors:u,getters:m,components:g,slotMetrics:x},ee.createElement("div",{className:Lr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),j&&ee.createElement("div",{className:"rbc-slot-selection",style:{top:E,height:T}},ee.createElement("span",null,d.format(I,"selectRangeFormat"))),l&&this.intervalTriggered&&ee.createElement(w,F,ee.createElement("div",F)))}}])}(ee.Component);iM.defaultProps={dragThroughEvents:!0,timeslots:2};var oM=function(t){var r=t.label;return ee.createElement(ee.Fragment,null,r)},Dae=function(e){function t(){var r;tn(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Kn(this,t,[].concat(a)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),fr(r.props.onDrillDown,[o,l])},r.renderRow=function(o){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,m=l.getters,y=l.localizer,v=l.accessors,w=l.components,g=l.resizable,x=v.resourceId(o),S=o?c.filter(function(j){return v.resource(j)===x}):c;return ee.createElement(gp,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:S,resourceId:x,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:w,accessors:v,getters:m,localizer:y,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:g})},r}return En(t,e),rn(t,[{key:"renderHeaderCells",value:function(n){var a=this,s=this.props,o=s.localizer,l=s.getDrilldownView,c=s.getNow,u=s.getters.dayProp,d=s.components.header,f=d===void 0?xN:d,h=c();return n.map(function(m,y){var v=l(m),w=o.format(m,"dayFormat"),g=u(m),x=g.className,S=g.style,j=ee.createElement(f,{date:m,label:w,localizer:o});return ee.createElement("div",{key:y,style:S,className:Lr("rbc-header",x,o.isSameDate(m,h)&&"rbc-today")},v?ee.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(T){return a.handleHeaderClick(m,v,T)}},j):ee.createElement("span",null,j))})}},{key:"render",value:function(){var n=this,a=this.props,s=a.width,o=a.rtl,l=a.resources,c=a.range,u=a.events,d=a.getNow,f=a.accessors,h=a.selectable,m=a.components,y=a.getters,v=a.scrollRef,w=a.localizer,g=a.isOverflowing,x=a.components,S=x.timeGutterHeader,j=x.resourceHeader,E=j===void 0?oM:j,T=a.resizable,k={};g&&(k[o?"marginLeft":"marginRight"]="".concat(X5()-1,"px"));var D=l.groupEvents(u);return ee.createElement("div",{style:k,ref:v,className:Lr("rbc-time-header",g&&"rbc-overflowing")},ee.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},S&&ee.createElement(S,null)),l.map(function(I,R){var M=Wr(I,2),P=M[0],F=M[1];return ee.createElement("div",{className:"rbc-time-header-content",key:P||R},F&&ee.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(R)},ee.createElement("div",{className:"rbc-header"},ee.createElement(E,{index:R,label:f.resourceTitle(F),resource:F}))),ee.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),ee.createElement(gp,{isAllDay:!0,rtl:o,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:D.get(P)||[],resourceId:F&&P,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:m,accessors:f,getters:y,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:T}))}))}}])}(ee.Component),_ae=function(e){function t(){var r;tn(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Kn(this,t,[].concat(a)),r.handleHeaderClick=function(o,l,c){c.preventDefault(),fr(r.props.onDrillDown,[o,l])},r}return En(t,e),rn(t,[{key:"renderHeaderCells",value:function(n){var a=this,s=this.props,o=s.localizer,l=s.getDrilldownView,c=s.getNow,u=s.getters.dayProp,d=s.components,f=d.header,h=f===void 0?xN:f,m=d.resourceHeader,y=m===void 0?oM:m,v=s.resources,w=s.accessors,g=s.events,x=s.rtl,S=s.selectable,j=s.components,E=s.getters,T=s.resizable,k=c(),D=v.groupEvents(g);return n.map(function(I,R){var M=l(I),P=o.format(I,"dayFormat"),F=u(I),O=F.className,U=F.style,z=ee.createElement(h,{date:I,label:P,localizer:o});return ee.createElement("div",{key:R,className:"rbc-time-header-content rbc-resource-grouping"},ee.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},ee.createElement("div",{style:U,className:Lr("rbc-header",O,o.isSameDate(I,k)&&"rbc-today")},M?ee.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(q){return a.handleHeaderClick(I,M,q)}},z):ee.createElement("span",null,z))),ee.createElement("div",{className:"rbc-row"},v.map(function(V,q){var re=Wr(V,2),oe=re[0],le=re[1];return ee.createElement("div",{key:"resource_".concat(oe,"_").concat(q),className:Lr("rbc-header",O,o.isSameDate(I,k)&&"rbc-today")},ee.createElement(y,{index:q,label:w.resourceTitle(le),resource:le}))})),ee.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},v.map(function(V,q){var re=Wr(V,2),oe=re[0],le=re[1],_=(D.get(oe)||[]).filter(function($){return o.isSameDate($.start,I)||o.isSameDate($.end,I)});return ee.createElement(gp,{key:"resource_".concat(oe,"_").concat(q),isAllDay:!0,rtl:x,getNow:c,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[I],events:_,resourceId:le&&oe,className:"rbc-allday-cell",selectable:S,selected:a.props.selected,components:j,accessors:w,getters:E,localizer:o,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:T})})))})}},{key:"render",value:function(){var n=this.props,a=n.width,s=n.rtl,o=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[s?"marginLeft":"marginRight"]="".concat(X5()-1,"px")),ee.createElement("div",{style:d,ref:l,className:Lr("rbc-time-header",c&&"rbc-overflowing")},ee.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&ee.createElement(u,null)),this.renderHeaderCells(o))}}])}(ee.Component);function Pae(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var Eae=function(t){var r=t.min,n=t.max,a=t.timeslots,s=t.step,o=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,h=u.timeGutterWrapper,m=L.useMemo(function(){return Pae({min:r,max:n,localizer:o})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),o]),y=m.start,v=m.end,w=L.useState(yN({min:y,max:v,timeslots:a,step:s,localizer:o})),g=Wr(w,2),x=g[0],S=g[1];L.useEffect(function(){x&&S(x.update({min:y,max:v,timeslots:a,step:s,localizer:o}))},[y==null?void 0:y.toISOString(),v==null?void 0:v.toISOString(),a,s]);var j=L.useCallback(function(E,T){if(T)return null;var k=x.dateIsInGroup(l(),T);return ee.createElement("span",{className:Lr("rbc-label",k&&"rbc-now")},o.format(E,"timeGutterFormat"))},[x,o,l]);return ee.createElement(h,{slotMetrics:x},ee.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},x.groups.map(function(E,T){return ee.createElement(sM,{key:T,group:E,resource:c,components:u,renderSlot:j,getters:d})})))},Mae=ee.forwardRef(function(e,t){return ee.createElement(Eae,Object.assign({gutterRef:t},e))}),sb={};function Aae(e,t){return{map:function(n){return e?e.map(function(a,s){return n([t.resourceId(a),a],s)}):[n([sb,null],0)]},groupEvents:function(n){var a=new Map;return e?(n.forEach(function(s){var o=t.resource(s)||sb;if(Array.isArray(o))o.forEach(function(c){var u=a.get(c)||[];u.push(s),a.set(c,u)});else{var l=a.get(o)||[];l.push(s),a.set(o,l)}}),a):(a.set(sb,n),a)}}}var uf=function(e){function t(r){var n;return tn(this,t),n=Kn(this,t,[r]),n.handleScroll=function(a){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=a.target.scrollLeft)},n.handleResize=function(){c3(n.rafHandle),n.rafHandle=aE(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];fr(n.props.onKeyPressEvent,s)},n.handleSelectEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];fr(n.props.onSelectEvent,s)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];fr(n.props.onDoubleClickEvent,s)},n.handleShowMore=function(a,s,o,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,m=u.getDrilldownView,y=u.doShowMoreDrillDown;if(n.clearSelection(),d){var v=nE(o,n.containerRef.current);n.setState({overlay:{date:s,events:a,position:Re(Re({},v),{},{width:"200px"}),target:c}})}else y&&fr(f,[s,m(s)||ar.DAY]);fr(h,[a,s,l])},n.handleSelectAllDaySlot=function(a,s){var o=n.props.onSelectSlot,l=new Date(a[0]),c=new Date(a[a.length-1]);c.setDate(a[a.length-1].getDate()+1),fr(o,{slots:a,start:l,end:c,action:s.action,resourceId:s.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var a=n.contentRef.current;if(a!=null&&a.scrollHeight){var s=a.scrollHeight>a.clientHeight;n.state.isOverflowing!==s&&(n._updatingOverflow=!0,n.setState({isOverflowing:s},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=dN(function(a,s){return Aae(a,s)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=ee.createRef(),n.contentRef=ee.createRef(),n.containerRef=ee.createRef(),n._scrollRatio=null,n.gutterRef=L.createRef(),n}return En(t,e),rn(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),c3(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,a,s,o,l,c,u,d,f,h){var m=this.props,y=m.min,v=m.max,w=(o.get(a)||[]).filter(function(x){return c.inRange(n,u.start(x),u.end(x),"day")}),g=(l.get(a)||[]).filter(function(x){return c.inRange(n,u.start(x),u.end(x),"day")});return ee.createElement(iM,Object.assign({},this.props,{localizer:c,min:c.merge(n,y),max:c.merge(n,v),resource:s&&a,components:d,isNow:c.isSameDate(n,h),key:"".concat(a,"-").concat(n),date:n,events:w,backgroundEvents:g,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,a,s,o,l,c,u,d,f){var h=this;return a.map(function(m){var y=Wr(m,2),v=y[0],w=y[1];return n.map(function(g){return h.renderDayColumn(g,v,w,s,o,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,a,s,o,l,c,u,d,f){var h=this;return n.map(function(m){return ee.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:m},a.map(function(y){var v=Wr(y,2),w=v[0],g=v[1];return ee.createElement("div",{style:{flex:1},key:c.resourceId(g)},h.renderDayColumn(m,w,g,s,o,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,a,s,o){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,c),y=m.groupEvents(a),v=m.groupEvents(s);return d?this.renderRangeFirst(n,m,y,v,u,c,o,f,h):this.renderResourcesFirst(n,m,y,v,u,c,o,f,h)}},{key:"render",value:function(){var n,a=this.props,s=a.events,o=a.backgroundEvents,l=a.range,c=a.width,u=a.rtl,d=a.selected,f=a.getNow,h=a.resources,m=a.components,y=a.accessors,v=a.getters,w=a.localizer,g=a.min,x=a.max,S=a.showMultiDayTimes,j=a.longPressThreshold,E=a.resizable,T=a.resourceGroupingLayout;c=c||this.state.gutterWidth;var k=l[0],D=l[l.length-1];this.slots=l.length;var I=[],R=[],M=[];s.forEach(function(F){if(mp(F,k,D,y,w)){var O=y.start(F),U=y.end(F);y.allDay(F)||w.startAndEndAreDateOnly(O,U)||!S&&!w.isSameDate(O,U)?I.push(F):R.push(F)}}),o.forEach(function(F){mp(F,k,D,y,w)&&M.push(F)}),I.sort(function(F,O){return tw(F,O,y,w)});var P={range:l,events:I,width:c,rtl:u,getNow:f,localizer:w,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,y),selectable:this.props.selectable,accessors:y,getters:v,components:m,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:j,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:E};return ee.createElement("div",{className:Lr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&T?ee.createElement(_ae,P):ee.createElement(Dae,P),this.props.popup&&this.renderOverlay(),ee.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},ee.createElement(Mae,{date:k,ref:this.gutterRef,localizer:w,min:w.merge(k,g),max:w.merge(k,x),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:m,className:"rbc-time-gutter",getters:v}),this.renderEvents(l,R,M,f())))}},{key:"renderOverlay",value:function(){var n,a,s=this,o=(n=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,m=l.popupOffset,y=l.handleDragStart,v=function(){return s.setState({overlay:null})};return ee.createElement(vN,{overlay:o,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:y,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,s=(a=n.gutterRef)!==null&&a!==void 0&&a.current?J2(n.gutterRef.current):void 0;s&&n.state.gutterWidth!==s&&n.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=n.min,s=n.max,o=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(o,a),o,"milliseconds"),u=l.diff(a,s,"milliseconds");this._scrollRatio=c/u}}])}(L.Component);uf.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Lae=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Tx=function(e){function t(){return tn(this,t),Kn(this,t,arguments)}return En(t,e),rn(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,o=n.min,l=o===void 0?s.startOf(new Date,"day"):o,c=n.max,u=c===void 0?s.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,h=n.enableAutoScroll,m=h===void 0?!0:h,y=un(n,Lae),v=t.range(a,{localizer:s});return ee.createElement(uf,Object.assign({},y,{range:v,eventOffset:10,localizer:s,min:l,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(ee.Component);Tx.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};Tx.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sa.PREVIOUS:return n.add(e,-1,"day");case Sa.NEXT:return n.add(e,1,"day");default:return e}};Tx.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var Oae=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Il=function(e){function t(){return tn(this,t),Kn(this,t,arguments)}return En(t,e),rn(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,o=n.min,l=o===void 0?s.startOf(new Date,"day"):o,c=n.max,u=c===void 0?s.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,h=n.enableAutoScroll,m=h===void 0?!0:h,y=un(n,Oae),v=t.range(a,this.props);return ee.createElement(uf,Object.assign({},y,{range:v,eventOffset:15,localizer:s,min:l,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(ee.Component);Il.defaultProps=uf.defaultProps;Il.navigate=function(e,t,r){var n=r.localizer;switch(t){case Sa.PREVIOUS:return n.add(e,-1,"week");case Sa.NEXT:return n.add(e,1,"week");default:return e}};Il.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),a=r.startOf(e,"week",n),s=r.endOf(e,"week",n);return r.range(a,s)};Il.title=function(e,t){var r=t.localizer,n=Il.range(e,{localizer:r}),a=TE(n),s=a[0],o=a.slice(1);return r.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Tae=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function bN(e,t){return Il.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Gp=function(e){function t(){return tn(this,t),Kn(this,t,arguments)}return En(t,e),rn(t,[{key:"render",value:function(){var n=this.props,a=n.date,s=n.localizer,o=n.min,l=o===void 0?s.startOf(new Date,"day"):o,c=n.max,u=c===void 0?s.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,h=n.enableAutoScroll,m=h===void 0?!0:h,y=un(n,Tae),v=bN(a,this.props);return ee.createElement(uf,Object.assign({},y,{range:v,eventOffset:15,localizer:s,min:l,max:u,scrollToTime:f,enableAutoScroll:m}))}}])}(ee.Component);Gp.defaultProps=uf.defaultProps;Gp.range=bN;Gp.navigate=Il.navigate;Gp.title=function(e,t){var r=t.localizer,n=bN(e,{localizer:r}),a=TE(n),s=a[0],o=a.slice(1);return r.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Ix=30;function Rx(e){var t=e.accessors,r=e.components,n=e.date,a=e.events,s=e.getters,o=e.length,l=o===void 0?Ix:o,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,h=L.useRef(null),m=L.useRef(null),y=L.useRef(null),v=L.useRef(null),w=L.useRef(null);L.useEffect(function(){S()});var g=function(D,I,R){var M=r.event,P=r.date;return I=I.filter(function(F){return mp(F,c.startOf(D,"day"),c.endOf(D,"day"),t,c)}),I.map(function(F,O){var U=t.title(F),z=t.end(F),V=t.start(F),q=s.eventProp(F,V,z,Lx(F,f)),re=O===0&&c.format(D,"agendaDateFormat"),oe=O===0?ee.createElement("td",{rowSpan:I.length,className:"rbc-agenda-date-cell"},P?ee.createElement(P,{day:D,label:re}):re):!1;return ee.createElement("tr",{key:R+"_"+O,className:q.className,style:q.style},oe,ee.createElement("td",{className:"rbc-agenda-time-cell"},x(D,F)),ee.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(_){return d&&d(F,_)},onDoubleClick:function(_){return u&&u(F,_)}},M?ee.createElement(M,{event:F,title:U}):U))},[])},x=function(D,I){var R="",M=r.time,P=c.messages.allDay,F=t.end(I),O=t.start(I);return t.allDay(I)||(c.eq(O,F)?P=c.format(O,"agendaTimeFormat"):c.isSameDate(O,F)?P=c.format({start:O,end:F},"agendaTimeRangeFormat"):c.isSameDate(D,O)?P=c.format(O,"agendaTimeFormat"):c.isSameDate(D,F)&&(P=c.format(F,"agendaTimeFormat"))),c.gt(D,O,"day")&&(R="rbc-continues-prior"),c.lt(D,F,"day")&&(R+=" rbc-continues-after"),ee.createElement("span",{className:R.trim()},M?ee.createElement(M,{event:I,day:D,label:P}):P)},S=function(){if(w.current){var D=h.current,I=w.current.firstChild;if(I){var R=v.current.scrollHeight>v.current.clientHeight,M=[],P=M;M=[J2(I.children[0]),J2(I.children[1])],(P[0]!==M[0]||P[1]!==M[1])&&(m.current.style.width=M[0]+"px",y.current.style.width=M[1]+"px"),R?(OH(D,"rbc-header-overflowing"),D.style.marginRight=X5()+"px"):TH(D,"rbc-header-overflowing")}}},j=c.messages,E=c.add(n,l,"day"),T=c.range(n,E,"day");return a=a.filter(function(k){return mp(k,c.startOf(n,"day"),c.endOf(E,"day"),t,c)}),a.sort(function(k,D){return+t.start(k)-+t.start(D)}),ee.createElement("div",{className:"rbc-agenda-view"},a.length!==0?ee.createElement(ee.Fragment,null,ee.createElement("table",{ref:h,className:"rbc-agenda-table"},ee.createElement("thead",null,ee.createElement("tr",null,ee.createElement("th",{className:"rbc-header",ref:m},j.date),ee.createElement("th",{className:"rbc-header",ref:y},j.time),ee.createElement("th",{className:"rbc-header"},j.event)))),ee.createElement("div",{className:"rbc-agenda-content",ref:v},ee.createElement("table",{className:"rbc-agenda-table"},ee.createElement("tbody",{ref:w},T.map(function(k,D){return g(k,a,D)}))))):ee.createElement("span",{className:"rbc-agenda-empty"},j.noEventsInRange))}Rx.range=function(e,t){var r=t.length,n=r===void 0?Ix:r,a=t.localizer,s=a.add(e,n,"day");return{start:e,end:s}};Rx.navigate=function(e,t,r){var n=r.length,a=n===void 0?Ix:n,s=r.localizer;switch(t){case Sa.PREVIOUS:return s.add(e,-a,"day");case Sa.NEXT:return s.add(e,a,"day");default:return e}};Rx.title=function(e,t){var r=t.length,n=r===void 0?Ix:r,a=t.localizer,s=a.add(e,n,"day");return a.format({start:e,end:s},"agendaHeaderFormat")};var lg=Us(Us(Us(Us(Us({},ar.MONTH,Ox),ar.WEEK,Il),ar.WORK_WEEK,Gp),ar.DAY,Tx),ar.AGENDA,Rx),Iae=["action","date","today"];function Rae(e,t){var r=t.action,n=t.date,a=t.today,s=un(t,Iae);switch(e=typeof e=="string"?lg[e]:e,r){case Sa.TODAY:n=a||new Date;break;case Sa.DATE:break;default:np(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,s)}return n}function Fae(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&jt(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var co=function(t){return function(r){return Fae(r,t)}},$ae=["view","date","getNow","onNavigate"],Uae=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function lM(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var a=Wr(n[r],2),s=a[0],o=a[1];o&&t.push(s)}return t}function zae(e,t){var r=t.views,n=lM(r);return n.indexOf(e)!==-1}var cM=function(e){function t(){var r;tn(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=Kn(this,t,[].concat(a)),r.getViews=function(){var o=r.props.views;return Array.isArray(o)?vne(o,function(l,c){return l[c]=lg[c]},{}):jt(o)==="object"?vZ(o,function(l,c){return l===!0?lg[c]:l}):lg},r.getView=function(){var o=r.getViews();return o[r.props.view]},r.getDrilldownView=function(o){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(o,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(o,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(o,{localizer:f}),c)},r.handleNavigate=function(o,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,m=un(c,$ae),y=r.getView(),v=f();d=Rae(y,Re(Re({},m),{},{action:o,date:l||d||v,today:v})),h(d,u,o),r.handleRangeChange(d,y)},r.handleViewChange=function(o){o!==r.props.view&&zae(o,r.props)&&r.props.onView(o);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[o],o)},r.handleSelectEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];fr(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(o){fr(r.props.onSelectSlot,o)},r.handleDrillDown=function(o,l){var c=r.props.onDrillDown;if(c){c(o,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(Sa.DATE,o)},r.state={context:t.getContext(r.props)},r}return En(t,e),rn(t,[{key:"render",value:function(){var n=this.props,a=n.view,s=n.toolbar,o=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,m=n.getNow,y=n.length,v=n.showMultiDayTimes,w=n.onShowMore,g=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var x=un(n,Uae);h=h||m();var S=this.getView(),j=this.state.context,E=j.accessors,T=j.components,k=j.getters,D=j.localizer,I=j.viewNames,R=T.toolbar||Wne,M=S.title(h,{localizer:D,length:y});return ee.createElement("div",Object.assign({},f,{className:Lr(d,"rbc-calendar",x.rtl&&"rbc-rtl"),style:u}),s&&ee.createElement(R,{date:h,view:a,views:I,label:M,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:D}),ee.createElement(S,Object.assign({},x,{events:o,backgroundEvents:l,date:h,getNow:m,length:y,localizer:D,getters:k,components:T,accessors:E,showMultiDayTimes:v,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:w,doShowMoreDrillDown:g,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var a=n.startAccessor,s=n.endAccessor,o=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,m=n.eventPropGetter,y=n.backgroundEventPropGetter,v=n.slotPropGetter,w=n.slotGroupPropGetter,g=n.dayPropGetter,x=n.view,S=n.views,j=n.localizer,E=n.culture,T=n.messages,k=T===void 0?{}:T,D=n.components,I=D===void 0?{}:D,R=n.formats,M=R===void 0?{}:R,P=lM(S),F=Vne(k);return{viewNames:P,localizer:Hne(j,E,M,F),getters:{eventProp:function(){return m&&m.apply(void 0,arguments)||{}},backgroundEventProp:function(){return y&&y.apply(void 0,arguments)||{}},slotProp:function(){return v&&v.apply(void 0,arguments)||{}},slotGroupProp:function(){return w&&w.apply(void 0,arguments)||{}},dayProp:function(){return g&&g.apply(void 0,arguments)||{}}},components:uZ(I[x]||{},ane(I,P),{eventWrapper:gi,backgroundEventWrapper:gi,eventContainerWrapper:gi,dateCellWrapper:gi,weekWrapper:gi,timeSlotWrapper:gi,timeGutterWrapper:gi,timeIndicatorWrapper:gi}),accessors:{start:co(a),end:co(s),allDay:co(o),tooltip:co(l),title:co(c),resource:co(u),resourceId:co(d),resourceTitle:co(f),eventId:co(h)}}}}])}(ee.Component);cM.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ar.MONTH,views:[ar.MONTH,ar.WEEK,ar.DAY,ar.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ar.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Bae=RP(cM,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Hae=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"MMMM DD",r)+" – "+n.format(s,n.eq(a,s,"month")?"DD":"MMMM DD",r)},Wae=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"L",r)+" – "+n.format(s,"L",r)},ib=function(t,r,n){var a=t.start,s=t.end;return n.format(a,"LT",r)+" – "+n.format(s,"LT",r)},Yae=function(t,r,n){var a=t.start;return n.format(a,"LT",r)+" – "},Vae=function(t,r,n){var a=t.end;return" – "+n.format(a,"LT",r)},qae={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:ib,eventTimeRangeFormat:ib,eventTimeRangeStartFormat:Yae,eventTimeRangeEndFormat:Vae,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Hae,agendaHeaderFormat:Wae,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:ib};function ll(e){var t=e&&e.toLowerCase();return t==="FullYear"?t="year":t||(t=void 0),t}function Gae(e){var t=function(_,$){return $?_.locale($):_};function r(le){return e(le).toDate().getTimezoneOffset()}function n(le,_){var $,Y,W=e(le).local(),X=e(_).local();if(!e.tz)return W.toDate().getTimezoneOffset()-X.toDate().getTimezoneOffset();var Z=($=W==null||(Y=W._z)===null||Y===void 0?void 0:Y.name)!==null&&$!==void 0?$:e.tz.guess(),ne=e.tz.zone(Z).utcOffset(+W),ie=e.tz.zone(Z).utcOffset(+X);return ne-ie}function a(le){var _=e(le).startOf("day");return n(_,le)}function s(le,_,$){var Y=ll($),W=Y?e(le).startOf(Y):e(le),X=Y?e(_).startOf(Y):e(_);return[W,X,Y]}function o(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1?arguments[1]:void 0,$=ll(_);return $?e(le).startOf($).toDate():e(le).toDate()}function l(){var le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1?arguments[1]:void 0,$=ll(_);return $?e(le).endOf($).toDate():e(le).toDate()}function c(le,_,$){var Y=s(le,_,$),W=Wr(Y,3),X=W[0],Z=W[1],ne=W[2];return X.isSame(Z,ne)}function u(le,_,$){return!c(le,_,$)}function d(le,_,$){var Y=s(le,_,$),W=Wr(Y,3),X=W[0],Z=W[1],ne=W[2];return X.isAfter(Z,ne)}function f(le,_,$){var Y=s(le,_,$),W=Wr(Y,3),X=W[0],Z=W[1],ne=W[2];return X.isBefore(Z,ne)}function h(le,_,$){var Y=s(le,_,$),W=Wr(Y,3),X=W[0],Z=W[1],ne=W[2];return X.isSameOrBefore(Z,ne)}function m(le,_,$){var Y=s(le,_,$),W=Wr(Y,3),X=W[0],Z=W[1],ne=W[2];return X.isSameOrBefore(Z,ne)}function y(le,_,$){var Y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",W=ll(Y),X=e(le),Z=e(_),ne=e($);return X.isBetween(Z,ne,W,"[]")}function v(le,_){var $=e(le),Y=e(_),W=e.min($,Y);return W.toDate()}function w(le,_){var $=e(le),Y=e(_),W=e.max($,Y);return W.toDate()}function g(le,_){if(!le&&!_)return null;var $=e(_).format("HH:mm:ss"),Y=e(le).startOf("day").format("MM/DD/YYYY");return e("".concat(Y," ").concat($),"MM/DD/YYYY HH:mm:ss").toDate()}function x(le,_,$){var Y=ll($);return e(le).add(_,Y).toDate()}function S(le,_){for(var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Y=ll($),W=e(le).toDate(),X=[];m(W,_);)X.push(W),W=x(W,1,Y);return X}function j(le,_){var $=ll(_),Y=o(le,$);return c(Y,le)?Y:x(Y,1,$)}function E(le,_){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",Y=ll($),W=e(le),X=e(_);return X.diff(W,Y)}function T(le){var _=e(le);return _.minutes()}function k(le){var _=le?e.localeData(le):e.localeData();return _?_.firstDayOfWeek():0}function D(le){return e(le).startOf("month").startOf("week").toDate()}function I(le){return e(le).endOf("month").endOf("week").toDate()}function R(le){for(var _=D(le),$=I(le),Y=[];m(_,$);)Y.push(_),_=x(_,1,"d");return Y}function M(le,_,$){return e(le).startOf("day").minute(_+$).toDate()}function P(le,_){return E(le,_,"minutes")}function F(le){var _=e(le).startOf("day"),$=e(le);return $.diff(_,"minutes")+a(le)}function O(le,_){var $=e(le),Y=e(_);return $.isBefore(Y,"day")}function U(le,_,$){var Y=e(_),W=e($);return Y.isSameOrAfter(W,"minutes")}function z(le,_){var $=e(le),Y=e(_),W=e.duration(Y.diff($));return W.days()}function V(le){var _=le.evtA,$=_.start,Y=_.end,W=_.allDay,X=le.evtB,Z=X.start,ne=X.end,ie=X.allDay,me=+o($,"day")-+o(Z,"day"),xe=z($,Y),De=z(Z,ne);return me||De-xe||!!ie-!!W||+$-+Z||+Y-+ne}function q(le){var _=le.event,$=_.start,Y=_.end,W=le.range,X=W.start,Z=W.end,ne=e($).startOf("day"),ie=e(Y),me=e(X),xe=e(Z),De=ne.isSameOrBefore(xe,"day"),Ee=!ne.isSame(ie,"minutes"),Ze=Ee?ie.isAfter(me,"minutes"):ie.isSameOrAfter(me,"minutes");return De&&Ze}function re(le,_){var $=e(le),Y=e(_);return $.isSame(Y,"day")}function oe(){var le=new Date,_=/-/.test(le.toString())?"-":"",$=le.getTimezoneOffset(),Y=Number("".concat(_).concat(Math.abs($))),W=e().utcOffset();return W>Y?1:0}return new Bne({formats:qae,firstOfWeek:k,firstVisibleDay:D,lastVisibleDay:I,visibleDays:R,format:function(_,$,Y){return t(e(_),Y).format($)},lt:f,lte:m,gt:d,gte:h,eq:c,neq:u,merge:g,inRange:y,startOf:o,endOf:l,range:S,add:x,diff:E,ceil:j,min:v,max:w,minutes:T,getSlotDate:M,getTimezoneOffset:r,getDstOffset:n,getTotalMin:P,getMinutesFromMidnight:F,continuesPrior:O,continuesAfter:U,sortEvents:V,inEventRange:q,isSameDate:re,daySpan:z,browserTZOffset:oe})}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var uM;function Te(){return uM.apply(null,arguments)}function Kae(e){uM=e}function Ks(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function Pc(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function It(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wN(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(It(e,t))return!1;return!0}function pa(e){return e===void 0}function To(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Kp(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function dM(e,t){var r=[],n,a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function vl(e,t){for(var r in t)It(t,r)&&(e[r]=t[r]);return It(t,"toString")&&(e.toString=t.toString),It(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Gi(e,t,r,n){return OM(e,t,r,n,!0).utc()}function Xae(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function wt(e){return e._pf==null&&(e._pf=Xae()),e._pf}var nw;Array.prototype.some?nw=Array.prototype.some:nw=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function NN(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=wt(e),r=nw.call(t.parsedDateParts,function(a){return a!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Fx(e){var t=Gi(NaN);return e!=null?vl(wt(t),e):wt(t).userInvalidated=!0,t}var Sk=Te.momentProperties=[],ob=!1;function jN(e,t){var r,n,a,s=Sk.length;if(pa(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),pa(t._i)||(e._i=t._i),pa(t._f)||(e._f=t._f),pa(t._l)||(e._l=t._l),pa(t._strict)||(e._strict=t._strict),pa(t._tzm)||(e._tzm=t._tzm),pa(t._isUTC)||(e._isUTC=t._isUTC),pa(t._offset)||(e._offset=t._offset),pa(t._pf)||(e._pf=wt(t)),pa(t._locale)||(e._locale=t._locale),s>0)for(r=0;r<s;r++)n=Sk[r],a=t[n],pa(a)||(e[n]=a);return e}function Xp(e){jN(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),ob===!1&&(ob=!0,Te.updateOffset(this),ob=!1)}function Xs(e){return e instanceof Xp||e!=null&&e._isAMomentObject!=null}function fM(e){Te.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function ys(e,t){var r=!0;return vl(function(){if(Te.deprecationHandler!=null&&Te.deprecationHandler(null,e),r){var n=[],a,s,o,l=arguments.length;for(s=0;s<l;s++){if(a="",typeof arguments[s]=="object"){a+=`
[`+s+"] ";for(o in arguments[0])It(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[s];n.push(a)}fM(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var kk={};function hM(e,t){Te.deprecationHandler!=null&&Te.deprecationHandler(e,t),kk[e]||(fM(t),kk[e]=!0)}Te.suppressDeprecationWarnings=!1;Te.deprecationHandler=null;function Ki(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function Qae(e){var t,r;for(r in e)It(e,r)&&(t=e[r],Ki(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function aw(e,t){var r=vl({},e),n;for(n in t)It(t,n)&&(Pc(e[n])&&Pc(t[n])?(r[n]={},vl(r[n],e[n]),vl(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)It(e,n)&&!It(t,n)&&Pc(e[n])&&(r[n]=vl({},r[n]));return r}function SN(e){e!=null&&this.set(e)}var sw;Object.keys?sw=Object.keys:sw=function(e){var t,r=[];for(t in e)It(e,t)&&r.push(t);return r};var Jae={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Zae(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Ki(n)?n.call(t,r):n}function zi(e,t,r){var n=""+Math.abs(e),a=t-n.length,s=e>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var kN=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,N0=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,lb={},xd={};function at(e,t,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),e&&(xd[e]=a),t&&(xd[t[0]]=function(){return zi(a.apply(this,arguments),t[1],t[2])}),r&&(xd[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function ese(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function tse(e){var t=e.match(kN),r,n;for(r=0,n=t.length;r<n;r++)xd[t[r]]?t[r]=xd[t[r]]:t[r]=ese(t[r]);return function(a){var s="",o;for(o=0;o<n;o++)s+=Ki(t[o])?t[o].call(a,e):t[o];return s}}function cg(e,t){return e.isValid()?(t=pM(t,e.localeData()),lb[t]=lb[t]||tse(t),lb[t](e)):e.localeData().invalidDate()}function pM(e,t){var r=5;function n(a){return t.longDateFormat(a)||a}for(N0.lastIndex=0;r>=0&&N0.test(e);)e=e.replace(N0,n),N0.lastIndex=0,r-=1;return e}var rse={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function nse(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(kN).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var ase="Invalid date";function sse(){return this._invalidDate}var ise="%d",ose=/\d{1,2}/;function lse(e){return this._ordinal.replace("%d",e)}var cse={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function use(e,t,r,n){var a=this._relativeTime[r];return Ki(a)?a(e,t,r,n):a.replace(/%d/i,e)}function dse(e,t){var r=this._relativeTime[e>0?"future":"past"];return Ki(r)?r(t):r.replace(/%s/i,t)}var Ck={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function bs(e){return typeof e=="string"?Ck[e]||Ck[e.toLowerCase()]:void 0}function CN(e){var t={},r,n;for(n in e)It(e,n)&&(r=bs(n),r&&(t[r]=e[n]));return t}var fse={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function hse(e){var t=[],r;for(r in e)It(e,r)&&t.push({unit:r,priority:fse[r]});return t.sort(function(n,a){return n.priority-a.priority}),t}var mM=/\d/,Ya=/\d\d/,gM=/\d{3}/,DN=/\d{4}/,$x=/[+-]?\d{6}/,gr=/\d\d?/,vM=/\d\d\d\d?/,xM=/\d\d\d\d\d\d?/,Ux=/\d{1,3}/,_N=/\d{1,4}/,zx=/[+-]?\d{1,6}/,df=/\d+/,Bx=/[+-]?\d+/,pse=/Z|[+-]\d\d:?\d\d/gi,Hx=/Z|[+-]\d\d(?::?\d\d)?/gi,mse=/[+-]?\d+(\.\d{1,3})?/,Qp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ff=/^[1-9]\d?/,PN=/^([1-9]\d|\d)/,hv;hv={};function Ke(e,t,r){hv[e]=Ki(t)?t:function(n,a){return n&&r?r:t}}function gse(e,t){return It(hv,e)?hv[e](t._strict,t._locale):new RegExp(vse(e))}function vse(e){return wo(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,a,s){return r||n||a||s}))}function wo(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function os(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _t(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=os(t)),r}var iw={};function er(e,t){var r,n=t,a;for(typeof e=="string"&&(e=[e]),To(t)&&(n=function(s,o){o[t]=_t(s)}),a=e.length,r=0;r<a;r++)iw[e[r]]=n}function Jp(e,t){er(e,function(r,n,a,s){a._w=a._w||{},t(r,a._w,a,s)})}function xse(e,t,r){t!=null&&It(iw,e)&&iw[e](t,r._a,r,e)}function Wx(e){return e%4===0&&e%100!==0||e%400===0}var Vn=0,vo=1,Si=2,ln=3,zs=4,xo=5,xc=6,yse=7,bse=8;at("Y",0,0,function(){var e=this.year();return e<=9999?zi(e,4):"+"+e});at(0,["YY",2],0,function(){return this.year()%100});at(0,["YYYY",4],0,"year");at(0,["YYYYY",5],0,"year");at(0,["YYYYYY",6,!0],0,"year");Ke("Y",Bx);Ke("YY",gr,Ya);Ke("YYYY",_N,DN);Ke("YYYYY",zx,$x);Ke("YYYYYY",zx,$x);er(["YYYYY","YYYYYY"],Vn);er("YYYY",function(e,t){t[Vn]=e.length===2?Te.parseTwoDigitYear(e):_t(e)});er("YY",function(e,t){t[Vn]=Te.parseTwoDigitYear(e)});er("Y",function(e,t){t[Vn]=parseInt(e,10)});function Th(e){return Wx(e)?366:365}Te.parseTwoDigitYear=function(e){return _t(e)+(_t(e)>68?1900:2e3)};var yM=hf("FullYear",!0);function wse(){return Wx(this.year())}function hf(e,t){return function(r){return r!=null?(bM(this,e,r),Te.updateOffset(this,t),this):vp(this,e)}}function vp(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function bM(e,t,r){var n,a,s,o,l;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}s=r,o=e.month(),l=e.date(),l=l===29&&o===1&&!Wx(s)?28:l,a?n.setUTCFullYear(s,o,l):n.setFullYear(s,o,l)}}function Nse(e){return e=bs(e),Ki(this[e])?this[e]():this}function jse(e,t){if(typeof e=="object"){e=CN(e);var r=hse(e),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(e=bs(e),Ki(this[e]))return this[e](t);return this}function Sse(e,t){return(e%t+t)%t}var $r;Array.prototype.indexOf?$r=Array.prototype.indexOf:$r=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function EN(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=Sse(t,12);return e+=(t-r)/12,r===1?Wx(e)?29:28:31-r%7%2}at("M",["MM",2],"Mo",function(){return this.month()+1});at("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});at("MMMM",0,0,function(e){return this.localeData().months(this,e)});Ke("M",gr,ff);Ke("MM",gr,Ya);Ke("MMM",function(e,t){return t.monthsShortRegex(e)});Ke("MMMM",function(e,t){return t.monthsRegex(e)});er(["M","MM"],function(e,t){t[vo]=_t(e)-1});er(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);a!=null?t[vo]=a:wt(r).invalidMonth=e});var kse="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wM="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),NM=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Cse=Qp,Dse=Qp;function _se(e,t){return e?Ks(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||NM).test(t)?"format":"standalone"][e.month()]:Ks(this._months)?this._months:this._months.standalone}function Pse(e,t){return e?Ks(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[NM.test(t)?"format":"standalone"][e.month()]:Ks(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Ese(e,t,r){var n,a,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)s=Gi([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase();return r?t==="MMM"?(a=$r.call(this._shortMonthsParse,o),a!==-1?a:null):(a=$r.call(this._longMonthsParse,o),a!==-1?a:null):t==="MMM"?(a=$r.call(this._shortMonthsParse,o),a!==-1?a:(a=$r.call(this._longMonthsParse,o),a!==-1?a:null)):(a=$r.call(this._longMonthsParse,o),a!==-1?a:(a=$r.call(this._shortMonthsParse,o),a!==-1?a:null))}function Mse(e,t,r){var n,a,s;if(this._monthsParseExact)return Ese.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=Gi([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(s="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function jM(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=_t(t);else if(t=e.localeData().monthsParse(t),!To(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,EN(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function SM(e){return e!=null?(jM(this,e),Te.updateOffset(this,!0),this):vp(this,"Month")}function Ase(){return EN(this.year(),this.month())}function Lse(e){return this._monthsParseExact?(It(this,"_monthsRegex")||kM.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(It(this,"_monthsShortRegex")||(this._monthsShortRegex=Cse),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function Ose(e){return this._monthsParseExact?(It(this,"_monthsRegex")||kM.call(this),e?this._monthsStrictRegex:this._monthsRegex):(It(this,"_monthsRegex")||(this._monthsRegex=Dse),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function kM(){function e(c,u){return u.length-c.length}var t=[],r=[],n=[],a,s,o,l;for(a=0;a<12;a++)s=Gi([2e3,a]),o=wo(this.monthsShort(s,"")),l=wo(this.months(s,"")),t.push(o),r.push(l),n.push(l),n.push(o);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Tse(e,t,r,n,a,s,o){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,a,s,o),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,a,s,o),l}function xp(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function pv(e,t,r){var n=7+t-r,a=(7+xp(e,0,n).getUTCDay()-t)%7;return-a+n-1}function CM(e,t,r,n,a){var s=(7+r-n)%7,o=pv(e,n,a),l=1+7*(t-1)+s+o,c,u;return l<=0?(c=e-1,u=Th(c)+l):l>Th(e)?(c=e+1,u=l-Th(e)):(c=e,u=l),{year:c,dayOfYear:u}}function yp(e,t,r){var n=pv(e.year(),t,r),a=Math.floor((e.dayOfYear()-n-1)/7)+1,s,o;return a<1?(o=e.year()-1,s=a+No(o,t,r)):a>No(e.year(),t,r)?(s=a-No(e.year(),t,r),o=e.year()+1):(o=e.year(),s=a),{week:s,year:o}}function No(e,t,r){var n=pv(e,t,r),a=pv(e+1,t,r);return(Th(e)-n+a)/7}at("w",["ww",2],"wo","week");at("W",["WW",2],"Wo","isoWeek");Ke("w",gr,ff);Ke("ww",gr,Ya);Ke("W",gr,ff);Ke("WW",gr,Ya);Jp(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=_t(e)});function Ise(e){return yp(e,this._week.dow,this._week.doy).week}var Rse={dow:0,doy:6};function Fse(){return this._week.dow}function $se(){return this._week.doy}function Use(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function zse(e){var t=yp(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}at("d",0,"do","day");at("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});at("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});at("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});at("e",0,0,"weekday");at("E",0,0,"isoWeekday");Ke("d",gr);Ke("e",gr);Ke("E",gr);Ke("dd",function(e,t){return t.weekdaysMinRegex(e)});Ke("ddd",function(e,t){return t.weekdaysShortRegex(e)});Ke("dddd",function(e,t){return t.weekdaysRegex(e)});Jp(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);a!=null?t.d=a:wt(r).invalidWeekday=e});Jp(["d","e","E"],function(e,t,r,n){t[n]=_t(e)});function Bse(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function Hse(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function MN(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Wse="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),DM="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yse="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vse=Qp,qse=Qp,Gse=Qp;function Kse(e,t){var r=Ks(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?MN(r,this._week.dow):e?r[e.day()]:r}function Xse(e){return e===!0?MN(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Qse(e){return e===!0?MN(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Jse(e,t,r){var n,a,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)s=Gi([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase();return r?t==="dddd"?(a=$r.call(this._weekdaysParse,o),a!==-1?a:null):t==="ddd"?(a=$r.call(this._shortWeekdaysParse,o),a!==-1?a:null):(a=$r.call(this._minWeekdaysParse,o),a!==-1?a:null):t==="dddd"?(a=$r.call(this._weekdaysParse,o),a!==-1||(a=$r.call(this._shortWeekdaysParse,o),a!==-1)?a:(a=$r.call(this._minWeekdaysParse,o),a!==-1?a:null)):t==="ddd"?(a=$r.call(this._shortWeekdaysParse,o),a!==-1||(a=$r.call(this._weekdaysParse,o),a!==-1)?a:(a=$r.call(this._minWeekdaysParse,o),a!==-1?a:null)):(a=$r.call(this._minWeekdaysParse,o),a!==-1||(a=$r.call(this._weekdaysParse,o),a!==-1)?a:(a=$r.call(this._shortWeekdaysParse,o),a!==-1?a:null))}function Zse(e,t,r){var n,a,s;if(this._weekdaysParseExact)return Jse.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=Gi([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(s="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function eie(e){if(!this.isValid())return e!=null?this:NaN;var t=vp(this,"Day");return e!=null?(e=Bse(e,this.localeData()),this.add(e-t,"d")):t}function tie(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function rie(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=Hse(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function nie(e){return this._weekdaysParseExact?(It(this,"_weekdaysRegex")||AN.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(It(this,"_weekdaysRegex")||(this._weekdaysRegex=Vse),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function aie(e){return this._weekdaysParseExact?(It(this,"_weekdaysRegex")||AN.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(It(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qse),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function sie(e){return this._weekdaysParseExact?(It(this,"_weekdaysRegex")||AN.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(It(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Gse),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function AN(){function e(d,f){return f.length-d.length}var t=[],r=[],n=[],a=[],s,o,l,c,u;for(s=0;s<7;s++)o=Gi([2e3,1]).day(s),l=wo(this.weekdaysMin(o,"")),c=wo(this.weekdaysShort(o,"")),u=wo(this.weekdays(o,"")),t.push(l),r.push(c),n.push(u),a.push(l),a.push(c),a.push(u);t.sort(e),r.sort(e),n.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function LN(){return this.hours()%12||12}function iie(){return this.hours()||24}at("H",["HH",2],0,"hour");at("h",["hh",2],0,LN);at("k",["kk",2],0,iie);at("hmm",0,0,function(){return""+LN.apply(this)+zi(this.minutes(),2)});at("hmmss",0,0,function(){return""+LN.apply(this)+zi(this.minutes(),2)+zi(this.seconds(),2)});at("Hmm",0,0,function(){return""+this.hours()+zi(this.minutes(),2)});at("Hmmss",0,0,function(){return""+this.hours()+zi(this.minutes(),2)+zi(this.seconds(),2)});function _M(e,t){at(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}_M("a",!0);_M("A",!1);function PM(e,t){return t._meridiemParse}Ke("a",PM);Ke("A",PM);Ke("H",gr,PN);Ke("h",gr,ff);Ke("k",gr,ff);Ke("HH",gr,Ya);Ke("hh",gr,Ya);Ke("kk",gr,Ya);Ke("hmm",vM);Ke("hmmss",xM);Ke("Hmm",vM);Ke("Hmmss",xM);er(["H","HH"],ln);er(["k","kk"],function(e,t,r){var n=_t(e);t[ln]=n===24?0:n});er(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});er(["h","hh"],function(e,t,r){t[ln]=_t(e),wt(r).bigHour=!0});er("hmm",function(e,t,r){var n=e.length-2;t[ln]=_t(e.substr(0,n)),t[zs]=_t(e.substr(n)),wt(r).bigHour=!0});er("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[ln]=_t(e.substr(0,n)),t[zs]=_t(e.substr(n,2)),t[xo]=_t(e.substr(a)),wt(r).bigHour=!0});er("Hmm",function(e,t,r){var n=e.length-2;t[ln]=_t(e.substr(0,n)),t[zs]=_t(e.substr(n))});er("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[ln]=_t(e.substr(0,n)),t[zs]=_t(e.substr(n,2)),t[xo]=_t(e.substr(a))});function oie(e){return(e+"").toLowerCase().charAt(0)==="p"}var lie=/[ap]\.?m?\.?/i,cie=hf("Hours",!0);function uie(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var EM={calendar:Jae,longDateFormat:rse,invalidDate:ase,ordinal:ise,dayOfMonthOrdinalParse:ose,relativeTime:cse,months:kse,monthsShort:wM,week:Rse,weekdays:Wse,weekdaysMin:Yse,weekdaysShort:DM,meridiemParse:lie},xr={},oh={},bp;function die(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function Dk(e){return e&&e.toLowerCase().replace("_","-")}function fie(e){for(var t=0,r,n,a,s;t<e.length;){for(s=Dk(e[t]).split("-"),r=s.length,n=Dk(e[t+1]),n=n?n.split("-"):null;r>0;){if(a=Yx(s.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&die(s,n)>=r-1)break;r--}t++}return bp}function hie(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Yx(e){var t=null,r;if(xr[e]===void 0&&typeof module<"u"&&module&&module.exports&&hie(e))try{t=bp._abbr,r=require,r("./locale/"+e),_l(t)}catch{xr[e]=null}return xr[e]}function _l(e,t){var r;return e&&(pa(t)?r=zo(e):r=ON(e,t),r?bp=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),bp._abbr}function ON(e,t){if(t!==null){var r,n=EM;if(t.abbr=e,xr[e]!=null)hM("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=xr[e]._config;else if(t.parentLocale!=null)if(xr[t.parentLocale]!=null)n=xr[t.parentLocale]._config;else if(r=Yx(t.parentLocale),r!=null)n=r._config;else return oh[t.parentLocale]||(oh[t.parentLocale]=[]),oh[t.parentLocale].push({name:e,config:t}),null;return xr[e]=new SN(aw(n,t)),oh[e]&&oh[e].forEach(function(a){ON(a.name,a.config)}),_l(e),xr[e]}else return delete xr[e],null}function pie(e,t){if(t!=null){var r,n,a=EM;xr[e]!=null&&xr[e].parentLocale!=null?xr[e].set(aw(xr[e]._config,t)):(n=Yx(e),n!=null&&(a=n._config),t=aw(a,t),n==null&&(t.abbr=e),r=new SN(t),r.parentLocale=xr[e],xr[e]=r),_l(e)}else xr[e]!=null&&(xr[e].parentLocale!=null?(xr[e]=xr[e].parentLocale,e===_l()&&_l(e)):xr[e]!=null&&delete xr[e]);return xr[e]}function zo(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return bp;if(!Ks(e)){if(t=Yx(e),t)return t;e=[e]}return fie(e)}function mie(){return sw(xr)}function TN(e){var t,r=e._a;return r&&wt(e).overflow===-2&&(t=r[vo]<0||r[vo]>11?vo:r[Si]<1||r[Si]>EN(r[Vn],r[vo])?Si:r[ln]<0||r[ln]>24||r[ln]===24&&(r[zs]!==0||r[xo]!==0||r[xc]!==0)?ln:r[zs]<0||r[zs]>59?zs:r[xo]<0||r[xo]>59?xo:r[xc]<0||r[xc]>999?xc:-1,wt(e)._overflowDayOfYear&&(t<Vn||t>Si)&&(t=Si),wt(e)._overflowWeeks&&t===-1&&(t=yse),wt(e)._overflowWeekday&&t===-1&&(t=bse),wt(e).overflow=t),e}var gie=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vie=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xie=/Z|[+-]\d\d(?::?\d\d)?/,j0=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],cb=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yie=/^\/?Date\((-?\d+)/i,bie=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,wie={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function MM(e){var t,r,n=e._i,a=gie.exec(n)||vie.exec(n),s,o,l,c,u=j0.length,d=cb.length;if(a){for(wt(e).iso=!0,t=0,r=u;t<r;t++)if(j0[t][1].exec(a[1])){o=j0[t][0],s=j0[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(a[3]){for(t=0,r=d;t<r;t++)if(cb[t][1].exec(a[3])){l=(a[2]||" ")+cb[t][0];break}if(l==null){e._isValid=!1;return}}if(!s&&l!=null){e._isValid=!1;return}if(a[4])if(xie.exec(a[4]))c="Z";else{e._isValid=!1;return}e._f=o+(l||"")+(c||""),RN(e)}else e._isValid=!1}function Nie(e,t,r,n,a,s){var o=[jie(e),wM.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return s&&o.push(parseInt(s,10)),o}function jie(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Sie(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function kie(e,t,r){if(e){var n=DM.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(n!==a)return wt(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Cie(e,t,r){if(e)return wie[e];if(t)return 0;var n=parseInt(r,10),a=n%100,s=(n-a)/100;return s*60+a}function AM(e){var t=bie.exec(Sie(e._i)),r;if(t){if(r=Nie(t[4],t[3],t[2],t[5],t[6],t[7]),!kie(t[1],r,e))return;e._a=r,e._tzm=Cie(t[8],t[9],t[10]),e._d=xp.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),wt(e).rfc2822=!0}else e._isValid=!1}function Die(e){var t=yie.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(MM(e),e._isValid===!1)delete e._isValid;else return;if(AM(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:Te.createFromInputFallback(e)}Te.createFromInputFallback=ys("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Yu(e,t,r){return e??t??r}function _ie(e){var t=new Date(Te.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function IN(e){var t,r,n=[],a,s,o;if(!e._d){for(a=_ie(e),e._w&&e._a[Si]==null&&e._a[vo]==null&&Pie(e),e._dayOfYear!=null&&(o=Yu(e._a[Vn],a[Vn]),(e._dayOfYear>Th(o)||e._dayOfYear===0)&&(wt(e)._overflowDayOfYear=!0),r=xp(o,0,e._dayOfYear),e._a[vo]=r.getUTCMonth(),e._a[Si]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[ln]===24&&e._a[zs]===0&&e._a[xo]===0&&e._a[xc]===0&&(e._nextDay=!0,e._a[ln]=0),e._d=(e._useUTC?xp:Tse).apply(null,n),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ln]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==s&&(wt(e).weekdayMismatch=!0)}}function Pie(e){var t,r,n,a,s,o,l,c,u;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(s=1,o=4,r=Yu(t.GG,e._a[Vn],yp(mr(),1,4).year),n=Yu(t.W,1),a=Yu(t.E,1),(a<1||a>7)&&(c=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,u=yp(mr(),s,o),r=Yu(t.gg,e._a[Vn],u.year),n=Yu(t.w,u.week),t.d!=null?(a=t.d,(a<0||a>6)&&(c=!0)):t.e!=null?(a=t.e+s,(t.e<0||t.e>6)&&(c=!0)):a=s),n<1||n>No(r,s,o)?wt(e)._overflowWeeks=!0:c!=null?wt(e)._overflowWeekday=!0:(l=CM(r,n,a,s,o),e._a[Vn]=l.year,e._dayOfYear=l.dayOfYear)}Te.ISO_8601=function(){};Te.RFC_2822=function(){};function RN(e){if(e._f===Te.ISO_8601){MM(e);return}if(e._f===Te.RFC_2822){AM(e);return}e._a=[],wt(e).empty=!0;var t=""+e._i,r,n,a,s,o,l=t.length,c=0,u,d;for(a=pM(e._f,e._locale).match(kN)||[],d=a.length,r=0;r<d;r++)s=a[r],n=(t.match(gse(s,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&wt(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),c+=n.length),xd[s]?(n?wt(e).empty=!1:wt(e).unusedTokens.push(s),xse(s,n,e)):e._strict&&!n&&wt(e).unusedTokens.push(s);wt(e).charsLeftOver=l-c,t.length>0&&wt(e).unusedInput.push(t),e._a[ln]<=12&&wt(e).bigHour===!0&&e._a[ln]>0&&(wt(e).bigHour=void 0),wt(e).parsedDateParts=e._a.slice(0),wt(e).meridiem=e._meridiem,e._a[ln]=Eie(e._locale,e._a[ln],e._meridiem),u=wt(e).era,u!==null&&(e._a[Vn]=e._locale.erasConvertYear(u,e._a[Vn])),IN(e),TN(e)}function Eie(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Mie(e){var t,r,n,a,s,o,l=!1,c=e._f.length;if(c===0){wt(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<c;a++)s=0,o=!1,t=jN({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],RN(t),NN(t)&&(o=!0),s+=wt(t).charsLeftOver,s+=wt(t).unusedTokens.length*10,wt(t).score=s,l?s<n&&(n=s,r=t):(n==null||s<n||o)&&(n=s,r=t,o&&(l=!0));vl(e,r||t)}function Aie(e){if(!e._d){var t=CN(e._i),r=t.day===void 0?t.date:t.day;e._a=dM([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),IN(e)}}function Lie(e){var t=new Xp(TN(LM(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function LM(e){var t=e._i,r=e._f;return e._locale=e._locale||zo(e._l),t===null||r===void 0&&t===""?Fx({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),Xs(t)?new Xp(TN(t)):(Kp(t)?e._d=t:Ks(r)?Mie(e):r?RN(e):Oie(e),NN(e)||(e._d=null),e))}function Oie(e){var t=e._i;pa(t)?e._d=new Date(Te.now()):Kp(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Die(e):Ks(t)?(e._a=dM(t.slice(0),function(r){return parseInt(r,10)}),IN(e)):Pc(t)?Aie(e):To(t)?e._d=new Date(t):Te.createFromInputFallback(e)}function OM(e,t,r,n,a){var s={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Pc(e)&&wN(e)||Ks(e)&&e.length===0)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=a,s._l=r,s._i=e,s._f=t,s._strict=n,Lie(s)}function mr(e,t,r,n){return OM(e,t,r,n,!1)}var Tie=ys("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mr.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Fx()}),Iie=ys("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=mr.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Fx()});function TM(e,t){var r,n;if(t.length===1&&Ks(t[0])&&(t=t[0]),!t.length)return mr();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function Rie(){var e=[].slice.call(arguments,0);return TM("isBefore",e)}function Fie(){var e=[].slice.call(arguments,0);return TM("isAfter",e)}var $ie=function(){return Date.now?Date.now():+new Date},lh=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Uie(e){var t,r=!1,n,a=lh.length;for(t in e)if(It(e,t)&&!($r.call(lh,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<a;++n)if(e[lh[n]]){if(r)return!1;parseFloat(e[lh[n]])!==_t(e[lh[n]])&&(r=!0)}return!0}function zie(){return this._isValid}function Bie(){return ti(NaN)}function Vx(e){var t=CN(e),r=t.year||0,n=t.quarter||0,a=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,l=t.hour||0,c=t.minute||0,u=t.second||0,d=t.millisecond||0;this._isValid=Uie(t),this._milliseconds=+d+u*1e3+c*6e4+l*1e3*60*60,this._days=+o+s*7,this._months=+a+n*3+r*12,this._data={},this._locale=zo(),this._bubble()}function ug(e){return e instanceof Vx}function ow(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Hie(e,t,r){var n=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),s=0,o;for(o=0;o<n;o++)_t(e[o])!==_t(t[o])&&s++;return s+a}function IM(e,t){at(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+zi(~~(r/60),2)+t+zi(~~r%60,2)})}IM("Z",":");IM("ZZ","");Ke("Z",Hx);Ke("ZZ",Hx);er(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=FN(Hx,e)});var Wie=/([\+\-]|\d\d)/gi;function FN(e,t){var r=(t||"").match(e),n,a,s;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(Wie)||["-",0,0],s=+(a[1]*60)+_t(a[2]),s===0?0:a[0]==="+"?s:-s)}function $N(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(Xs(e)||Kp(e)?e.valueOf():mr(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),Te.updateOffset(r,!1),r):mr(e).local()}function lw(e){return-Math.round(e._d.getTimezoneOffset())}Te.updateOffset=function(){};function Yie(e,t,r){var n=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=FN(Hx,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=lw(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?$M(this,ti(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Te.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:lw(this)}function Vie(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function qie(e){return this.utcOffset(0,e)}function Gie(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(lw(this),"m")),this}function Kie(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=FN(pse,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Xie(e){return this.isValid()?(e=e?mr(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function Qie(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Jie(){if(!pa(this._isDSTShifted))return this._isDSTShifted;var e={},t;return jN(e,this),e=LM(e),e._a?(t=e._isUTC?Gi(e._a):mr(e._a),this._isDSTShifted=this.isValid()&&Hie(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Zie(){return this.isValid()?!this._isUTC:!1}function eoe(){return this.isValid()?this._isUTC:!1}function RM(){return this.isValid()?this._isUTC&&this._offset===0:!1}var toe=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,roe=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function ti(e,t){var r=e,n=null,a,s,o;return ug(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:To(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=toe.exec(e))?(a=n[1]==="-"?-1:1,r={y:0,d:_t(n[Si])*a,h:_t(n[ln])*a,m:_t(n[zs])*a,s:_t(n[xo])*a,ms:_t(ow(n[xc]*1e3))*a}):(n=roe.exec(e))?(a=n[1]==="-"?-1:1,r={y:ic(n[2],a),M:ic(n[3],a),w:ic(n[4],a),d:ic(n[5],a),h:ic(n[6],a),m:ic(n[7],a),s:ic(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=noe(mr(r.from),mr(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),s=new Vx(r),ug(e)&&It(e,"_locale")&&(s._locale=e._locale),ug(e)&&It(e,"_isValid")&&(s._isValid=e._isValid),s}ti.fn=Vx.prototype;ti.invalid=Bie;function ic(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function _k(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function noe(e,t){var r;return e.isValid()&&t.isValid()?(t=$N(t,e),e.isBefore(t)?r=_k(e,t):(r=_k(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function FM(e,t){return function(r,n){var a,s;return n!==null&&!isNaN(+n)&&(hM(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=n,n=s),a=ti(r,n),$M(this,a,e),this}}function $M(e,t,r,n){var a=t._milliseconds,s=ow(t._days),o=ow(t._months);e.isValid()&&(n=n??!0,o&&jM(e,vp(e,"Month")+o*r),s&&bM(e,"Date",vp(e,"Date")+s*r),a&&e._d.setTime(e._d.valueOf()+a*r),n&&Te.updateOffset(e,s||o))}var aoe=FM(1,"add"),soe=FM(-1,"subtract");function UM(e){return typeof e=="string"||e instanceof String}function ioe(e){return Xs(e)||Kp(e)||UM(e)||To(e)||loe(e)||ooe(e)||e===null||e===void 0}function ooe(e){var t=Pc(e)&&!wN(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,s,o=n.length;for(a=0;a<o;a+=1)s=n[a],r=r||It(e,s);return t&&r}function loe(e){var t=Ks(e),r=!1;return t&&(r=e.filter(function(n){return!To(n)&&UM(e)}).length===0),t&&r}function coe(e){var t=Pc(e)&&!wN(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,s;for(a=0;a<n.length;a+=1)s=n[a],r=r||It(e,s);return t&&r}function uoe(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function doe(e,t){arguments.length===1&&(arguments[0]?ioe(arguments[0])?(e=arguments[0],t=void 0):coe(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||mr(),n=$N(r,this).startOf("day"),a=Te.calendarFormat(this,n)||"sameElse",s=t&&(Ki(t[a])?t[a].call(this,r):t[a]);return this.format(s||this.localeData().calendar(a,this,mr(r)))}function foe(){return new Xp(this)}function hoe(e,t){var r=Xs(e)?e:mr(e);return this.isValid()&&r.isValid()?(t=bs(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function poe(e,t){var r=Xs(e)?e:mr(e);return this.isValid()&&r.isValid()?(t=bs(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function moe(e,t,r,n){var a=Xs(e)?e:mr(e),s=Xs(t)?t:mr(t);return this.isValid()&&a.isValid()&&s.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function goe(e,t){var r=Xs(e)?e:mr(e),n;return this.isValid()&&r.isValid()?(t=bs(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function voe(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function xoe(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function yoe(e,t,r){var n,a,s;if(!this.isValid())return NaN;if(n=$N(e,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,t=bs(t),t){case"year":s=dg(this,n)/12;break;case"month":s=dg(this,n);break;case"quarter":s=dg(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-a)/864e5;break;case"week":s=(this-n-a)/6048e5;break;default:s=this-n}return r?s:os(s)}function dg(e,t){if(e.date()<t.date())return-dg(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),a,s;return t-n<0?(a=e.clone().add(r-1,"months"),s=(t-n)/(n-a)):(a=e.clone().add(r+1,"months"),s=(t-n)/(a-n)),-(r+s)||0}Te.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";Te.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function boe(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function woe(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?cg(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ki(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",cg(r,"Z")):cg(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Noe(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,a,s;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",s=t+'[")]',this.format(r+n+a+s)}function joe(e){e||(e=this.isUtc()?Te.defaultFormatUtc:Te.defaultFormat);var t=cg(this,e);return this.localeData().postformat(t)}function Soe(e,t){return this.isValid()&&(Xs(e)&&e.isValid()||mr(e).isValid())?ti({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function koe(e){return this.from(mr(),e)}function Coe(e,t){return this.isValid()&&(Xs(e)&&e.isValid()||mr(e).isValid())?ti({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Doe(e){return this.to(mr(),e)}function zM(e){var t;return e===void 0?this._locale._abbr:(t=zo(e),t!=null&&(this._locale=t),this)}var BM=ys("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function HM(){return this._locale}var mv=1e3,yd=60*mv,gv=60*yd,WM=(365*400+97)*24*gv;function bd(e,t){return(e%t+t)%t}function YM(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-WM:new Date(e,t,r).valueOf()}function VM(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-WM:Date.UTC(e,t,r)}function _oe(e){var t,r;if(e=bs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?VM:YM,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=bd(t+(this._isUTC?0:this.utcOffset()*yd),gv);break;case"minute":t=this._d.valueOf(),t-=bd(t,yd);break;case"second":t=this._d.valueOf(),t-=bd(t,mv);break}return this._d.setTime(t),Te.updateOffset(this,!0),this}function Poe(e){var t,r;if(e=bs(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?VM:YM,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=gv-bd(t+(this._isUTC?0:this.utcOffset()*yd),gv)-1;break;case"minute":t=this._d.valueOf(),t+=yd-bd(t,yd)-1;break;case"second":t=this._d.valueOf(),t+=mv-bd(t,mv)-1;break}return this._d.setTime(t),Te.updateOffset(this,!0),this}function Eoe(){return this._d.valueOf()-(this._offset||0)*6e4}function Moe(){return Math.floor(this.valueOf()/1e3)}function Aoe(){return new Date(this.valueOf())}function Loe(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ooe(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Toe(){return this.isValid()?this.toISOString():null}function Ioe(){return NN(this)}function Roe(){return vl({},wt(this))}function Foe(){return wt(this).overflow}function $oe(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}at("N",0,0,"eraAbbr");at("NN",0,0,"eraAbbr");at("NNN",0,0,"eraAbbr");at("NNNN",0,0,"eraName");at("NNNNN",0,0,"eraNarrow");at("y",["y",1],"yo","eraYear");at("y",["yy",2],0,"eraYear");at("y",["yyy",3],0,"eraYear");at("y",["yyyy",4],0,"eraYear");Ke("N",UN);Ke("NN",UN);Ke("NNN",UN);Ke("NNNN",Xoe);Ke("NNNNN",Qoe);er(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var a=r._locale.erasParse(e,n,r._strict);a?wt(r).era=a:wt(r).invalidEra=e});Ke("y",df);Ke("yy",df);Ke("yyy",df);Ke("yyyy",df);Ke("yo",Joe);er(["y","yy","yyy","yyyy"],Vn);er(["yo"],function(e,t,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Vn]=r._locale.eraYearOrdinalParse(e,a):t[Vn]=parseInt(e,10)});function Uoe(e,t){var r,n,a,s=this._eras||zo("en")._eras;for(r=0,n=s.length;r<n;++r){switch(typeof s[r].since){case"string":a=Te(s[r].since).startOf("day"),s[r].since=a.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":a=Te(s[r].until).startOf("day").valueOf(),s[r].until=a.valueOf();break}}return s}function zoe(e,t,r){var n,a,s=this.eras(),o,l,c;for(e=e.toUpperCase(),n=0,a=s.length;n<a;++n)if(o=s[n].name.toUpperCase(),l=s[n].abbr.toUpperCase(),c=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(l===e)return s[n];break;case"NNNN":if(o===e)return s[n];break;case"NNNNN":if(c===e)return s[n];break}else if([o,l,c].indexOf(e)>=0)return s[n]}function Boe(e,t){var r=e.since<=e.until?1:-1;return t===void 0?Te(e.since).year():Te(e.since).year()+(t-e.offset)*r}function Hoe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function Woe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function Yoe(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function Voe(){var e,t,r,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return(this.year()-Te(a[e].since).year())*r+a[e].offset;return this.year()}function qoe(e){return It(this,"_erasNameRegex")||zN.call(this),e?this._erasNameRegex:this._erasRegex}function Goe(e){return It(this,"_erasAbbrRegex")||zN.call(this),e?this._erasAbbrRegex:this._erasRegex}function Koe(e){return It(this,"_erasNarrowRegex")||zN.call(this),e?this._erasNarrowRegex:this._erasRegex}function UN(e,t){return t.erasAbbrRegex(e)}function Xoe(e,t){return t.erasNameRegex(e)}function Qoe(e,t){return t.erasNarrowRegex(e)}function Joe(e,t){return t._eraYearOrdinalRegex||df}function zN(){var e=[],t=[],r=[],n=[],a,s,o,l,c,u=this.eras();for(a=0,s=u.length;a<s;++a)o=wo(u[a].name),l=wo(u[a].abbr),c=wo(u[a].narrow),t.push(o),e.push(l),r.push(c),n.push(o),n.push(l),n.push(c);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}at(0,["gg",2],0,function(){return this.weekYear()%100});at(0,["GG",2],0,function(){return this.isoWeekYear()%100});function qx(e,t){at(0,[e,e.length],0,t)}qx("gggg","weekYear");qx("ggggg","weekYear");qx("GGGG","isoWeekYear");qx("GGGGG","isoWeekYear");Ke("G",Bx);Ke("g",Bx);Ke("GG",gr,Ya);Ke("gg",gr,Ya);Ke("GGGG",_N,DN);Ke("gggg",_N,DN);Ke("GGGGG",zx,$x);Ke("ggggg",zx,$x);Jp(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=_t(e)});Jp(["gg","GG"],function(e,t,r,n){t[n]=Te.parseTwoDigitYear(e)});function Zoe(e){return qM.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function ele(e){return qM.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function tle(){return No(this.year(),1,4)}function rle(){return No(this.isoWeekYear(),1,4)}function nle(){var e=this.localeData()._week;return No(this.year(),e.dow,e.doy)}function ale(){var e=this.localeData()._week;return No(this.weekYear(),e.dow,e.doy)}function qM(e,t,r,n,a){var s;return e==null?yp(this,n,a).year:(s=No(e,n,a),t>s&&(t=s),sle.call(this,e,t,r,n,a))}function sle(e,t,r,n,a){var s=CM(e,t,r,n,a),o=xp(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}at("Q",0,"Qo","quarter");Ke("Q",mM);er("Q",function(e,t){t[vo]=(_t(e)-1)*3});function ile(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}at("D",["DD",2],"Do","date");Ke("D",gr,ff);Ke("DD",gr,Ya);Ke("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});er(["D","DD"],Si);er("Do",function(e,t){t[Si]=_t(e.match(gr)[0])});var GM=hf("Date",!0);at("DDD",["DDDD",3],"DDDo","dayOfYear");Ke("DDD",Ux);Ke("DDDD",gM);er(["DDD","DDDD"],function(e,t,r){r._dayOfYear=_t(e)});function ole(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}at("m",["mm",2],0,"minute");Ke("m",gr,PN);Ke("mm",gr,Ya);er(["m","mm"],zs);var lle=hf("Minutes",!1);at("s",["ss",2],0,"second");Ke("s",gr,PN);Ke("ss",gr,Ya);er(["s","ss"],xo);var cle=hf("Seconds",!1);at("S",0,0,function(){return~~(this.millisecond()/100)});at(0,["SS",2],0,function(){return~~(this.millisecond()/10)});at(0,["SSS",3],0,"millisecond");at(0,["SSSS",4],0,function(){return this.millisecond()*10});at(0,["SSSSS",5],0,function(){return this.millisecond()*100});at(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});at(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});at(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});at(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ke("S",Ux,mM);Ke("SS",Ux,Ya);Ke("SSS",Ux,gM);var xl,KM;for(xl="SSSS";xl.length<=9;xl+="S")Ke(xl,df);function ule(e,t){t[xc]=_t(("0."+e)*1e3)}for(xl="S";xl.length<=9;xl+="S")er(xl,ule);KM=hf("Milliseconds",!1);at("z",0,0,"zoneAbbr");at("zz",0,0,"zoneName");function dle(){return this._isUTC?"UTC":""}function fle(){return this._isUTC?"Coordinated Universal Time":""}var Ae=Xp.prototype;Ae.add=aoe;Ae.calendar=doe;Ae.clone=foe;Ae.diff=yoe;Ae.endOf=Poe;Ae.format=joe;Ae.from=Soe;Ae.fromNow=koe;Ae.to=Coe;Ae.toNow=Doe;Ae.get=Nse;Ae.invalidAt=Foe;Ae.isAfter=hoe;Ae.isBefore=poe;Ae.isBetween=moe;Ae.isSame=goe;Ae.isSameOrAfter=voe;Ae.isSameOrBefore=xoe;Ae.isValid=Ioe;Ae.lang=BM;Ae.locale=zM;Ae.localeData=HM;Ae.max=Iie;Ae.min=Tie;Ae.parsingFlags=Roe;Ae.set=jse;Ae.startOf=_oe;Ae.subtract=soe;Ae.toArray=Loe;Ae.toObject=Ooe;Ae.toDate=Aoe;Ae.toISOString=woe;Ae.inspect=Noe;typeof Symbol<"u"&&Symbol.for!=null&&(Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ae.toJSON=Toe;Ae.toString=boe;Ae.unix=Moe;Ae.valueOf=Eoe;Ae.creationData=$oe;Ae.eraName=Hoe;Ae.eraNarrow=Woe;Ae.eraAbbr=Yoe;Ae.eraYear=Voe;Ae.year=yM;Ae.isLeapYear=wse;Ae.weekYear=Zoe;Ae.isoWeekYear=ele;Ae.quarter=Ae.quarters=ile;Ae.month=SM;Ae.daysInMonth=Ase;Ae.week=Ae.weeks=Use;Ae.isoWeek=Ae.isoWeeks=zse;Ae.weeksInYear=nle;Ae.weeksInWeekYear=ale;Ae.isoWeeksInYear=tle;Ae.isoWeeksInISOWeekYear=rle;Ae.date=GM;Ae.day=Ae.days=eie;Ae.weekday=tie;Ae.isoWeekday=rie;Ae.dayOfYear=ole;Ae.hour=Ae.hours=cie;Ae.minute=Ae.minutes=lle;Ae.second=Ae.seconds=cle;Ae.millisecond=Ae.milliseconds=KM;Ae.utcOffset=Yie;Ae.utc=qie;Ae.local=Gie;Ae.parseZone=Kie;Ae.hasAlignedHourOffset=Xie;Ae.isDST=Qie;Ae.isLocal=Zie;Ae.isUtcOffset=eoe;Ae.isUtc=RM;Ae.isUTC=RM;Ae.zoneAbbr=dle;Ae.zoneName=fle;Ae.dates=ys("dates accessor is deprecated. Use date instead.",GM);Ae.months=ys("months accessor is deprecated. Use month instead",SM);Ae.years=ys("years accessor is deprecated. Use year instead",yM);Ae.zone=ys("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Vie);Ae.isDSTShifted=ys("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Jie);function hle(e){return mr(e*1e3)}function ple(){return mr.apply(null,arguments).parseZone()}function XM(e){return e}var Rt=SN.prototype;Rt.calendar=Zae;Rt.longDateFormat=nse;Rt.invalidDate=sse;Rt.ordinal=lse;Rt.preparse=XM;Rt.postformat=XM;Rt.relativeTime=use;Rt.pastFuture=dse;Rt.set=Qae;Rt.eras=Uoe;Rt.erasParse=zoe;Rt.erasConvertYear=Boe;Rt.erasAbbrRegex=Goe;Rt.erasNameRegex=qoe;Rt.erasNarrowRegex=Koe;Rt.months=_se;Rt.monthsShort=Pse;Rt.monthsParse=Mse;Rt.monthsRegex=Ose;Rt.monthsShortRegex=Lse;Rt.week=Ise;Rt.firstDayOfYear=$se;Rt.firstDayOfWeek=Fse;Rt.weekdays=Kse;Rt.weekdaysMin=Qse;Rt.weekdaysShort=Xse;Rt.weekdaysParse=Zse;Rt.weekdaysRegex=nie;Rt.weekdaysShortRegex=aie;Rt.weekdaysMinRegex=sie;Rt.isPM=oie;Rt.meridiem=uie;function vv(e,t,r,n){var a=zo(),s=Gi().set(n,t);return a[r](s,e)}function QM(e,t,r){if(To(e)&&(t=e,e=void 0),e=e||"",t!=null)return vv(e,t,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=vv(e,n,r,"month");return a}function BN(e,t,r,n){typeof e=="boolean"?(To(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,To(t)&&(r=t,t=void 0),t=t||"");var a=zo(),s=e?a._week.dow:0,o,l=[];if(r!=null)return vv(t,(r+s)%7,n,"day");for(o=0;o<7;o++)l[o]=vv(t,(o+s)%7,n,"day");return l}function mle(e,t){return QM(e,t,"months")}function gle(e,t){return QM(e,t,"monthsShort")}function vle(e,t,r){return BN(e,t,r,"weekdays")}function xle(e,t,r){return BN(e,t,r,"weekdaysShort")}function yle(e,t,r){return BN(e,t,r,"weekdaysMin")}_l("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=_t(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});Te.lang=ys("moment.lang is deprecated. Use moment.locale instead.",_l);Te.langData=ys("moment.langData is deprecated. Use moment.localeData instead.",zo);var uo=Math.abs;function ble(){var e=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),e.milliseconds=uo(e.milliseconds),e.seconds=uo(e.seconds),e.minutes=uo(e.minutes),e.hours=uo(e.hours),e.months=uo(e.months),e.years=uo(e.years),this}function JM(e,t,r,n){var a=ti(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function wle(e,t){return JM(this,e,t,1)}function Nle(e,t){return JM(this,e,t,-1)}function Pk(e){return e<0?Math.floor(e):Math.ceil(e)}function jle(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,a,s,o,l,c;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=Pk(cw(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,a=os(e/1e3),n.seconds=a%60,s=os(a/60),n.minutes=s%60,o=os(s/60),n.hours=o%24,t+=os(o/24),c=os(ZM(t)),r+=c,t-=Pk(cw(c)),l=os(r/12),r%=12,n.days=t,n.months=r,n.years=l,this}function ZM(e){return e*4800/146097}function cw(e){return e*146097/4800}function Sle(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=bs(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+ZM(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(cw(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function Bo(e){return function(){return this.as(e)}}var eA=Bo("ms"),kle=Bo("s"),Cle=Bo("m"),Dle=Bo("h"),_le=Bo("d"),Ple=Bo("w"),Ele=Bo("M"),Mle=Bo("Q"),Ale=Bo("y"),Lle=eA;function Ole(){return ti(this)}function Tle(e){return e=bs(e),this.isValid()?this[e+"s"]():NaN}function au(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ile=au("milliseconds"),Rle=au("seconds"),Fle=au("minutes"),$le=au("hours"),Ule=au("days"),zle=au("months"),Ble=au("years");function Hle(){return os(this.days()/7)}var ho=Math.round,id={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Wle(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function Yle(e,t,r,n){var a=ti(e).abs(),s=ho(a.as("s")),o=ho(a.as("m")),l=ho(a.as("h")),c=ho(a.as("d")),u=ho(a.as("M")),d=ho(a.as("w")),f=ho(a.as("y")),h=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||o<=1&&["m"]||o<r.m&&["mm",o]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(h=h||d<=1&&["w"]||d<r.w&&["ww",d]),h=h||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],h[2]=t,h[3]=+e>0,h[4]=n,Wle.apply(null,h)}function Vle(e){return e===void 0?ho:typeof e=="function"?(ho=e,!0):!1}function qle(e,t){return id[e]===void 0?!1:t===void 0?id[e]:(id[e]=t,e==="s"&&(id.ss=t-1),!0)}function Gle(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=id,a,s;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},id,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),a=this.localeData(),s=Yle(this,!r,n,a),r&&(s=a.pastFuture(+this,s)),a.postformat(s)}var ub=Math.abs;function $u(e){return(e>0)-(e<0)||+e}function Gx(){if(!this.isValid())return this.localeData().invalidDate();var e=ub(this._milliseconds)/1e3,t=ub(this._days),r=ub(this._months),n,a,s,o,l=this.asSeconds(),c,u,d,f;return l?(n=os(e/60),a=os(n/60),e%=60,n%=60,s=os(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=$u(this._months)!==$u(l)?"-":"",d=$u(this._days)!==$u(l)?"-":"",f=$u(this._milliseconds)!==$u(l)?"-":"",c+"P"+(s?u+s+"Y":"")+(r?u+r+"M":"")+(t?d+t+"D":"")+(a||n||e?"T":"")+(a?f+a+"H":"")+(n?f+n+"M":"")+(e?f+o+"S":"")):"P0D"}var Et=Vx.prototype;Et.isValid=zie;Et.abs=ble;Et.add=wle;Et.subtract=Nle;Et.as=Sle;Et.asMilliseconds=eA;Et.asSeconds=kle;Et.asMinutes=Cle;Et.asHours=Dle;Et.asDays=_le;Et.asWeeks=Ple;Et.asMonths=Ele;Et.asQuarters=Mle;Et.asYears=Ale;Et.valueOf=Lle;Et._bubble=jle;Et.clone=Ole;Et.get=Tle;Et.milliseconds=Ile;Et.seconds=Rle;Et.minutes=Fle;Et.hours=$le;Et.days=Ule;Et.weeks=Hle;Et.months=zle;Et.years=Ble;Et.humanize=Gle;Et.toISOString=Gx;Et.toString=Gx;Et.toJSON=Gx;Et.locale=zM;Et.localeData=HM;Et.toIsoString=ys("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gx);Et.lang=BM;at("X",0,0,"unix");at("x",0,0,"valueOf");Ke("x",Bx);Ke("X",mse);er("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});er("x",function(e,t,r){r._d=new Date(_t(e))});//! moment.js
Te.version="2.30.1";Kae(mr);Te.fn=Ae;Te.min=Rie;Te.max=Fie;Te.now=$ie;Te.utc=Gi;Te.unix=hle;Te.months=mle;Te.isDate=Kp;Te.locale=_l;Te.invalid=Fx;Te.duration=ti;Te.isMoment=Xs;Te.weekdays=vle;Te.parseZone=ple;Te.localeData=zo;Te.isDuration=ug;Te.monthsShort=gle;Te.weekdaysMin=yle;Te.defineLocale=ON;Te.updateLocale=pie;Te.locales=mie;Te.weekdaysShort=xle;Te.normalizeUnits=bs;Te.relativeTimeRounding=Vle;Te.relativeTimeThreshold=qle;Te.calendarFormat=uoe;Te.prototype=Ae;Te.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Kle={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},Xle=function(t,r,n){var a,s=Kle[t];return typeof s=="string"?a=s:r===1?a=s.one:a=s.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+a:"hace "+a:a},Qle={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Jle={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Zle={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ece={date:hd({formats:Qle,defaultWidth:"full"}),time:hd({formats:Jle,defaultWidth:"full"}),dateTime:hd({formats:Zle,defaultWidth:"full"})},tce={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},rce={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},nce=function(t,r,n,a){return r.getUTCHours()!==1?rce[t]:tce[t]},ace={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},sce={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},ice={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},oce={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},lce={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},cce={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},uce=function(t,r){var n=Number(t);return n+"º"},dce={ordinalNumber:uce,era:Ni({values:ace,defaultWidth:"wide"}),quarter:Ni({values:sce,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Ni({values:ice,defaultWidth:"wide"}),day:Ni({values:oce,defaultWidth:"wide"}),dayPeriod:Ni({values:lce,defaultWidth:"wide",formattingValues:cce,defaultFormattingWidth:"wide"})},fce=/^(\d+)(º)?/i,hce=/\d+/i,pce={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},mce={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},gce={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},vce={any:[/1/i,/2/i,/3/i,/4/i]},xce={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},yce={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},bce={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},wce={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},Nce={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},jce={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},Sce={ordinalNumber:sP({matchPattern:fce,parsePattern:hce,valueCallback:function(t){return parseInt(t,10)}}),era:ji({matchPatterns:pce,defaultMatchWidth:"wide",parsePatterns:mce,defaultParseWidth:"any"}),quarter:ji({matchPatterns:gce,defaultMatchWidth:"wide",parsePatterns:vce,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:ji({matchPatterns:xce,defaultMatchWidth:"wide",parsePatterns:yce,defaultParseWidth:"any"}),day:ji({matchPatterns:bce,defaultMatchWidth:"wide",parsePatterns:wce,defaultParseWidth:"any"}),dayPeriod:ji({matchPatterns:Nce,defaultMatchWidth:"any",parsePatterns:jce,defaultParseWidth:"any"})},tA={code:"es",formatDistance:Xle,formatLong:ece,formatRelative:nce,localize:dce,match:Sce,options:{weekStartsOn:1,firstWeekContainsDate:1}};class kce{generateEventMessage(t){const r=it(t.start,"EEEE, d 'de' MMMM 'de' yyyy",{locale:tA}),n=it(t.start,"HH:mm"),a=it(t.end,"HH:mm");let s=`📅 *${t.title}*

`;return s+=`📆 *Fecha:* ${r}
`,s+=`🕐 *Hora:* ${n} - ${a}
`,t.description&&(s+=`📝 *Descripción:* ${t.description}
`),t.location&&(s+=`📍 *Ubicación:* ${t.location}
`),t.meetLink&&(s+=`💻 *Enlace de reunión:* ${t.meetLink}
`),t.attendees.length>0&&(s+=`👥 *Participantes:* ${t.attendees.map(o=>o.name||o.email).join(", ")}
`),s+=`
¡Te esperamos! 🎉`,s}generateCalendarInviteText(t){const r=it(t.start,"yyyyMMdd'T'HHmmss"),n=it(t.end,"yyyyMMdd'T'HHmmss");return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//CRM InnoMind//Calendar//ES","BEGIN:VEVENT",`UID:${t.id}@crm-innomind.com`,`DTSTART:${r}`,`DTEND:${n}`,`SUMMARY:${t.title}`,`DESCRIPTION:${t.description||""}`,`LOCATION:${t.location||""}`,"STATUS:CONFIRMED","END:VEVENT","END:VCALENDAR"].join(`
`)}createWhatsAppShareUrl(t,r=!1){const n=this.generateEventMessage(t);let a=encodeURIComponent(n);return r&&(a+=encodeURIComponent(`

📎 Archivo de calendario adjunto`)),`https://wa.me/?text=${a}`}createWhatsAppDirectUrl(t,r){const n=t.replace(/[^\d+]/g,""),a=this.generateEventMessage(r),s=encodeURIComponent(a);return`https://wa.me/${n}?text=${s}`}async sendEventNotification(t,r,n){try{let a="";if(n==="reminder"){const o=r.start.getTime()-Date.now(),l=Math.floor(o/(1e3*60));l<=15?a=`⏰ *Recordatorio:* Tu evento "${r.title}" comienza en ${l} minutos.

`:l<=60?a=`⏰ *Recordatorio:* Tu evento "${r.title}" comienza en 1 hora.

`:a=`⏰ *Recordatorio:* Tu evento "${r.title}" es mañana.

`}else a=`🔔 *Evento iniciado:* "${r.title}" ha comenzado.

`;a+=this.generateEventMessage(r);const s=this.createWhatsAppDirectUrl(t,{...r,title:a});return window.open(s,"_blank"),!0}catch(a){return console.error("Error sending WhatsApp notification:",a),!1}}downloadCalendarFile(t){const r=this.generateCalendarInviteText(t),n=new Blob([r],{type:"text/calendar;charset=utf-8"}),a=window.URL.createObjectURL(n),s=document.createElement("a");s.href=a,s.download=`${t.title.replace(/[^a-z0-9]/gi,"_").toLowerCase()}.ics`,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(a)}}const S0=new kce;function rA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=rA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function kn(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=rA(e))&&(n&&(n+=" "),n+=t);return n}const nA=6048e5,Cce=864e5,Kx=6e4,Xx=36e5,Dce=1e3,Ek=Symbol.for("constructDateFrom");function Qt(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Ek in e?e[Ek](t):e instanceof Date?new e.constructor(t):new Date(t)}function et(e,t){return Qt(t||e,e)}function Ys(e,t,r){const n=et(e,r==null?void 0:r.in);return isNaN(t)?Qt((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Qs(e,t,r){const n=et(e,r==null?void 0:r.in);if(isNaN(t))return Qt(e,NaN);if(!t)return n;const a=n.getDate(),s=Qt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function aA(e,t,r){return Qt(e,+et(e)+t)}function _ce(e,t,r){return aA(e,t*Xx)}let Pce={};function su(){return Pce}function Io(e,t){var l,c,u,d;const r=su(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,a=et(e,t==null?void 0:t.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Fd(e,t){return Io(e,{...t,weekStartsOn:1})}function sA(e,t){const r=et(e,t==null?void 0:t.in),n=r.getFullYear(),a=Qt(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Fd(a),o=Qt(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Fd(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function xv(e){const t=et(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ho(e,...t){const r=Qt.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function Kc(e,t){const r=et(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function $d(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t),s=Kc(n),o=Kc(a),l=+s-xv(s),c=+o-xv(o);return Math.round((l-c)/Cce)}function Ece(e,t){const r=sA(e,t),n=Qt(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Fd(n)}function uw(e,t,r){const n=et(e,r==null?void 0:r.in);return n.setTime(n.getTime()+t*Kx),n}function HN(e,t,r){return Qs(e,t*3,r)}function Mce(e,t,r){return aA(e,t*1e3)}function yv(e,t,r){return Ys(e,t*7,r)}function jo(e,t,r){return Qs(e,t*12,r)}function Mk(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Qt.bind(null,a));const s=et(a,n);(!r||r<s||isNaN(+s))&&(r=s)}),Qt(n,r||NaN)}function Ak(e,t){let r,n=t==null?void 0:t.in;return e.forEach(a=>{!n&&typeof a=="object"&&(n=Qt.bind(null,a));const s=et(a,n);(!r||r>s||isNaN(+s))&&(r=s)}),Qt(n,r||NaN)}function Ace(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t);return+Kc(n)==+Kc(a)}function So(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function bv(e){return!(!So(e)&&typeof e!="number"||isNaN(+et(e)))}function wv(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t),s=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return s*12+o}function Ec(e,t){const r=et(e,t==null?void 0:t.in);return Math.trunc(r.getMonth()/3)+1}function Nv(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t),s=n.getFullYear()-a.getFullYear(),o=Ec(n)-Ec(a);return s*4+o}function jv(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t);return n.getFullYear()-a.getFullYear()}function Lce(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t),s=Lk(n,a),o=Math.abs($d(n,a));n.setDate(n.getDate()-s*o);const l=+(Lk(n,a)===-s),c=s*(o-l);return c===0?0:c}function Lk(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function iA(e,t){const r=et(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function oA(e,t){const r=et(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function dw(e,t){const r=et(e,t==null?void 0:t.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function lA(e,t){const r=et(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function cA(e,t){const r=et(e,t==null?void 0:t.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Qx(e,t){const r=et(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Oce(e,t){var l,c;const r=su(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=et(e,t==null?void 0:t.in),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const Tce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ice=(e,t,r)=>{let n;const a=Tce[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function db(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Rce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$ce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Uce={date:db({formats:Rce,defaultWidth:"full"}),time:db({formats:Fce,defaultWidth:"full"}),dateTime:db({formats:$ce,defaultWidth:"full"})},zce={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Bce=(e,t,r,n)=>zce[e];function ch(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return a[s]}}const Hce={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Wce={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yce={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Vce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},qce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Gce={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Kce=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Xce={ordinalNumber:Kce,era:ch({values:Hce,defaultWidth:"wide"}),quarter:ch({values:Wce,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ch({values:Yce,defaultWidth:"wide"}),day:ch({values:Vce,defaultWidth:"wide"}),dayPeriod:ch({values:qce,defaultWidth:"wide",formattingValues:Gce,defaultFormattingWidth:"wide"})};function uh(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Jce(l,f=>f.test(o)):Qce(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Qce(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Jce(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Zce(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(a.length);return{value:o,rest:l}}}const eue=/^(\d+)(th|st|nd|rd)?/i,tue=/\d+/i,rue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nue={any:[/^b/i,/^(a|c)/i]},aue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},sue={any:[/1/i,/2/i,/3/i,/4/i]},iue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},oue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},lue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},uue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},due={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},fue={ordinalNumber:Zce({matchPattern:eue,parsePattern:tue,valueCallback:e=>parseInt(e,10)}),era:uh({matchPatterns:rue,defaultMatchWidth:"wide",parsePatterns:nue,defaultParseWidth:"any"}),quarter:uh({matchPatterns:aue,defaultMatchWidth:"wide",parsePatterns:sue,defaultParseWidth:"any",valueCallback:e=>e+1}),month:uh({matchPatterns:iue,defaultMatchWidth:"wide",parsePatterns:oue,defaultParseWidth:"any"}),day:uh({matchPatterns:lue,defaultMatchWidth:"wide",parsePatterns:cue,defaultParseWidth:"any"}),dayPeriod:uh({matchPatterns:uue,defaultMatchWidth:"any",parsePatterns:due,defaultParseWidth:"any"})},uA={code:"en-US",formatDistance:Ice,formatLong:Uce,formatRelative:Bce,localize:Xce,match:fue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function hue(e,t){const r=et(e,t==null?void 0:t.in);return $d(r,Qx(r))+1}function WN(e,t){const r=et(e,t==null?void 0:t.in),n=+Fd(r)-+Ece(r);return Math.round(n/nA)+1}function YN(e,t){var d,f,h,m;const r=et(e,t==null?void 0:t.in),n=r.getFullYear(),a=su(),s=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((m=(h=a.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Qt((t==null?void 0:t.in)||e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Io(o,t),c=Qt((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Io(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function pue(e,t){var l,c,u,d;const r=su(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,a=YN(e,t),s=Qt((t==null?void 0:t.in)||e,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Io(s,t)}function dA(e,t){const r=et(e,t==null?void 0:t.in),n=+Io(r,t)-+pue(r,t);return Math.round(n/nA)+1}function Kt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const cl={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Kt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Kt(r+1,2)},d(e,t){return Kt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Kt(e.getHours()%12||12,t.length)},H(e,t){return Kt(e.getHours(),t.length)},m(e,t){return Kt(e.getMinutes(),t.length)},s(e,t){return Kt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Kt(a,t.length)}},Uu={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ok={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return cl.y(e,t)},Y:function(e,t,r,n){const a=YN(e,n),s=a>0?a:1-a;if(t==="YY"){const o=s%100;return Kt(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):Kt(s,t.length)},R:function(e,t){const r=sA(e);return Kt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Kt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Kt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Kt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return cl.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Kt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=dA(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Kt(a,t.length)},I:function(e,t,r){const n=WN(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Kt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):cl.d(e,t)},D:function(e,t,r){const n=hue(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Kt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Kt(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Kt(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Kt(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Uu.noon:n===0?a=Uu.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Uu.evening:n>=12?a=Uu.afternoon:n>=4?a=Uu.morning:a=Uu.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return cl.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):cl.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Kt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Kt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):cl.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):cl.s(e,t)},S:function(e,t){return cl.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ik(n);case"XXXX":case"XX":return fc(n);case"XXXXX":case"XXX":default:return fc(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Ik(n);case"xxxx":case"xx":return fc(n);case"xxxxx":case"xxx":default:return fc(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Tk(n,":");case"OOOO":default:return"GMT"+fc(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Tk(n,":");case"zzzz":default:return"GMT"+fc(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Kt(n,t.length)},T:function(e,t,r){return Kt(+e,t.length)}};function Tk(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+t+Kt(s,2)}function Ik(e,t){return e%60===0?(e>0?"-":"+")+Kt(Math.abs(e)/60,2):fc(e,t)}function fc(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Kt(Math.trunc(n/60),2),s=Kt(n%60,2);return r+a+t+s}const Rk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fA=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},mue=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return Rk(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Rk(n,t)).replace("{{time}}",fA(a,t))},fw={p:fA,P:mue},gue=/^D+$/,vue=/^Y+$/,xue=["D","DD","YY","YYYY"];function yue(e){return gue.test(e)}function bue(e){return vue.test(e)}function wue(e,t,r){const n=Nue(e,t,r);if(console.warn(n),xue.includes(e))throw new RangeError(n)}function Nue(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Sue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kue=/^'([^]*?)'?$/,Cue=/''/g,Due=/[a-zA-Z]/;function Fk(e,t,r){var d,f,h,m,y,v,w,g;const n=su(),a=(r==null?void 0:r.locale)??n.locale??uA,s=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((v=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:v.weekStartsOn)??n.weekStartsOn??((g=(w=n.locale)==null?void 0:w.options)==null?void 0:g.weekStartsOn)??0,l=et(e,r==null?void 0:r.in);if(!bv(l))throw new RangeError("Invalid time value");let c=t.match(Sue).map(x=>{const S=x[0];if(S==="p"||S==="P"){const j=fw[S];return j(x,a.formatLong)}return x}).join("").match(jue).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const S=x[0];if(S==="'")return{isToken:!1,value:_ue(x)};if(Ok[S])return{isToken:!0,value:x};if(S.match(Due))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:x}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(x=>{if(!x.isToken)return x.value;const S=x.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&bue(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&yue(S))&&wue(S,t,String(e));const j=Ok[S[0]];return j(l,S,a.localize,u)}).join("")}function _ue(e){const t=e.match(kue);return t?t[1].replace(Cue,"'"):e}function $k(e,t){return et(e,t==null?void 0:t.in).getDate()}function Pue(e,t){return et(e,t==null?void 0:t.in).getDay()}function Eue(e,t){const r=et(e,t==null?void 0:t.in),n=r.getFullYear(),a=r.getMonth(),s=Qt(r,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function Mue(){return Object.assign({},su())}function ko(e,t){return et(e,t==null?void 0:t.in).getHours()}function Aue(e,t){const r=et(e,t==null?void 0:t.in).getDay();return r===0?7:r}function Co(e,t){return et(e,t==null?void 0:t.in).getMinutes()}function Yn(e,t){return et(e,t==null?void 0:t.in).getMonth()}function Pl(e){return et(e).getSeconds()}function hw(e){return+et(e)}function Nt(e,t){return et(e,t==null?void 0:t.in).getFullYear()}function Rl(e,t){return+et(e)>+et(t)}function Xc(e,t){return+et(e)<+et(t)}function Lue(e,t){return+et(e)==+et(t)}function Oue(e,t){const r=Tue(t)?new t(0):Qt(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function Tue(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const Iue=10;class hA{constructor(){Ge(this,"subPriority",0)}validate(t,r){return!0}}class Rue extends hA{constructor(t,r,n,a,s){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class Fue extends hA{constructor(r,n){super();Ge(this,"priority",Iue);Ge(this,"subPriority",-1);this.context=r||(a=>Qt(n,a))}set(r,n){return n.timestampIsSet?r:Qt(r,Oue(r,this.context))}}class Bt{run(t,r,n,a){const s=this.parse(t,r,n,a);return s?{setter:new Rue(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(t,r,n){return!0}}class $ue extends Bt{constructor(){super(...arguments);Ge(this,"priority",140);Ge(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const Vr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ki={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qr(e,t){return e&&{value:t(e.value),rest:e.rest}}function jr(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Ci(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*Xx+s*Kx+o*Dce),rest:t.slice(r[0].length)}}function pA(e){return jr(Vr.anyDigitsSigned,e)}function Tr(e,t){switch(e){case 1:return jr(Vr.singleDigit,t);case 2:return jr(Vr.twoDigits,t);case 3:return jr(Vr.threeDigits,t);case 4:return jr(Vr.fourDigits,t);default:return jr(new RegExp("^\\d{1,"+e+"}"),t)}}function Sv(e,t){switch(e){case 1:return jr(Vr.singleDigitSigned,t);case 2:return jr(Vr.twoDigitsSigned,t);case 3:return jr(Vr.threeDigitsSigned,t);case 4:return jr(Vr.fourDigitsSigned,t);default:return jr(new RegExp("^-?\\d{1,"+e+"}"),t)}}function VN(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function mA(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const s=n+50,o=Math.trunc(s/100)*100,l=e>=s%100;a=e+o-(l?100:0)}return r?a:1-a}function gA(e){return e%400===0||e%4===0&&e%100!==0}class Uue extends Bt{constructor(){super(...arguments);Ge(this,"priority",130);Ge(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return qr(Tr(4,r),s);case"yo":return qr(a.ordinalNumber(r,{unit:"year"}),s);default:return qr(Tr(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const s=r.getFullYear();if(a.isTwoDigitYear){const l=mA(a.year,s);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class zue extends Bt{constructor(){super(...arguments);Ge(this,"priority",130);Ge(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return qr(Tr(4,r),s);case"Yo":return qr(a.ordinalNumber(r,{unit:"year"}),s);default:return qr(Tr(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,s){const o=YN(r,s);if(a.isTwoDigitYear){const c=mA(a.year,o);return r.setFullYear(c,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Io(r,s)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Io(r,s)}}class Bue extends Bt{constructor(){super(...arguments);Ge(this,"priority",130);Ge(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Sv(n==="R"?4:n.length,r)}set(r,n,a){const s=Qt(r,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Fd(s)}}class Hue extends Bt{constructor(){super(...arguments);Ge(this,"priority",130);Ge(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Sv(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class Wue extends Bt{constructor(){super(...arguments);Ge(this,"priority",120);Ge(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return Tr(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Yue extends Bt{constructor(){super(...arguments);Ge(this,"priority",120);Ge(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return Tr(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class Vue extends Bt{constructor(){super(...arguments);Ge(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ge(this,"priority",110)}parse(r,n,a){const s=o=>o-1;switch(n){case"M":return qr(jr(Vr.month,r),s);case"MM":return qr(Tr(2,r),s);case"Mo":return qr(a.ordinalNumber(r,{unit:"month"}),s);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class que extends Bt{constructor(){super(...arguments);Ge(this,"priority",110);Ge(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const s=o=>o-1;switch(n){case"L":return qr(jr(Vr.month,r),s);case"LL":return qr(Tr(2,r),s);case"Lo":return qr(a.ordinalNumber(r,{unit:"month"}),s);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function Gue(e,t,r){const n=et(e,r==null?void 0:r.in),a=dA(n,r)-t;return n.setDate(n.getDate()-a*7),et(n,r==null?void 0:r.in)}class Kue extends Bt{constructor(){super(...arguments);Ge(this,"priority",100);Ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return jr(Vr.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return Tr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,s){return Io(Gue(r,a,s),s)}}function Xue(e,t,r){const n=et(e,r==null?void 0:r.in),a=WN(n,r)-t;return n.setDate(n.getDate()-a*7),n}class Que extends Bt{constructor(){super(...arguments);Ge(this,"priority",100);Ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return jr(Vr.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return Tr(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Fd(Xue(r,a))}}const Jue=[31,28,31,30,31,30,31,31,30,31,30,31],Zue=[31,29,31,30,31,30,31,31,30,31,30,31];class ede extends Bt{constructor(){super(...arguments);Ge(this,"priority",90);Ge(this,"subPriority",1);Ge(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return jr(Vr.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return Tr(n.length,r)}}validate(r,n){const a=r.getFullYear(),s=gA(a),o=r.getMonth();return s?n>=1&&n<=Zue[o]:n>=1&&n<=Jue[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class tde extends Bt{constructor(){super(...arguments);Ge(this,"priority",90);Ge(this,"subpriority",1);Ge(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return jr(Vr.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return Tr(n.length,r)}}validate(r,n){const a=r.getFullYear();return gA(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function qN(e,t,r){var f,h,m,y;const n=su(),a=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((y=(m=n.locale)==null?void 0:m.options)==null?void 0:y.weekStartsOn)??0,s=et(e,r==null?void 0:r.in),o=s.getDay(),c=(t%7+7)%7,u=7-a,d=t<0||t>6?t-(o+u)%7:(c+u)%7-(o+u)%7;return Ys(s,d,r)}class rde extends Bt{constructor(){super(...arguments);Ge(this,"priority",90);Ge(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=qN(r,a,s),r.setHours(0,0,0,0),r}}class nde extends Bt{constructor(){super(...arguments);Ge(this,"priority",90);Ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,s){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return qr(Tr(n.length,r),o);case"eo":return qr(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=qN(r,a,s),r.setHours(0,0,0,0),r}}class ade extends Bt{constructor(){super(...arguments);Ge(this,"priority",90);Ge(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,s){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return qr(Tr(n.length,r),o);case"co":return qr(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=qN(r,a,s),r.setHours(0,0,0,0),r}}function sde(e,t,r){const n=et(e,r==null?void 0:r.in),a=Aue(n,r),s=t-a;return Ys(n,s,r)}class ide extends Bt{constructor(){super(...arguments);Ge(this,"priority",90);Ge(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return Tr(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return qr(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiii":return qr(a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiiii":return qr(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiii":default:return qr(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=sde(r,a),r.setHours(0,0,0,0),r}}class ode extends Bt{constructor(){super(...arguments);Ge(this,"priority",80);Ge(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(VN(a),0,0,0),r}}class lde extends Bt{constructor(){super(...arguments);Ge(this,"priority",80);Ge(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(VN(a),0,0,0),r}}class cde extends Bt{constructor(){super(...arguments);Ge(this,"priority",80);Ge(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(VN(a),0,0,0),r}}class ude extends Bt{constructor(){super(...arguments);Ge(this,"priority",70);Ge(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return jr(Vr.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return Tr(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const s=r.getHours()>=12;return s&&a<12?r.setHours(a+12,0,0,0):!s&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class dde extends Bt{constructor(){super(...arguments);Ge(this,"priority",70);Ge(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return jr(Vr.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return Tr(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class fde extends Bt{constructor(){super(...arguments);Ge(this,"priority",70);Ge(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return jr(Vr.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return Tr(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class hde extends Bt{constructor(){super(...arguments);Ge(this,"priority",70);Ge(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return jr(Vr.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return Tr(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const s=a<=24?a%24:a;return r.setHours(s,0,0,0),r}}class pde extends Bt{constructor(){super(...arguments);Ge(this,"priority",60);Ge(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return jr(Vr.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return Tr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class mde extends Bt{constructor(){super(...arguments);Ge(this,"priority",50);Ge(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return jr(Vr.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return Tr(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class gde extends Bt{constructor(){super(...arguments);Ge(this,"priority",30);Ge(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=s=>Math.trunc(s*Math.pow(10,-n.length+3));return qr(Tr(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class vde extends Bt{constructor(){super(...arguments);Ge(this,"priority",10);Ge(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Ci(ki.basicOptionalMinutes,r);case"XX":return Ci(ki.basic,r);case"XXXX":return Ci(ki.basicOptionalSeconds,r);case"XXXXX":return Ci(ki.extendedOptionalSeconds,r);case"XXX":default:return Ci(ki.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Qt(r,r.getTime()-xv(r)-a)}}class xde extends Bt{constructor(){super(...arguments);Ge(this,"priority",10);Ge(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Ci(ki.basicOptionalMinutes,r);case"xx":return Ci(ki.basic,r);case"xxxx":return Ci(ki.basicOptionalSeconds,r);case"xxxxx":return Ci(ki.extendedOptionalSeconds,r);case"xxx":default:return Ci(ki.extended,r)}}set(r,n,a){return n.timestampIsSet?r:Qt(r,r.getTime()-xv(r)-a)}}class yde extends Bt{constructor(){super(...arguments);Ge(this,"priority",40);Ge(this,"incompatibleTokens","*")}parse(r){return pA(r)}set(r,n,a){return[Qt(r,a*1e3),{timestampIsSet:!0}]}}class bde extends Bt{constructor(){super(...arguments);Ge(this,"priority",20);Ge(this,"incompatibleTokens","*")}parse(r){return pA(r)}set(r,n,a){return[Qt(r,a),{timestampIsSet:!0}]}}const wde={G:new $ue,y:new Uue,Y:new zue,R:new Bue,u:new Hue,Q:new Wue,q:new Yue,M:new Vue,L:new que,w:new Kue,I:new Que,d:new ede,D:new tde,E:new rde,e:new nde,c:new ade,i:new ide,a:new ode,b:new lde,B:new cde,h:new ude,H:new dde,K:new fde,k:new hde,m:new pde,s:new mde,S:new gde,X:new vde,x:new xde,t:new yde,T:new bde},Nde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sde=/^'([^]*?)'?$/,kde=/''/g,Cde=/\S/,Dde=/[a-zA-Z]/;function _de(e,t,r,n){var w,g,x,S,j,E,T,k;const a=()=>Qt((n==null?void 0:n.in)||r,NaN),s=Mue(),o=(n==null?void 0:n.locale)??s.locale??uA,l=(n==null?void 0:n.firstWeekContainsDate)??((g=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(x=s.locale)==null?void 0:x.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((E=(j=n==null?void 0:n.locale)==null?void 0:j.options)==null?void 0:E.weekStartsOn)??s.weekStartsOn??((k=(T=s.locale)==null?void 0:T.options)==null?void 0:k.weekStartsOn)??0;if(!t)return e?a():et(r,n==null?void 0:n.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:o},d=[new Fue(n==null?void 0:n.in,r)],f=t.match(jde).map(D=>{const I=D[0];if(I in fw){const R=fw[I];return R(D,o.formatLong)}return D}).join("").match(Nde),h=[];for(let D of f){const I=D[0],R=wde[I];if(R){const{incompatibleTokens:M}=R;if(Array.isArray(M)){const F=h.find(O=>M.includes(O.token)||O.token===I);if(F)throw new RangeError(`The format string mustn't contain \`${F.fullToken}\` and \`${D}\` at the same time`)}else if(R.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${D}\` and any other token at the same time`);h.push({token:I,fullToken:D});const P=R.run(e,D,o.match,u);if(!P)return a();d.push(P.setter),e=P.rest}else{if(I.match(Dde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(D==="''"?D="'":I==="'"&&(D=Pde(D)),e.indexOf(D)===0)e=e.slice(D.length);else return a()}}if(e.length>0&&Cde.test(e))return a();const m=d.map(D=>D.priority).sort((D,I)=>I-D).filter((D,I,R)=>R.indexOf(D)===I).map(D=>d.filter(I=>I.priority===D).sort((I,R)=>R.subPriority-I.subPriority)).map(D=>D[0]);let y=et(r,n==null?void 0:n.in);if(isNaN(+y))return a();const v={};for(const D of m){if(!D.validate(y,u))return a();const I=D.set(y,v,u);Array.isArray(I)?(y=I[0],Object.assign(v,I[1])):y=I}return y}function Pde(e){return e.match(Sde)[1].replace(kde,"'")}function Ede(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function Mde(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t);return+dw(n)==+dw(a)}function Ade(e,t,r){const[n,a]=Ho(r==null?void 0:r.in,e,t);return n.getFullYear()===a.getFullYear()}function wp(e,t,r){const n=+et(e,r==null?void 0:r.in),[a,s]=[+et(t.start,r==null?void 0:r.in),+et(t.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=a&&n<=s}function Lde(e,t,r){return Ys(e,-t,r)}function Ode(e,t){const r=()=>Qt(t==null?void 0:t.in,NaN),a=Fde(e);let s;if(a.date){const u=$de(a.date,2);s=Ude(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const o=+s;let l=0,c;if(a.time&&(l=zde(a.time),isNaN(l)))return r();if(a.timezone){if(c=Bde(a.timezone),isNaN(c))return r()}else{const u=new Date(o+l),d=et(0,t==null?void 0:t.in);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return et(o+l+c,t==null?void 0:t.in)}const k0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Tde=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ide=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Rde=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Fde(e){const t={},r=e.split(k0.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],k0.timeZoneDelimiter.test(t.date)&&(t.date=e.split(k0.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const a=k0.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function $de(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function Ude(e,t){if(t===null)return new Date(NaN);const r=e.match(Tde);if(!r)return new Date(NaN);const n=!!r[4],a=dh(r[1]),s=dh(r[2])-1,o=dh(r[3]),l=dh(r[4]),c=dh(r[5])-1;if(n)return qde(t,l,c)?Hde(t,l,c):new Date(NaN);{const u=new Date(0);return!Yde(t,s,o)||!Vde(t,a)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(a,o)),u)}}function dh(e){return e?parseInt(e):1}function zde(e){const t=e.match(Ide);if(!t)return NaN;const r=fb(t[1]),n=fb(t[2]),a=fb(t[3]);return Gde(r,n,a)?r*Xx+n*Kx+a*1e3:NaN}function fb(e){return e&&parseFloat(e.replace(",","."))||0}function Bde(e){if(e==="Z")return 0;const t=e.match(Rde);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Kde(n,a)?r*(n*Xx+a*Kx):NaN}function Hde(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const a=n.getUTCDay()||7,s=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Wde=[31,null,31,30,31,30,31,31,30,31,30,31];function vA(e){return e%400===0||e%4===0&&e%100!==0}function Yde(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Wde[t]||(vA(e)?29:28))}function Vde(e,t){return t>=1&&t<=(vA(e)?366:365)}function qde(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Gde(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Kde(e,t){return t>=0&&t<=59}function as(e,t,r){const n=et(e,r==null?void 0:r.in),a=n.getFullYear(),s=n.getDate(),o=Qt(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const l=Eue(o);return n.setMonth(t,Math.min(s,l)),n}function fg(e,t,r){const n=et(e,r==null?void 0:r.in);return n.setHours(t),n}function hg(e,t,r){const n=et(e,r==null?void 0:r.in);return n.setMinutes(t),n}function Vu(e,t,r){const n=et(e,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,s=t-a;return as(n,n.getMonth()+s*3)}function pg(e,t,r){const n=et(e,r==null?void 0:r.in);return n.setSeconds(t),n}function vi(e,t,r){const n=et(e,r==null?void 0:r.in);return isNaN(+n)?Qt(e,NaN):(n.setFullYear(t),n)}function Mc(e,t,r){return Qs(e,-t,r)}function xA(e,t,r){return HN(e,-t,r)}function Uk(e,t,r){return yv(e,-t,r)}function Ud(e,t,r){return jo(e,-t,r)}function Jx(){return typeof window<"u"}function pf(e){return yA(e)?(e.nodeName||"").toLowerCase():"#document"}function $a(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xi(e){var t;return(t=(yA(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yA(e){return Jx()?e instanceof Node||e instanceof $a(e).Node:!1}function ta(e){return Jx()?e instanceof Element||e instanceof $a(e).Element:!1}function Bi(e){return Jx()?e instanceof HTMLElement||e instanceof $a(e).HTMLElement:!1}function zk(e){return!Jx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof $a(e).ShadowRoot}const Xde=new Set(["inline","contents"]);function Zp(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=vs(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!Xde.has(a)}const Qde=new Set(["table","td","th"]);function Jde(e){return Qde.has(pf(e))}const Zde=[":popover-open",":modal"];function Zx(e){return Zde.some(t=>{try{return e.matches(t)}catch{return!1}})}const efe=["transform","translate","scale","rotate","perspective"],tfe=["transform","translate","scale","rotate","perspective","filter"],rfe=["paint","layout","strict","content"];function GN(e){const t=KN(),r=ta(e)?vs(e):e;return efe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||tfe.some(n=>(r.willChange||"").includes(n))||rfe.some(n=>(r.contain||"").includes(n))}function nfe(e){let t=Fl(e);for(;Bi(t)&&!zd(t);){if(GN(t))return t;if(Zx(t))return null;t=Fl(t)}return null}function KN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const afe=new Set(["html","body","#document"]);function zd(e){return afe.has(pf(e))}function vs(e){return $a(e).getComputedStyle(e)}function ey(e){return ta(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Fl(e){if(pf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||zk(e)&&e.host||Xi(e);return zk(t)?t.host:t}function bA(e){const t=Fl(e);return zd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Bi(t)&&Zp(t)?t:bA(t)}function Np(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=bA(e),s=a===((n=e.ownerDocument)==null?void 0:n.body),o=$a(a);if(s){const l=pw(o);return t.concat(o,o.visualViewport||[],Zp(a)?a:[],l&&r?Np(l):[])}return t.concat(a,Np(a,[],r))}function pw(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Bd=Math.min,Ac=Math.max,kv=Math.round,C0=Math.floor,Ri=e=>({x:e,y:e}),sfe={left:"right",right:"left",bottom:"top",top:"bottom"},ife={start:"end",end:"start"};function ofe(e,t,r){return Ac(e,Bd(t,r))}function ty(e,t){return typeof e=="function"?e(t):e}function Hd(e){return e.split("-")[0]}function em(e){return e.split("-")[1]}function lfe(e){return e==="x"?"y":"x"}function XN(e){return e==="y"?"height":"width"}const cfe=new Set(["top","bottom"]);function yc(e){return cfe.has(Hd(e))?"y":"x"}function QN(e){return lfe(yc(e))}function ufe(e,t,r){r===void 0&&(r=!1);const n=em(e),a=QN(e),s=XN(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Cv(o)),[o,Cv(o)]}function dfe(e){const t=Cv(e);return[mw(e),t,mw(t)]}function mw(e){return e.replace(/start|end/g,t=>ife[t])}const Bk=["left","right"],Hk=["right","left"],ffe=["top","bottom"],hfe=["bottom","top"];function pfe(e,t,r){switch(e){case"top":case"bottom":return r?t?Hk:Bk:t?Bk:Hk;case"left":case"right":return t?ffe:hfe;default:return[]}}function mfe(e,t,r,n){const a=em(e);let s=pfe(Hd(e),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),t&&(s=s.concat(s.map(mw)))),s}function Cv(e){return e.replace(/left|right|bottom|top/g,t=>sfe[t])}function gfe(e){return{top:0,right:0,bottom:0,left:0,...e}}function wA(e){return typeof e!="number"?gfe(e):{top:e,right:e,bottom:e,left:e}}function Dv(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}var vfe=typeof document<"u",xfe=function(){},_v=vfe?L.useLayoutEffect:xfe;const yfe={...Ng},bfe=yfe.useInsertionEffect,wfe=bfe||(e=>e());function Nfe(e){const t=L.useRef(()=>{});return wfe(()=>{t.current=e}),L.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function Wk(e,t,r){let{reference:n,floating:a}=e;const s=yc(t),o=QN(t),l=XN(o),c=Hd(t),u=s==="y",d=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,h=n[l]/2-a[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-a.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-a.width,y:f};break;default:m={x:n.x,y:n.y}}switch(em(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}const jfe=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Wk(u,n,c),h=n,m={},y=0;for(let v=0;v<l.length;v++){const{name:w,fn:g}=l[v],{x,y:S,data:j,reset:E}=await g({x:d,y:f,initialPlacement:n,placement:h,strategy:a,middlewareData:m,rects:u,platform:o,elements:{reference:e,floating:t}});d=x??d,f=S??f,m={...m,[w]:{...m[w],...j}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(h=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:d,y:f}=Wk(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:m}};async function Sfe(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=ty(t,e),y=wA(m),w=l[h?f==="floating"?"reference":"floating":f],g=Dv(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(w)))==null||r?w:w.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),j=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},E=Dv(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:S,strategy:c}):x);return{top:(g.top-E.top+y.top)/j.y,bottom:(E.bottom-g.bottom+y.bottom)/j.y,left:(g.left-E.left+y.left)/j.x,right:(E.right-g.right+y.right)/j.x}}const kfe=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=ty(e,t)||{};if(u==null)return{};const f=wA(d),h={x:r,y:n},m=QN(a),y=XN(m),v=await o.getDimensions(u),w=m==="y",g=w?"top":"left",x=w?"bottom":"right",S=w?"clientHeight":"clientWidth",j=s.reference[y]+s.reference[m]-h[m]-s.floating[y],E=h[m]-s.reference[m],T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=T?T[S]:0;(!k||!await(o.isElement==null?void 0:o.isElement(T)))&&(k=l.floating[S]||s.floating[y]);const D=j/2-E/2,I=k/2-v[y]/2-1,R=Bd(f[g],I),M=Bd(f[x],I),P=R,F=k-v[y]-M,O=k/2-v[y]/2+D,U=ofe(P,O,F),z=!c.arrow&&em(a)!=null&&O!==U&&s.reference[y]/2-(O<P?R:M)-v[y]/2<0,V=z?O<P?O-P:O-F:0;return{[m]:h[m]+V,data:{[m]:U,centerOffset:O-U-V,...z&&{alignmentOffset:V}},reset:z}}}),Cfe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...w}=ty(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const g=Hd(a),x=yc(l),S=Hd(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=h||(S||!v?[Cv(l)]:dfe(l)),T=y!=="none";!h&&T&&E.push(...mfe(l,v,y,j));const k=[l,...E],D=await Sfe(t,w),I=[];let R=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&I.push(D[g]),f){const O=ufe(a,o,j);I.push(D[O[0]],D[O[1]])}if(R=[...R,{placement:a,overflows:I}],!I.every(O=>O<=0)){var M,P;const O=(((M=s.flip)==null?void 0:M.index)||0)+1,U=k[O];if(U&&(!(f==="alignment"?x!==yc(U):!1)||R.every(q=>q.overflows[0]>0&&yc(q.placement)===x)))return{data:{index:O,overflows:R},reset:{placement:U}};let z=(P=R.filter(V=>V.overflows[0]<=0).sort((V,q)=>V.overflows[1]-q.overflows[1])[0])==null?void 0:P.placement;if(!z)switch(m){case"bestFit":{var F;const V=(F=R.filter(q=>{if(T){const re=yc(q.placement);return re===x||re==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(re=>re>0).reduce((re,oe)=>re+oe,0)]).sort((q,re)=>q[1]-re[1])[0])==null?void 0:F[0];V&&(z=V);break}case"initialPlacement":z=l;break}if(a!==z)return{reset:{placement:z}}}return{}}}},Dfe=new Set(["left","top"]);async function _fe(e,t){const{placement:r,platform:n,elements:a}=e,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Hd(r),l=em(r),c=yc(r)==="y",u=Dfe.has(o)?-1:1,d=s&&c?-1:1,f=ty(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(m=l==="end"?y*-1:y),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const Pfe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=t,c=await _fe(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}};function NA(e){const t=vs(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Bi(e),s=a?e.offsetWidth:r,o=a?e.offsetHeight:n,l=kv(r)!==s||kv(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function JN(e){return ta(e)?e:e.contextElement}function wd(e){const t=JN(e);if(!Bi(t))return Ri(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:s}=NA(t);let o=(s?kv(r.width):r.width)/n,l=(s?kv(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Efe=Ri(0);function jA(e){const t=$a(e);return!KN()||!t.visualViewport?Efe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Mfe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==$a(e)?!1:t}function Qc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=JN(e);let o=Ri(1);t&&(n?ta(n)&&(o=wd(n)):o=wd(e));const l=Mfe(s,r,n)?jA(s):Ri(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,d=a.width/o.x,f=a.height/o.y;if(s){const h=$a(s),m=n&&ta(n)?$a(n):n;let y=h,v=pw(y);for(;v&&n&&m!==y;){const w=wd(v),g=v.getBoundingClientRect(),x=vs(v),S=g.left+(v.clientLeft+parseFloat(x.paddingLeft))*w.x,j=g.top+(v.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=S,u+=j,y=$a(v),v=pw(y)}}return Dv({width:d,height:f,x:c,y:u})}function ZN(e,t){const r=ey(e).scrollLeft;return t?t.left+r:Qc(Xi(e)).left+r}function SA(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),a=n.left+t.scrollLeft-(r?0:ZN(e,n)),s=n.top+t.scrollTop;return{x:a,y:s}}function Afe(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const s=a==="fixed",o=Xi(n),l=t?Zx(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Ri(1);const d=Ri(0),f=Bi(n);if((f||!f&&!s)&&((pf(n)!=="body"||Zp(o))&&(c=ey(n)),Bi(n))){const m=Qc(n);u=wd(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!s?SA(o,c,!0):Ri(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function Lfe(e){return Array.from(e.getClientRects())}function Ofe(e){const t=Xi(e),r=ey(e),n=e.ownerDocument.body,a=Ac(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Ac(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+ZN(e);const l=-r.scrollTop;return vs(n).direction==="rtl"&&(o+=Ac(t.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}function Tfe(e,t){const r=$a(e),n=Xi(e),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const u=KN();(!u||u&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:s,height:o,x:l,y:c}}const Ife=new Set(["absolute","fixed"]);function Rfe(e,t){const r=Qc(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,s=Bi(e)?wd(e):Ri(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function Yk(e,t,r){let n;if(t==="viewport")n=Tfe(e,r);else if(t==="document")n=Ofe(Xi(e));else if(ta(t))n=Rfe(t,r);else{const a=jA(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Dv(n)}function kA(e,t){const r=Fl(e);return r===t||!ta(r)||zd(r)?!1:vs(r).position==="fixed"||kA(r,t)}function Ffe(e,t){const r=t.get(e);if(r)return r;let n=Np(e,[],!1).filter(l=>ta(l)&&pf(l)!=="body"),a=null;const s=vs(e).position==="fixed";let o=s?Fl(e):e;for(;ta(o)&&!zd(o);){const l=vs(o),c=GN(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&Ife.has(a.position)||Zp(o)&&!c&&kA(e,o))?n=n.filter(d=>d!==o):a=l,o=Fl(o)}return t.set(e,n),n}function $fe(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const o=[...r==="clippingAncestors"?Zx(t)?[]:Ffe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=Yk(t,d,a);return u.top=Ac(f.top,u.top),u.right=Bd(f.right,u.right),u.bottom=Bd(f.bottom,u.bottom),u.left=Ac(f.left,u.left),u},Yk(t,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ufe(e){const{width:t,height:r}=NA(e);return{width:t,height:r}}function zfe(e,t,r){const n=Bi(t),a=Xi(t),s=r==="fixed",o=Qc(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Ri(0);function u(){c.x=ZN(a)}if(n||!n&&!s)if((pf(t)!=="body"||Zp(a))&&(l=ey(t)),n){const m=Qc(t,!0,s,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else a&&u();s&&!n&&a&&u();const d=a&&!n&&!s?SA(a,l):Ri(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function hb(e){return vs(e).position==="static"}function Vk(e,t){if(!Bi(e)||vs(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xi(e)===r&&(r=r.ownerDocument.body),r}function CA(e,t){const r=$a(e);if(Zx(e))return r;if(!Bi(e)){let a=Fl(e);for(;a&&!zd(a);){if(ta(a)&&!hb(a))return a;a=Fl(a)}return r}let n=Vk(e,t);for(;n&&Jde(n)&&hb(n);)n=Vk(n,t);return n&&zd(n)&&hb(n)&&!GN(n)?r:n||nfe(e)||r}const Bfe=async function(e){const t=this.getOffsetParent||CA,r=this.getDimensions,n=await r(e.floating);return{reference:zfe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Hfe(e){return vs(e).direction==="rtl"}const Wfe={convertOffsetParentRelativeRectToViewportRelativeRect:Afe,getDocumentElement:Xi,getClippingRect:$fe,getOffsetParent:CA,getElementRects:Bfe,getClientRects:Lfe,getDimensions:Ufe,getScale:wd,isElement:ta,isRTL:Hfe};function DA(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Yfe(e,t){let r=null,n;const a=Xi(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const y=C0(f),v=C0(a.clientWidth-(d+h)),w=C0(a.clientHeight-(f+m)),g=C0(d),S={rootMargin:-y+"px "+-v+"px "+-w+"px "+-g+"px",threshold:Ac(0,Bd(1,c))||1};let j=!0;function E(T){const k=T[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!DA(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(E,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(E,S)}r.observe(e)}return o(!0),s}function _A(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=JN(e),d=a||s?[...u?Np(u):[],...Np(t)]:[];d.forEach(g=>{a&&g.addEventListener("scroll",r,{passive:!0}),s&&g.addEventListener("resize",r)});const f=u&&l?Yfe(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(g=>{let[x]=g;x&&x.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let y,v=c?Qc(e):null;c&&w();function w(){const g=Qc(e);v&&!DA(v,g)&&r(),v=g,y=requestAnimationFrame(w)}return r(),()=>{var g;d.forEach(x=>{a&&x.removeEventListener("scroll",r),s&&x.removeEventListener("resize",r)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,c&&cancelAnimationFrame(y)}}const Vfe=Pfe,qfe=Cfe,qk=kfe,Gfe=(e,t,r)=>{const n=new Map,a={platform:Wfe,...r},s={...a.platform,_c:n};return jfe(e,t,{...a,platform:s})};var Kfe=typeof document<"u",Xfe=function(){},mg=Kfe?L.useLayoutEffect:Xfe;function Pv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Pv(e[n],t[n]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&e.$$typeof)&&!Pv(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function PA(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gk(e,t){const r=PA(e);return Math.round(t*r)/r}function pb(e){const t=L.useRef(e);return mg(()=>{t.current=e}),t}function Qfe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=L.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=L.useState(n);Pv(h,n)||m(n);const[y,v]=L.useState(null),[w,g]=L.useState(null),x=L.useCallback(q=>{q!==T.current&&(T.current=q,v(q))},[]),S=L.useCallback(q=>{q!==k.current&&(k.current=q,g(q))},[]),j=s||y,E=o||w,T=L.useRef(null),k=L.useRef(null),D=L.useRef(d),I=c!=null,R=pb(c),M=pb(a),P=pb(u),F=L.useCallback(()=>{if(!T.current||!k.current)return;const q={placement:t,strategy:r,middleware:h};M.current&&(q.platform=M.current),Gfe(T.current,k.current,q).then(re=>{const oe={...re,isPositioned:P.current!==!1};O.current&&!Pv(D.current,oe)&&(D.current=oe,Qv.flushSync(()=>{f(oe)}))})},[h,t,r,M,P]);mg(()=>{u===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,f(q=>({...q,isPositioned:!1})))},[u]);const O=L.useRef(!1);mg(()=>(O.current=!0,()=>{O.current=!1}),[]),mg(()=>{if(j&&(T.current=j),E&&(k.current=E),j&&E){if(R.current)return R.current(j,E,F);F()}},[j,E,F,R,I]);const U=L.useMemo(()=>({reference:T,floating:k,setReference:x,setFloating:S}),[x,S]),z=L.useMemo(()=>({reference:j,floating:E}),[j,E]),V=L.useMemo(()=>{const q={position:r,left:0,top:0};if(!z.floating)return q;const re=Gk(z.floating,d.x),oe=Gk(z.floating,d.y);return l?{...q,transform:"translate("+re+"px, "+oe+"px)",...PA(z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:re,top:oe}},[r,l,z.floating,d.x,d.y]);return L.useMemo(()=>({...d,update:F,refs:U,elements:z,floatingStyles:V}),[d,F,U,z,V])}const Jfe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:a}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?qk({element:n.current,padding:a}).fn(r):{}:n?qk({element:n,padding:a}).fn(r):{}}}},Zfe=(e,t)=>({...Vfe(e),options:[e,t]}),ehe=(e,t)=>({...qfe(e),options:[e,t]}),the=(e,t)=>({...Jfe(e),options:[e,t]}),rhe={...Ng};let Kk=!1,nhe=0;const Xk=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+nhe++;function ahe(){const[e,t]=L.useState(()=>Kk?Xk():void 0);return _v(()=>{e==null&&t(Xk())},[]),L.useEffect(()=>{Kk=!0},[]),e}const she=rhe.useId,EA=she||ahe,ihe=L.forwardRef(function(t,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:o}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:h,d:m,style:{transform:y,...v}={},...w}=t,g=EA(),[x,S]=L.useState(!1);if(_v(()=>{if(!a)return;vs(a).direction==="rtl"&&S(!0)},[a]),!a)return null;const[j,E]=n.split("-"),T=j==="top"||j==="bottom";let k=f;(T&&o!=null&&o.x||!T&&o!=null&&o.y)&&(k=null);const D=d*2,I=D/2,R=l/2*(u/-8+1),M=c/2*u/4,P=!!m,F=k&&E==="end"?"bottom":"top";let O=k&&E==="end"?"right":"left";k&&x&&(O=E==="end"?"left":"right");const U=(s==null?void 0:s.x)!=null?k||s.x:"",z=(s==null?void 0:s.y)!=null?k||s.y:"",V=m||"M0,0"+(" H"+l)+(" L"+(l-R)+","+(c-M))+(" Q"+l/2+","+c+" "+R+","+(c-M))+" Z",q={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[j];return i.jsxs("svg",{...w,"aria-hidden":!0,ref:r,width:P?l:l+D,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[O]:U,[F]:z,[j]:T||P?"100%":"calc(100% - "+D/2+"px)",transform:[q,y].filter(re=>!!re).join(" "),...v},children:[D>0&&i.jsx("path",{clipPath:"url(#"+g+")",fill:"none",stroke:h,strokeWidth:D+(m?0:1),d:V}),i.jsx("path",{stroke:D&&!m?w.fill:"none",d:V}),i.jsx("clipPath",{id:g,children:i.jsx("rect",{x:-I,y:I*(P?-1:1),width:l+D,height:l})})]})});function ohe(){const e=new Map;return{emit(t,r){var n;(n=e.get(t))==null||n.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var n;(n=e.get(t))==null||n.delete(r)}}}const lhe=L.createContext(null),che=L.createContext(null),uhe=()=>{var e;return((e=L.useContext(lhe))==null?void 0:e.id)||null},dhe=()=>L.useContext(che);function fhe(e){const{open:t=!1,onOpenChange:r,elements:n}=e,a=EA(),s=L.useRef({}),[o]=L.useState(()=>ohe()),l=uhe()!=null,[c,u]=L.useState(n.reference),d=Nfe((m,y,v)=>{s.current.openEvent=m?y:void 0,o.emit("openchange",{open:m,event:y,reason:v,nested:l}),r==null||r(m,y,v)}),f=L.useMemo(()=>({setPositionReference:u}),[]),h=L.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return L.useMemo(()=>({dataRef:s,open:t,onOpenChange:d,elements:h,events:o,floatingId:a,refs:f}),[t,d,h,o,a,f])}function hhe(e){e===void 0&&(e={});const{nodeId:t}=e,r=fhe({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||r,a=n.elements,[s,o]=L.useState(null),[l,c]=L.useState(null),d=(a==null?void 0:a.domReference)||s,f=L.useRef(null),h=dhe();_v(()=>{d&&(f.current=d)},[d]);const m=Qfe({...e,elements:{...a,...l&&{reference:l}}}),y=L.useCallback(S=>{const j=ta(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(j),m.refs.setReference(j)},[m.refs]),v=L.useCallback(S=>{(ta(S)||S===null)&&(f.current=S,o(S)),(ta(m.refs.reference.current)||m.refs.reference.current===null||S!==null&&!ta(S))&&m.refs.setReference(S)},[m.refs]),w=L.useMemo(()=>({...m.refs,setReference:v,setPositionReference:y,domReference:f}),[m.refs,v,y]),g=L.useMemo(()=>({...m.elements,domReference:d}),[m.elements,d]),x=L.useMemo(()=>({...m,...n,refs:w,elements:g,nodeId:t}),[m,w,g,t,n]);return _v(()=>{n.dataRef.current.floatingContext=x;const S=h==null?void 0:h.nodesRef.current.find(j=>j.id===t);S&&(S.context=x)}),L.useMemo(()=>({...m,context:x,refs:w,elements:g}),[m,w,g,x])}/*!
  react-datepicker v8.4.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var gw=function(t,r){return gw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},gw(t,r)};function xn(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");gw(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Lt=function(){return Lt=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Lt.apply(this,arguments)};function _i(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,s;n<a;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var phe=function(e){var t=e.showTimeSelectOnly,r=t===void 0?!1:t,n=e.showTime,a=n===void 0?!1:n,s=e.className,o=e.children,l=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return ee.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},o)},mhe=function(e,t){var r=L.useRef(null),n=L.useRef(e);n.current=e;var a=L.useCallback(function(s){var o,l=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;r.current&&!r.current.contains(l)&&(t&&l instanceof HTMLElement&&l.classList.contains(t)||(o=n.current)===null||o===void 0||o.call(n,s))},[t]);return L.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},ry=function(e){var t=e.children,r=e.onClickOutside,n=e.className,a=e.containerRef,s=e.style,o=e.ignoreClass,l=mhe(r,o);return ee.createElement("div",{className:n,style:s,ref:function(c){l.current=c,a&&(a.current=c)}},t)},Be;(function(e){e.ArrowUp="ArrowUp",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.PageUp="PageUp",e.PageDown="PageDown",e.Home="Home",e.End="End",e.Enter="Enter",e.Space=" ",e.Tab="Tab",e.Escape="Escape",e.Backspace="Backspace",e.X="x"})(Be||(Be={}));function ny(){var e=typeof window<"u"?window:globalThis;return e}var tm=12;function Yt(e){if(e==null)return new Date;var t=typeof e=="string"?Ode(e):et(e);return ay(t)?t:new Date}function mb(e,t,r,n,a){a===void 0&&(a=Yt());for(var s=Wd(r)||Wd(ej()),o=Array.isArray(t)?t:[t],l=0,c=o;l<c.length;l++){var u=c[l],d=_de(e,u,a,{locale:s,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});if(ay(d)&&(!n||e===br(d,u,r)))return d}return null}function ay(e,t){return bv(e)&&!Xc(e,new Date("1/1/1800"))}function br(e,t,r){if(r==="en")return Fk(e,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Wd(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Wd(ej()),Fk(e,t,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ts(e,t){var r=t.dateFormat,n=t.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return e&&br(e,a,n)||""}var MA=" - ";function ghe(e,t,r){if(!e)return"";var n=ts(e,r),a=t?ts(t,r):"";return"".concat(n).concat(MA).concat(a)}function vhe(e,t){if(!(e!=null&&e.length))return"";var r=e[0]?ts(e[0],t):"";if(e.length===1)return r;if(e.length===2&&e[1]){var n=ts(e[1],t);return"".concat(r,", ").concat(n)}var a=e.length-1;return"".concat(r," (+").concat(a,")")}function gb(e,t){var r=t.hour,n=r===void 0?0:r,a=t.minute,s=a===void 0?0:a,o=t.second,l=o===void 0?0:o;return fg(hg(pg(e,l),s),n)}function xhe(e){return WN(e)}function yhe(e,t){return br(e,"ddd",t)}function gg(e){return Kc(e)}function El(e,t,r){var n=Wd(t||ej());return Io(e,{locale:n,weekStartsOn:r})}function Do(e){return lA(e)}function wh(e){return Qx(e)}function Qk(e){return dw(e)}function Jk(){return Kc(Yt())}function Zk(e){return iA(e)}function bhe(e){return Oce(e)}function whe(e){return oA(e)}function xi(e,t){return e&&t?Ade(e,t):!e&&!t}function ea(e,t){return e&&t?Ede(e,t):!e&&!t}function Ev(e,t){return e&&t?Mde(e,t):!e&&!t}function At(e,t){return e&&t?Ace(e,t):!e&&!t}function bc(e,t){return e&&t?Lue(e,t):!e&&!t}function Nh(e,t,r){var n,a=Kc(t),s=iA(r);try{n=wp(e,{start:a,end:s})}catch{n=!1}return n}function Nhe(e,t){var r=ny();r.__localeData__||(r.__localeData__={}),r.__localeData__[e]=t}function jhe(e){var t=ny();t.__localeId__=e}function ej(){var e=ny();return e.__localeId__}function Wd(e){if(typeof e=="string"){var t=ny();return t.__localeData__?t.__localeData__[e]:void 0}else return e}function She(e,t,r){return t(br(e,"EEEE",r))}function khe(e,t){return br(e,"EEEEEE",t)}function Che(e,t){return br(e,"EEE",t)}function tj(e,t){return br(as(Yt(),e),"LLLL",t)}function AA(e,t){return br(as(Yt(),e),"LLL",t)}function Dhe(e,t){return br(Vu(Yt(),e),"QQQ",t)}function ls(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,u=r.filterDate;return rm(e,{minDate:n,maxDate:a})||s&&s.some(function(d){return d instanceof Date?At(e,d):At(e,d.date)})||o&&o.some(function(d){var f=d.start,h=d.end;return wp(e,{start:f,end:h})})||l&&!l.some(function(d){return At(e,d)})||c&&!c.some(function(d){var f=d.start,h=d.end;return wp(e,{start:f,end:h})})||u&&!u(Yt(e))||!1}function rj(e,t){var r=t===void 0?{}:t,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var o=s.start,l=s.end;return wp(e,{start:o,end:l})}):n&&n.some(function(s){var o;return s instanceof Date?At(e,s):At(e,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function LA(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate;return rm(e,{minDate:n?lA(n):void 0,maxDate:a?oA(a):void 0})||(s==null?void 0:s.some(function(c){return ea(e,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return ea(e,c)})||l&&!l(Yt(e))||!1}function D0(e,t,r,n){var a=Nt(e),s=Yn(e),o=Nt(t),l=Yn(t),c=Nt(n);return a===o&&a===c?s<=r&&r<=l:a<o?c===a&&s<=r||c===o&&l>=r||c<o&&c>a:!1}function _he(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates;return rm(e,{minDate:n,maxDate:a})||s&&s.some(function(l){return ea(l instanceof Date?l:l.date,e)})||o&&!o.some(function(l){return ea(l,e)})||!1}function _0(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate;return rm(e,{minDate:n,maxDate:a})||(s==null?void 0:s.some(function(c){return Ev(e,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Ev(e,c)})||l&&!l(Yt(e))||!1}function P0(e,t,r){if(!t||!r||!bv(t)||!bv(r))return!1;var n=Nt(t),a=Nt(r);return n<=e&&a>=e}function vg(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(e,0,1);return rm(c,{minDate:n?Qx(n):void 0,maxDate:a?cA(a):void 0})||(s==null?void 0:s.some(function(u){return xi(c,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return xi(c,u)})||l&&!l(Yt(c))||!1}function E0(e,t,r,n){var a=Nt(e),s=Ec(e),o=Nt(t),l=Ec(t),c=Nt(n);return a===o&&a===c?s<=r&&r<=l:a<o?c===a&&s<=r||c===o&&l>=r||c<o&&c>a:!1}function rm(e,t){var r,n=t===void 0?{}:t,a=n.minDate,s=n.maxDate;return(r=a&&$d(e,a)<0||s&&$d(e,s)>0)!==null&&r!==void 0?r:!1}function eC(e,t){return t.some(function(r){return ko(r)===ko(e)&&Co(r)===Co(e)&&Pl(r)===Pl(e)})}function tC(e,t){var r=t===void 0?{}:t,n=r.excludeTimes,a=r.includeTimes,s=r.filterTime;return n&&eC(e,n)||a&&!eC(e,a)||s&&!s(e)||!1}function rC(e,t){var r=t.minTime,n=t.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=Yt();a=fg(a,ko(e)),a=hg(a,Co(e)),a=pg(a,Pl(e));var s=Yt();s=fg(s,ko(r)),s=hg(s,Co(r)),s=pg(s,Pl(r));var o=Yt();o=fg(o,ko(n)),o=hg(o,Co(n)),o=pg(o,Pl(n));var l;try{l=!wp(a,{start:s,end:o})}catch{l=!1}return l}function nC(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=Mc(e,1);return n&&wv(n,s)>0||a&&a.every(function(o){return wv(o,s)>0})||!1}function aC(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=Qs(e,1);return n&&wv(s,n)>0||a&&a.every(function(o){return wv(s,o)>0})||!1}function Phe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=Qx(e),o=xA(s,1);return n&&Nv(n,o)>0||a&&a.every(function(l){return Nv(l,o)>0})||!1}function Ehe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=cA(e),o=HN(s,1);return n&&Nv(o,n)>0||a&&a.every(function(l){return Nv(o,l)>0})||!1}function sC(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.includeDates,s=Ud(e,1);return n&&jv(n,s)>0||a&&a.every(function(o){return jv(o,s)>0})||!1}function Mhe(e,t){var r=t===void 0?{}:t,n=r.minDate,a=r.yearItemNumber,s=a===void 0?tm:a,o=wh(Ud(e,s)),l=yl(o,s).endPeriod,c=n&&Nt(n);return c&&c>l||!1}function iC(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.includeDates,s=jo(e,1);return n&&jv(s,n)>0||a&&a.every(function(o){return jv(s,o)>0})||!1}function Ahe(e,t){var r=t===void 0?{}:t,n=r.maxDate,a=r.yearItemNumber,s=a===void 0?tm:a,o=jo(e,s),l=yl(o,s).startPeriod,c=n&&Nt(n);return c&&c<l||!1}function OA(e){var t=e.minDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return $d(a,t)>=0});return Ak(n)}else return r?Ak(r):t}function TA(e){var t=e.maxDate,r=e.includeDates;if(r&&t){var n=r.filter(function(a){return $d(a,t)<=0});return Mk(n)}else return r?Mk(r):t}function oC(e,t){var r;e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--highlighted");for(var n=new Map,a=0,s=e.length;a<s;a++){var o=e[a];if(So(o)){var l=br(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(t)||(c.push(t),n.set(l,c))}else if(typeof o=="object"){var u=Object.keys(o),d=(r=u[0])!==null&&r!==void 0?r:"",f=o[d];if(typeof d=="string"&&Array.isArray(f))for(var h=0,m=f.length;h<m;h++){var y=f[h];if(y){var l=br(y,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(d)||(c.push(d),n.set(l,c))}}}}return n}function Lhe(e,t){return e.length!==t.length?!1:e.every(function(r,n){return r===t[n]})}function Ohe(e,t){e===void 0&&(e=[]),t===void 0&&(t="react-datepicker__day--holidays");var r=new Map;return e.forEach(function(n){var a=n.date,s=n.holidayName;if(So(a)){var o=br(a,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===t&&Lhe(l.holidayNames,[s]))){l.className=t;var c=l.holidayNames;l.holidayNames=c?_i(_i([],c,!0),[s],!1):[s],r.set(o,l)}}}),r}function The(e,t,r,n,a){for(var s=a.length,o=[],l=0;l<s;l++){var c=e,u=a[l];u&&(c=_ce(c,ko(u)),c=uw(c,Co(u)),c=Mce(c,Pl(u)));var d=uw(e,(r+1)*n);Rl(c,t)&&Xc(c,d)&&u!=null&&o.push(u)}return o}function lC(e){return e<10?"0".concat(e):"".concat(e)}function yl(e,t){t===void 0&&(t=tm);var r=Math.ceil(Nt(e)/t)*t,n=r-(t-1);return{startPeriod:n,endPeriod:r}}function Ihe(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate(),24);return Math.round((+r-+t)/36e5)}function cC(e){var t=e.getSeconds(),r=e.getMilliseconds();return et(e.getTime()-t*1e3-r)}function Rhe(e,t){return cC(e).getTime()===cC(t).getTime()}function uC(e){if(!So(e))throw new Error("Invalid date");var t=new Date(e);return t.setHours(0,0,0,0),t}function dC(e,t){if(!So(e)||!So(t))throw new Error("Invalid date received");var r=uC(e),n=uC(t);return Xc(r,n)}function IA(e){return e.key===Be.Space}var Fhe=function(e){xn(t,e);function t(r){var n=e.call(this,r)||this;return n.inputRef=ee.createRef(),n.onTimeChange=function(a){var s,o;n.setState({time:a});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),u=c?l:new Date;if(a!=null&&a.includes(":")){var d=a.split(":"),f=d[0],h=d[1];u.setHours(Number(f)),u.setMinutes(Number(h))}(o=(s=n.props).onChange)===null||o===void 0||o.call(s,u)},n.renderTimeInput=function(){var a=n.state.time,s=n.props,o=s.date,l=s.timeString,c=s.customTimeInput;return c?L.cloneElement(c,{date:o,value:a,onChange:n.onTimeChange}):ee.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||l)}})},n.state={time:n.props.timeString},n}return t.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},t.prototype.render=function(){return ee.createElement("div",{className:"react-datepicker__input-time-container"},ee.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),ee.createElement("div",{className:"react-datepicker-time__input-container"},ee.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},t}(L.Component),$he=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.dayEl=L.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,s,o=n.key;o===Be.Space&&(n.preventDefault(),n.key=Be.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isSameDay=function(n){return At(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),s=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!s},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),ls(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return rj(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return At(r.props.day,El(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&At(n,El(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,s=n.highlightDates;if(!s)return!1;var o=br(a,"MM.dd.yyyy");return s.get(o)},r.getHolidaysClass=function(){var n,a=r.props,s=a.day,o=a.holidays;if(!o)return[void 0];var l=br(s,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Nh(a,s,o)},r.isInSelectingRange=function(){var n,a=r.props,s=a.day,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,u=a.selectsDisabledDaysInRange,d=a.startDate,f=a.endDate,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return!(o||l||c)||!h||!u&&r.isDisabled()?!1:o&&f&&(Xc(h,f)||bc(h,f))?Nh(s,h,f):l&&d&&(Rl(h,d)||bc(h,d))||c&&d&&!f&&(Rl(h,d)||bc(h,d))?Nh(s,d,h):!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,o=a.startDate,l=a.selectsStart,c=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?At(s,c):At(s,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,o=a.endDate,l=a.selectsEnd,c=a.selectsRange,u=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l||c?At(s,u):At(s,o)},r.isRangeStart=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:At(s,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:At(o,a)},r.isWeekend=function(){var n=Pue(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Yn(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Yn(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(Yt())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return kn("react-datepicker__day",a,"react-datepicker__day--"+yhe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,s=n.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,u=r.isDisabled()||r.isExcluded()?c:o;return"".concat(u," ").concat(br(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,s=n.holidays,o=s===void 0?new Map:s,l=n.excludeDates,c=br(a,"MM.dd.yyyy"),u=[];return o.has(c)&&u.push.apply(u,o.get(c).holidayNames),r.isExcluded()&&u.push(l==null?void 0:l.filter(function(d){return d instanceof Date?At(d,a):At(d==null?void 0:d.date,a)}).map(function(d){if(!(d instanceof Date))return d==null?void 0:d.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,s=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&At(a,n))?0:-1;return s},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents($k(r.props.day),r.props.day):$k(r.props.day)},r.render=function(){return ee.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"option",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&ee.createElement("span",{className:"overlay"},r.getTitle()))},r}return t.prototype.componentDidMount=function(){this.handleFocusDay()},t.prototype.componentDidUpdate=function(){this.handleFocusDay()},t.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},t.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},t.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},t}(L.Component),Uhe=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.weekNumberEl=L.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,s,o=n.key;o===Be.Space&&(n.preventDefault(),n.key=Be.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!At(r.props.date,r.props.selected)&&At(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||At(r.props.date,r.props.selected)&&At(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&At(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},t.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},t.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,s=r.ariaLabelPrefix,o=s===void 0?t.defaultProps.ariaLabelPrefix:s,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&At(this.props.date,this.props.selected)};return ee.createElement("div",{ref:this.weekNumberEl,className:kn(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},n)},t}(L.Component),zhe=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isDisabled=function(n){return ls(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,s){for(var o,l,c,u=new Date(n),d=0;d<7;d++){var f=new Date(n);f.setDate(f.getDate()+d);var h=!r.isDisabled(f);if(h){u=f;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,s),r.props.showWeekPicker&&r.handleDayClick(u,s),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:t.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):xhe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=Ys(n,6),s=new Date(n);s<=a;){if(!r.isDisabled(s))return!1;s=Ys(s,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],s=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,s):void 0;a.push(ee.createElement(Uhe,Lt({key:"W"},t.defaultProps,r.props,{weekNumber:s,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=Ys(n,l);return ee.createElement($he,Lt({},t.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return El(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!At(r.startOfWeek(),r.props.selected)&&At(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":At(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return ee.createElement("div",{className:kn(r)},this.renderDays())},t}(L.Component),fh,Bhe=6,Nd={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},vb=(fh={},fh[Nd.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},fh[Nd.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},fh[Nd.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},fh),M0=1;function fC(e,t){return e?Nd.FOUR_COLUMNS:t?Nd.TWO_COLUMNS:Nd.THREE_COLUMNS}var Hhe=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.MONTH_REFS=_i([],Array(12),!0).map(function(){return L.createRef()}),r.QUARTER_REFS=_i([],Array(4),!0).map(function(){return L.createRef()}),r.isDisabled=function(n){return ls(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return rj(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var s,o;(o=(s=r.props).onDayClick)===null||o===void 0||o.call(s,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,s;(s=(a=r.props).onDayMouseEnter)===null||s===void 0||s.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:ea(as(s,n),o)},r.isRangeStartQuarter=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ev(Vu(s,n),o)},r.isRangeEndMonth=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:ea(as(s,n),l)},r.isRangeEndQuarter=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ev(Vu(s,n),l)},r.isInSelectingRangeMonth=function(n){var a,s=r.props,o=s.day,l=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!h?!1:l&&f?D0(h,f,n,o):c&&d||u&&d&&!f?D0(d,h,n,o):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,l=s.startDate,c=s.selectsStart,u=as(o,n),d=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?ea(u,d):ea(u,l)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,l=s.endDate,c=s.selectsEnd,u=s.selectsRange,d=as(o,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||u?ea(d,f):ea(d,l)},r.isInSelectingRangeQuarter=function(n){var a,s=r.props,o=s.day,l=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,d=s.startDate,f=s.endDate,h=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!h?!1:l&&f?E0(h,f,n,o):c&&d||u&&d&&!f?E0(d,h,n,o):!1},r.isWeekInMonth=function(n){var a=r.props.day,s=Ys(n,6);return ea(n,a)||ea(s,a)},r.isCurrentMonth=function(n,a){return Nt(n)===Nt(Yt())&&a===Yn(Yt())},r.isCurrentQuarter=function(n,a){return Nt(n)===Nt(Yt())&&a===Ec(Yt())},r.isSelectedMonth=function(n,a,s){return Yn(s)===a&&Nt(n)===Nt(s)},r.isSelectMonthInList=function(n,a,s){return s.some(function(o){return r.isSelectedMonth(n,a,o)})},r.isSelectedQuarter=function(n,a,s){return Ec(n)===a&&Nt(n)===Nt(s)},r.isMonthSelected=function(){var n=r.props,a=n.day,s=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=Yn(a);return l?o==null?void 0:o.some(function(u){return r.isSelectedMonth(a,c,u)}):!!s&&r.isSelectedMonth(a,c,s)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,s=0,o=!1,l=El(Do(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(y){return r.props.showWeekPicker?El(y,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(y){return r.props.showWeekPicker?El(y,r.props.locale,r.props.calendarStartDay):r.props.selected},d=r.props.selected?u(r.props.selected):void 0,f=r.props.preSelection?c(r.props.preSelection):void 0;n.push(ee.createElement(zhe,Lt({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:s,day:l,month:Yn(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:d,preSelection:f,showWeekNumber:r.props.showWeekNumbers}))),!o;){s++,l=yv(l,1);var h=a&&s>=Bhe,m=!a&&!r.isWeekInMonth(l);if(h||m)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,a){var s=r.isMonthDisabledForLabelDate(a),o=s.isDisabled,l=s.labelDate;o||r.handleDayClick(Do(l),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),s=a.isDisabled,o=a.labelDate;s||r.handleDayMouseEnter(Do(o))},r.handleMonthNavigation=function(n,a){var s,o,l,c;(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,a),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,s){var o,l=r.props,c=l.selected,u=l.preSelection,d=l.setPreSelection,f=l.minDate,h=l.maxDate,m=l.showFourColumnMonthYearPicker,y=l.showTwoColumnMonthYearPicker;if(u){var v=fC(m,y),w=r.getVerticalOffset(v),g=(o=vb[v])===null||o===void 0?void 0:o.grid,x=function(k,D,I){var R,M,P=D,F=I;switch(k){case Be.ArrowRight:P=Qs(D,M0),F=I===11?0:I+M0;break;case Be.ArrowLeft:P=Mc(D,M0),F=I===0?11:I-M0;break;case Be.ArrowUp:P=Mc(D,w),F=!((R=g==null?void 0:g[0])===null||R===void 0)&&R.includes(I)?I+12-w:I-w;break;case Be.ArrowDown:P=Qs(D,w),F=!((M=g==null?void 0:g[g.length-1])===null||M===void 0)&&M.includes(I)?I-12+w:I+w;break}return{newCalculatedDate:P,newCalculatedMonth:F}},S=function(k,D,I){for(var R=40,M=k,P=!1,F=0,O=x(M,D,I),U=O.newCalculatedDate,z=O.newCalculatedMonth;!P;){if(F>=R){U=D,z=I;break}if(f&&U<f){M=Be.ArrowRight;var V=x(M,U,z);U=V.newCalculatedDate,z=V.newCalculatedMonth}if(h&&U>h){M=Be.ArrowLeft;var V=x(M,U,z);U=V.newCalculatedDate,z=V.newCalculatedMonth}if(_he(U,r.props)){var V=x(M,U,z);U=V.newCalculatedDate,z=V.newCalculatedMonth}else P=!0;F++}return{newCalculatedDate:U,newCalculatedMonth:z}};if(a===Be.Enter){r.isMonthDisabled(s)||(r.onMonthClick(n,s),d==null||d(c));return}var j=S(a,u,s),E=j.newCalculatedDate,T=j.newCalculatedMonth;switch(a){case Be.ArrowRight:case Be.ArrowLeft:case Be.ArrowUp:case Be.ArrowDown:r.handleMonthNavigation(T,E);break}}},r.getVerticalOffset=function(n){var a,s;return(s=(a=vb[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},r.onMonthKeyDown=function(n,a){var s=r.props,o=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,c=n.key;c!==Be.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,a),l&&l(n)},r.onQuarterClick=function(n,a){var s=Vu(r.props.day,a);_0(s,r.props)||r.handleDayClick(Qk(s),n)},r.onQuarterMouseEnter=function(n){var a=Vu(r.props.day,n);_0(a,r.props)||r.handleDayMouseEnter(Qk(a))},r.handleQuarterNavigation=function(n,a){var s,o,l,c;r.isDisabled(a)||r.isExcluded(a)||((o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,a),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var s,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case Be.Enter:r.onQuarterClick(n,a),(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,r.props.selected);break;case Be.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,HN(r.props.preSelection,1));break;case Be.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,xA(r.props.preSelection,1));break}},r.isMonthDisabledForLabelDate=function(n){var a,s=r.props,o=s.day,l=s.minDate,c=s.maxDate,u=s.excludeDates,d=s.includeDates,f=as(o,n);return{isDisabled:(a=(l||c||u||d)&&LA(f,r.props))!==null&&a!==void 0?a:!1,labelDate:f}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate,c=a.preSelection,u=a.monthClassName,d=u?u(as(s,n)):void 0,f=r.getSelection();return kn("react-datepicker__month-text","react-datepicker__month-".concat(n),d,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":f?r.isSelectMonthInList(s,n,f):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(s,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?D0(o,l,n,s):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(s,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Yn(r.props.preSelection),s=r.isMonthDisabledForLabelDate(a).isDisabled,o=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=Ec(r.props.preSelection),s=_0(r.props.day,r.props),o=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var a=r.props,s=a.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,u=a.day,d=a.locale,f=as(u,n),h=r.isDisabled(f)||r.isExcluded(f)?c:o;return"".concat(h," ").concat(br(f,"MMMM yyyy",d))},r.getQuarterClassNames=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate,c=a.selected,u=a.minDate,d=a.maxDate,f=a.excludeDates,h=a.includeDates,m=a.filterDate,y=a.preSelection,v=a.disabledKeyboardNavigation,w=(u||d||f||h||m)&&_0(Vu(s,n),r.props);return kn("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":w,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(s,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!v&&y&&r.isSelectedQuarter(s,n,y)&&!w,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?E0(o,l,n,s):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(s,n)})},r.getMonthContent=function(n){var a=r.props,s=a.showFullMonthYearPicker,o=a.renderMonthContent,l=a.locale,c=a.day,u=AA(n,l),d=tj(n,l);return o?o(n,u,d,c):s?d:u},r.getQuarterContent=function(n){var a,s=r.props,o=s.renderQuarterContent,l=s.locale,c=Dhe(n,l);return(a=o==null?void 0:o(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,s=a.showTwoColumnMonthYearPicker,o=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,u=(n=vb[fC(o,s)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(d,f){return ee.createElement("div",{className:"react-datepicker__month-wrapper",key:f},d.map(function(h,m){return ee.createElement("div",{ref:r.MONTH_REFS[h],key:m,onClick:function(y){r.onMonthClick(y,h)},onKeyDown:function(y){IA(y)&&(y.preventDefault(),y.key=Be.Enter),r.onMonthKeyDown(y,h)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(h)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(h)}:void 0,tabIndex:Number(r.getTabIndex(h)),className:r.getMonthClassNames(h),"aria-disabled":r.isMonthDisabled(h),role:"option","aria-label":r.getAriaLabel(h),"aria-current":r.isCurrentMonth(l,h)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,h,c):void 0},r.getMonthContent(h))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,s=n.selected,o=[1,2,3,4];return ee.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return ee.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(u){r.onQuarterClick(u,l)},onKeyDown:function(u){r.onQuarterKeyDown(u,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":s?r.isSelectedQuarter(a,l,s):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(a,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,s=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,u=n.showWeekPicker;return kn("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},r}return t.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,s=r.selectsMultiple;if(s)return a;if(n)return[n]},t.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,s=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"";return ee.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(br(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():a?this.renderQuarters():this.renderWeeks())},t}(L.Component),Whe=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.isSelectedMonth=function(n){return r.props.month===n},r.renderOptions=function(){return r.props.monthNames.map(function(n,a){return ee.createElement("div",{className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?ee.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return t.prototype.render=function(){return ee.createElement(ry,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),Yhe=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,s){return ee.createElement("option",{key:a,value:s},a)})},r.renderSelectMode=function(n){return ee.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return ee.createElement(Whe,Lt({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,s=[r.renderReadView(!a,n)];return a&&s.unshift(r.renderDropdown(n)),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return AA(s,r.props.locale)}:function(s){return tj(s,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return ee.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},t}(L.Component);function Vhe(e,t){for(var r=[],n=Do(e),a=Do(t);!Rl(n,a);)r.push(Yt(n)),n=Qs(n,1);return r}var qhe=function(e){xn(t,e);function t(r){var n=e.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var s=hw(a),o=xi(n.props.date,a)&&ea(n.props.date,a);return ee.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?ee.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",br(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Vhe(n.props.minDate,n.props.maxDate)},n}return t.prototype.render=function(){var r=kn({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return ee.createElement(ry,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),Ghe=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=Do(r.props.minDate),a=Do(r.props.maxDate),s=[];!Rl(n,a);){var o=hw(n);s.push(ee.createElement("option",{key:o,value:o},br(n,r.props.dateFormat,r.props.locale))),n=Qs(n,1)}return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return ee.createElement("select",{value:hw(Do(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=br(r.props.date,r.props.dateFormat,r.props.locale);return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},ee.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return ee.createElement(qhe,Lt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=Yt(n);xi(r.props.date,a)&&ea(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(L.Component),Khe=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,s;r.list&&(r.list.scrollTop=(s=r.centerLi&&t.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&s!==void 0?s:0)})},r.handleClick=function(n){var a,s;(r.props.minTime||r.props.maxTime)&&rC(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&tC(n,r.props)||(s=(a=r.props).onChange)===null||s===void 0||s.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&Rhe(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&rC(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&tC(n,r.props)},r.liClasses=function(n){var a,s=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(ko(n)*3600+Co(n)*60+Pl(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:t.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},r.handleOnKeyDown=function(n,a){var s,o;n.key===Be.Space&&(n.preventDefault(),n.key=Be.Enter),(n.key===Be.ArrowUp||n.key===Be.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Be.ArrowDown||n.key===Be.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Be.Enter&&r.handleClick(a),(o=(s=r.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},r.renderTimes=function(){for(var n,a=[],s=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:t.defaultProps.intervals,l=r.props.selected||r.props.openToDate||Yt(),c=gg(l),u=r.props.injectTimes&&r.props.injectTimes.sort(function(w,g){return w.getTime()-g.getTime()}),d=60*Ihe(l),f=d/o,h=0;h<f;h++){var m=uw(c,h*o);if(a.push(m),u){var y=The(c,m,h,o,u);a=a.concat(y)}}var v=a.reduce(function(w,g){return g.getTime()<=l.getTime()?g:w},a[0]);return a.map(function(w){return ee.createElement("li",{key:w.valueOf(),onClick:r.handleClick.bind(r,w),className:r.liClasses(w),ref:function(g){w===v&&(r.centerLi=g)},onKeyDown:function(g){r.handleOnKeyDown(g,w)},tabIndex:w===v?0:-1,role:"option","aria-selected":r.isSelectedTime(w)?"true":void 0,"aria-disabled":r.isDisabledTime(w)?"true":void 0},br(w,s,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?ee.createElement(ee.Fragment,null):ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},ee.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(t,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},t.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},t.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},t.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},t.prototype.render=function(){var r=this,n,a=this.state.height;return ee.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:t.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),ee.createElement("div",{className:"react-datepicker__time"},ee.createElement("div",{className:"react-datepicker__time-box"},ee.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){r.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},t.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},t}(L.Component),hC=3,Xhe=function(e){xn(t,e);function t(r){var n=e.call(this,r)||this;return n.YEAR_REFS=_i([],Array(n.props.yearItemNumber),!0).map(function(){return L.createRef()}),n.isDisabled=function(a){return ls(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return rj(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var s=function(){var o,l;(l=(o=n.YEAR_REFS[a])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(a,s){n.props.onDayClick&&n.props.onDayClick(a,s)},n.handleYearNavigation=function(a,s){var o,l,c,u,d=n.props,f=d.date,h=d.yearItemNumber;if(!(f===void 0||h===void 0)){var m=yl(f,h).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,s),a-m<0?n.updateFocusOnPaginate(h-(m-a)):a-m>=h?n.updateFocusOnPaginate(Math.abs(h-(a-m))):(u=(c=n.YEAR_REFS[a-m])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,s){return At(a,s)},n.isCurrentYear=function(a){return a===Nt(Yt())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&xi(vi(Yt(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&xi(vi(Yt(),a),n.props.endDate)},n.isInRange=function(a){return P0(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var s=n.props,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,d=s.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&d?P0(a,n.selectingDate(),d):l&&u||c&&u&&!d?P0(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var s;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,u=vi(Yt(),a);return c?xi(u,(s=n.selectingDate())!==null&&s!==void 0?s:null):xi(u,l??null)},n.isSelectingRangeEnd=function(a){var s;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,u=o.selectsRange,d=vi(Yt(),a);return c||u?xi(d,(s=n.selectingDate())!==null&&s!==void 0?s:null):xi(d,l??null)},n.isKeyboardSelected=function(a){if(!(n.props.date===void 0||n.props.selected==null||n.props.preSelection==null)){var s=n.props,o=s.minDate,l=s.maxDate,c=s.excludeDates,u=s.includeDates,d=s.filterDate,f=wh(vi(n.props.date,a)),h=(o||l||c||u||d)&&vg(a,n.props);return!n.props.disabledKeyboardNavigation&&!n.props.inline&&!At(f,wh(n.props.selected))&&At(f,wh(n.props.preSelection))&&!h}},n.isSelectedYear=function(a){var s=n.props,o=s.selectsMultiple,l=s.selected,c=s.selectedDates;return o?c==null?void 0:c.some(function(u){return a===Nt(u)}):!!l&&a===Nt(l)},n.onYearClick=function(a,s){var o=n.props.date;o!==void 0&&n.handleYearClick(wh(vi(o,s)),a)},n.onYearKeyDown=function(a,s){var o,l,c=a.key,u=n.props,d=u.date,f=u.yearItemNumber,h=u.handleOnKeyDown;if(c!==Be.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case Be.Enter:if(n.props.selected==null)break;n.onYearClick(a,s),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case Be.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,jo(n.props.preSelection,1));break;case Be.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Ud(n.props.preSelection,1));break;case Be.ArrowUp:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var m=yl(d,f).startPeriod,y=hC,v=s-y;if(v<m){var w=f%y;s>=m&&s<m+w?y=w:y+=w,v=s-y}n.handleYearNavigation(v,Ud(n.props.preSelection,y));break}case Be.ArrowDown:{if(d===void 0||f===void 0||n.props.preSelection==null)break;var g=yl(d,f).endPeriod,y=hC,v=s+y;if(v>g){var w=f%y;s<=g&&s>g-w?y=w:y+=w,v=s+y}n.handleYearNavigation(v,jo(n.props.preSelection,y));break}}h&&h(a)},n.getYearClassNames=function(a){var s=n.props,o=s.date,l=s.minDate,c=s.maxDate,u=s.excludeDates,d=s.includeDates,f=s.filterDate,h=s.yearClassName;return kn("react-datepicker__year-text","react-datepicker__year-".concat(a),o?h==null?void 0:h(vi(o,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(l||c||u||d||f)&&vg(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=Nt(n.props.preSelection),o=vg(a,n.props);return a===s&&!o?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return t.prototype.render=function(){var r=this,n=[],a=this.props,s=a.date,o=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(s===void 0)return null;for(var u=yl(s,o),d=u.startPeriod,f=u.endPeriod,h=function(v){n.push(ee.createElement("div",{ref:m.YEAR_REFS[v-d],onClick:function(w){r.onYearClick(w,v)},onKeyDown:function(w){IA(w)&&(w.preventDefault(),w.key=Be.Enter),r.onYearKeyDown(w,v)},tabIndex:Number(m.getYearTabIndex(v)),className:m.getYearClassNames(v),onMouseEnter:m.props.usePointerEvent?void 0:function(w){return l(w,v)},onPointerEnter:m.props.usePointerEvent?function(w){return l(w,v)}:void 0,onMouseLeave:m.props.usePointerEvent?void 0:function(w){return c(w,v)},onPointerLeave:m.props.usePointerEvent?function(w){return c(w,v)}:void 0,key:v,"aria-current":m.isCurrentYear(v)?"date":void 0},m.getYearContent(v)))},m=this,y=d;y<=f;y++)h(y);return ee.createElement("div",{className:"react-datepicker__year"},ee.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},t}(L.Component);function Qhe(e,t,r,n){for(var a=[],s=0;s<2*t+1;s++){var o=e+t-s,l=!0;r&&(l=Nt(r)<=o),n&&l&&(l=Nt(n)>=o),l&&a.push(o)}return a}var Jhe=function(e){xn(t,e);function t(r){var n=e.call(this,r)||this;n.renderOptions=function(){var l=n.props.year,c=n.state.yearsList.map(function(f){return ee.createElement("div",{className:l===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:n.onChange.bind(n,f),"aria-selected":l===f?"true":void 0},l===f?ee.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",f)}),u=n.props.minDate?Nt(n.props.minDate):null,d=n.props.maxDate?Nt(n.props.maxDate):null;return(!d||!n.state.yearsList.find(function(f){return f===d}))&&c.unshift(ee.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(f){return f===u}))&&c.push(ee.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},ee.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(u){return u+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,o=a||(s?10:5);return n.state={yearsList:Qhe(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=L.createRef(),n}return t.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(s){return s.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},t.prototype.render=function(){var r=kn({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return ee.createElement(ry,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},t}(L.Component),Zhe=function(e){xn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?Nt(r.props.minDate):1900,a=r.props.maxDate?Nt(r.props.maxDate):2100,s=[],o=n;o<=a;o++)s.push(ee.createElement("option",{key:o,value:o},o));return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return ee.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return ee.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(a){return r.toggleDropdown(a)}},ee.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),ee.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return ee.createElement(Jhe,Lt({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var s;(s=r.onSelect)===null||s===void 0||s.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var s,o;(o=(s=r.props).onSelect)===null||o===void 0||o.call(s,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return t.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return ee.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},t}(L.Component),epe=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],tpe=function(e){var t=(e.className||"").split(/\s+/);return epe.some(function(r){return t.indexOf(r)>=0})},rpe=function(e){xn(t,e);function t(r){var n=e.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var s,o;tpe(a.target)&&((o=(s=n.props).onDropdownFocus)===null||o===void 0||o.call(s,a))},n.getDateInView=function(){var a=n.props,s=a.preSelection,o=a.selected,l=a.openToDate,c=OA(n.props),u=TA(n.props),d=Yt(),f=l||o||s;return f||(c&&Xc(d,c)?c:u&&Rl(d,u)?u:d)},n.increaseMonth=function(){n.setState(function(a){var s=a.date;return{date:Qs(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var s=a.date;return{date:Mc(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,s,o){n.props.onSelect(a,s,o),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,s){n.setState({selectingDate:vi(Yt(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,s)},n.handleYearMouseLeave=function(a,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,s)},n.handleYearChange=function(a){var s,o,l,c;(o=(s=n.props).onYearChange)===null||o===void 0||o.call(s,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!ls(a,n.props))return a;for(var s=Do(a),o=whe(a),l=Lce(o,s),c=null,u=0;u<=l;u++){var d=Ys(s,u);if(!ls(d,n.props)){c=d;break}}return c},n.handleMonthChange=function(a){var s,o,l,c=(s=n.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var s,o;(o=(s=n.props).onMonthChange)===null||o===void 0||o.call(s,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(s){var o=s.date;return{date:vi(o,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(s){var o=s.date;return{date:as(o,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(s){var o=s.date;return{date:vi(as(o,Yn(a)),Nt(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var s=El(a,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(ee.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),o.concat([0,1,2,3,4,5,6].map(function(l){var c=Ys(s,l),u=n.formatWeekday(c,n.props.locale),d=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return ee.createElement("div",{key:l,"aria-label":br(c,"EEEE",n.props.locale),className:kn("react-datepicker__day-name",d)},u)}))},n.formatWeekday=function(a,s){return n.props.formatWeekDay?She(a,n.props.formatWeekDay,s):n.props.useWeekdaysShort?Che(a,s):khe(a,s)},n.decreaseYear=function(){n.setState(function(a){var s,o=a.date;return{date:Ud(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,s,o;if(!n.props.renderCustomHeader){var l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:c,d=Mc(n.state.date,u),f;switch(!0){case n.props.showMonthYearPicker:f=sC(n.state.date,n.props);break;case n.props.showYearPicker:f=Mhe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:f=Phe(n.state.date,n.props);break;default:f=nC(d,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&f||n.props.showTimeSelectOnly)){var h=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],m=["react-datepicker__navigation","react-datepicker__navigation--previous"],y=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(y=n.decreaseYear),f&&n.props.showDisabledMonthNavigation&&(m.push("react-datepicker__navigation--previous--disabled"),y=void 0);var v=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,w=n.props,g=w.previousMonthButtonLabel,x=g===void 0?t.defaultProps.previousMonthButtonLabel:g,S=w.previousYearButtonLabel,j=S===void 0?t.defaultProps.previousYearButtonLabel:S,E=n.props,T=E.previousMonthAriaLabel,k=T===void 0?typeof x=="string"?x:"Previous Month":T,D=E.previousYearAriaLabel,I=D===void 0?typeof j=="string"?j:"Previous Year":D;return ee.createElement("button",{type:"button",className:m.join(" "),onClick:y,onKeyDown:n.props.handleOnKeyDown,"aria-label":v?I:k},ee.createElement("span",{className:h.join(" ")},v?j:x))}}},n.increaseYear=function(){n.setState(function(a){var s,o=a.date;return{date:jo(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:t.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=iC(n.state.date,n.props);break;case n.props.showYearPicker:s=Ahe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=Ehe(n.state.date,n.props);break;default:s=aC(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:t.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,d=n.props,f=d.nextMonthButtonLabel,h=f===void 0?t.defaultProps.nextMonthButtonLabel:f,m=d.nextYearButtonLabel,y=m===void 0?t.defaultProps.nextYearButtonLabel:m,v=n.props,w=v.nextMonthAriaLabel,g=w===void 0?typeof h=="string"?h:"Next Month":w,x=v.nextYearAriaLabel,S=x===void 0?typeof y=="string"?y:"Next Year":x;return ee.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?S:g},ee.createElement("span",{className:l.join(" ")},u?y:h))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),ee.createElement("h2",{className:s.join(" ")},br(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return ee.createElement(Zhe,Lt({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:Nt(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return ee.createElement(Yhe,Lt({},t.defaultProps,n.props,{month:Yn(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return ee.createElement(Ghe,Lt({},t.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(Jk(),a),n.props.setPreSelection&&n.props.setPreSelection(Jk())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return ee.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDefaultHeader=function(a){var s=a.monthDate,o=a.i;return ee.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),ee.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)),ee.createElement("div",{className:"react-datepicker__day-names"},n.header(s)))},n.renderCustomHeader=function(a){var s,o,l=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=nC(n.state.date,n.props),d=aC(n.state.date,n.props),f=sC(n.state.date,n.props),h=iC(n.state.date,n.props),m=!n.props.showMonthYearPicker&&!n.props.showQuarterYearPicker&&!n.props.showYearPicker;return ee.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(s=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Lt(Lt({},n.state),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:u,nextMonthButtonDisabled:d,prevYearButtonDisabled:f,nextYearButtonDisabled:h})),m&&ee.createElement("div",{className:"react-datepicker__day-names"},n.header(l)))},n.renderYearHeader=function(a){var s=a.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,u=c===void 0?t.defaultProps.yearItemNumber:c,d=yl(s,u),f=d.startPeriod,h=d.endPeriod;return ee.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(f," - ").concat(h):Nt(s))},n.renderHeader=function(a){var s=a.monthDate,o=a.i,l=o===void 0?0:o,c={monthDate:s,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(a=n.props.monthsShown)!==null&&a!==void 0?a:t.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?jo(n.state.date,c):Mc(n.state.date,c),d=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:c,f=0;f<l;++f){var h=f-d+c,m=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?jo(u,h):Qs(u,h),y="month-".concat(f),v=f<l-1,w=f>0;o.push(ee.createElement("div",{key:y,ref:function(g){n.monthContainer=g??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:m,i:f}),ee.createElement(Hhe,Lt({},t.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:m,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:f,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:v,monthShowsDuplicateDaysStart:w}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return ee.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),ee.createElement(Xhe,Lt({},t.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return ee.createElement(Khe,Lt({},t.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,s=a&&ay(a)&&!!n.props.selected,o=s?"".concat(lC(a.getHours()),":").concat(lC(a.getMinutes())):"";if(n.props.showTimeInput)return ee.createElement(Fhe,Lt({},t.defaultProps,n.props,{date:a,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,s=yl(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:t.defaultProps.yearItemNumber),o=s.startPeriod,l=s.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=Nt(n.state.date):c="".concat(tj(Yn(n.state.date),n.props.locale)," ").concat(Nt(n.state.date)),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return ee.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=L.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(t,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:tm}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())},t.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!At(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!ea(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!At(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},t.prototype.render=function(){var r=this.props.container||phe;return ee.createElement(ry,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},ee.createElement("div",{style:{display:"contents"},ref:this.containerRef},ee.createElement(r,{className:kn("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},t}(L.Component),npe=function(e){var t=e.icon,r=e.className,n=r===void 0?"":r,a=e.onClick,s="react-datepicker__calendar-icon";if(typeof t=="string")return ee.createElement("i",{className:"".concat(s," ").concat(t," ").concat(n),"aria-hidden":"true",onClick:a});if(ee.isValidElement(t)){var o=t;return ee.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof a=="function"&&a(l)}})}return ee.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},ee.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},RA=function(e){xn(t,e);function t(r){var n=e.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return t.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},t.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},t.prototype.render=function(){return g5.createPortal(this.props.children,this.el)},t}(L.Component),ape="[tabindex], a, button, input, select, textarea",spe=function(e){return(e instanceof HTMLAnchorElement||!e.disabled)&&e.tabIndex!==-1},FA=function(e){xn(t,e);function t(r){var n=e.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(ape),1,-1).filter(spe)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=L.createRef(),n}return t.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:t.defaultProps.enableTabLoop)?ee.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},ee.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,ee.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},t.defaultProps={enableTabLoop:!0},t}(L.Component);function ipe(e){var t=function(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,s=L.useRef(null),o=hhe(Lt({open:!a,whileElementsMounted:_A,placement:r.popperPlacement,middleware:_i([ehe({padding:15}),Zfe(10),the({element:s})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=Lt(Lt({},r),{hidePopper:a,popperProps:Lt(Lt({},o),{arrowRef:s})});return ee.createElement(e,Lt({},l))};return t}var ope=function(e){xn(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return Object.defineProperty(t,"defaultProps",{get:function(){return{hidePopper:!0}},enumerable:!1,configurable:!0}),t.prototype.render=function(){var r=this.props,n=r.className,a=r.wrapperClassName,s=r.hidePopper,o=s===void 0?t.defaultProps.hidePopper:s,l=r.popperComponent,c=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,h=r.portalHost,m=r.popperProps,y=r.showArrow,v=void 0;if(!o){var w=kn("react-datepicker-popper",n);v=ee.createElement(FA,{enableTabLoop:u},ee.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:d},l,y&&ee.createElement(ihe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=L.createElement(this.props.popperContainer,{},v)),f&&!o&&(v=ee.createElement(RA,{portalId:f,portalHost:h},v));var g=kn("react-datepicker-wrapper",a);return ee.createElement(ee.Fragment,null,ee.createElement("div",{ref:m.refs.setReference,className:g},c),v)},t}(L.Component),lpe=ipe(ope),pC="react-datepicker-ignore-onclickoutside";function cpe(e,t){return e&&t?Yn(e)!==Yn(t)||Nt(e)!==Nt(t):e!==t}var xb="Date input not valid.",mC=function(e){xn(t,e);function t(r){var n=e.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:Yt()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,o){var l=new Date(o.date);return ay(l)?_i(_i([],s,!0),[Lt(Lt({},o),{date:l})],!1):s},[])},n.calcInitialState=function(){var a,s=n.getPreSelection(),o=OA(n.props),l=TA(n.props),c=o&&Xc(s,gg(o))?o:l&&Rl(s,Zk(l))?l:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:oC(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.resetHiddenStatus=function(){n.setState(Lt(Lt({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Lt(Lt({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},n.setBlur=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,s){s===void 0&&(s=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:yb},function(){a||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return So(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var s,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(s=n.props).onFocus)===null||o===void 0||o.call(s,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(a){var s,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(s=n.props).onBlur)===null||o===void 0||o.call(s,a)),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var s,o;n.props.inline||n.setOpen(!1),(o=(s=n.props).onClickOutside)===null||o===void 0||o.call(s,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,s,o,l,c,u=[],d=0;d<arguments.length;d++)u[d]=arguments[d];var f=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!f||typeof f.isDefaultPrevented!="function"||f.isDefaultPrevented()))){n.setState({inputValue:(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:null,lastPreSelectChange:upe});var h=n.props,m=h.selectsRange,y=h.startDate,v=h.endDate,w=(a=n.props.dateFormat)!==null&&a!==void 0?a:t.defaultProps.dateFormat,g=(s=n.props.strictParsing)!==null&&s!==void 0?s:t.defaultProps.strictParsing,x=(f==null?void 0:f.target)instanceof HTMLInputElement?f.target.value:"";if(m){var S=x.split(w.includes("-")?MA:"-",2).map(function(M){return M.trim()}),j=S[0],E=S[1],T=mb(j??"",w,n.props.locale,g),k=mb(E??"",w,n.props.locale,g),D=(y==null?void 0:y.getTime())!==(T==null?void 0:T.getTime()),I=(v==null?void 0:v.getTime())!==(k==null?void 0:k.getTime());if(!D&&!I||T&&ls(T,n.props)||k&&ls(k,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[T,k],f)}else{var R=mb(x,w,n.props.locale,g,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(R||!x)&&n.setSelected(R,f,!0)}}},n.handleSelect=function(a,s,o){if(!n.props.readOnly){if(n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(a,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect)n.setPreSelection(a);else if(!n.props.inline){n.props.selectsRange||n.setOpen(!1);var l=n.props,c=l.startDate,u=l.endDate;c&&!u&&(n.props.swapRange||!dC(a,c))&&n.setOpen(!1)}}},n.setSelected=function(a,s,o,l){var c,u,d=a;if(n.props.showYearPicker){if(d!==null&&vg(Nt(d),n.props))return}else if(n.props.showMonthYearPicker){if(d!==null&&LA(d,n.props))return}else if(d!==null&&ls(d,n.props))return;var f=n.props,h=f.onChange,m=f.selectsRange,y=f.startDate,v=f.endDate,w=f.selectsMultiple,g=f.selectedDates,x=f.minTime,S=f.swapRange;if(!bc(n.props.selected,d)||n.props.allowSameDay||m||w)if(d!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(d=gb(d,{hour:ko(n.props.selected),minute:Co(n.props.selected),second:Pl(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&x&&(d=gb(d,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),n.props.inline||n.setState({preSelection:d}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),m){var j=!y&&!v,E=y&&!v,T=y&&v;j?h==null||h([d,null],s):E&&(d===null?h==null||h([null,null],s):dC(d,y)?S?h==null||h([d,y],s):h==null||h([d,null],s):h==null||h([y,d],s)),T&&(h==null||h([d,null],s))}else if(w){if(d!==null)if(!(g!=null&&g.length))h==null||h([d],s);else{var k=g.some(function(I){return At(I,d)});if(k){var D=g.filter(function(I){return!At(I,d)});h==null||h(D,s)}else h==null||h(_i(_i([],g,!0),[d],!1),s)}}else h==null||h(d,s);o||((u=(c=n.props).onSelect)===null||u===void 0||u.call(c,d,s),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var s=So(n.props.minDate),o=So(n.props.maxDate),l=!0;if(a){var c=gg(a);if(s&&o)l=Nh(a,n.props.minDate,n.props.maxDate);else if(s){var u=gg(n.props.minDate);l=Rl(a,u)||bc(c,u)}else if(o){var d=Zk(n.props.maxDate);l=Xc(a,d)||bc(c,d)}}l&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var s,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?a:gb(l,{hour:ko(a),minute:Co(a)});n.setState({preSelection:c}),(o=(s=n.props).onChange)===null||o===void 0||o.call(s,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(a=n.props).onInputClick)===null||s===void 0||s.call(a)},n.onInputKeyDown=function(a){var s,o,l,c,u,d;(o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,a);var f=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(f===Be.ArrowDown||f===Be.ArrowUp||f===Be.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(f===Be.ArrowDown||f===Be.ArrowUp){a.preventDefault();var h=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',m=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(h);m instanceof HTMLElement&&m.focus({preventScroll:!0});return}var y=Yt(n.state.preSelection);f===Be.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===yb?(n.handleSelect(y,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(y)):n.setOpen(!1)):f===Be.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):f===Be.Tab&&n.setOpen(!1),n.inputOk()||(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:xb})}},n.onPortalKeyDown=function(a){var s=a.key;s===Be.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var s,o,l,c,u,d,f=n.props,h=f.minDate,m=f.maxDate,y=f.disabledKeyboardNavigation,v=f.showWeekPicker,w=f.shouldCloseOnSelect,g=f.locale,x=f.calendarStartDay,S=f.adjustDateOnChange,j=f.inline;if((o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,a),!y){var E=a.key,T=a.shiftKey,k=Yt(n.state.preSelection),D=function(U,z){var V=z;switch(U){case Be.ArrowRight:V=v?yv(z,1):Ys(z,1);break;case Be.ArrowLeft:V=v?Uk(z,1):Lde(z,1);break;case Be.ArrowUp:V=Uk(z,1);break;case Be.ArrowDown:V=yv(z,1);break;case Be.PageUp:V=T?Ud(z,1):Mc(z,1);break;case Be.PageDown:V=T?jo(z,1):Qs(z,1);break;case Be.Home:V=El(z,g,x);break;case Be.End:V=bhe(z);break}return V},I=function(U,z){for(var V=40,q=U,re=!1,oe=0,le=D(U,z);!re;){if(oe>=V){le=z;break}h&&le<h&&(q=Be.ArrowRight,le=ls(h,n.props)?D(q,le):h),m&&le>m&&(q=Be.ArrowLeft,le=ls(m,n.props)?D(q,le):m),ls(le,n.props)?((q===Be.PageUp||q===Be.Home)&&(q=Be.ArrowRight),(q===Be.PageDown||q===Be.End)&&(q=Be.ArrowLeft),le=D(q,le)):re=!0,oe++}return le};if(E===Be.Enter){a.preventDefault(),n.handleSelect(k,a),!w&&n.setPreSelection(k);return}else if(E===Be.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:xb});return}var R=null;switch(E){case Be.ArrowLeft:case Be.ArrowRight:case Be.ArrowUp:case Be.ArrowDown:case Be.PageUp:case Be.PageDown:case Be.Home:case Be.End:R=I(E,k);break}if(!R){(d=(u=n.props).onInputError)===null||d===void 0||d.call(u,{code:1,msg:xb});return}if(a.preventDefault(),n.setState({lastPreSelectChange:yb}),S&&n.setSelected(R),n.setPreSelection(R),j){var M=Yn(k),P=Yn(R),F=Nt(k),O=Nt(R);M!==P||F!==O?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var s=a.key;s===Be.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var s=n.props,o=s.selectsRange,l=s.onChange;o?l==null||l([null,null],a):l==null||l(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,s;return!n.props.inline&&!n.isCalendarOpen()?null:ee.createElement(rpe,Lt({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:t.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Ohe(n.modifyHolidays()),outsideClickIgnoreClass:pC,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:t.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a=n.props,s=a.dateFormat,o=s===void 0?t.defaultProps.dateFormat:s,l=a.locale,c=n.props.showTimeInput||n.props.showTimeSelect,u=c?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(ts(n.props.startDate,{dateFormat:u,locale:l}),". ").concat(n.props.endDate?"End date: "+ts(n.props.endDate,{dateFormat:u,locale:l}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(ts(n.props.selected,{dateFormat:o,locale:l})):n.props.showYearPicker?d="Selected year: ".concat(ts(n.props.selected,{dateFormat:"yyyy",locale:l})):n.props.showMonthYearPicker?d="Selected month: ".concat(ts(n.props.selected,{dateFormat:"MMMM yyyy",locale:l})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(ts(n.props.selected,{dateFormat:"yyyy, QQQ",locale:l})):d="Selected date: ".concat(ts(n.props.selected,{dateFormat:u,locale:l})),ee.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var a,s,o,l=kn(n.props.className,(a={},a[pC]=n.state.open,a)),c=n.props.customInput||ee.createElement("input",{type:"text"}),u=n.props.customInputRef||"ref",d=n.props,f=d.dateFormat,h=f===void 0?t.defaultProps.dateFormat:f,m=d.locale,y=typeof n.props.value=="string"?n.props.value:typeof n.state.inputValue=="string"?n.state.inputValue:n.props.selectsRange?ghe(n.props.startDate,n.props.endDate,{dateFormat:h,locale:m}):n.props.selectsMultiple?vhe((o=n.props.selectedDates)!==null&&o!==void 0?o:[],{dateFormat:h,locale:m}):ts(n.props.selected,{dateFormat:h,locale:m});return L.cloneElement(c,(s={},s[u]=function(v){n.input=v},s.value=y,s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=kn(c.props.className,l),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var a=n.props,s=a.isClearable,o=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,h=f===void 0?"":f,m=a.ariaLabelClose,y=m===void 0?"Close":m,v=a.selectedDates,w=a.readOnly;return s&&!w&&(l!=null||c!=null||u!=null||v!=null&&v.length)?ee.createElement("button",{type:"button",className:kn("react-datepicker__close-icon",h,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":y,onClick:n.onClearClick,title:d,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(t,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:tm,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.componentDidUpdate=function(r,n){var a,s,o,l;r.inline&&cpe(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:oC(this.props.highlightDates)}),!n.focused&&!bc(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},t.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},t.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,s=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),ee.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&ee.createElement(npe,Lt({icon:a,className:kn(o,!o&&s,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},t.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?ee.createElement(FA,{enableTabLoop:this.props.enableTabLoop},ee.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=ee.createElement(RA,Lt({portalId:this.props.portalId},this.props),n)),ee.createElement("div",null,this.renderInputContainer(),n)}return ee.createElement(lpe,Lt({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},t}(L.Component),upe="input",yb="navigate",dpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function fpe(e){var t=e.defaultInputValue,r=t===void 0?"":t,n=e.defaultMenuIsOpen,a=n===void 0?!1:n,s=e.defaultValue,o=s===void 0?null:s,l=e.inputValue,c=e.menuIsOpen,u=e.onChange,d=e.onInputChange,f=e.onMenuClose,h=e.onMenuOpen,m=e.value,y=un(e,dpe),v=L.useState(l!==void 0?l:r),w=Wr(v,2),g=w[0],x=w[1],S=L.useState(c!==void 0?c:a),j=Wr(S,2),E=j[0],T=j[1],k=L.useState(m!==void 0?m:o),D=Wr(k,2),I=D[0],R=D[1],M=L.useCallback(function(q,re){typeof u=="function"&&u(q,re),R(q)},[u]),P=L.useCallback(function(q,re){var oe;typeof d=="function"&&(oe=d(q,re)),x(oe!==void 0?oe:q)},[d]),F=L.useCallback(function(){typeof h=="function"&&h(),T(!0)},[h]),O=L.useCallback(function(){typeof f=="function"&&f(),T(!1)},[f]),U=l!==void 0?l:g,z=c!==void 0?c:E,V=m!==void 0?m:I;return Re(Re({},y),{},{inputValue:U,menuIsOpen:z,onChange:M,onInputChange:P,onMenuClose:O,onMenuOpen:F,value:V})}var hpe=!1;function ppe(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function mpe(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var gpe=function(){function e(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!hpe:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mpe(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=ppe(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},e}(),zn="-ms-",Mv="-moz-",Ut="-webkit-",$A="comm",nj="rule",aj="decl",vpe="@import",UA="@keyframes",xpe="@layer",ype=Math.abs,sy=String.fromCharCode,bpe=Object.assign;function wpe(e,t){return Sn(e,0)^45?(((t<<2^Sn(e,0))<<2^Sn(e,1))<<2^Sn(e,2))<<2^Sn(e,3):0}function zA(e){return e.trim()}function Npe(e,t){return(e=t.exec(e))?e[0]:e}function zt(e,t,r){return e.replace(t,r)}function vw(e,t){return e.indexOf(t)}function Sn(e,t){return e.charCodeAt(t)|0}function jp(e,t,r){return e.slice(t,r)}function yi(e){return e.length}function sj(e){return e.length}function A0(e,t){return t.push(e),e}function jpe(e,t){return e.map(t).join("")}var iy=1,Yd=1,BA=0,Ca=0,Jr=0,mf="";function oy(e,t,r,n,a,s,o){return{value:e,root:t,parent:r,type:n,props:a,children:s,line:iy,column:Yd,length:o,return:""}}function hh(e,t){return bpe(oy("",null,null,"",null,null,0),e,{length:-e.length},t)}function Spe(){return Jr}function kpe(){return Jr=Ca>0?Sn(mf,--Ca):0,Yd--,Jr===10&&(Yd=1,iy--),Jr}function Ua(){return Jr=Ca<BA?Sn(mf,Ca++):0,Yd++,Jr===10&&(Yd=1,iy++),Jr}function Fi(){return Sn(mf,Ca)}function xg(){return Ca}function nm(e,t){return jp(mf,e,t)}function Sp(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function HA(e){return iy=Yd=1,BA=yi(mf=e),Ca=0,[]}function WA(e){return mf="",e}function yg(e){return zA(nm(Ca-1,xw(e===91?e+2:e===40?e+1:e)))}function Cpe(e){for(;(Jr=Fi())&&Jr<33;)Ua();return Sp(e)>2||Sp(Jr)>3?"":" "}function Dpe(e,t){for(;--t&&Ua()&&!(Jr<48||Jr>102||Jr>57&&Jr<65||Jr>70&&Jr<97););return nm(e,xg()+(t<6&&Fi()==32&&Ua()==32))}function xw(e){for(;Ua();)switch(Jr){case e:return Ca;case 34:case 39:e!==34&&e!==39&&xw(Jr);break;case 40:e===41&&xw(e);break;case 92:Ua();break}return Ca}function _pe(e,t){for(;Ua()&&e+Jr!==57;)if(e+Jr===84&&Fi()===47)break;return"/*"+nm(t,Ca-1)+"*"+sy(e===47?e:Ua())}function Ppe(e){for(;!Sp(Fi());)Ua();return nm(e,Ca)}function Epe(e){return WA(bg("",null,null,null,[""],e=HA(e),0,[0],e))}function bg(e,t,r,n,a,s,o,l,c){for(var u=0,d=0,f=o,h=0,m=0,y=0,v=1,w=1,g=1,x=0,S="",j=a,E=s,T=n,k=S;w;)switch(y=x,x=Ua()){case 40:if(y!=108&&Sn(k,f-1)==58){vw(k+=zt(yg(x),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:k+=yg(x);break;case 9:case 10:case 13:case 32:k+=Cpe(y);break;case 92:k+=Dpe(xg()-1,7);continue;case 47:switch(Fi()){case 42:case 47:A0(Mpe(_pe(Ua(),xg()),t,r),c);break;default:k+="/"}break;case 123*v:l[u++]=yi(k)*g;case 125*v:case 59:case 0:switch(x){case 0:case 125:w=0;case 59+d:g==-1&&(k=zt(k,/\f/g,"")),m>0&&yi(k)-f&&A0(m>32?vC(k+";",n,r,f-1):vC(zt(k," ","")+";",n,r,f-2),c);break;case 59:k+=";";default:if(A0(T=gC(k,t,r,u,d,a,l,S,j=[],E=[],f),s),x===123)if(d===0)bg(k,t,T,T,j,s,f,l,E);else switch(h===99&&Sn(k,3)===110?100:h){case 100:case 108:case 109:case 115:bg(e,T,T,n&&A0(gC(e,T,T,0,0,a,l,S,a,j=[],f),E),a,E,f,l,n?j:E);break;default:bg(k,T,T,T,[""],E,0,l,E)}}u=d=m=0,v=g=1,S=k="",f=o;break;case 58:f=1+yi(k),m=y;default:if(v<1){if(x==123)--v;else if(x==125&&v++==0&&kpe()==125)continue}switch(k+=sy(x),x*v){case 38:g=d>0?1:(k+="\f",-1);break;case 44:l[u++]=(yi(k)-1)*g,g=1;break;case 64:Fi()===45&&(k+=yg(Ua())),h=Fi(),d=f=yi(S=k+=Ppe(xg())),x++;break;case 45:y===45&&yi(k)==2&&(v=0)}}return s}function gC(e,t,r,n,a,s,o,l,c,u,d){for(var f=a-1,h=a===0?s:[""],m=sj(h),y=0,v=0,w=0;y<n;++y)for(var g=0,x=jp(e,f+1,f=ype(v=o[y])),S=e;g<m;++g)(S=zA(v>0?h[g]+" "+x:zt(x,/&\f/g,h[g])))&&(c[w++]=S);return oy(e,t,r,a===0?nj:l,c,u,d)}function Mpe(e,t,r){return oy(e,t,r,$A,sy(Spe()),jp(e,2,-2),0)}function vC(e,t,r,n){return oy(e,t,r,aj,jp(e,0,n),jp(e,n+1,-1),n)}function jd(e,t){for(var r="",n=sj(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function Ape(e,t,r,n){switch(e.type){case xpe:if(e.children.length)break;case vpe:case aj:return e.return=e.return||e.value;case $A:return"";case UA:return e.return=e.value+"{"+jd(e.children,n)+"}";case nj:e.value=e.props.join(",")}return yi(r=jd(e.children,n))?e.return=e.value+"{"+r+"}":""}function Lpe(e){var t=sj(e);return function(r,n,a,s){for(var o="",l=0;l<t;l++)o+=e[l](r,n,a,s)||"";return o}}function Ope(e){return function(t){t.root||(t=t.return)&&e(t)}}function Tpe(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Ipe=function(t,r,n){for(var a=0,s=0;a=s,s=Fi(),a===38&&s===12&&(r[n]=1),!Sp(s);)Ua();return nm(t,Ca)},Rpe=function(t,r){var n=-1,a=44;do switch(Sp(a)){case 0:a===38&&Fi()===12&&(r[n]=1),t[n]+=Ipe(Ca-1,r,n);break;case 2:t[n]+=yg(a);break;case 4:if(a===44){t[++n]=Fi()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=sy(a)}while(a=Ua());return t},Fpe=function(t,r){return WA(Rpe(HA(t),r))},xC=new WeakMap,$pe=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,a=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!xC.get(n))&&!a){xC.set(t,!0);for(var s=[],o=Fpe(r,s),l=n.props,c=0,u=0;c<o.length;c++)for(var d=0;d<l.length;d++,u++)t.props[u]=s[c]?o[c].replace(/&\f/g,l[d]):l[d]+" "+o[c]}}},Upe=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function YA(e,t){switch(wpe(e,t)){case 5103:return Ut+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ut+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Ut+e+Mv+e+zn+e+e;case 6828:case 4268:return Ut+e+zn+e+e;case 6165:return Ut+e+zn+"flex-"+e+e;case 5187:return Ut+e+zt(e,/(\w+).+(:[^]+)/,Ut+"box-$1$2"+zn+"flex-$1$2")+e;case 5443:return Ut+e+zn+"flex-item-"+zt(e,/flex-|-self/,"")+e;case 4675:return Ut+e+zn+"flex-line-pack"+zt(e,/align-content|flex-|-self/,"")+e;case 5548:return Ut+e+zn+zt(e,"shrink","negative")+e;case 5292:return Ut+e+zn+zt(e,"basis","preferred-size")+e;case 6060:return Ut+"box-"+zt(e,"-grow","")+Ut+e+zn+zt(e,"grow","positive")+e;case 4554:return Ut+zt(e,/([^-])(transform)/g,"$1"+Ut+"$2")+e;case 6187:return zt(zt(zt(e,/(zoom-|grab)/,Ut+"$1"),/(image-set)/,Ut+"$1"),e,"")+e;case 5495:case 3959:return zt(e,/(image-set\([^]*)/,Ut+"$1$`$1");case 4968:return zt(zt(e,/(.+:)(flex-)?(.*)/,Ut+"box-pack:$3"+zn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ut+e+e;case 4095:case 3583:case 4068:case 2532:return zt(e,/(.+)-inline(.+)/,Ut+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(yi(e)-1-t>6)switch(Sn(e,t+1)){case 109:if(Sn(e,t+4)!==45)break;case 102:return zt(e,/(.+:)(.+)-([^]+)/,"$1"+Ut+"$2-$3$1"+Mv+(Sn(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~vw(e,"stretch")?YA(zt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(Sn(e,t+1)!==115)break;case 6444:switch(Sn(e,yi(e)-3-(~vw(e,"!important")&&10))){case 107:return zt(e,":",":"+Ut)+e;case 101:return zt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ut+(Sn(e,14)===45?"inline-":"")+"box$3$1"+Ut+"$2$3$1"+zn+"$2box$3")+e}break;case 5936:switch(Sn(e,t+11)){case 114:return Ut+e+zn+zt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Ut+e+zn+zt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Ut+e+zn+zt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Ut+e+zn+e+e}return e}var zpe=function(t,r,n,a){if(t.length>-1&&!t.return)switch(t.type){case aj:t.return=YA(t.value,t.length);break;case UA:return jd([hh(t,{value:zt(t.value,"@","@"+Ut)})],a);case nj:if(t.length)return jpe(t.props,function(s){switch(Npe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return jd([hh(t,{props:[zt(s,/:(read-\w+)/,":"+Mv+"$1")]})],a);case"::placeholder":return jd([hh(t,{props:[zt(s,/:(plac\w+)/,":"+Ut+"input-$1")]}),hh(t,{props:[zt(s,/:(plac\w+)/,":"+Mv+"$1")]}),hh(t,{props:[zt(s,/:(plac\w+)/,zn+"input-$1")]})],a)}return""})}},Bpe=[zpe],Hpe=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(v){var w=v.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=t.stylisPlugins||Bpe,s={},o,l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(v){for(var w=v.getAttribute("data-emotion").split(" "),g=1;g<w.length;g++)s[w[g]]=!0;l.push(v)});var c,u=[$pe,Upe];{var d,f=[Ape,Ope(function(v){d.insert(v)})],h=Lpe(u.concat(a,f)),m=function(w){return jd(Epe(w),h)};c=function(w,g,x,S){d=x,m(w?w+"{"+g.styles+"}":g.styles),S&&(y.inserted[g.name]=!0)}}var y={key:r,sheet:new gpe({key:r,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:c};return y.sheet.hydrate(l),y},VA={exports:{}},Jt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=typeof Symbol=="function"&&Symbol.for,ij=yn?Symbol.for("react.element"):60103,oj=yn?Symbol.for("react.portal"):60106,ly=yn?Symbol.for("react.fragment"):60107,cy=yn?Symbol.for("react.strict_mode"):60108,uy=yn?Symbol.for("react.profiler"):60114,dy=yn?Symbol.for("react.provider"):60109,fy=yn?Symbol.for("react.context"):60110,lj=yn?Symbol.for("react.async_mode"):60111,hy=yn?Symbol.for("react.concurrent_mode"):60111,py=yn?Symbol.for("react.forward_ref"):60112,my=yn?Symbol.for("react.suspense"):60113,Wpe=yn?Symbol.for("react.suspense_list"):60120,gy=yn?Symbol.for("react.memo"):60115,vy=yn?Symbol.for("react.lazy"):60116,Ype=yn?Symbol.for("react.block"):60121,Vpe=yn?Symbol.for("react.fundamental"):60117,qpe=yn?Symbol.for("react.responder"):60118,Gpe=yn?Symbol.for("react.scope"):60119;function Va(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ij:switch(e=e.type,e){case lj:case hy:case ly:case uy:case cy:case my:return e;default:switch(e=e&&e.$$typeof,e){case fy:case py:case vy:case gy:case dy:return e;default:return t}}case oj:return t}}}function qA(e){return Va(e)===hy}Jt.AsyncMode=lj;Jt.ConcurrentMode=hy;Jt.ContextConsumer=fy;Jt.ContextProvider=dy;Jt.Element=ij;Jt.ForwardRef=py;Jt.Fragment=ly;Jt.Lazy=vy;Jt.Memo=gy;Jt.Portal=oj;Jt.Profiler=uy;Jt.StrictMode=cy;Jt.Suspense=my;Jt.isAsyncMode=function(e){return qA(e)||Va(e)===lj};Jt.isConcurrentMode=qA;Jt.isContextConsumer=function(e){return Va(e)===fy};Jt.isContextProvider=function(e){return Va(e)===dy};Jt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ij};Jt.isForwardRef=function(e){return Va(e)===py};Jt.isFragment=function(e){return Va(e)===ly};Jt.isLazy=function(e){return Va(e)===vy};Jt.isMemo=function(e){return Va(e)===gy};Jt.isPortal=function(e){return Va(e)===oj};Jt.isProfiler=function(e){return Va(e)===uy};Jt.isStrictMode=function(e){return Va(e)===cy};Jt.isSuspense=function(e){return Va(e)===my};Jt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ly||e===hy||e===uy||e===cy||e===my||e===Wpe||typeof e=="object"&&e!==null&&(e.$$typeof===vy||e.$$typeof===gy||e.$$typeof===dy||e.$$typeof===fy||e.$$typeof===py||e.$$typeof===Vpe||e.$$typeof===qpe||e.$$typeof===Gpe||e.$$typeof===Ype)};Jt.typeOf=Va;VA.exports=Jt;var Kpe=VA.exports,GA=Kpe,Xpe={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qpe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},KA={};KA[GA.ForwardRef]=Xpe;KA[GA.Memo]=Qpe;var Jpe=!0;function Zpe(e,t,r){var n="";return r.split(" ").forEach(function(a){e[a]!==void 0?t.push(e[a]+";"):a&&(n+=a+" ")}),n}var XA=function(t,r,n){var a=t.key+"-"+r.name;(n===!1||Jpe===!1)&&t.registered[a]===void 0&&(t.registered[a]=r.styles)},eme=function(t,r,n){XA(t,r,n);var a=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var s=r;do t.insert(r===s?"."+a:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function tme(e){for(var t=0,r,n=0,a=e.length;a>=4;++n,a-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var rme={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},nme=!1,ame=/[A-Z]|^ms/g,sme=/_EMO_([^_]+?)_([^]*?)_EMO_/g,QA=function(t){return t.charCodeAt(1)===45},yC=function(t){return t!=null&&typeof t!="boolean"},bb=Tpe(function(e){return QA(e)?e:e.replace(ame,"-$&").toLowerCase()}),bC=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(sme,function(n,a,s){return bi={name:a,styles:s,next:bi},a})}return rme[t]!==1&&!QA(t)&&typeof r=="number"&&r!==0?r+"px":r},ime="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function kp(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return bi={name:a.name,styles:a.styles,next:bi},a.name;var s=r;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)bi={name:o.name,styles:o.styles,next:bi},o=o.next;var l=s.styles+";";return l}return ome(e,t,r)}case"function":{if(e!==void 0){var c=bi,u=r(e);return bi=c,kp(e,t,u)}break}}var d=r;return d}function ome(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=kp(e,t,r[a])+";";else for(var s in r){var o=r[s];if(typeof o!="object"){var l=o;yC(l)&&(n+=bb(s)+":"+bC(s,l)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&nme)throw new Error(ime);if(Array.isArray(o)&&typeof o[0]=="string"&&t==null)for(var c=0;c<o.length;c++)yC(o[c])&&(n+=bb(s)+":"+bC(s,o[c])+";");else{var u=kp(e,t,o);switch(s){case"animation":case"animationName":{n+=bb(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}}return n}var wC=/label:\s*([^\s;{]+)\s*(;|$)/g,bi;function JA(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,a="";bi=void 0;var s=e[0];if(s==null||s.raw===void 0)n=!1,a+=kp(r,t,s);else{var o=s;a+=o[0]}for(var l=1;l<e.length;l++)if(a+=kp(r,t,e[l]),n){var c=s;a+=c[l]}wC.lastIndex=0;for(var u="",d;(d=wC.exec(a))!==null;)u+="-"+d[1];var f=tme(a)+u;return{name:f,styles:a,next:bi}}var lme=function(t){return t()},cme=Ng.useInsertionEffect?Ng.useInsertionEffect:!1,ume=cme||lme,dme=!1,ZA=L.createContext(typeof HTMLElement<"u"?Hpe({key:"css"}):null);ZA.Provider;var fme=function(t){return L.forwardRef(function(r,n){var a=L.useContext(ZA);return t(r,a,n)})},hme=L.createContext({}),cj={}.hasOwnProperty,yw="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",pme=function(t,r){var n={};for(var a in r)cj.call(r,a)&&(n[a]=r[a]);return n[yw]=t,n},mme=function(t){var r=t.cache,n=t.serialized,a=t.isStringTag;return XA(r,n,a),ume(function(){return eme(r,n,a)}),null},gme=fme(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var a=e[yw],s=[n],o="";typeof e.className=="string"?o=Zpe(t.registered,s,e.className):e.className!=null&&(o=e.className+" ");var l=JA(s,void 0,L.useContext(hme));o+=t.key+"-"+l.name;var c={};for(var u in e)cj.call(e,u)&&u!=="css"&&u!==yw&&!dme&&(c[u]=e[u]);return c.className=o,r&&(c.ref=r),L.createElement(L.Fragment,null,L.createElement(mme,{cache:t,serialized:l,isStringTag:typeof a=="string"}),L.createElement(a,c))}),vme=gme,nt=function(t,r){var n=arguments;if(r==null||!cj.call(r,"css"))return L.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=vme,s[1]=pme(t,r);for(var o=2;o<a;o++)s[o]=n[o];return L.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(nt||(nt={}));function uj(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return JA(t)}function xme(){var e=uj.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function yme(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var bw=L.useLayoutEffect,bme=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Av=function(){};function wme(e,t){return t?t[0]==="-"?e+t:e+"__"+t:e}function Nme(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&s.push("".concat(wme(e,o)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var NC=function(t){return Mme(t)?t.filter(Boolean):jt(t)==="object"&&t!==null?[t]:[]},eL=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var r=un(t,bme);return Re({},r)},Or=function(t,r,n){var a=t.cx,s=t.getStyles,o=t.getClassNames,l=t.className;return{css:s(r,t),className:a(n??{},o(r,t),l)}};function xy(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function jme(e){return xy(e)?window.innerHeight:e.clientHeight}function tL(e){return xy(e)?window.pageYOffset:e.scrollTop}function Lv(e,t){if(xy(e)){window.scrollTo(0,t);return}e.scrollTop=t}function Sme(e){var t=getComputedStyle(e),r=t.position==="absolute",n=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),!(r&&t.position==="static")&&n.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}function kme(e,t,r,n){return r*((e=e/n-1)*e*e+1)+t}function L0(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Av,a=tL(e),s=t-a,o=10,l=0;function c(){l+=o;var u=kme(l,a,s,r);Lv(e,u),l<r?window.requestAnimationFrame(c):n(e)}c()}function jC(e,t){var r=e.getBoundingClientRect(),n=t.getBoundingClientRect(),a=t.offsetHeight/3;n.bottom+a>r.bottom?Lv(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):n.top-a<r.top&&Lv(e,Math.max(t.offsetTop-a,0))}function Cme(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function SC(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Dme(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var rL=!1,_me={get passive(){return rL=!0}},O0=typeof window<"u"?window:{};O0.addEventListener&&O0.removeEventListener&&(O0.addEventListener("p",Av,_me),O0.removeEventListener("p",Av,!1));var Pme=rL;function Eme(e){return e!=null}function Mme(e){return Array.isArray(e)}function T0(e,t,r){return e?t:r}var Ame=function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(t).filter(function(o){var l=Wr(o,1),c=l[0];return!n.includes(c)});return s.reduce(function(o,l){var c=Wr(l,2),u=c[0],d=c[1];return o[u]=d,o},{})},Lme=["children","innerProps"],Ome=["children","innerProps"];function Tme(e){var t=e.maxHeight,r=e.menuEl,n=e.minHeight,a=e.placement,s=e.shouldScroll,o=e.isFixedPosition,l=e.controlHeight,c=Sme(r),u={placement:"bottom",maxHeight:t};if(!r||!r.offsetParent)return u;var d=c.getBoundingClientRect(),f=d.height,h=r.getBoundingClientRect(),m=h.bottom,y=h.height,v=h.top,w=r.offsetParent.getBoundingClientRect(),g=w.top,x=o?window.innerHeight:jme(c),S=tL(c),j=parseInt(getComputedStyle(r).marginBottom,10),E=parseInt(getComputedStyle(r).marginTop,10),T=g-E,k=x-v,D=T+S,I=f-S-v,R=m-x+S+j,M=S+v-E,P=160;switch(a){case"auto":case"bottom":if(k>=y)return{placement:"bottom",maxHeight:t};if(I>=y&&!o)return s&&L0(c,R,P),{placement:"bottom",maxHeight:t};if(!o&&I>=n||o&&k>=n){s&&L0(c,R,P);var F=o?k-j:I-j;return{placement:"bottom",maxHeight:F}}if(a==="auto"||o){var O=t,U=o?T:D;return U>=n&&(O=Math.min(U-j-l,t)),{placement:"top",maxHeight:O}}if(a==="bottom")return s&&Lv(c,R),{placement:"bottom",maxHeight:t};break;case"top":if(T>=y)return{placement:"top",maxHeight:t};if(D>=y&&!o)return s&&L0(c,M,P),{placement:"top",maxHeight:t};if(!o&&D>=n||o&&T>=n){var z=t;return(!o&&D>=n||o&&T>=n)&&(z=o?T-E:D-E),s&&L0(c,M,P),{placement:"top",maxHeight:z}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Ime(e){var t={bottom:"top",top:"bottom"};return e?t[e]:"bottom"}var nL=function(t){return t==="auto"?"bottom":t},Rme=function(t,r){var n,a=t.placement,s=t.theme,o=s.borderRadius,l=s.spacing,c=s.colors;return Re((n={label:"menu"},Us(n,Ime(a),"100%"),Us(n,"position","absolute"),Us(n,"width","100%"),Us(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},aL=L.createContext(null),Fme=function(t){var r=t.children,n=t.minMenuHeight,a=t.maxMenuHeight,s=t.menuPlacement,o=t.menuPosition,l=t.menuShouldScrollIntoView,c=t.theme,u=L.useContext(aL)||{},d=u.setPortalPlacement,f=L.useRef(null),h=L.useState(a),m=Wr(h,2),y=m[0],v=m[1],w=L.useState(null),g=Wr(w,2),x=g[0],S=g[1],j=c.spacing.controlHeight;return bw(function(){var E=f.current;if(E){var T=o==="fixed",k=l&&!T,D=Tme({maxHeight:a,menuEl:E,minHeight:n,placement:s,shouldScroll:k,isFixedPosition:T,controlHeight:j});v(D.maxHeight),S(D.placement),d==null||d(D.placement)}},[a,s,o,l,n,d,j]),r({ref:f,placerProps:Re(Re({},t),{},{placement:x||nL(s),maxHeight:y})})},$me=function(t){var r=t.children,n=t.innerRef,a=t.innerProps;return nt("div",Ve({},Or(t,"menu",{menu:!0}),{ref:n},a),r)},Ume=$me,zme=function(t,r){var n=t.maxHeight,a=t.theme.spacing.baseUnit;return Re({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},Bme=function(t){var r=t.children,n=t.innerProps,a=t.innerRef,s=t.isMulti;return nt("div",Ve({},Or(t,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},sL=function(t,r){var n=t.theme,a=n.spacing.baseUnit,s=n.colors;return Re({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},Hme=sL,Wme=sL,Yme=function(t){var r=t.children,n=r===void 0?"No options":r,a=t.innerProps,s=un(t,Lme);return nt("div",Ve({},Or(Re(Re({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},Vme=function(t){var r=t.children,n=r===void 0?"Loading...":r,a=t.innerProps,s=un(t,Ome);return nt("div",Ve({},Or(Re(Re({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},qme=function(t){var r=t.rect,n=t.offset,a=t.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},Gme=function(t){var r=t.appendTo,n=t.children,a=t.controlElement,s=t.innerProps,o=t.menuPlacement,l=t.menuPosition,c=L.useRef(null),u=L.useRef(null),d=L.useState(nL(o)),f=Wr(d,2),h=f[0],m=f[1],y=L.useMemo(function(){return{setPortalPlacement:m}},[]),v=L.useState(null),w=Wr(v,2),g=w[0],x=w[1],S=L.useCallback(function(){if(a){var k=Cme(a),D=l==="fixed"?0:window.pageYOffset,I=k[h]+D;(I!==(g==null?void 0:g.offset)||k.left!==(g==null?void 0:g.rect.left)||k.width!==(g==null?void 0:g.rect.width))&&x({offset:I,rect:k})}},[a,l,h,g==null?void 0:g.offset,g==null?void 0:g.rect.left,g==null?void 0:g.rect.width]);bw(function(){S()},[S]);var j=L.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=_A(a,c.current,S,{elementResize:"ResizeObserver"in window}))},[a,S]);bw(function(){j()},[j]);var E=L.useCallback(function(k){c.current=k,j()},[j]);if(!r&&l!=="fixed"||!g)return null;var T=nt("div",Ve({ref:E},Or(Re(Re({},t),{},{offset:g.offset,position:l,rect:g.rect}),"menuPortal",{"menu-portal":!0}),s),n);return nt(aL.Provider,{value:y},r?Qv.createPortal(T,r):T)},Kme=function(t){var r=t.isDisabled,n=t.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Xme=function(t){var r=t.children,n=t.innerProps,a=t.isDisabled,s=t.isRtl;return nt("div",Ve({},Or(t,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},Qme=function(t,r){var n=t.theme.spacing,a=t.isMulti,s=t.hasValue,o=t.selectProps.controlShouldRenderValue;return Re({alignItems:"center",display:a&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},Jme=function(t){var r=t.children,n=t.innerProps,a=t.isMulti,s=t.hasValue;return nt("div",Ve({},Or(t,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},Zme=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},e0e=function(t){var r=t.children,n=t.innerProps;return nt("div",Ve({},Or(t,"indicatorsContainer",{indicators:!0}),n),r)},kC,t0e=["size"],r0e=["innerProps","isRtl","size"],n0e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},iL=function(t){var r=t.size,n=un(t,t0e);return nt("svg",Ve({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:n0e},n))},dj=function(t){return nt(iL,Ve({size:20},t),nt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},oL=function(t){return nt(iL,Ve({size:20},t),nt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},lL=function(t,r){var n=t.isFocused,a=t.theme,s=a.spacing.baseUnit,o=a.colors;return Re({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:s*2,":hover":{color:n?o.neutral80:o.neutral40}})},a0e=lL,s0e=function(t){var r=t.children,n=t.innerProps;return nt("div",Ve({},Or(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||nt(oL,null))},i0e=lL,o0e=function(t){var r=t.children,n=t.innerProps;return nt("div",Ve({},Or(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||nt(dj,null))},l0e=function(t,r){var n=t.isDisabled,a=t.theme,s=a.spacing.baseUnit,o=a.colors;return Re({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},c0e=function(t){var r=t.innerProps;return nt("span",Ve({},r,Or(t,"indicatorSeparator",{"indicator-separator":!0})))},u0e=xme(kC||(kC=yme([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),d0e=function(t,r){var n=t.isFocused,a=t.size,s=t.theme,o=s.colors,l=s.spacing.baseUnit;return Re({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},wb=function(t){var r=t.delay,n=t.offset;return nt("span",{css:uj({animation:"".concat(u0e," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},f0e=function(t){var r=t.innerProps,n=t.isRtl,a=t.size,s=a===void 0?4:a,o=un(t,r0e);return nt("div",Ve({},Or(Re(Re({},o),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),nt(wb,{delay:0,offset:n}),nt(wb,{delay:160,offset:!0}),nt(wb,{delay:320,offset:!n}))},h0e=function(t,r){var n=t.isDisabled,a=t.isFocused,s=t.theme,o=s.colors,l=s.borderRadius,c=s.spacing;return Re({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},p0e=function(t){var r=t.children,n=t.isDisabled,a=t.isFocused,s=t.innerRef,o=t.innerProps,l=t.menuIsOpen;return nt("div",Ve({ref:s},Or(t,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},m0e=p0e,g0e=["data"],v0e=function(t,r){var n=t.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},x0e=function(t){var r=t.children,n=t.cx,a=t.getStyles,s=t.getClassNames,o=t.Heading,l=t.headingProps,c=t.innerProps,u=t.label,d=t.theme,f=t.selectProps;return nt("div",Ve({},Or(t,"group",{group:!0}),c),nt(o,Ve({},l,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:n}),u),nt("div",null,r))},y0e=function(t,r){var n=t.theme,a=n.colors,s=n.spacing;return Re({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},b0e=function(t){var r=eL(t);r.data;var n=un(r,g0e);return nt("div",Ve({},Or(t,"groupHeading",{"group-heading":!0}),n))},w0e=x0e,N0e=["innerRef","isDisabled","isHidden","inputClassName"],j0e=function(t,r){var n=t.isDisabled,a=t.value,s=t.theme,o=s.spacing,l=s.colors;return Re(Re({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},S0e),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},cL={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},S0e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Re({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},cL)},k0e=function(t){return Re({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},cL)},C0e=function(t){var r=t.cx,n=t.value,a=eL(t),s=a.innerRef,o=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=un(a,N0e);return nt("div",Ve({},Or(t,"input",{"input-container":!0}),{"data-value":n||""}),nt("input",Ve({className:r({input:!0},c),ref:s,style:k0e(l),disabled:o},u)))},D0e=C0e,_0e=function(t,r){var n=t.theme,a=n.spacing,s=n.borderRadius,o=n.colors;return Re({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},P0e=function(t,r){var n=t.theme,a=n.borderRadius,s=n.colors,o=t.cropWithEllipsis;return Re({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},E0e=function(t,r){var n=t.theme,a=n.spacing,s=n.borderRadius,o=n.colors,l=t.isFocused;return Re({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},uL=function(t){var r=t.children,n=t.innerProps;return nt("div",n,r)},M0e=uL,A0e=uL;function L0e(e){var t=e.children,r=e.innerProps;return nt("div",Ve({role:"button"},r),t||nt(dj,{size:14}))}var O0e=function(t){var r=t.children,n=t.components,a=t.data,s=t.innerProps,o=t.isDisabled,l=t.removeProps,c=t.selectProps,u=n.Container,d=n.Label,f=n.Remove;return nt(u,{data:a,innerProps:Re(Re({},Or(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:c},nt(d,{data:a,innerProps:Re({},Or(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),nt(f,{data:a,innerProps:Re(Re({},Or(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},T0e=O0e,I0e=function(t,r){var n=t.isDisabled,a=t.isFocused,s=t.isSelected,o=t.theme,l=o.spacing,c=o.colors;return Re({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},R0e=function(t){var r=t.children,n=t.isDisabled,a=t.isFocused,s=t.isSelected,o=t.innerRef,l=t.innerProps;return nt("div",Ve({},Or(t,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:o,"aria-disabled":n},l),r)},F0e=R0e,$0e=function(t,r){var n=t.theme,a=n.spacing,s=n.colors;return Re({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},U0e=function(t){var r=t.children,n=t.innerProps;return nt("div",Ve({},Or(t,"placeholder",{placeholder:!0}),n),r)},z0e=U0e,B0e=function(t,r){var n=t.isDisabled,a=t.theme,s=a.spacing,o=a.colors;return Re({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},H0e=function(t){var r=t.children,n=t.isDisabled,a=t.innerProps;return nt("div",Ve({},Or(t,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},W0e=H0e,Y0e={ClearIndicator:o0e,Control:m0e,DropdownIndicator:s0e,DownChevron:oL,CrossIcon:dj,Group:w0e,GroupHeading:b0e,IndicatorsContainer:e0e,IndicatorSeparator:c0e,Input:D0e,LoadingIndicator:f0e,Menu:Ume,MenuList:Bme,MenuPortal:Gme,LoadingMessage:Vme,NoOptionsMessage:Yme,MultiValue:T0e,MultiValueContainer:M0e,MultiValueLabel:A0e,MultiValueRemove:L0e,Option:F0e,Placeholder:z0e,SelectContainer:Xme,SingleValue:W0e,ValueContainer:Jme},V0e=function(t){return Re(Re({},Y0e),t.components)},q0e={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},G0e=function(t){return nt("span",Ve({css:q0e},t))},CC=G0e,K0e={guidance:function(t){var r=t.isSearchable,n=t.isMulti,a=t.tabSelectsValue,s=t.context,o=t.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(t["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var r=t.action,n=t.label,a=n===void 0?"":n,s=t.labels,o=t.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(t){var r=t.context,n=t.focused,a=t.options,s=t.label,o=s===void 0?"":s,l=t.selectValue,c=t.isDisabled,u=t.isSelected,d=t.isAppleDevice,f=function(v,w){return v&&v.length?"".concat(v.indexOf(w)+1," of ").concat(v.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(f(l,n),".");if(r==="menu"&&d){var h=c?" disabled":"",m="".concat(u?" selected":"").concat(h);return"".concat(o).concat(m,", ").concat(f(a,n),".")}return""},onFilter:function(t){var r=t.inputValue,n=t.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},X0e=function(t){var r=t.ariaSelection,n=t.focusedOption,a=t.focusedValue,s=t.focusableOptions,o=t.isFocused,l=t.selectValue,c=t.selectProps,u=t.id,d=t.isAppleDevice,f=c.ariaLiveMessages,h=c.getOptionLabel,m=c.inputValue,y=c.isMulti,v=c.isOptionDisabled,w=c.isSearchable,g=c.menuIsOpen,x=c.options,S=c.screenReaderStatus,j=c.tabSelectsValue,E=c.isLoading,T=c["aria-label"],k=c["aria-live"],D=L.useMemo(function(){return Re(Re({},K0e),f||{})},[f]),I=L.useMemo(function(){var U="";if(r&&D.onChange){var z=r.option,V=r.options,q=r.removedValue,re=r.removedValues,oe=r.value,le=function(ne){return Array.isArray(ne)?null:ne},_=q||z||le(oe),$=_?h(_):"",Y=V||re||void 0,W=Y?Y.map(h):[],X=Re({isDisabled:_&&v(_,l),label:$,labels:W},r);U=D.onChange(X)}return U},[r,D,v,l,h]),R=L.useMemo(function(){var U="",z=n||a,V=!!(n&&l&&l.includes(n));if(z&&D.onFocus){var q={focused:z,label:h(z),isDisabled:v(z,l),isSelected:V,options:s,context:z===n?"menu":"value",selectValue:l,isAppleDevice:d};U=D.onFocus(q)}return U},[n,a,h,v,D,s,l,d]),M=L.useMemo(function(){var U="";if(g&&x.length&&!E&&D.onFilter){var z=S({count:s.length});U=D.onFilter({inputValue:m,resultsMessage:z})}return U},[s,m,g,D,x,S,E]),P=(r==null?void 0:r.action)==="initial-input-focus",F=L.useMemo(function(){var U="";if(D.guidance){var z=a?"value":g?"menu":"input";U=D.guidance({"aria-label":T,context:z,isDisabled:n&&v(n,l),isMulti:y,isSearchable:w,tabSelectsValue:j,isInitialFocus:P})}return U},[T,n,a,y,v,w,g,D,l,j,P]),O=nt(L.Fragment,null,nt("span",{id:"aria-selection"},I),nt("span",{id:"aria-focused"},R),nt("span",{id:"aria-results"},M),nt("span",{id:"aria-guidance"},F));return nt(L.Fragment,null,nt(CC,{id:u},P&&O),nt(CC,{"aria-live":k,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!P&&O))},Q0e=X0e,ww=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],J0e=new RegExp("["+ww.map(function(e){return e.letters}).join("")+"]","g"),dL={};for(var Nb=0;Nb<ww.length;Nb++)for(var jb=ww[Nb],Sb=0;Sb<jb.letters.length;Sb++)dL[jb.letters[Sb]]=jb.base;var fL=function(t){return t.replace(J0e,function(r){return dL[r]})},Z0e=dN(fL),DC=function(t){return t.replace(/^\s+|\s+$/g,"")},ege=function(t){return"".concat(t.label," ").concat(t.value)},tge=function(t){return function(r,n){if(r.data.__isNew__)return!0;var a=Re({ignoreCase:!0,ignoreAccents:!0,stringify:ege,trim:!0,matchFrom:"any"},t),s=a.ignoreCase,o=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,d=c?DC(n):n,f=c?DC(l(r)):l(r);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),o&&(d=Z0e(d),f=fL(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},rge=["innerRef"];function nge(e){var t=e.innerRef,r=un(e,rge),n=Ame(r,"onExited","in","enter","exit","appear");return nt("input",Ve({ref:t},n,{css:uj({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var age=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function sge(e){var t=e.isEnabled,r=e.onBottomArrive,n=e.onBottomLeave,a=e.onTopArrive,s=e.onTopLeave,o=L.useRef(!1),l=L.useRef(!1),c=L.useRef(0),u=L.useRef(null),d=L.useCallback(function(w,g){if(u.current!==null){var x=u.current,S=x.scrollTop,j=x.scrollHeight,E=x.clientHeight,T=u.current,k=g>0,D=j-E-S,I=!1;D>g&&o.current&&(n&&n(w),o.current=!1),k&&l.current&&(s&&s(w),l.current=!1),k&&g>D?(r&&!o.current&&r(w),T.scrollTop=j,I=!0,o.current=!0):!k&&-g>S&&(a&&!l.current&&a(w),T.scrollTop=0,I=!0,l.current=!0),I&&age(w)}},[r,n,a,s]),f=L.useCallback(function(w){d(w,w.deltaY)},[d]),h=L.useCallback(function(w){c.current=w.changedTouches[0].clientY},[]),m=L.useCallback(function(w){var g=c.current-w.changedTouches[0].clientY;d(w,g)},[d]),y=L.useCallback(function(w){if(w){var g=Pme?{passive:!1}:!1;w.addEventListener("wheel",f,g),w.addEventListener("touchstart",h,g),w.addEventListener("touchmove",m,g)}},[m,h,f]),v=L.useCallback(function(w){w&&(w.removeEventListener("wheel",f,!1),w.removeEventListener("touchstart",h,!1),w.removeEventListener("touchmove",m,!1))},[m,h,f]);return L.useEffect(function(){if(t){var w=u.current;return y(w),function(){v(w)}}},[t,y,v]),function(w){u.current=w}}var _C=["boxSizing","height","overflow","paddingRight","position"],PC={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function EC(e){e.cancelable&&e.preventDefault()}function MC(e){e.stopPropagation()}function AC(){var e=this.scrollTop,t=this.scrollHeight,r=e+this.offsetHeight;e===0?this.scrollTop=1:r===t&&(this.scrollTop=e-1)}function LC(){return"ontouchstart"in window||navigator.maxTouchPoints}var OC=!!(typeof window<"u"&&window.document&&window.document.createElement),ph=0,zu={capture:!1,passive:!1};function ige(e){var t=e.isEnabled,r=e.accountForScrollbars,n=r===void 0?!0:r,a=L.useRef({}),s=L.useRef(null),o=L.useCallback(function(c){if(OC){var u=document.body,d=u&&u.style;if(n&&_C.forEach(function(y){var v=d&&d[y];a.current[y]=v}),n&&ph<1){var f=parseInt(a.current.paddingRight,10)||0,h=document.body?document.body.clientWidth:0,m=window.innerWidth-h+f||0;Object.keys(PC).forEach(function(y){var v=PC[y];d&&(d[y]=v)}),d&&(d.paddingRight="".concat(m,"px"))}u&&LC()&&(u.addEventListener("touchmove",EC,zu),c&&(c.addEventListener("touchstart",AC,zu),c.addEventListener("touchmove",MC,zu))),ph+=1}},[n]),l=L.useCallback(function(c){if(OC){var u=document.body,d=u&&u.style;ph=Math.max(ph-1,0),n&&ph<1&&_C.forEach(function(f){var h=a.current[f];d&&(d[f]=h)}),u&&LC()&&(u.removeEventListener("touchmove",EC,zu),c&&(c.removeEventListener("touchstart",AC,zu),c.removeEventListener("touchmove",MC,zu)))}},[n]);return L.useEffect(function(){if(t){var c=s.current;return o(c),function(){l(c)}}},[t,o,l]),function(c){s.current=c}}var oge=function(t){var r=t.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},lge={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function cge(e){var t=e.children,r=e.lockEnabled,n=e.captureEnabled,a=n===void 0?!0:n,s=e.onBottomArrive,o=e.onBottomLeave,l=e.onTopArrive,c=e.onTopLeave,u=sge({isEnabled:a,onBottomArrive:s,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),d=ige({isEnabled:r}),f=function(m){u(m),d(m)};return nt(L.Fragment,null,r&&nt("div",{onClick:oge,css:lge}),t(f))}var uge={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},dge=function(t){var r=t.name,n=t.onFocus;return nt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:uge,value:"",onChange:function(){}})},fge=dge;function fj(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function hge(){return fj(/^iPhone/i)}function hL(){return fj(/^Mac/i)}function pge(){return fj(/^iPad/i)||hL()&&navigator.maxTouchPoints>1}function mge(){return hge()||pge()}function gge(){return hL()||mge()}var vge=function(t){return t.label},xge=function(t){return t.label},yge=function(t){return t.value},bge=function(t){return!!t.isDisabled},wge={clearIndicator:i0e,container:Kme,control:h0e,dropdownIndicator:a0e,group:v0e,groupHeading:y0e,indicatorsContainer:Zme,indicatorSeparator:l0e,input:j0e,loadingIndicator:d0e,loadingMessage:Wme,menu:Rme,menuList:zme,menuPortal:qme,multiValue:_0e,multiValueLabel:P0e,multiValueRemove:E0e,noOptionsMessage:Hme,option:I0e,placeholder:$0e,singleValue:B0e,valueContainer:Qme},Nge={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},jge=4,pL=4,Sge=38,kge=pL*2,Cge={baseUnit:pL,controlHeight:Sge,menuGutter:kge},kb={borderRadius:jge,colors:Nge,spacing:Cge},Dge={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:SC(),captureMenuScroll:!SC(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:tge(),formatGroupLabel:vge,getOptionLabel:xge,getOptionValue:yge,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:bge,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Dme(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var r=t.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function TC(e,t,r,n){var a=vL(e,t,r),s=xL(e,t,r),o=gL(e,t),l=Ov(e,t);return{type:"option",data:t,isDisabled:a,isSelected:s,label:o,value:l,index:n}}function wg(e,t){return e.options.map(function(r,n){if("options"in r){var a=r.options.map(function(o,l){return TC(e,o,t,l)}).filter(function(o){return RC(e,o)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=TC(e,r,t,n);return RC(e,s)?s:void 0}).filter(Eme)}function mL(e){return e.reduce(function(t,r){return r.type==="group"?t.push.apply(t,Cc(r.options.map(function(n){return n.data}))):t.push(r.data),t},[])}function IC(e,t){return e.reduce(function(r,n){return n.type==="group"?r.push.apply(r,Cc(n.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),r},[])}function _ge(e,t){return mL(wg(e,t))}function RC(e,t){var r=e.inputValue,n=r===void 0?"":r,a=t.data,s=t.isSelected,o=t.label,l=t.value;return(!bL(e)||!s)&&yL(e,{label:o,value:l,data:a},n)}function Pge(e,t){var r=e.focusedValue,n=e.selectValue,a=n.indexOf(r);if(a>-1){var s=t.indexOf(r);if(s>-1)return r;if(a<t.length)return t[a]}return null}function Ege(e,t){var r=e.focusedOption;return r&&t.indexOf(r)>-1?r:t[0]}var Cb=function(t,r){var n,a=(n=t.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},gL=function(t,r){return t.getOptionLabel(r)},Ov=function(t,r){return t.getOptionValue(r)};function vL(e,t,r){return typeof e.isOptionDisabled=="function"?e.isOptionDisabled(t,r):!1}function xL(e,t,r){if(r.indexOf(t)>-1)return!0;if(typeof e.isOptionSelected=="function")return e.isOptionSelected(t,r);var n=Ov(e,t);return r.some(function(a){return Ov(e,a)===n})}function yL(e,t,r){return e.filterOption?e.filterOption(t,r):!0}var bL=function(t){var r=t.hideSelectedOptions,n=t.isMulti;return r===void 0?n:r},Mge=1,wL=function(e){En(r,e);var t=B$(r);function r(n){var a;if(tn(this,r),a=t.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=gge(),a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var d=a.props,f=d.onChange,h=d.name;u.name=h,a.ariaOnChange(c,u),f(c,u)},a.setValue=function(c,u,d){var f=a.props,h=f.closeMenuOnSelect,m=f.isMulti,y=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:y}),h&&(a.setState({inputIsHiddenAfterUpdate:!m}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:d})},a.selectOption=function(c){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,h=u.name,m=a.state.selectValue,y=f&&a.isOptionSelected(c,m),v=a.isOptionDisabled(c,m);if(y){var w=a.getOptionValue(c);a.setValue(m.filter(function(g){return a.getOptionValue(g)!==w}),"deselect-option",c)}else if(!v)f?a.setValue([].concat(Cc(m),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:h});return}d&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(c),h=d.filter(function(y){return a.getOptionValue(y)!==f}),m=T0(u,h,h[0]||null);a.onChange(m,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(T0(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),h=T0(c,f,f[0]||null);d&&a.onChange(h,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(c){return Cb(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return IC(wg(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return Nme.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return gL(a.props,c)},a.getOptionValue=function(c){return Ov(a.props,c)},a.getStyles=function(c,u){var d=a.props.unstyled,f=wge[c](u,d);f.boxSizing="border-box";var h=a.props.styles[c];return h?h(f,u):f},a.getClassNames=function(c,u){var d,f;return(d=(f=a.props.classNames)[c])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return V0e(a.props)},a.buildCategorizedOptions=function(){return wg(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return mL(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Re({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&xy(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),h=Math.abs(d.clientY-a.initialTouchY),m=5;a.userIsDragging=f>m||h>m}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,d=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),d=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:d>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return bL(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,h=u.escapeClearsValue,m=u.inputValue,y=u.isClearable,v=u.isDisabled,w=u.menuIsOpen,g=u.onKeyDown,x=u.tabSelectsValue,S=u.openMenuOnFocus,j=a.state,E=j.focusedOption,T=j.focusedValue,k=j.selectValue;if(!v&&!(typeof g=="function"&&(g(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!d||m)return;a.focusValue("previous");break;case"ArrowRight":if(!d||m)return;a.focusValue("next");break;case"Delete":case"Backspace":if(m)return;if(T)a.removeValue(T);else{if(!f)return;d?a.popValue():y&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!w||!x||!E||S&&a.isOptionSelected(E,k))return;a.selectOption(E);break;case"Enter":if(c.keyCode===229)break;if(w){if(!E||a.isComposing)return;a.selectOption(E);break}return;case"Escape":w?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:m}),a.onMenuClose()):y&&h&&a.clearValue();break;case" ":if(m)return;if(!w){a.openMenu("first");break}if(!E)return;a.selectOption(E);break;case"ArrowUp":w?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":w?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!w)return;a.focusOption("pageup");break;case"PageDown":if(!w)return;a.focusOption("pagedown");break;case"Home":if(!w)return;a.focusOption("first");break;case"End":if(!w)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Mge),a.state.selectValue=NC(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),o=a.buildFocusableOptions(),l=o.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=o[l],a.state.focusedOptionId=Cb(s,o[l])}return a}return rn(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&jC(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!o&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&o&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(jC(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,o=this.state,l=o.selectValue,c=o.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(l[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,o=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var u=o.length-1,d=-1;if(o.length){switch(a){case"previous":c===0?d=0:c===-1?d=u:d=c-1;break;case"next":c>-1&&c<u&&(d=c+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:o[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(o);o||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(kb):Re(Re({},kb),this.props.theme):kb}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,h=f.isMulti,m=f.isRtl,y=f.options,v=this.hasValue();return{clearValue:a,cx:s,getStyles:o,getClassNames:l,getValue:c,hasValue:v,isMulti:h,isRtl:m,options:y,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,o=a.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(a,s){return vL(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return xL(this.props,a,s)}},{key:"filterOption",value:function(a,s){return yL(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:o,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,o=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,h=a.required,m=this.getComponents(),y=m.Input,v=this.state,w=v.inputIsHidden,g=v.ariaSelection,x=this.commonProps,S=l||this.getElementId("input"),j=Re(Re(Re({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":h,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(g==null?void 0:g.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?L.createElement(y,Ve({},x,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:s,isHidden:w,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:c},j)):L.createElement(nge,Ve({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Av,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},j))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),o=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,h=this.commonProps,m=this.props,y=m.controlShouldRenderValue,v=m.isDisabled,w=m.isMulti,g=m.inputValue,x=m.placeholder,S=this.state,j=S.selectValue,E=S.focusedValue,T=S.isFocused;if(!this.hasValue()||!y)return g?null:L.createElement(f,Ve({},h,{key:"placeholder",isDisabled:v,isFocused:T,innerProps:{id:this.getElementId("placeholder")}}),x);if(w)return j.map(function(D,I){var R=D===E,M="".concat(a.getOptionLabel(D),"-").concat(a.getOptionValue(D));return L.createElement(o,Ve({},h,{components:{Container:l,Label:c,Remove:u},isFocused:R,isDisabled:v,key:M,index:I,removeProps:{onClick:function(){return a.removeValue(D)},onTouchEnd:function(){return a.removeValue(D)},onMouseDown:function(F){F.preventDefault()}},data:D}),a.formatOptionLabel(D,"value"))});if(g)return null;var k=j[0];return L.createElement(d,Ve({},h,{data:k,isDisabled:v}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return L.createElement(s,Ve({},o,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return L.createElement(s,Ve({},o,{innerProps:f,isDisabled:c,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,o=a.IndicatorSeparator;if(!s||!o)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return L.createElement(o,Ve({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return L.createElement(s,Ve({},o,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),o=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,h=s.NoOptionsMessage,m=s.Option,y=this.commonProps,v=this.state.focusedOption,w=this.props,g=w.captureMenuScroll,x=w.inputValue,S=w.isLoading,j=w.loadingMessage,E=w.minMenuHeight,T=w.maxMenuHeight,k=w.menuIsOpen,D=w.menuPlacement,I=w.menuPosition,R=w.menuPortalTarget,M=w.menuShouldBlockScroll,P=w.menuShouldScrollIntoView,F=w.noOptionsMessage,O=w.onMenuScrollToTop,U=w.onMenuScrollToBottom;if(!k)return null;var z=function($,Y){var W=$.type,X=$.data,Z=$.isDisabled,ne=$.isSelected,ie=$.label,me=$.value,xe=v===X,De=Z?void 0:function(){return a.onOptionHover(X)},Ee=Z?void 0:function(){return a.selectOption(X)},Ze="".concat(a.getElementId("option"),"-").concat(Y),we={id:Ze,onClick:Ee,onMouseMove:De,onMouseOver:De,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:ne};return L.createElement(m,Ve({},y,{innerProps:we,data:X,isDisabled:Z,isSelected:ne,key:Ze,label:ie,type:W,value:me,isFocused:xe,innerRef:xe?a.getFocusedOptionRef:void 0}),a.formatOptionLabel($.data,"menu"))},V;if(this.hasOptions())V=this.getCategorizedOptions().map(function(_){if(_.type==="group"){var $=_.data,Y=_.options,W=_.index,X="".concat(a.getElementId("group"),"-").concat(W),Z="".concat(X,"-heading");return L.createElement(o,Ve({},y,{key:X,data:$,options:Y,Heading:l,headingProps:{id:Z,data:_.data},label:a.formatGroupLabel(_.data)}),_.options.map(function(ne){return z(ne,"".concat(W,"-").concat(ne.index))}))}else if(_.type==="option")return z(_,"".concat(_.index))});else if(S){var q=j({inputValue:x});if(q===null)return null;V=L.createElement(f,y,q)}else{var re=F({inputValue:x});if(re===null)return null;V=L.createElement(h,y,re)}var oe={minMenuHeight:E,maxMenuHeight:T,menuPlacement:D,menuPosition:I,menuShouldScrollIntoView:P},le=L.createElement(Fme,Ve({},y,oe),function(_){var $=_.ref,Y=_.placerProps,W=Y.placement,X=Y.maxHeight;return L.createElement(c,Ve({},y,oe,{innerRef:$,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:S,placement:W}),L.createElement(cge,{captureEnabled:g,onTopArrive:O,onBottomArrive:U,lockEnabled:M},function(Z){return L.createElement(u,Ve({},y,{innerRef:function(ie){a.getMenuListRef(ie),Z(ie)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:a.getElementId("listbox")},isLoading:S,maxHeight:X,focusedOption:v}),V)}))});return R||I==="fixed"?L.createElement(d,Ve({},y,{appendTo:R,controlElement:this.controlRef,menuPlacement:D,menuPosition:I}),le):le}},{key:"renderFormField",value:function(){var a=this,s=this.props,o=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!l)return L.createElement(fge,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(o){var h=f.map(function(v){return a.getOptionValue(v)}).join(o);return L.createElement("input",{name:u,type:"hidden",value:h})}else{var m=f.length>0?f.map(function(v,w){return L.createElement("input",{key:"i-".concat(w),name:u,type:"hidden",value:a.getOptionValue(v)})}):L.createElement("input",{name:u,type:"hidden",value:""});return L.createElement("div",null,m)}else{var y=f[0]?this.getOptionValue(f[0]):"";return L.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,o=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return L.createElement(Q0e,Ve({},a,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,o=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,d=u.className,f=u.id,h=u.isDisabled,m=u.menuIsOpen,y=this.state.isFocused,v=this.commonProps=this.getCommonProps();return L.createElement(l,Ve({},v,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:h,isFocused:y}),this.renderLiveRegion(),L.createElement(s,Ve({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:h,isFocused:y,menuIsOpen:m}),L.createElement(c,Ve({},v,{isDisabled:h}),this.renderPlaceholderOrValue(),this.renderInput()),L.createElement(o,Ve({},v,{isDisabled:h}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var o=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,h=s.instancePrefix,m=a.options,y=a.value,v=a.menuIsOpen,w=a.inputValue,g=a.isMulti,x=NC(y),S={};if(o&&(y!==o.value||m!==o.options||v!==o.menuIsOpen||w!==o.inputValue)){var j=v?_ge(a,x):[],E=v?IC(wg(a,x),"".concat(h,"-option")):[],T=l?Pge(s,x):null,k=Ege(s,j),D=Cb(E,k);S={selectValue:x,focusedOption:k,focusedOptionId:D,focusableOptionsWithIds:E,focusedValue:T,clearFocusValueOnUpdate:!1}}var I=c!=null&&a!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},R=u,M=d&&f;return d&&!M&&(R={value:T0(g,x,x[0]||null),options:x,action:"initial-input-focus"},M=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(R=null),Re(Re(Re({},S),I),{},{prevProps:a,ariaSelection:R,prevWasFocused:M})}}]),r}(L.Component);wL.defaultProps=Dge;var Age=L.forwardRef(function(e,t){var r=fpe(e);return L.createElement(wL,Ve({ref:t},r))}),FC=Age;Nhe("es",tA);jhe("es");const Lge=({event:e,initialSlot:t,onSave:r,onDelete:n,onClose:a})=>{var O,U,z;const{categories:s,settings:o,isGoogleConnected:l}=lx(),[c,u]=L.useState(!1),[d,f]=L.useState("details"),[h,m]=L.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",start:(e==null?void 0:e.start)||(t==null?void 0:t.start)||new Date,end:(e==null?void 0:e.end)||(t==null?void 0:t.end)||new Date(Date.now()+60*60*1e3),location:(e==null?void 0:e.location)||"",meetLink:(e==null?void 0:e.meetLink)||"",categoryId:((O=e==null?void 0:e.category)==null?void 0:O.id)||((U=s[0])==null?void 0:U.id)||"",color:(e==null?void 0:e.color)||((z=s[0])==null?void 0:z.color)||"#3174ad",isRecurring:(e==null?void 0:e.isRecurring)||!1,recurrenceRule:(e==null?void 0:e.recurrenceRule)||"",visibility:(e==null?void 0:e.visibility)||"public"}),[y,v]=L.useState((e==null?void 0:e.attendees)||[]),[w,g]=L.useState((e==null?void 0:e.reminders)||o.defaultReminders),[x,S]=L.useState(""),j=s.find(V=>V.id===h.categoryId);L.useEffect(()=>{j&&m(V=>({...V,color:j.color}))},[j]);const E=(V,q)=>{m(re=>({...re,[V]:q}))},T=()=>{if(x&&!y.find(V=>V.email===x)){const V={id:Date.now().toString(),email:x,name:x.split("@")[0],status:"needsAction",isOptional:!1};v(q=>[...q,V]),S("")}},k=V=>{v(q=>q.filter(re=>re.id!==V))},D=V=>{g(q=>q.map(re=>re.id===V?{...re,enabled:!re.enabled}:re))},I=async V=>{V.preventDefault(),u(!0);try{const q={...h,category:j,attendees:y,reminders:w};await r(q)}catch(q){console.error("Error saving event:",q)}finally{u(!1)}},R=V=>{if(e)switch(V){case"whatsapp":const q=S0.createWhatsAppShareUrl(e);window.open(q,"_blank");break;case"email":const re=encodeURIComponent(`Invitación: ${e.title}`),oe=encodeURIComponent(S0.generateEventMessage(e));window.open(`mailto:?subject=${re}&body=${oe}`,"_blank");break;case"copy":navigator.clipboard.writeText(S0.generateEventMessage(e)),alert("Información del evento copiada al portapapeles");break}},M=()=>{e&&S0.downloadCalendarFile(e)},P=s.map(V=>({value:V.id,label:V.name,color:V.color})),F=[{value:"",label:"No repetir"},{value:"FREQ=DAILY",label:"Diariamente"},{value:"FREQ=WEEKLY",label:"Semanalmente"},{value:"FREQ=MONTHLY",label:"Mensualmente"},{value:"FREQ=YEARLY",label:"Anualmente"}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-screen overflow-y-auto m-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e?"Editar Evento":"Nuevo Evento"}),i.jsx("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(qs,{className:"h-6 w-6"})})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"details",label:"Detalles",icon:Dn},{id:"attendees",label:"Participantes",icon:na},{id:"reminders",label:"Recordatorios",icon:tp},{id:"share",label:"Compartir",icon:kF}].map(V=>{const q=V.icon;return i.jsxs("button",{onClick:()=>f(V.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${d===V.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(q,{className:"h-4 w-4"}),V.label]},V.id)})})}),i.jsxs("form",{onSubmit:I,className:"p-6",children:[d==="details"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título del evento *"}),i.jsx("input",{type:"text",value:h.title,onChange:V=>E("title",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Reunión con cliente",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y hora de inicio *"}),i.jsx(mC,{selected:h.start,onChange:V=>E("start",V),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",locale:"es",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y hora de fin *"}),i.jsx(mC,{selected:h.end,onChange:V=>E("end",V),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",locale:"es",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría"}),i.jsx(FC,{value:P.find(V=>V.value===h.categoryId),onChange:V=>E("categoryId",V==null?void 0:V.value),options:P,formatOptionLabel:V=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:V.color}}),V.label]}),className:"react-select-container",classNamePrefix:"react-select",placeholder:"Seleccionar categoría"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Visibilidad"}),i.jsxs("select",{value:h.visibility,onChange:V=>E("visibility",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"public",children:"Público"}),i.jsx("option",{value:"private",children:"Privado"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:h.description,onChange:V=>E("description",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripción del evento..."})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i.jsx(cx,{className:"h-4 w-4 inline mr-1"}),"Ubicación"]}),i.jsx("input",{type:"text",value:h.location,onChange:V=>E("location",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Dirección o lugar del evento"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[i.jsx(Jg,{className:"h-4 w-4 inline mr-1"}),"Enlace de reunión"]}),i.jsx("input",{type:"url",value:h.meetLink,onChange:V=>E("meetLink",V.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://meet.google.com/..."}),l&&o.autoCreateMeetLinks&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Se generará automáticamente un enlace de Google Meet si se deja vacío"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isRecurring",checked:h.isRecurring,onChange:V=>E("isRecurring",V.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),i.jsxs("label",{htmlFor:"isRecurring",className:"text-sm font-medium text-gray-700",children:[i.jsx(SF,{className:"h-4 w-4 inline mr-1"}),"Evento recurrente"]})]}),h.isRecurring&&i.jsx("div",{className:"mt-2",children:i.jsx(FC,{value:F.find(V=>V.value===h.recurrenceRule),onChange:V=>E("recurrenceRule",V==null?void 0:V.value),options:F,placeholder:"Seleccionar frecuencia",className:"react-select-container",classNamePrefix:"react-select"})})]})]})}),d==="attendees"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Agregar participantes"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"email",value:x,onChange:V=>S(V.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"correo@ejemplo.com",onKeyPress:V=>V.key==="Enter"&&(V.preventDefault(),T())}),i.jsx("button",{type:"button",onClick:T,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar"})]})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Participantes (",y.length,")"]}),i.jsxs("div",{className:"space-y-2",children:[y.map(V=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium mr-3",children:(V.name||V.email).charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:V.name||V.email}),i.jsx("p",{className:"text-xs text-gray-500",children:V.email})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${V.status==="accepted"?"bg-green-100 text-green-800":V.status==="declined"?"bg-red-100 text-red-800":V.status==="tentative"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:V.status==="accepted"?"Aceptó":V.status==="declined"?"Rechazó":V.status==="tentative"?"Tentativo":"Pendiente"}),i.jsx("button",{type:"button",onClick:()=>k(V.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(qs,{className:"h-4 w-4"})})]})]},V.id)),y.length===0&&i.jsx("p",{className:"text-gray-500 text-center py-4",children:"No hay participantes agregados"})]})]})]}),d==="reminders"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Configurar recordatorios"}),i.jsx("div",{className:"space-y-3",children:w.map(V=>i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:V.enabled,onChange:()=>D(V.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:V.method==="email"?"Email":V.method==="popup"?"Notificación":"WhatsApp"}),i.jsx("p",{className:"text-xs text-gray-500",children:V.minutes===0?"En el momento":V.minutes<60?`${V.minutes} minutos antes`:V.minutes<1440?`${V.minutes/60} horas antes`:`${V.minutes/1440} días antes`})]})]}),i.jsx(tp,{className:`h-4 w-4 ${V.enabled?"text-blue-600":"text-gray-400"}`})]},V.id))})]})}),d==="share"&&e&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Compartir evento"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("button",{type:"button",onClick:()=>R("whatsapp"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx("span",{className:"text-white text-xl",children:"💬"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"WhatsApp"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Compartir por WhatsApp"})]})}),i.jsx("button",{type:"button",onClick:()=>R("email"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx("span",{className:"text-white text-xl",children:"📧"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Enviar por correo"})]})}),i.jsx("button",{type:"button",onClick:()=>R("copy"),className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-gray-500 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx("span",{className:"text-white text-xl",children:"📋"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Copiar"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Copiar al portapapeles"})]})}),i.jsx("button",{type:"button",onClick:M,className:"flex items-center justify-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mx-auto mb-2",children:i.jsx(fs,{className:"h-6 w-6 text-white"})}),i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Descargar"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Archivo .ics"})]})})]})]})}),i.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-200 mt-6",children:[i.jsx("div",{children:e&&n&&i.jsxs("button",{type:"button",onClick:n,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors flex items-center gap-2",children:[i.jsx(en,{className:"h-4 w-4"}),"Eliminar"]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",disabled:c,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[i.jsx(Zd,{className:"h-4 w-4"}),c?"Guardando...":"Guardar"]})]})]})]})]})})},Oge=({onClose:e})=>{const{settings:t,categories:r,isGoogleConnected:n,updateSettings:a,addCategory:s,updateCategory:o,deleteCategory:l,connectToGoogle:c,disconnectFromGoogle:u}=lx(),[d,f]=L.useState("general"),[h,m]=L.useState(t),[y,v]=L.useState({name:"",color:"#3174ad",description:""}),w=(k,D)=>{m(I=>({...I,[k]:D}))},g=()=>{a(h),e()},x=()=>{y.name.trim()&&(s(y),v({name:"",color:"#3174ad",description:""}))},S=k=>{window.confirm("¿Estás seguro de que deseas eliminar esta categoría?")&&l(k)},j=[{value:"America/Mexico_City",label:"Ciudad de México (GMT-6)"},{value:"America/New_York",label:"Nueva York (GMT-5)"},{value:"America/Los_Angeles",label:"Los Ángeles (GMT-8)"},{value:"Europe/Madrid",label:"Madrid (GMT+1)"},{value:"Europe/London",label:"Londres (GMT+0)"},{value:"Asia/Tokyo",label:"Tokio (GMT+9)"},{value:"Australia/Sydney",label:"Sídney (GMT+11)"}],E=["#3174ad","#28a745","#ffc107","#dc3545","#6f42c1","#fd7e14","#20c997","#6c757d","#e83e8c","#17a2b8"],T=[{value:"month",label:"Mes"},{value:"week",label:"Semana"},{value:"day",label:"Día"},{value:"agenda",label:"Agenda"}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl max-h-screen overflow-y-auto m-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Configuración del Calendario"}),i.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx(qs,{className:"h-6 w-6"})})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-8 px-6",children:[{id:"general",label:"General",icon:Dn},{id:"categories",label:"Categorías",icon:wF},{id:"notifications",label:"Notificaciones",icon:tp},{id:"integration",label:"Integración",icon:eP}].map(k=>{const D=k.icon;return i.jsxs("button",{onClick:()=>f(k.id),className:`py-4 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 ${d===k.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(D,{className:"h-4 w-4"}),k.label]},k.id)})})}),i.jsxs("div",{className:"p-6",children:[d==="general"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Vista predeterminada"}),i.jsx("select",{value:h.defaultView,onChange:k=>w("defaultView",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:T.map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Zona horaria"}),i.jsx("select",{value:h.timezone,onChange:k=>w("timezone",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:j.map(k=>i.jsx("option",{value:k.value,children:k.label},k.value))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de inicio laboral"}),i.jsx("input",{type:"time",value:h.workingHours.start,onChange:k=>w("workingHours",{...h.workingHours,start:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hora de fin laboral"}),i.jsx("input",{type:"time",value:h.workingHours.end,onChange:k=>w("workingHours",{...h.workingHours,end:k.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"autoCreateMeetLinks",checked:h.autoCreateMeetLinks,onChange:k=>w("autoCreateMeetLinks",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),i.jsx("label",{htmlFor:"autoCreateMeetLinks",className:"text-sm font-medium text-gray-700",children:"Crear automáticamente enlaces de Google Meet"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"notificationsEnabled",checked:h.notificationsEnabled,onChange:k=>w("notificationsEnabled",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),i.jsx("label",{htmlFor:"notificationsEnabled",className:"text-sm font-medium text-gray-700",children:"Habilitar notificaciones"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"syncWithGoogle",checked:h.syncWithGoogle,onChange:k=>w("syncWithGoogle",k.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3",disabled:!n}),i.jsx("label",{htmlFor:"syncWithGoogle",className:"text-sm font-medium text-gray-700",children:"Sincronizar automáticamente con Google Calendar"})]})]})]}),d==="categories"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agregar nueva categoría"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),i.jsx("input",{type:"text",value:y.name,onChange:k=>v(D=>({...D,name:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nombre de la categoría"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color"}),i.jsx("div",{className:"flex gap-2",children:E.map(k=>i.jsx("button",{type:"button",onClick:()=>v(D=>({...D,color:k})),className:`w-8 h-8 rounded-full border-2 ${y.color===k?"border-gray-800":"border-gray-300"}`,style:{backgroundColor:k}},k))})]}),i.jsx("div",{className:"flex items-end",children:i.jsx("button",{type:"button",onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Agregar"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Categorías existentes"}),i.jsx("div",{className:"space-y-3",children:r.map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-4 h-4 rounded-full mr-3",style:{backgroundColor:k.color}}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.name}),k.description&&i.jsx("p",{className:"text-xs text-gray-500",children:k.description})]})]}),i.jsx("button",{type:"button",onClick:()=>S(k.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(qs,{className:"h-4 w-4"})})]},k.id))})]})]}),d==="notifications"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recordatorios predeterminados"}),i.jsx("div",{className:"space-y-3",children:h.defaultReminders.map((k,D)=>i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",checked:k.enabled,onChange:I=>{const R=[...h.defaultReminders];R[D]={...k,enabled:I.target.checked},w("defaultReminders",R)},className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:k.method==="email"?"Email":k.method==="popup"?"Notificación":"WhatsApp"}),i.jsx("p",{className:"text-xs text-gray-500",children:k.minutes===0?"En el momento":k.minutes<60?`${k.minutes} minutos antes`:k.minutes<1440?`${k.minutes/60} horas antes`:`${k.minutes/1440} días antes`})]})]}),i.jsx(tp,{className:`h-4 w-4 ${k.enabled?"text-blue-600":"text-gray-400"}`})]},k.id))})]})}),d==="integration"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Google Calendar"}),i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Estado de conexión"}),i.jsx("p",{className:"text-xs text-gray-500",children:n?"Conectado a Google Calendar":"No conectado a Google Calendar"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${n?"bg-green-500":"bg-red-500"}`}),n?i.jsx("button",{onClick:u,className:"bg-red-600 text-white px-3 py-1 rounded text-sm hover:bg-red-700 transition-colors",children:"Desconectar"}):i.jsx("button",{onClick:c,className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Conectar"})]})]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Integración WhatsApp"}),i.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Compartir eventos"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Permite compartir eventos directamente por WhatsApp"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),i.jsx("span",{className:"text-sm text-green-600",children:"Disponible"})]})]})})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900 mb-4",children:"Seguridad"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx($c,{className:"h-5 w-5 text-green-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Conexión segura"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Todas las conexiones están cifradas"})]})]}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx($c,{className:"h-5 w-5 text-green-500 mr-3"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Tokens seguros"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Los tokens se almacenan de forma segura"})]})]}),i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"})]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-6 border-t border-gray-200 mt-6",children:[i.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"button",onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Zd,{className:"h-4 w-4"}),"Guardar Configuración"]})]})]})]})})},mh={months:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],monthsShort:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],weekdays:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],weekdaysShort:["dom","lun","mar","mié","jue","vie","sáb"],weekdaysMin:["D","L","M","X","J","V","S"]},Tge=()=>{Te.defineLocale("es-custom",{months:mh.months,monthsShort:mh.monthsShort,weekdays:mh.weekdays,weekdaysShort:mh.weekdaysShort,weekdaysMin:mh.weekdaysMin,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoy a las] LT",nextDay:"[Mañana a las] LT",nextWeek:"dddd [a las] LT",lastDay:"[Ayer a las] LT",lastWeek:"[el] dddd [pasado a las] LT",sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}}),Te.locale("es-custom")};Tge();const Ige=Gae(Te),Rge=()=>{const{events:e,settings:t,isGoogleConnected:r,isLoading:n,error:a,addEvent:s,updateEvent:o,deleteEvent:l,syncWithGoogle:c,connectToGoogle:u}=lx(),[d,f]=L.useState(t.defaultView),[h,m]=L.useState(new Date),[y,v]=L.useState(!1),[w,g]=L.useState(!1),[x,S]=L.useState(null),[j,E]=L.useState(null),T=e.map(U=>({id:U.id,title:U.title,start:new Date(U.start),end:new Date(U.end),resource:U,style:{backgroundColor:U.color,borderColor:U.color}})),k=U=>{S(U.resource),E(null),v(!0)},D=U=>{S(null),E({start:U.start,end:U.end}),v(!0)},I=async U=>{try{x?await o(x.id,U):await s(U),v(!1),S(null),E(null)}catch(z){console.error("Error saving event:",z)}},R=async()=>{if(x)try{await l(x.id),v(!1),S(null)}catch(U){console.error("Error deleting event:",U)}},M=async()=>{if(r)try{await c()}catch(U){console.error("Error syncing with Google:",U)}},P=U=>({style:{backgroundColor:U.resource.color,borderColor:U.resource.color,color:"white",borderRadius:"4px",border:"none",fontSize:"12px",padding:"2px 4px"}}),F=U=>{switch(U){case ar.MONTH:return i.jsx(mF,{className:"h-4 w-4"});case ar.WEEK:return i.jsx(Dn,{className:"h-4 w-4"});case ar.DAY:return i.jsx(vn,{className:"h-4 w-4"});case ar.AGENDA:return i.jsx(vF,{className:"h-4 w-4"});default:return i.jsx(Dn,{className:"h-4 w-4"})}},O=U=>{switch(U){case ar.MONTH:return"Mes";case ar.WEEK:return"Semana";case ar.DAY:return"Día";case ar.AGENDA:return"Agenda";default:return U}};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Calendario"}),i.jsx("p",{className:"text-gray-600",children:"Gestiona tus eventos y reuniones"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[ar.MONTH,ar.WEEK,ar.DAY,ar.AGENDA].map(U=>i.jsxs("button",{onClick:()=>f(U),className:`flex items-center gap-1 px-3 py-1 rounded text-sm font-medium transition-colors ${d===U?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[F(U),O(U)]},U))}),r?i.jsxs("button",{onClick:M,disabled:n,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2 disabled:opacity-50",children:[i.jsx(eP,{className:`h-4 w-4 ${n?"animate-spin":""}`}),"Sincronizar"]}):i.jsxs("button",{onClick:u,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Dn,{className:"h-4 w-4"}),"Conectar Google"]}),i.jsxs("button",{onClick:()=>v(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nuevo Evento"]}),i.jsxs("button",{onClick:()=>g(!0),className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(Sc,{className:"h-4 w-4"}),"Configuración"]})]})]}),a&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsx("div",{className:"flex items-center",children:i.jsx("div",{className:"text-red-600 text-sm",children:a})})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsx("div",{style:{height:"600px"},children:i.jsx(Bae,{localizer:Ige,events:T,startAccessor:"start",endAccessor:"end",view:d,onView:f,date:h,onNavigate:m,onSelectEvent:k,onSelectSlot:D,selectable:!0,eventPropGetter:P,popup:!0,showMultiDayTimes:!0,step:30,timeslots:2,defaultDate:new Date,messages:{next:"Siguiente",previous:"Anterior",today:"Hoy",month:"Mes",week:"Semana",day:"Día",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango",showMore:U=>`+ Ver ${U} más`,allDay:"Todo el día",work_week:"Semana laboral",yesterday:"Ayer",tomorrow:"Mañana"},formats:{timeGutterFormat:"HH:mm",eventTimeRangeFormat:({start:U,end:z})=>`${Te(U).format("HH:mm")} - ${Te(z).format("HH:mm")}`,dayHeaderFormat:U=>Te(U).format("dddd DD/MM"),dayRangeHeaderFormat:({start:U,end:z})=>`${Te(U).format("DD/MM")} - ${Te(z).format("DD/MM")}`,monthHeaderFormat:U=>Te(U).format("MMMM YYYY"),weekdayFormat:U=>Te(U).format("ddd"),agendaHeaderFormat:({start:U,end:z})=>`${Te(U).format("DD/MM/YYYY")} - ${Te(z).format("DD/MM/YYYY")}`,agendaDateFormat:U=>Te(U).format("ddd DD/MM"),agendaTimeFormat:U=>Te(U).format("HH:mm"),agendaTimeRangeFormat:({start:U,end:z})=>`${Te(U).format("HH:mm")} - ${Te(z).format("HH:mm")}`},culture:"es-custom"})})}),y&&i.jsx(Lge,{event:x,initialSlot:j,onSave:I,onDelete:R,onClose:()=>{v(!1),S(null),E(null)}}),w&&i.jsx(Oge,{onClose:()=>g(!1)})]})},Fge=()=>{const{syncWithGoogle:e}=lx(),[t,r]=L.useState("loading"),[n,a]=L.useState("");return L.useEffect(()=>{(async()=>{const o=new URLSearchParams(window.location.search),l=o.get("code"),c=o.get("error");if(c){r("error"),a(`Authentication error: ${c}`);return}if(!l){r("error"),a("No authorization code received");return}try{await fetch("/api/calendar/auth/callback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:l})}),await e(),r("success"),a("¡Conexión exitosa! Tu calendario se ha sincronizado."),setTimeout(()=>{window.location.href="/calendar"},3e3)}catch(u){console.error(u),r("error"),a(u.message||"Error durante la autenticación")}})()},[e]),i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:i.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow border p-8",children:[t==="loading"&&i.jsxs("div",{className:"text-center",children:[i.jsx(xF,{className:"animate-spin text-blue-600 mx-auto mb-4 h-12 w-12"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Conectando con Google..."}),i.jsx("p",{className:"text-gray-600",children:"Procesando autenticación..."})]}),t==="success"&&i.jsxs("div",{className:"text-center",children:[i.jsx(Ai,{className:"text-green-600 mx-auto mb-4 h-12 w-12"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"¡Conexión Exitosa!"}),i.jsx("p",{className:"text-gray-600 mb-4",children:n}),i.jsx("p",{className:"text-sm text-gray-500",children:"Redirigiendo al calendario…"})]}),t==="error"&&i.jsxs("div",{className:"text-center",children:[i.jsx(Ta,{className:"text-red-600 mx-auto mb-4 h-12 w-12"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Error de Conexión"}),i.jsx("p",{className:"text-gray-600 mb-4",children:n}),i.jsx("button",{onClick:()=>window.location.href="/calendar",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Volver al Calendario"})]})]})})},$ge=({onProjectSelect:e,onNewProject:t,onNewClient:r})=>{var k,D;const{projects:n,clients:a,getSalesMetrics:s,getUpcomingPayments:o,getUpcomingMeetings:l,getOverdueTasks:c}=Hl(),[u,d]=L.useState(""),[f,h]=L.useState({}),[m,y]=L.useState("grid"),v=s(),w=o(30),g=l(7),x=c(),S=n.filter(I=>{var U,z,V;const R=a.find(q=>q.id===I.clientId),M=I.name.toLowerCase().includes(u.toLowerCase())||I.description.toLowerCase().includes(u.toLowerCase())||(R==null?void 0:R.companyName.toLowerCase().includes(u.toLowerCase())),P=!((U=f.status)!=null&&U.length)||f.status.includes(I.status),F=!((z=f.type)!=null&&z.length)||f.type.includes(I.type),O=!((V=f.priority)!=null&&V.length)||f.priority.includes(I.priority);return M&&P&&F&&O}),j=I=>({planning:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",testing:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800","on-hold":"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[I],E=I=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[I],T=I=>I.milestones.length===0?0:I.milestones.filter(M=>M.status==="completed").length/I.milestones.length*100;return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Proyectos"}),i.jsx("p",{className:"text-gray-600",children:"Administra proyectos de clientes y seguimiento financiero"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:r,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:[i.jsx(na,{className:"h-4 w-4"}),"Nuevo Cliente"]}),i.jsxs("button",{onClick:t,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nuevo Proyecto"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Proyectos Activos"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.activeProjects})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(C2,{className:"h-6 w-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Ingresos del Mes"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",v.monthlyRevenue.toLocaleString()]})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Li,{className:"h-6 w-6 text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pagos Pendientes"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:i.jsx(vn,{className:"h-6 w-6 text-yellow-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Tareas Vencidas"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),i.jsx("div",{className:"bg-red-100 p-3 rounded-lg",children:i.jsx(Mi,{className:"h-6 w-6 text-red-600"})})]})})]}),(w.length>0||g.length>0||x.length>0)&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.length>0&&i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(Li,{className:"h-5 w-5 text-yellow-600 mr-2"}),i.jsx("h3",{className:"font-semibold text-yellow-800",children:"Pagos Próximos"})]}),i.jsxs("div",{className:"space-y-2",children:[w.slice(0,3).map(I=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("p",{className:"font-medium text-yellow-900",children:["$",I.amount.toLocaleString()]}),i.jsx("p",{className:"text-yellow-700",children:it(I.dueDate,"dd/MM/yyyy")})]},I.id)),w.length>3&&i.jsxs("p",{className:"text-xs text-yellow-600",children:["+",w.length-3," más"]})]})]}),g.length>0&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(Dn,{className:"h-5 w-5 text-blue-600 mr-2"}),i.jsx("h3",{className:"font-semibold text-blue-800",children:"Reuniones Próximas"})]}),i.jsxs("div",{className:"space-y-2",children:[g.slice(0,3).map(I=>i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-blue-900",children:I.title}),i.jsx("p",{className:"text-blue-700",children:it(I.scheduledDate,"dd/MM HH:mm")})]},I.id)),g.length>3&&i.jsxs("p",{className:"text-xs text-blue-600",children:["+",g.length-3," más"]})]})]}),x.length>0&&i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center mb-3",children:[i.jsx(Mi,{className:"h-5 w-5 text-red-600 mr-2"}),i.jsx("h3",{className:"font-semibold text-red-800",children:"Tareas Vencidas"})]}),i.jsxs("div",{className:"space-y-2",children:[x.slice(0,3).map(I=>i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"font-medium text-red-900",children:I.title}),i.jsx("p",{className:"text-red-700",children:it(I.dueDate,"dd/MM/yyyy")})]},I.id)),x.length>3&&i.jsxs("p",{className:"text-xs text-red-600",children:["+",x.length-3," más"]})]})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 justify-between items-start lg:items-center",children:[i.jsx("div",{className:"flex-1 max-w-md",children:i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"h-5 w-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar proyectos o clientes...",value:u,onChange:I=>d(I.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("select",{value:((k=f.status)==null?void 0:k[0])||"",onChange:I=>h(R=>({...R,status:I.target.value?[I.target.value]:void 0})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Todos los estados"}),i.jsx("option",{value:"planning",children:"Planificación"}),i.jsx("option",{value:"in-progress",children:"En Progreso"}),i.jsx("option",{value:"testing",children:"Pruebas"}),i.jsx("option",{value:"completed",children:"Completado"}),i.jsx("option",{value:"on-hold",children:"En Pausa"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]}),i.jsxs("select",{value:((D=f.type)==null?void 0:D[0])||"",onChange:I=>h(R=>({...R,type:I.target.value?[I.target.value]:void 0})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Todos los tipos"}),i.jsx("option",{value:"chatbot",children:"Chatbot"}),i.jsx("option",{value:"app",children:"Aplicación"}),i.jsx("option",{value:"website",children:"Sitio Web"}),i.jsx("option",{value:"crm",children:"CRM"}),i.jsx("option",{value:"automation",children:"Automatización"}),i.jsx("option",{value:"other",children:"Otro"})]}),i.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[i.jsx("button",{onClick:()=>y("grid"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${m==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Grid"}),i.jsx("button",{onClick:()=>y("list"),className:`px-3 py-1 rounded text-sm font-medium transition-colors ${m==="list"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Lista"})]})]})]})}),m==="grid"?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(I=>{const R=a.find(P=>P.id===I.clientId),M=T(I);return i.jsxs("div",{onClick:()=>e(I),className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:I.name}),i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:R==null?void 0:R.companyName}),i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${j(I.status)}`,children:I.status}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${E(I.priority)}`,children:I.priority})]})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"Progreso"}),i.jsxs("span",{className:"font-medium",children:[Math.round(M),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${M}%`}})})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Valor:"}),i.jsxs("span",{className:"font-semibold text-gray-900",children:["$",I.totalValue.toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Entrega:"}),i.jsx("span",{className:"text-gray-900",children:it(I.endDate,"dd/MM/yyyy")})]}),i.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(na,{className:"h-4 w-4 mr-1"}),I.assignedTo.length," miembros"]}),i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx(Dn,{className:"h-4 w-4 mr-1"}),I.milestones.length," hitos"]})]})]})]},I.id)})}):i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Proyecto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progreso"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Entrega"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(I=>{const R=a.find(P=>P.id===I.clientId),M=T(I);return i.jsxs("tr",{onClick:()=>e(I),className:"hover:bg-gray-50 cursor-pointer transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),i.jsx("div",{className:"text-sm text-gray-500",children:I.type})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:R==null?void 0:R.companyName}),i.jsx("div",{className:"text-sm text-gray-500",children:R==null?void 0:R.contactPerson})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j(I.status)}`,children:I.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${M}%`}})}),i.jsxs("span",{className:"text-sm text-gray-900",children:[Math.round(M),"%"]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",I.totalValue.toLocaleString()]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:it(I.endDate,"dd/MM/yyyy")})]},I.id)})})]})})}),S.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(C2,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron proyectos"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Intenta ajustar los filtros o crear un nuevo proyecto."}),i.jsx("button",{onClick:t,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Crear Primer Proyecto"})]})]})},Uge=({project:e})=>{const{addMilestone:t,updateMilestone:r,deleteMilestone:n}=Hl(),[a,s]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState({title:"",description:"",dueDate:"",assignedTo:"",dependencies:[]}),d=x=>{x.preventDefault();const S={title:c.title,description:c.description,dueDate:new Date(c.dueDate),status:"pending",progress:0,dependencies:c.dependencies,assignedTo:c.assignedTo};o?r(e.id,o.id,S):t(e.id,S),f()},f=()=>{u({title:"",description:"",dueDate:"",assignedTo:"",dependencies:[]}),s(!1),l(null)},h=x=>{u({title:x.title,description:x.description,dueDate:it(x.dueDate,"yyyy-MM-dd"),assignedTo:x.assignedTo,dependencies:x.dependencies}),l(x),s(!0)},m=x=>{window.confirm("¿Estás seguro de que deseas eliminar este hito?")&&n(e.id,x)},y=(x,S)=>{const j={status:S};S==="completed"&&!x.completedDate?(j.completedDate=new Date,j.progress=100):S!=="completed"&&(j.completedDate=void 0,j.progress=S==="in-progress"?50:0),r(e.id,x.id,j)},v=x=>{switch(x){case"completed":return i.jsx(Ai,{className:"h-5 w-5 text-green-500"});case"in-progress":return i.jsx(vn,{className:"h-5 w-5 text-yellow-500"});case"overdue":return i.jsx(Mi,{className:"h-5 w-5 text-red-500"});default:return i.jsx(Dn,{className:"h-5 w-5 text-gray-400"})}},w=x=>({pending:"bg-gray-100 text-gray-800","in-progress":"bg-yellow-100 text-yellow-800",completed:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800"})[x],g=[...e.milestones].sort((x,S)=>x.dueDate.getTime()-S.dueDate.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cronograma del Proyecto"}),i.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nuevo Hito"]})]}),a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Editar Hito":"Nuevo Hito"}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título *"}),i.jsx("input",{type:"text",value:c.title,onChange:x=>u(S=>({...S,title:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Vencimiento *"}),i.jsx("input",{type:"date",value:c.dueDate,onChange:x=>u(S=>({...S,dueDate:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:c.description,onChange:x=>u(S=>({...S,description:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asignado a"}),i.jsxs("select",{value:c.assignedTo,onChange:x=>u(S=>({...S,assignedTo:x.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar miembro del equipo"}),e.assignedTo.map(x=>i.jsx("option",{value:x,children:x},x))]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Actualizar":"Crear"," Hito"]})]})]})]}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"space-y-6",children:[g.map((x,S)=>i.jsxs("div",{className:"relative",children:[S<g.length-1&&i.jsx("div",{className:"absolute left-6 top-12 w-0.5 h-16 bg-gray-200"}),i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:v(x.status)}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-lg font-medium text-gray-900",children:x.title}),x.description&&i.jsx("p",{className:"text-gray-600 mt-1",children:x.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${w(x.status)}`,children:x.status}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Vence: ",it(x.dueDate,"dd/MM/yyyy")]}),x.assignedTo&&i.jsxs("span",{className:"text-sm text-gray-600",children:["Asignado: ",x.assignedTo]}),x.completedDate&&i.jsxs("span",{className:"text-sm text-green-600",children:["Completado: ",it(x.completedDate,"dd/MM/yyyy")]})]}),i.jsxs("div",{className:"mt-3",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"Progreso"}),i.jsxs("span",{className:"font-medium",children:[x.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.progress}%`}})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs("select",{value:x.status,onChange:j=>y(x,j.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"in-progress",children:"En Progreso"}),i.jsx("option",{value:"completed",children:"Completado"})]}),i.jsx("button",{onClick:()=>h(x),className:"text-blue-600 hover:text-blue-800 transition-colors",children:i.jsx(Gn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>m(x.id),className:"text-red-600 hover:text-red-800 transition-colors",children:i.jsx(en,{className:"h-4 w-4"})})]})]})})]})]},x.id)),g.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Dn,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay hitos definidos para este proyecto"}),i.jsx("p",{className:"text-sm",children:"Agrega hitos para hacer seguimiento del progreso"})]})]})})]})},zge=({project:e})=>{const{addNote:t,updateNote:r,deleteNote:n}=Hl(),[a,s]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState("all"),[d,f]=L.useState({content:"",type:"general",isImportant:!1}),h=j=>{j.preventDefault();const E={content:d.content,type:d.type,createdBy:"Usuario Actual",isImportant:d.isImportant,attachments:[]};o?r(e.id,o.id,E):t(e.id,E),m()},m=()=>{f({content:"",type:"general",isImportant:!1}),s(!1),l(null)},y=j=>{f({content:j.content,type:j.type,isImportant:j.isImportant}),l(j),s(!0)},v=j=>{window.confirm("¿Estás seguro de que deseas eliminar esta nota?")&&n(e.id,j)},w=j=>{r(e.id,j.id,{isImportant:!j.isImportant})},g=j=>({update:"bg-blue-100 text-blue-800",improvement:"bg-green-100 text-green-800",issue:"bg-red-100 text-red-800",meeting:"bg-purple-100 text-purple-800",general:"bg-gray-100 text-gray-800"})[j],x=j=>({update:"📝",improvement:"💡",issue:"⚠️",meeting:"🤝",general:"📄"})[j],S=e.notes.filter(j=>c==="all"||j.type===c).sort((j,E)=>j.isImportant&&!E.isImportant?-1:!j.isImportant&&E.isImportant?1:E.createdAt.getTime()-j.createdAt.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notas del Proyecto"}),i.jsxs("select",{value:c,onChange:j=>u(j.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm",children:[i.jsx("option",{value:"all",children:"Todas las notas"}),i.jsx("option",{value:"update",children:"Actualizaciones"}),i.jsx("option",{value:"improvement",children:"Mejoras"}),i.jsx("option",{value:"issue",children:"Problemas"}),i.jsx("option",{value:"meeting",children:"Reuniones"}),i.jsx("option",{value:"general",children:"General"})]})]}),i.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nueva Nota"]})]}),a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Editar Nota":"Nueva Nota"}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Nota"}),i.jsxs("select",{value:d.type,onChange:j=>f(E=>({...E,type:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"general",children:"General"}),i.jsx("option",{value:"update",children:"Actualización"}),i.jsx("option",{value:"improvement",children:"Mejora"}),i.jsx("option",{value:"issue",children:"Problema"}),i.jsx("option",{value:"meeting",children:"Reunión"})]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isImportant",checked:d.isImportant,onChange:j=>f(E=>({...E,isImportant:j.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),i.jsx("label",{htmlFor:"isImportant",className:"text-sm font-medium text-gray-700",children:"Marcar como importante"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contenido *"}),i.jsx("textarea",{value:d.content,onChange:j=>f(E=>({...E,content:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Escribe tu nota aquí...",required:!0})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Actualizar":"Crear"," Nota"]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[S.map(j=>i.jsx("div",{className:`bg-white rounded-xl shadow-sm border p-6 ${j.isImportant?"border-yellow-300 bg-yellow-50":"border-gray-200"}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("span",{className:"text-lg",children:x(j.type)}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${g(j.type)}`,children:j.type}),j.isImportant&&i.jsx(N4,{className:"h-4 w-4 text-yellow-500 fill-current"}),i.jsx("span",{className:"text-sm text-gray-500",children:it(j.createdAt,"dd/MM/yyyy HH:mm")}),i.jsxs("span",{className:"text-sm text-gray-500",children:["por ",j.createdBy]})]}),i.jsx("div",{className:"prose prose-sm max-w-none",children:i.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:j.content})}),j.attachments.length>0&&i.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[i.jsx(NF,{className:"h-4 w-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-600",children:[j.attachments.length," archivo(s) adjunto(s)"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx("button",{onClick:()=>w(j),className:`transition-colors ${j.isImportant?"text-yellow-500 hover:text-yellow-600":"text-gray-400 hover:text-yellow-500"}`,title:j.isImportant?"Quitar de importantes":"Marcar como importante",children:j.isImportant?i.jsx(N4,{className:"h-4 w-4 fill-current"}):i.jsx(CF,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>y(j),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Editar nota",children:i.jsx(Gn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>v(j.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Eliminar nota",children:i.jsx(en,{className:"h-4 w-4"})})]})]})},j.id)),S.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(tu,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:["No hay notas ",c!=="all"?`de tipo "${c}"`:""," para este proyecto"]}),i.jsx("p",{className:"text-sm",children:"Agrega notas para documentar el progreso y comunicación"})]})]})]})},Bge=({project:e})=>{const{addPayment:t,updatePayment:r,deletePayment:n,generateInvoice:a}=Hl(),[s,o]=L.useState(!1),[l,c]=L.useState(null),[u,d]=L.useState({description:"",amount:0,dueDate:"",notes:""}),f=k=>{k.preventDefault();const D={description:u.description,amount:u.amount,dueDate:new Date(u.dueDate),status:"pending",notes:u.notes};l?r(e.id,l.id,D):t(e.id,D),h()},h=()=>{d({description:"",amount:0,dueDate:"",notes:""}),o(!1),c(null)},m=k=>{d({description:k.description,amount:k.amount,dueDate:it(k.dueDate,"yyyy-MM-dd"),notes:k.notes}),c(k),o(!0)},y=k=>{window.confirm("¿Estás seguro de que deseas eliminar este pago?")&&n(e.id,k)},v=(k,D)=>{const I={status:D};D==="paid"&&!k.paidDate?I.paidDate=new Date:D!=="paid"&&(I.paidDate=void 0),r(e.id,k.id,I)},w=k=>{try{const D=a(e.id,k.id);alert(`Factura ${D.number} generada exitosamente`)}catch{alert("Error al generar la factura")}},g=k=>({pending:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",overdue:"bg-red-100 text-red-800",cancelled:"bg-gray-100 text-gray-800"})[k],x=k=>{switch(k){case"paid":return i.jsx(Ai,{className:"h-5 w-5 text-green-500"});case"overdue":return i.jsx(Mi,{className:"h-5 w-5 text-red-500"});case"pending":return i.jsx(vn,{className:"h-5 w-5 text-yellow-500"});default:return i.jsx(Li,{className:"h-5 w-5 text-gray-400"})}},S=e.paymentSchedule.reduce((k,D)=>k+D.amount,0),j=e.paymentSchedule.filter(k=>k.status==="paid").reduce((k,D)=>k+D.amount,0),E=S-j,T=[...e.paymentSchedule].sort((k,D)=>k.dueDate.getTime()-D.dueDate.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total del Proyecto"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",S.toLocaleString()]})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(Li,{className:"h-6 w-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pagado"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",j.toLocaleString()]})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Ai,{className:"h-6 w-6 text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pendiente"}),i.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["$",E.toLocaleString()]})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:i.jsx(vn,{className:"h-6 w-6 text-yellow-600"})})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-gray-600",children:"Progreso de Pagos"}),i.jsxs("span",{className:"font-medium",children:[S>0?Math.round(j/S*100):0,"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${S>0?j/S*100:0}%`}})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Cronograma de Pagos"}),i.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nuevo Pago"]})]}),s&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:l?"Editar Pago":"Nuevo Pago"}),i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción *"}),i.jsx("input",{type:"text",value:u.description,onChange:k=>d(D=>({...D,description:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Anticipo 50%, Pago final",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto *"}),i.jsx("input",{type:"number",value:u.amount,onChange:k=>d(D=>({...D,amount:Number(k.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha de Vencimiento *"}),i.jsx("input",{type:"date",value:u.dueDate,onChange:k=>d(D=>({...D,dueDate:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),i.jsx("textarea",{value:u.notes,onChange:k=>d(D=>({...D,notes:k.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Notas adicionales sobre el pago"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:h,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[l?"Actualizar":"Crear"," Pago"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha Vencimiento"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(k=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[x(k.status),i.jsxs("div",{className:"ml-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.description}),k.invoiceNumber&&i.jsxs("div",{className:"text-sm text-gray-500",children:["Factura: ",k.invoiceNumber]})]})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",k.amount.toLocaleString()]}),k.paymentMethod&&i.jsx("div",{className:"text-sm text-gray-500",children:k.paymentMethod})]}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:it(k.dueDate,"dd/MM/yyyy")}),k.paidDate&&i.jsxs("div",{className:"text-sm text-green-600",children:["Pagado: ",it(k.paidDate,"dd/MM/yyyy")]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("select",{value:k.status,onChange:D=>v(k,D.target.value),className:`text-xs px-2 py-1 rounded-full border-0 font-semibold ${g(k.status)}`,children:[i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"paid",children:"Pagado"}),i.jsx("option",{value:"overdue",children:"Vencido"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[k.status==="pending"&&i.jsx("button",{onClick:()=>w(k),className:"text-purple-600 hover:text-purple-900 transition-colors",title:"Generar factura",children:i.jsx(Yr,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>m(k),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Editar pago",children:i.jsx(Gn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>y(k.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar pago",children:i.jsx(en,{className:"h-4 w-4"})})]})})]},k.id))})]})}),T.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Li,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay pagos programados para este proyecto"}),i.jsx("p",{className:"text-sm",children:"Agrega un cronograma de pagos para hacer seguimiento"})]})]})]})},Hge=({project:e})=>{const{addMeeting:t,updateMeeting:r,deleteMeeting:n}=Hl(),[a,s]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState({title:"",description:"",type:"review",scheduledDate:"",duration:60,attendees:[],meetLink:"",notes:""}),d=j=>{j.preventDefault();const E={title:c.title,description:c.description,type:c.type,scheduledDate:new Date(c.scheduledDate),duration:c.duration,attendees:c.attendees,meetLink:c.meetLink,status:"scheduled",notes:c.notes};o?r(e.id,o.id,E):t(e.id,E),f()},f=()=>{u({title:"",description:"",type:"review",scheduledDate:"",duration:60,attendees:[],meetLink:"",notes:""}),s(!1),l(null)},h=j=>{u({title:j.title,description:j.description,type:j.type,scheduledDate:it(j.scheduledDate,"yyyy-MM-dd'T'HH:mm"),duration:j.duration,attendees:j.attendees,meetLink:j.meetLink||"",notes:j.notes}),l(j),s(!0)},m=j=>{window.confirm("¿Estás seguro de que deseas eliminar esta reunión?")&&n(e.id,j)},y=(j,E)=>{r(e.id,j.id,{status:E})},v=j=>{const E=j.split(",").map(T=>T.trim()).filter(T=>T);u(T=>({...T,attendees:E}))},w=()=>{const E=`https://meet.google.com/${Math.random().toString(36).substr(2,9)}`;u(T=>({...T,meetLink:E}))},g=j=>({scheduled:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",rescheduled:"bg-yellow-100 text-yellow-800"})[j],x=j=>({review:"bg-purple-100 text-purple-800",planning:"bg-blue-100 text-blue-800",status:"bg-yellow-100 text-yellow-800",demo:"bg-green-100 text-green-800",kickoff:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"})[j],S=[...e.meetings].sort((j,E)=>E.scheduledDate.getTime()-j.scheduledDate.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Reuniones del Proyecto"}),i.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nueva Reunión"]})]}),a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Editar Reunión":"Nueva Reunión"}),i.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título *"}),i.jsx("input",{type:"text",value:c.title,onChange:j=>u(E=>({...E,title:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Revisión de Progreso",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Reunión"}),i.jsxs("select",{value:c.type,onChange:j=>u(E=>({...E,type:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"review",children:"Revisión"}),i.jsx("option",{value:"planning",children:"Planificación"}),i.jsx("option",{value:"status",children:"Estado"}),i.jsx("option",{value:"demo",children:"Demostración"}),i.jsx("option",{value:"kickoff",children:"Inicio"}),i.jsx("option",{value:"other",children:"Otro"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:c.description,onChange:j=>u(E=>({...E,description:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripción de la reunión"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha y Hora *"}),i.jsx("input",{type:"datetime-local",value:c.scheduledDate,onChange:j=>u(E=>({...E,scheduledDate:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Duración (minutos)"}),i.jsx("input",{type:"number",value:c.duration,onChange:j=>u(E=>({...E,duration:Number(j.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"15",step:"15"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Participantes (emails separados por comas)"}),i.jsx("textarea",{value:c.attendees.join(", "),onChange:j=>v(j.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"email1@ejemplo.com, email2@ejemplo.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enlace de Reunión"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"url",value:c.meetLink,onChange:j=>u(E=>({...E,meetLink:j.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://meet.google.com/..."}),i.jsx("button",{type:"button",onClick:w,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Generar Meet"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),i.jsx("textarea",{value:c.notes,onChange:j=>u(E=>({...E,notes:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Notas adicionales sobre la reunión"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:f,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Actualizar":"Crear"," Reunión"]})]})]})]}),i.jsxs("div",{className:"space-y-4",children:[S.map(j=>i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx(Jg,{className:"h-5 w-5 text-blue-600"}),i.jsx("h4",{className:"text-lg font-medium text-gray-900",children:j.title}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${x(j.type)}`,children:j.type}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${g(j.status)}`,children:j.status})]}),j.description&&i.jsx("p",{className:"text-gray-600 mb-3",children:j.description}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(Dn,{className:"h-4 w-4 mr-2"}),it(j.scheduledDate,"dd/MM/yyyy HH:mm")]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(vn,{className:"h-4 w-4 mr-2"}),j.duration," minutos"]}),i.jsxs("div",{className:"flex items-center text-gray-600",children:[i.jsx(na,{className:"h-4 w-4 mr-2"}),j.attendees.length," participantes"]})]}),j.attendees.length>0&&i.jsxs("div",{className:"mt-3",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Participantes:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:j.attendees.map((E,T)=>i.jsx("span",{className:"inline-flex items-center px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded",children:E},T))})]}),j.meetLink&&i.jsx("div",{className:"mt-3",children:i.jsxs("a",{href:j.meetLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:[i.jsx(dF,{className:"h-4 w-4 mr-1"}),"Unirse a la reunión"]})}),j.notes&&i.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-gray-700",children:j.notes})})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs("select",{value:j.status,onChange:E=>y(j,E.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[i.jsx("option",{value:"scheduled",children:"Programada"}),i.jsx("option",{value:"completed",children:"Completada"}),i.jsx("option",{value:"cancelled",children:"Cancelada"}),i.jsx("option",{value:"rescheduled",children:"Reprogramada"})]}),i.jsx("button",{onClick:()=>h(j),className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Editar reunión",children:i.jsx(Gn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>m(j.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Eliminar reunión",children:i.jsx(en,{className:"h-4 w-4"})})]})]})},j.id)),S.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Jg,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No hay reuniones programadas para este proyecto"}),i.jsx("p",{className:"text-sm",children:"Programa reuniones para mantener comunicación con el cliente"})]})]})]})},Wge=({project:e})=>{const{updateProject:t}=Hl(),[r,n]=L.useState(!1),[a,s]=L.useState(null),[o,l]=L.useState(""),[c,u]=L.useState("all"),[d,f]=L.useState({name:"",type:"documentation",url:"",description:"",version:"1.0"}),h=j=>{j.preventDefault();const E={id:(a==null?void 0:a.id)||Date.now().toString(),name:d.name,type:d.type,url:d.url,size:0,uploadedBy:"Usuario Actual",uploadedAt:new Date,version:d.version,description:d.description},T=a?e.documents.map(k=>k.id===a.id?E:k):[...e.documents,E];t(e.id,{documents:T}),m()},m=()=>{f({name:"",type:"documentation",url:"",description:"",version:"1.0"}),n(!1),s(null)},y=j=>{f({name:j.name,type:j.type,url:j.url,description:j.description,version:j.version}),s(j),n(!0)},v=j=>{if(window.confirm("¿Estás seguro de que deseas eliminar este documento?")){const E=e.documents.filter(T=>T.id!==j);t(e.id,{documents:E})}},w=j=>({contract:"bg-red-100 text-red-800",specification:"bg-blue-100 text-blue-800",design:"bg-purple-100 text-purple-800",code:"bg-green-100 text-green-800",documentation:"bg-yellow-100 text-yellow-800",communication:"bg-pink-100 text-pink-800",other:"bg-gray-100 text-gray-800"})[j],g=j=>({contract:"📄",specification:"📋",design:"🎨",code:"💻",documentation:"📚",communication:"💬",other:"📁"})[j],x=j=>{if(j===0)return"0 Bytes";const E=1024,T=["Bytes","KB","MB","GB"],k=Math.floor(Math.log(j)/Math.log(E));return parseFloat((j/Math.pow(E,k)).toFixed(2))+" "+T[k]},S=e.documents.filter(j=>{const E=j.name.toLowerCase().includes(o.toLowerCase())||j.description.toLowerCase().includes(o.toLowerCase()),T=c==="all"||j.type===c;return E&&T}).sort((j,E)=>E.uploadedAt.getTime()-j.uploadedAt.getTime());return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Documentos del Proyecto"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"h-4 w-4 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),i.jsx("input",{type:"text",placeholder:"Buscar documentos...",value:o,onChange:j=>l(j.target.value),className:"pl-9 pr-3 py-1 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("select",{value:c,onChange:j=>u(j.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"all",children:"Todos los tipos"}),i.jsx("option",{value:"contract",children:"Contratos"}),i.jsx("option",{value:"specification",children:"Especificaciones"}),i.jsx("option",{value:"design",children:"Diseños"}),i.jsx("option",{value:"code",children:"Código"}),i.jsx("option",{value:"documentation",children:"Documentación"}),i.jsx("option",{value:"communication",children:"Comunicación"}),i.jsx("option",{value:"other",children:"Otros"})]})]})]}),i.jsxs("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Agregar Documento"]})]}),r&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:a?"Editar Documento":"Nuevo Documento"}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del Documento *"}),i.jsx("input",{type:"text",value:d.name,onChange:j=>f(E=>({...E,name:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Especificaciones Técnicas v2.0",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),i.jsxs("select",{value:d.type,onChange:j=>f(E=>({...E,type:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"contract",children:"Contrato"}),i.jsx("option",{value:"specification",children:"Especificación"}),i.jsx("option",{value:"design",children:"Diseño"}),i.jsx("option",{value:"code",children:"Código"}),i.jsx("option",{value:"documentation",children:"Documentación"}),i.jsx("option",{value:"communication",children:"Comunicación"}),i.jsx("option",{value:"other",children:"Otro"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL del Documento *"}),i.jsx("input",{type:"url",value:d.url,onChange:j=>f(E=>({...E,url:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://drive.google.com/...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Versión"}),i.jsx("input",{type:"text",value:d.version,onChange:j=>f(E=>({...E,version:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"1.0"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{value:d.description,onChange:j=>f(E=>({...E,description:j.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Descripción del documento"})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[a?"Actualizar":"Agregar"," Documento"]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:S.map(j=>i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-2xl mr-3",children:g(j.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:j.name}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${w(j.type)}`,children:j.type})]})]})}),j.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:j.description}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-500 mb-4",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Versión:"}),i.jsx("span",{className:"font-medium",children:j.version})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subido por:"}),i.jsx("span",{className:"font-medium",children:j.uploadedBy})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Fecha:"}),i.jsx("span",{className:"font-medium",children:it(j.uploadedAt,"dd/MM/yyyy")})]}),j.size>0&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Tamaño:"}),i.jsx("span",{className:"font-medium",children:x(j.size)})]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-100",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx("a",{href:j.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors",title:"Ver documento",children:i.jsx(ka,{className:"h-4 w-4"})}),i.jsx("a",{href:j.url,download:!0,className:"text-green-600 hover:text-green-800 transition-colors",title:"Descargar documento",children:i.jsx(fs,{className:"h-4 w-4"})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>y(j),className:"text-gray-600 hover:text-gray-800 transition-colors",title:"Editar documento",children:i.jsx(Gn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>v(j.id),className:"text-red-600 hover:text-red-800 transition-colors",title:"Eliminar documento",children:i.jsx(en,{className:"h-4 w-4"})})]})]})]},j.id))}),S.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Yr,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:["No hay documentos ",o||c!=="all"?"que coincidan con los filtros":"para este proyecto"]}),i.jsx("p",{className:"text-sm",children:"Agrega documentos para mantener un repositorio organizado"})]})]})},Yge=({project:e})=>{const{addExpense:t,updateExpense:r,deleteExpense:n}=Hl(),[a,s]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState("all"),[d,f]=L.useState({description:"",category:"tools",amount:0,date:it(new Date,"yyyy-MM-dd"),vendor:"",billable:!0,receipt:""}),h=D=>{D.preventDefault();const I={description:d.description,category:d.category,amount:d.amount,date:new Date(d.date),vendor:d.vendor,receipt:d.receipt,billable:d.billable,approved:!1,approvedBy:void 0};o?r(e.id,o.id,I):t(e.id,I),m()},m=()=>{f({description:"",category:"tools",amount:0,date:it(new Date,"yyyy-MM-dd"),vendor:"",billable:!0,receipt:""}),s(!1),l(null)},y=D=>{f({description:D.description,category:D.category,amount:D.amount,date:it(D.date,"yyyy-MM-dd"),vendor:D.vendor,billable:D.billable,receipt:D.receipt||""}),l(D),s(!0)},v=D=>{window.confirm("¿Estás seguro de que deseas eliminar este gasto?")&&n(e.id,D)},w=(D,I)=>{r(e.id,D.id,{approved:I,approvedBy:I?"Usuario Actual":void 0})},g=D=>({license:"bg-blue-100 text-blue-800",subscription:"bg-purple-100 text-purple-800",hosting:"bg-green-100 text-green-800",tools:"bg-yellow-100 text-yellow-800",travel:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"})[D],x=D=>({license:"📄",subscription:"🔄",hosting:"🌐",tools:"🔧",travel:"✈️",other:"📦"})[D],S=e.expenses.filter(D=>c==="all"||D.category===c).sort((D,I)=>I.date.getTime()-D.date.getTime()),j=e.expenses.reduce((D,I)=>D+I.amount,0),E=e.expenses.filter(D=>D.approved).reduce((D,I)=>D+I.amount,0),T=e.expenses.filter(D=>D.billable).reduce((D,I)=>D+I.amount,0),k=e.expenses.filter(D=>!D.approved).length;return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Total Gastos"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",j.toLocaleString()]})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(D2,{className:"h-6 w-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Aprobados"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",E.toLocaleString()]})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Ai,{className:"h-6 w-6 text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Facturables"}),i.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:["$",T.toLocaleString()]})]}),i.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:i.jsx(Li,{className:"h-6 w-6 text-purple-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Pendientes"}),i.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:k})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:i.jsx(vn,{className:"h-6 w-6 text-yellow-600"})})]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-between items-start sm:items-center",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Gastos del Proyecto"}),i.jsxs("select",{value:c,onChange:D=>u(D.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-lg",children:[i.jsx("option",{value:"all",children:"Todas las categorías"}),i.jsx("option",{value:"license",children:"Licencias"}),i.jsx("option",{value:"subscription",children:"Suscripciones"}),i.jsx("option",{value:"hosting",children:"Hosting"}),i.jsx("option",{value:"tools",children:"Herramientas"}),i.jsx("option",{value:"travel",children:"Viajes"}),i.jsx("option",{value:"other",children:"Otros"})]})]}),i.jsxs("button",{onClick:()=>s(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(cr,{className:"h-4 w-4"}),"Nuevo Gasto"]})]}),a&&i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:o?"Editar Gasto":"Nuevo Gasto"}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción *"}),i.jsx("input",{type:"text",value:d.description,onChange:D=>f(I=>({...I,description:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Ej: Licencia Adobe Creative Suite",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría"}),i.jsxs("select",{value:d.category,onChange:D=>f(I=>({...I,category:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"license",children:"Licencia"}),i.jsx("option",{value:"subscription",children:"Suscripción"}),i.jsx("option",{value:"hosting",children:"Hosting"}),i.jsx("option",{value:"tools",children:"Herramientas"}),i.jsx("option",{value:"travel",children:"Viajes"}),i.jsx("option",{value:"other",children:"Otros"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto *"}),i.jsx("input",{type:"number",value:d.amount,onChange:D=>f(I=>({...I,amount:Number(D.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",min:"0",step:"0.01",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha *"}),i.jsx("input",{type:"date",value:d.date,onChange:D=>f(I=>({...I,date:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Proveedor"}),i.jsx("input",{type:"text",value:d.vendor,onChange:D=>f(I=>({...I,vendor:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Nombre del proveedor"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recibo/Factura (URL)"}),i.jsx("input",{type:"url",value:d.receipt,onChange:D=>f(I=>({...I,receipt:D.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"https://..."})]}),i.jsxs("div",{className:"flex items-center pt-6",children:[i.jsx("input",{type:"checkbox",id:"billable",checked:d.billable,onChange:D=>f(I=>({...I,billable:D.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500 mr-2"}),i.jsx("label",{htmlFor:"billable",className:"text-sm font-medium text-gray-700",children:"Facturable al cliente"})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx("button",{type:"button",onClick:m,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[o?"Actualizar":"Crear"," Gasto"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:S.map(D=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"text-lg mr-3",children:x(D.category)}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.description}),D.vendor&&i.jsx("div",{className:"text-sm text-gray-500",children:D.vendor})]})]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${g(D.category)}`,children:D.category})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["$",D.amount.toLocaleString()]}),D.billable&&i.jsx("div",{className:"text-xs text-green-600",children:"Facturable"})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:it(D.date,"dd/MM/yyyy")}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:D.approved,onChange:I=>w(D,I.target.checked),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${D.approved?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:D.approved?"Aprobado":"Pendiente"})]}),D.approvedBy&&i.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["por ",D.approvedBy]})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex space-x-2",children:[D.receipt&&i.jsx("a",{href:D.receipt,target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:text-purple-900 transition-colors",title:"Ver recibo",children:i.jsx(fs,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>y(D),className:"text-blue-600 hover:text-blue-900 transition-colors",title:"Editar gasto",children:i.jsx(Gn,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>v(D.id),className:"text-red-600 hover:text-red-900 transition-colors",title:"Eliminar gasto",children:i.jsx(en,{className:"h-4 w-4"})})]})})]},D.id))})]})}),S.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(D2,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:["No hay gastos ",c!=="all"?`de categoría "${c}"`:""," para este proyecto"]}),i.jsx("p",{className:"text-sm",children:"Registra gastos para hacer seguimiento del presupuesto"})]})]})]})},Vge=({project:e,onClose:t,onEdit:r})=>{const{getClient:n}=Hl(),[a,s]=L.useState("overview"),o=n(e.clientId),l=y=>({planning:"bg-blue-100 text-blue-800","in-progress":"bg-yellow-100 text-yellow-800",testing:"bg-purple-100 text-purple-800",completed:"bg-green-100 text-green-800","on-hold":"bg-gray-100 text-gray-800",cancelled:"bg-red-100 text-red-800"})[y],c=y=>({low:"bg-green-100 text-green-800",medium:"bg-yellow-100 text-yellow-800",high:"bg-orange-100 text-orange-800",urgent:"bg-red-100 text-red-800"})[y],u=()=>e.milestones.length===0?0:e.milestones.filter(v=>v.status==="completed").length/e.milestones.length*100,f=(()=>{const y=u(),v=Math.ceil((e.endDate.getTime()-new Date().getTime())/(1e3*60*60*24));return e.milestones.filter(g=>g.status!=="completed"&&g.dueDate<new Date).length>0?{status:"at-risk",color:"text-red-600",icon:Mi}:y>=80?{status:"on-track",color:"text-green-600",icon:Ai}:v<7?{status:"urgent",color:"text-orange-600",icon:vn}:{status:"on-track",color:"text-green-600",icon:Ai}})(),h=f.icon,m=[{id:"overview",label:"Resumen",icon:Yr},{id:"timeline",label:"Cronograma",icon:Dn},{id:"notes",label:"Notas",icon:tu},{id:"payments",label:"Pagos",icon:Li},{id:"meetings",label:"Reuniones",icon:Jg},{id:"documents",label:"Documentos",icon:Yr},{id:"expenses",label:"Gastos",icon:D2}];return i.jsxs("div",{className:"p-6 max-w-7xl mx-auto space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsxs("button",{onClick:t,className:"flex items-center text-gray-600 hover:text-gray-800 transition-colors mr-4",children:[i.jsx(Ip,{className:"h-5 w-5 mr-2"}),"Volver"]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.name}),i.jsx("p",{className:"text-gray-600",children:o==null?void 0:o.companyName})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:`flex items-center gap-1 ${f.color}`,children:[i.jsx(h,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:f.status})]}),i.jsxs("button",{onClick:r,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[i.jsx(Gn,{className:"h-4 w-4"}),"Editar"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full ${l(e.status)}`,children:e.status})]}),i.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:i.jsx(Ai,{className:"h-6 w-6 text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Progreso"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[Math.round(u()),"%"]})]}),i.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:i.jsx(Dn,{className:"h-6 w-6 text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Valor Total"}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.totalValue.toLocaleString()]})]}),i.jsx("div",{className:"bg-yellow-100 p-3 rounded-lg",children:i.jsx(Li,{className:"h-6 w-6 text-yellow-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-6 border border-gray-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-600",children:"Días Restantes"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.ceil((e.endDate.getTime()-new Date().getTime())/(1e3*60*60*24))})]}),i.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:i.jsx(vn,{className:"h-6 w-6 text-purple-600"})})]})})]}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"-mb-px flex space-x-8 overflow-x-auto",children:m.map(y=>{const v=y.icon;return i.jsxs("button",{onClick:()=>s(y.id),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors flex items-center gap-2 whitespace-nowrap ${a===y.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[i.jsx(v,{className:"h-4 w-4"}),y.label]},y.id)})})}),i.jsxs("div",{className:"min-h-96",children:[a==="overview"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Información del Proyecto"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Descripción"}),i.jsx("p",{className:"text-gray-900 mt-1",children:e.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Tipo"}),i.jsx("p",{className:"text-gray-900 mt-1 capitalize",children:e.type})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Prioridad"}),i.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-semibold rounded-full mt-1 ${c(e.priority)}`,children:e.priority})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Inicio"}),i.jsx("p",{className:"text-gray-900 mt-1",children:it(e.startDate,"dd/MM/yyyy")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Fecha de Entrega"}),i.jsx("p",{className:"text-gray-900 mt-1",children:it(e.endDate,"dd/MM/yyyy")})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Progreso General"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-gray-600",children:"Progreso del Proyecto"}),i.jsxs("span",{className:"font-medium",children:[Math.round(u()),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:i.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${u()}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Horas Estimadas:"}),i.jsxs("span",{className:"font-medium ml-2",children:[e.estimatedHours,"h"]})]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-gray-600",children:"Horas Trabajadas:"}),i.jsxs("span",{className:"font-medium ml-2",children:[e.actualHours,"h"]})]})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cliente"}),o&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:o.companyName}),i.jsx("p",{className:"text-sm text-gray-600",children:o.contactPerson})]}),i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsx("p",{className:"text-gray-600",children:o.email}),i.jsx("p",{className:"text-gray-600",children:o.phone})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Equipo"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Project Manager"}),i.jsx("p",{className:"text-gray-900",children:e.projectManager})]}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Asignados (",e.assignedTo.length,")"]}),i.jsx("div",{className:"space-y-1",children:e.assignedTo.map((y,v)=>i.jsx("p",{className:"text-gray-900 text-sm",children:y},v))})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Estadísticas"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Hitos:"}),i.jsx("span",{className:"font-medium",children:e.milestones.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Notas:"}),i.jsx("span",{className:"font-medium",children:e.notes.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Documentos:"}),i.jsx("span",{className:"font-medium",children:e.documents.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Reuniones:"}),i.jsx("span",{className:"font-medium",children:e.meetings.length})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-600",children:"Gastos:"}),i.jsxs("span",{className:"font-medium",children:["$",e.expenses.reduce((y,v)=>y+v.amount,0).toLocaleString()]})]})]})]})]})]}),a==="timeline"&&i.jsx(Uge,{project:e}),a==="notes"&&i.jsx(zge,{project:e}),a==="payments"&&i.jsx(Bge,{project:e}),a==="meetings"&&i.jsx(Hge,{project:e}),a==="documents"&&i.jsx(Wge,{project:e}),a==="expenses"&&i.jsx(Yge,{project:e})]})]})},I0=({title:e,value:t,icon:r,trend:n,trendLabel:a,color:s})=>{const o=()=>{switch(s){case"green":return"bg-green-50 text-green-600 border-green-200";case"red":return"bg-red-50 text-red-600 border-red-200";case"blue":return"bg-blue-50 text-blue-600 border-blue-200";case"orange":return"bg-orange-50 text-orange-600 border-orange-200";default:return"bg-gray-50 text-gray-600 border-gray-200"}},l=()=>n>0?"text-green-600":n<0?"text-red-600":"text-gray-600",c=n>0?Ws:DF;return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`p-3 rounded-lg ${o()}`,children:r}),n!==0&&i.jsxs("div",{className:`flex items-center ${l()}`,children:[i.jsx(c,{className:"w-4 h-4 mr-1"}),i.jsxs("span",{className:"text-sm font-medium",children:[Math.abs(n).toFixed(1),"%"]})]})]}),i.jsxs("div",{className:"mb-2",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600",children:e}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t})]}),i.jsx("p",{className:"text-sm text-gray-500",children:a})]})},qge=()=>{const{cashFlowData:e}=$o(),t=Math.max(...e.map(n=>Math.abs(n.balance))),r=200;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[i.jsx("span",{children:"Flujo de Efectivo Diario"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),i.jsx("span",{children:"Positivo"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mr-2"}),i.jsx("span",{children:"Negativo"})]})]})]}),i.jsxs("div",{className:"relative",style:{height:r},children:[i.jsx("div",{className:"absolute inset-0 flex items-end justify-between",children:e.slice(0,7).map((n,a)=>{const s=Math.abs(n.balance)/t*r,o=n.balance>=0;return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-8 ${o?"bg-green-500":"bg-red-500"} rounded-t-sm`,style:{height:`${s}px`},title:`${n.date}: $${n.balance.toLocaleString("es-MX")}`}),i.jsx("span",{className:"text-xs text-gray-500 mt-2",children:new Date(n.date).getDate()})]},a)})}),i.jsx("div",{className:"absolute inset-x-0 bottom-0 h-px bg-gray-300"})]}),i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-sm text-gray-600",children:"Últimos 7 días"})})]})},Gge=()=>{const{roiData:e}=$o(),t=n=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN",minimumFractionDigits:0,maximumFractionDigits:0}).format(n),r=n=>n>=100?"text-green-600 bg-green-50":n>=50?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50";return i.jsxs("div",{className:"space-y-4",children:[e.map(n=>i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:n.projectName}),i.jsxs("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${r(n.roiPercentage)}`,children:[n.roiPercentage.toFixed(1),"%"]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Inversión"}),i.jsx("p",{className:"font-medium",children:t(n.investment)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Ingresos"}),i.jsx("p",{className:"font-medium",children:t(n.revenue)})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600",children:"Beneficio"}),i.jsx("p",{className:"font-medium",children:t(n.profit)})]})]}),i.jsx("div",{className:"mt-3",children:i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${n.roiPercentage>=100?"bg-green-500":n.roiPercentage>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(n.roiPercentage,100)}%`}})})})]},n.projectId)),e.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx("p",{children:"No hay datos de ROI disponibles"}),i.jsx("p",{className:"text-sm",children:"Completa algunos proyectos para ver el seguimiento de ROI"})]})]})},Kge=()=>{const{alerts:e,markAlertAsRead:t}=$o(),r=o=>{switch(o){case"overdue":return i.jsx(Mi,{className:"w-5 h-5 text-red-500"});case"upcoming":return i.jsx(vn,{className:"w-5 h-5 text-yellow-500"});case"budget_exceeded":return i.jsx(Ws,{className:"w-5 h-5 text-orange-500"});default:return i.jsx(Mi,{className:"w-5 h-5 text-gray-500"})}},n=o=>{switch(o){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-green-500";default:return"border-l-gray-500"}},a=o=>{switch(o){case"high":return"bg-red-100 text-red-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},s=o=>{switch(o){case"high":return"Alta";case"medium":return"Media";case"low":return"Baja";default:return o}};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Alertas de Pagos"}),i.jsxs("span",{className:"text-sm text-gray-500",children:[e.filter(o=>!o.read).length," sin leer"]})]}),i.jsxs("div",{className:"space-y-4",children:[e.map(o=>i.jsx("div",{className:`p-4 border-l-4 ${n(o.priority)} bg-gray-50 rounded-lg ${o.read?"":"bg-blue-50"}`,children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[r(o.type),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:o.title}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(o.priority)}`,children:s(o.priority)})]}),i.jsx("p",{className:"text-gray-700 text-sm",children:o.message}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(o.createdAt).toLocaleString("es-ES")})]})]}),!o.read&&i.jsx("button",{onClick:()=>t(o.id),className:"text-gray-400 hover:text-gray-600 ml-2",title:"Marcar como leída",children:i.jsx(qs,{className:"w-4 h-4"})})]})},o.id)),e.length===0&&i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Mi,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No hay alertas en este momento"}),i.jsx("p",{className:"text-sm",children:"Verás alertas de pagos y presupuestos aquí"})]})]})]})},Xge=()=>{const e=[{name:"Agregar Transacción",icon:i.jsx(cr,{className:"w-5 h-5"}),color:"bg-blue-500 hover:bg-blue-600",onClick:()=>console.log("Agregar transacción")},{name:"Crear Factura",icon:i.jsx(Yr,{className:"w-5 h-5"}),color:"bg-green-500 hover:bg-green-600",onClick:()=>console.log("Crear factura")},{name:"Registrar Pago",icon:i.jsx(J_,{className:"w-5 h-5"}),color:"bg-purple-500 hover:bg-purple-600",onClick:()=>console.log("Registrar pago")},{name:"Crear Presupuesto",icon:i.jsx(P5,{className:"w-5 h-5"}),color:"bg-orange-500 hover:bg-orange-600",onClick:()=>console.log("Crear presupuesto")},{name:"Exportar Reporte",icon:i.jsx(fs,{className:"w-5 h-5"}),color:"bg-gray-500 hover:bg-gray-600",onClick:()=>console.log("Exportar reporte")}];return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Acciones Rápidas"}),i.jsx("div",{className:"space-y-3",children:e.map((t,r)=>i.jsxs("button",{onClick:t.onClick,className:`w-full flex items-center space-x-3 p-3 rounded-lg text-white transition-colors ${t.color}`,children:[t.icon,i.jsx("span",{className:"font-medium",children:t.name})]},r))}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Actividad Reciente"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("p",{children:"• Factura INV-2024-001 pagada"}),i.jsx("p",{className:"text-xs text-gray-500",children:"hace 2 horas"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("p",{children:"• Nuevo gasto agregado: $21,600 MXN"}),i.jsx("p",{className:"text-xs text-gray-500",children:"hace 5 horas"})]}),i.jsxs("div",{className:"text-sm text-gray-600",children:[i.jsx("p",{children:"• Presupuesto actualizado: Q1 2024"}),i.jsx("p",{className:"text-xs text-gray-500",children:"hace 1 día"})]})]})]})]})},$C=()=>{const{metrics:e,alerts:t}=$o(),[r,n]=L.useState("month"),a=o=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(o),s=t.filter(o=>!o.read);return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Panel de Finanzas"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Monitorea tu rendimiento financiero y métricas"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("select",{value:r,onChange:o=>n(o.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"week",children:"Esta Semana"}),i.jsx("option",{value:"month",children:"Este Mes"}),i.jsx("option",{value:"quarter",children:"Este Trimestre"}),i.jsx("option",{value:"year",children:"Este Año"})]}),i.jsx("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Exportar Reporte"})]})]}),s.length>0&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(Mi,{className:"w-5 h-5 text-yellow-600 mr-2"}),i.jsxs("span",{className:"text-yellow-800 font-medium",children:["Tienes ",s.length," alerta",s.length>1?"s":""," sin leer"]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(I0,{title:"Ingresos Totales",value:a(e.totalRevenue),icon:i.jsx(Li,{className:"w-6 h-6"}),trend:e.monthlyGrowth,trendLabel:"vs mes anterior",color:"green"}),i.jsx(I0,{title:"Gastos Totales",value:a(e.totalExpenses),icon:i.jsx(J_,{className:"w-6 h-6"}),trend:-5.2,trendLabel:"vs mes anterior",color:"red"}),i.jsx(I0,{title:"Beneficio Neto",value:a(e.netProfit),icon:i.jsx(Ws,{className:"w-6 h-6"}),trend:e.netProfit>0?15.3:-8.1,trendLabel:"vs mes anterior",color:e.netProfit>0?"green":"red"}),i.jsx(I0,{title:"Pagos Pendientes",value:a(e.pendingPayments),icon:i.jsx(Yr,{className:"w-6 h-6"}),trend:0,trendLabel:"esperando pago",color:"orange"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Flujo de Efectivo"}),i.jsx(P5,{className:"w-5 h-5 text-gray-500"})]}),i.jsx(qge,{})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"ROI por Proyecto"}),i.jsx(Ws,{className:"w-5 h-5 text-gray-500"})]}),i.jsx(Gge,{})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx(Kge,{})}),i.jsx("div",{children:i.jsx(Xge,{})})]})]})},Qge=({onEditTransaction:e})=>{const{transactions:t,deleteTransaction:r}=$o(),[n,a]=L.useState(""),[s,o]=L.useState("all"),[l,c]=L.useState("all"),[u,d]=L.useState("date"),[f,h]=L.useState("desc"),m=L.useMemo(()=>{let E=t.filter(T=>{var R;const k=T.description.toLowerCase().includes(n.toLowerCase())||T.category.toLowerCase().includes(n.toLowerCase())||((R=T.reference)==null?void 0:R.toLowerCase().includes(n.toLowerCase())),D=s==="all"||T.type===s,I=l==="all"||T.status===l;return k&&D&&I});return E.sort((T,k)=>{let D,I;switch(u){case"date":D=new Date(T.date).getTime(),I=new Date(k.date).getTime();break;case"amount":D=T.amount,I=k.amount;break;case"category":D=T.category.toLowerCase(),I=k.category.toLowerCase();break;default:D=T.date,I=k.date}return f==="asc"?D>I?1:-1:D<I?1:-1}),E},[t,n,s,l,u,f]),y=E=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(E),v=E=>{switch(E){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=E=>{switch(E){case"completed":return"Completado";case"pending":return"Pendiente";case"cancelled":return"Cancelado";default:return E}},g=E=>{switch(E){case"income":return"text-green-600";case"expense":return"text-red-600";case"payment":return"text-blue-600";default:return"text-gray-600"}},x=E=>{switch(E){case"income":return"Ingreso";case"expense":return"Gasto";case"payment":return"Pago";default:return E}},S=E=>{u===E?h(f==="asc"?"desc":"asc"):(d(E),h("asc"))},j=E=>{window.confirm("¿Estás seguro de que quieres eliminar esta transacción?")&&r(E)};return i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-gray-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Transacciones"}),i.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Wi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Buscar transacciones...",value:n,onChange:E=>a(E.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsxs("select",{value:s,onChange:E=>o(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los Tipos"}),i.jsx("option",{value:"income",children:"Ingresos"}),i.jsx("option",{value:"expense",children:"Gastos"}),i.jsx("option",{value:"payment",children:"Pagos"})]}),i.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Todos los Estados"}),i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"completed",children:"Completado"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]})]})}),i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>S("date"),children:["Fecha ",u==="date"&&(f==="asc"?"↑":"↓")]}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),i.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>S("category"),children:["Categoría ",u==="category"&&(f==="asc"?"↑":"↓")]}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),i.jsxs("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>S("amount"),children:["Monto ",u==="amount"&&(f==="asc"?"↑":"↓")]}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Acciones"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(E=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(E.date).toLocaleDateString("es-MX")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("span",{className:`${g(E.type)} capitalize`,children:x(E.type)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.category}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:E.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("span",{className:g(E.type),children:[E.type==="expense"?"-":"+",y(E.amount)]})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${v(E.status)}`,children:w(E.status)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>e(E),className:"text-blue-600 hover:text-blue-800",title:"Editar",children:i.jsx(_5,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>j(E.id),className:"text-red-600 hover:text-red-800",title:"Eliminar",children:i.jsx(en,{className:"w-4 h-4"})})]})})]},E.id))})]}),m.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx("p",{children:"No se encontraron transacciones"}),i.jsx("p",{className:"text-sm",children:"Intenta ajustar tu búsqueda o filtros"})]})]})]})},Jge=({isOpen:e,onClose:t,editTransaction:r})=>{const{addTransaction:n,updateTransaction:a}=$o(),[s,o]=L.useState({type:(r==null?void 0:r.type)||"income",category:(r==null?void 0:r.category)||"",amount:(r==null?void 0:r.amount)||"",description:(r==null?void 0:r.description)||"",date:(r==null?void 0:r.date)||new Date().toISOString().split("T")[0],clientId:(r==null?void 0:r.clientId)||"",projectId:(r==null?void 0:r.projectId)||"",status:(r==null?void 0:r.status)||"pending",paymentMethod:(r==null?void 0:r.paymentMethod)||"",reference:(r==null?void 0:r.reference)||""}),l=u=>{u.preventDefault();const d={...s,amount:parseFloat(s.amount)};r?a(r.id,d):n(d),t(),o({type:"income",category:"",amount:"",description:"",date:new Date().toISOString().split("T")[0],clientId:"",projectId:"",status:"pending",paymentMethod:"",reference:""})},c=u=>{o({...s,[u.target.name]:u.target.value})};return e?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[i.jsx("h2",{className:"text-lg font-semibold",children:r?"Editar Transacción":"Agregar Transacción"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:i.jsx(qs,{className:"w-5 h-5"})})]}),i.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),i.jsxs("select",{name:"type",value:s.type,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"income",children:"Ingreso"}),i.jsx("option",{value:"expense",children:"Gasto"}),i.jsx("option",{value:"payment",children:"Pago"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado"}),i.jsxs("select",{name:"status",value:s.status,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[i.jsx("option",{value:"pending",children:"Pendiente"}),i.jsx("option",{value:"completed",children:"Completado"}),i.jsx("option",{value:"cancelled",children:"Cancelado"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoría"}),i.jsx("input",{type:"text",name:"category",value:s.category,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"ej. Licencia de Software, Marketing, etc.",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monto"}),i.jsx("input",{type:"number",name:"amount",value:s.amount,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",step:"0.01",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),i.jsx("textarea",{name:"description",value:s.description,onChange:c,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Descripción de la transacción...",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha"}),i.jsx("input",{type:"date",name:"date",value:s.date,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Método de Pago"}),i.jsxs("select",{name:"paymentMethod",value:s.paymentMethod,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"",children:"Seleccionar método de pago"}),i.jsx("option",{value:"Bank Transfer",children:"Transferencia Bancaria"}),i.jsx("option",{value:"Credit Card",children:"Tarjeta de Crédito"}),i.jsx("option",{value:"PayPal",children:"PayPal"}),i.jsx("option",{value:"Cash",children:"Efectivo"}),i.jsx("option",{value:"Check",children:"Cheque"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Referencia"}),i.jsx("input",{type:"text",name:"reference",value:s.reference,onChange:c,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Número de factura, referencia de pago, etc."})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-200 rounded-md hover:bg-gray-300",children:"Cancelar"}),i.jsxs("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[r?"Actualizar":"Agregar"," Transacción"]})]})]})]})}):null},Zge=()=>{const{invoices:e,addInvoice:t,updateInvoice:r,deleteInvoice:n}=$o(),[a,s]=L.useState(!1),[o,l]=L.useState(null),[c,u]=L.useState(null),d=g=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(g),f=g=>{switch(g){case"paid":return"bg-green-100 text-green-800";case"sent":return"bg-blue-100 text-blue-800";case"draft":return"bg-gray-100 text-gray-800";case"overdue":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},h=g=>{switch(g){case"paid":return"Pagada";case"sent":return"Enviada";case"draft":return"Borrador";case"overdue":return"Vencida";default:return g}},m=g=>{l(g),s(!0)},y=g=>{window.confirm("¿Estás seguro de que quieres eliminar esta factura?")&&n(g)},v=g=>{r(g,{status:"sent"})},w=g=>{r(g,{status:"paid"})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Facturas"}),i.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(cr,{className:"w-4 h-4"}),i.jsx("span",{children:"Crear Factura"})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:e.map(g=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:g.number}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Cliente: ",g.clientId]})]}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f(g.status)}`,children:h(g.status)})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Monto:"}),i.jsx("span",{className:"font-medium",children:d(g.amount)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Impuestos:"}),i.jsx("span",{className:"font-medium",children:d(g.tax)})]}),i.jsxs("div",{className:"flex justify-between text-sm font-semibold border-t pt-2",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:d(g.total)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Fecha de Vencimiento:"}),i.jsx("span",{className:"font-medium",children:new Date(g.dueDate).toLocaleDateString("es-MX")})]})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>u(g),className:"text-blue-600 hover:text-blue-800",title:"Ver Detalles",children:i.jsx(ka,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>m(g),className:"text-green-600 hover:text-green-800",title:"Editar",children:i.jsx(_5,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>y(g.id),className:"text-red-600 hover:text-red-800",title:"Eliminar",children:i.jsx(en,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"flex space-x-2",children:[g.status==="draft"&&i.jsx("button",{onClick:()=>v(g.id),className:"text-xs bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700",children:"Enviar"}),g.status==="sent"&&i.jsx("button",{onClick:()=>w(g.id),className:"text-xs bg-green-600 text-white px-2 py-1 rounded hover:bg-green-700",children:"Marcar Pagada"}),i.jsx("button",{className:"text-xs bg-gray-600 text-white px-2 py-1 rounded hover:bg-gray-700",children:i.jsx(fs,{className:"w-3 h-3"})})]})]})]},g.id))}),e.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx("p",{children:"No se encontraron facturas"}),i.jsx("p",{className:"text-sm",children:"Crea tu primera factura para comenzar"})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Detalles de la Factura"}),i.jsx("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-600",children:"×"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Número de Factura"}),i.jsx("p",{className:"text-gray-900",children:c.number})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Estado"}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f(c.status)}`,children:h(c.status)})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Emisión"}),i.jsx("p",{className:"text-gray-900",children:new Date(c.issueDate).toLocaleDateString("es-MX")})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Fecha de Vencimiento"}),i.jsx("p",{className:"text-gray-900",children:new Date(c.dueDate).toLocaleDateString("es-MX")})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Artículos"}),i.jsx("div",{className:"border rounded-lg overflow-hidden",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Descripción"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cant."}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Precio"}),i.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Total"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.items.map(g=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:g.description}),i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:g.quantity}),i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:d(g.unitPrice)}),i.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:d(g.total)})]},g.id))})]})})]}),i.jsxs("div",{className:"border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Subtotal:"}),i.jsx("span",{children:d(c.amount)})]}),i.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[i.jsx("span",{children:"Impuestos:"}),i.jsx("span",{children:d(c.tax)})]}),i.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[i.jsx("span",{children:"Total:"}),i.jsx("span",{children:d(c.total)})]})]}),c.notes&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas"}),i.jsx("p",{className:"text-sm text-gray-900",children:c.notes})]})]})]})})})]})},eve=()=>{const{budgets:e,addBudget:t,updateBudget:r,deleteBudget:n}=$o(),[a,s]=L.useState(!1),[o,l]=L.useState(null),c=v=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(v),u=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"completed":return"bg-blue-100 text-blue-800";case"exceeded":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"active":return"Activo";case"completed":return"Completado";case"exceeded":return"Excedido";default:return v}},f=v=>{switch(v){case"monthly":return"Mensual";case"quarterly":return"Trimestral";case"yearly":return"Anual";default:return v}},h=v=>v>=90?"bg-red-500":v>=75?"bg-yellow-500":"bg-green-500",m=v=>{l(v),s(!0)},y=v=>{window.confirm("¿Estás seguro de que quieres eliminar este presupuesto?")&&n(v)};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Gestión de Presupuestos"}),i.jsxs("button",{onClick:()=>s(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(cr,{className:"w-4 h-4"}),i.jsx("span",{children:"Crear Presupuesto"})]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(v=>{const w=v.spent/v.totalBudget*100,g=v.spent>v.totalBudget;return i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:v.name}),i.jsxs("p",{className:"text-sm text-gray-600",children:[f(v.period)," • ",new Date(v.startDate).toLocaleDateString("es-MX")," - ",new Date(v.endDate).toLocaleDateString("es-MX")]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${u(v.status)}`,children:d(v.status)}),g&&i.jsx(Mi,{className:"w-4 h-4 text-red-500"})]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Presupuesto Total:"}),i.jsx("span",{className:"font-medium",children:c(v.totalBudget)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Gastado:"}),i.jsx("span",{className:`font-medium ${g?"text-red-600":"text-gray-900"}`,children:c(v.spent)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Restante:"}),i.jsx("span",{className:`font-medium ${v.remaining<0?"text-red-600":"text-green-600"}`,children:c(v.remaining)})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[i.jsx("span",{className:"text-gray-600",children:"Uso"}),i.jsxs("span",{className:`font-medium ${g?"text-red-600":"text-gray-900"}`,children:[w.toFixed(1),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:`h-2 rounded-full ${h(w)}`,style:{width:`${Math.min(w,100)}%`}})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Categorías"}),i.jsx("div",{className:"space-y-2",children:v.categories.map(x=>{const S=x.spent/x.allocated*100;return i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:x.name}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-gray-900",children:c(x.spent)}),i.jsx("span",{className:"text-gray-500",children:"/"}),i.jsx("span",{className:"text-gray-600",children:c(x.allocated)}),i.jsx("div",{className:"w-12 bg-gray-200 rounded-full h-1",children:i.jsx("div",{className:`h-1 rounded-full ${h(S)}`,style:{width:`${Math.min(S,100)}%`}})})]})]},x.id)})})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>m(v),className:"text-blue-600 hover:text-blue-800",title:"Editar Presupuesto",children:i.jsx(_5,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>y(v.id),className:"text-red-600 hover:text-red-800",title:"Eliminar Presupuesto",children:i.jsx(en,{className:"w-4 h-4"})})]}),i.jsx("button",{className:"text-xs bg-gray-600 text-white px-3 py-1 rounded hover:bg-gray-700",children:"Ver Detalles"})]})]},v.id)})}),e.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx(dx,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),i.jsx("p",{children:"No se encontraron presupuestos"}),i.jsx("p",{className:"text-sm",children:"Crea tu primer presupuesto para comenzar a rastrear gastos"})]})]})},tve=()=>{const{transactions:e,invoices:t,budgets:r,exportReport:n}=$o(),[a,s]=L.useState("income"),[o,l]=L.useState({start:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],end:new Date().toISOString().split("T")[0]}),[c,u]=L.useState("pdf"),d=[{id:"income",name:"Reporte de Ingresos",icon:Ws,color:"bg-green-500"},{id:"expense",name:"Reporte de Gastos",icon:Ws,color:"bg-red-500"},{id:"balance",name:"Balance General",icon:P5,color:"bg-blue-500"},{id:"roi",name:"Análisis ROI",icon:Ws,color:"bg-purple-500"},{id:"cashflow",name:"Flujo de Efectivo",icon:Yr,color:"bg-orange-500"}],f=x=>new Intl.NumberFormat("es-MX",{style:"currency",currency:"MXN"}).format(x),m=(()=>{const x=new Date(o.start),S=new Date(o.end),j=e.filter(E=>{const T=new Date(E.date);return T>=x&&T<=S});switch(a){case"income":return{title:"Reporte de Ingresos",data:j.filter(k=>k.type==="income"),summary:{total:j.filter(k=>k.type==="income").reduce((k,D)=>k+D.amount,0),count:j.filter(k=>k.type==="income").length}};case"expense":return{title:"Reporte de Gastos",data:j.filter(k=>k.type==="expense"),summary:{total:j.filter(k=>k.type==="expense").reduce((k,D)=>k+D.amount,0),count:j.filter(k=>k.type==="expense").length}};case"balance":const E=j.filter(k=>k.type==="income").reduce((k,D)=>k+D.amount,0),T=j.filter(k=>k.type==="expense").reduce((k,D)=>k+D.amount,0);return{title:"Balance General",data:{income:E,expense:T,balance:E-T},summary:{total:E-T,count:j.length}};default:return{title:"Reporte",data:j,summary:{total:0,count:j.length}}}})(),y=()=>{n(a,c)},v=x=>{const S=new Date,j=new Date(S.getTime()-30*24*60*60*1e3);l({start:j.toISOString().split("T")[0],end:S.toISOString().split("T")[0]}),s(x)},w=x=>{switch(x){case"completed":return"Completado";case"pending":return"Pendiente";case"cancelled":return"Cancelado";default:return x}},g=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Reportes Financieros"}),i.jsxs("button",{onClick:y,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(fs,{className:"w-4 h-4"}),i.jsx("span",{children:"Exportar Reporte"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:d.map(x=>{const S=x.icon;return i.jsxs("button",{onClick:()=>v(x.id),className:`p-4 rounded-lg text-white hover:opacity-90 transition-opacity ${x.color}`,children:[i.jsx(S,{className:"w-6 h-6 mb-2"}),i.jsx("h3",{className:"font-semibold text-sm",children:x.name}),i.jsx("p",{className:"text-xs opacity-90",children:"Últimos 30 días"})]},x.id)})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Configuración del Reporte"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Reporte"}),i.jsx("select",{value:a,onChange:x=>s(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:d.map(x=>i.jsx("option",{value:x.id,children:x.name},x.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Inicio"}),i.jsx("input",{type:"date",value:o.start,onChange:x=>l({...o,start:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fecha de Fin"}),i.jsx("input",{type:"date",value:o.end,onChange:x=>l({...o,end:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Formato de Exportación"}),i.jsxs("select",{value:c,onChange:x=>u(x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"pdf",children:"PDF"}),i.jsx("option",{value:"excel",children:"Excel"}),i.jsx("option",{value:"csv",children:"CSV"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.title}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[i.jsx(Dn,{className:"w-4 h-4"}),i.jsxs("span",{children:[new Date(o.start).toLocaleDateString("es-MX")," - ",new Date(o.end).toLocaleDateString("es-MX")]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-blue-800",children:"Monto Total"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:f(m.summary.total)})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-green-800",children:"Total de Transacciones"}),i.jsx("p",{className:"text-2xl font-bold text-green-900",children:m.summary.count})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-medium text-purple-800",children:"Monto Promedio"}),i.jsx("p",{className:"text-2xl font-bold text-purple-900",children:f(m.summary.count>0?m.summary.total/m.summary.count:0)})]})]}),a==="balance"?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Ingresos Totales"}),i.jsx("span",{className:"text-green-600 font-bold",children:f(m.data.income)})]}),i.jsxs("div",{className:"flex justify-between items-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-gray-700",children:"Gastos Totales"}),i.jsx("span",{className:"text-red-600 font-bold",children:f(m.data.expense)})]}),i.jsxs("div",{className:"flex justify-between items-center p-4 bg-blue-50 rounded-lg border-2 border-blue-200",children:[i.jsx("span",{className:"font-bold text-blue-800",children:"Balance Neto"}),i.jsx("span",{className:`font-bold ${m.data.balance>=0?"text-green-600":"text-red-600"}`,children:f(m.data.balance)})]})]}):i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoría"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Array.isArray(m.data)&&m.data.map(x=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(x.date).toLocaleDateString("es-MX")}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.category}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-xs truncate",children:x.description}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsx("span",{className:x.type==="income"?"text-green-600":"text-red-600",children:f(x.amount)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g(x.status)}`,children:w(x.status)})})]},x.id))})]}),Array.isArray(m.data)&&m.data.length===0&&i.jsxs("div",{className:"text-center py-12 text-gray-500",children:[i.jsx("p",{children:"No hay datos disponibles para el período seleccionado"}),i.jsx("p",{className:"text-sm",children:"Intenta ajustar el rango de fechas o el tipo de reporte"})]})]})]})]})},rve=()=>{const[e,t]=L.useState("dashboard"),[r,n]=L.useState(!1),[a,s]=L.useState(null),o=[{id:"dashboard",name:"Panel",icon:tP},{id:"transactions",name:"Transacciones",icon:aF},{id:"invoices",name:"Facturas",icon:Yr},{id:"budgets",name:"Presupuestos",icon:dx},{id:"reports",name:"Reportes",icon:C2}],l=d=>{s(d),n(!0)},c=()=>{n(!1),s(null)},u=()=>{switch(e){case"dashboard":return i.jsx($C,{});case"transactions":return i.jsx(Qge,{onEditTransaction:l});case"invoices":return i.jsx(Zge,{});case"budgets":return i.jsx(eve,{});case"reports":return i.jsx(tve,{});default:return i.jsx($C,{})}};return i.jsx(D5,{children:i.jsxs("div",{className:"min-h-screen bg-gray-100",children:[i.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsx("div",{className:"flex space-x-8",children:o.map(d=>{const f=d.icon;return i.jsxs("button",{onClick:()=>t(d.id),className:`flex items-center space-x-2 px-3 py-2 rounded-md text-sm font-medium transition-colors ${e===d.id?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(f,{className:"w-4 h-4"}),i.jsx("span",{children:d.name})]},d.id)})}),e==="transactions"&&i.jsxs("button",{onClick:()=>n(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[i.jsx(cr,{className:"w-4 h-4"}),i.jsx("span",{children:"Agregar Transacción"})]})]})})}),i.jsx("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:u()}),i.jsx(Jge,{isOpen:r,onClose:c,editTransaction:a})]})})},nve=()=>{const[e,t]=L.useState("dashboard"),[r,n]=L.useState("quotes"),[a,s]=L.useState({}),[o,l]=L.useState(null),{selectedProspect:c,selectProspect:u,prospects:d,quotes:f}=ia();if(window.location.pathname==="/auth/google/callback")return i.jsx(Fge,{});const h=(w,g)=>{if(t(w),w!=="quotes"&&n("quotes"),s(g||{}),g!=null&&g.prospectId&&g.showDetail){const x=d.find(S=>S.id===g.prospectId);x&&u(x)}if(g!=null&&g.quoteId&&g.showDetail){const S=[...f,...d.flatMap(j=>j.cotizaciones)].find(j=>j.id===g.quoteId);S&&s({...g,quote:S})}},m=()=>({dashboard:"Dashboard",prospects:"Gestión de Prospectos",kanban:"Embudo de Ventas",quotes:"Gestión de Cotizaciones",projects:"Gestión de Proyectos",finance:"Módulo de Finanzas",calendar:"Calendario",users:"Gestión de Usuarios",webhook:"Webhook Test",settings:"Configuración"})[e]||"CRM",y=()=>{var x;const w=[{id:"quotes",label:"Cotizaciones",component:Q4},{id:"catalog",label:"Catálogo",component:eU},{id:"templates",label:"Plantillas",component:tU}],g=((x=w.find(S=>S.id===r))==null?void 0:x.component)||Q4;return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"border-b",children:i.jsx("nav",{className:"flex space-x-4",children:w.map(S=>i.jsx("button",{onClick:()=>n(S.id),className:S.id===r?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700",children:S.label},S.id))})}),i.jsx(g,{navigationParams:a})]})},v=()=>{if(o)return i.jsx(Vge,{project:o,onClose:()=>l(null),onEdit:()=>console.log("Edit project",o.id)});if(c&&(e==="prospects"||e==="kanban"))return i.jsx(Y$,{});switch(e){case"dashboard":return i.jsx(j4,{onNavigate:h});case"prospects":return i.jsx(W$,{navigationParams:a});case"kanban":return i.jsx(V$,{});case"quotes":return y();case"projects":return i.jsx($ge,{onProjectSelect:l,onNewProject:()=>console.log("New project"),onNewClient:()=>console.log("New client")});case"finance":return i.jsx(rve,{});case"calendar":return i.jsx(Rge,{});case"users":return i.jsx(cP,{});case"webhook":return i.jsx(q$,{});case"settings":return i.jsx(J$,{navigationParams:a});default:return i.jsx(j4,{onNavigate:h})}};return i.jsxs("div",{className:"flex h-screen bg-gray-50",children:[i.jsx(OF,{activeView:e,onViewChange:h}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(TF,{title:m(),onNavigate:h}),i.jsx("main",{className:"flex-1 overflow-auto",children:v()})]})]})};function ave(){const[e,t]=L.useState(!1),r=()=>t(!0),n=()=>t(!1);return i.jsx(g_,{children:i.jsx(AF,{children:i.jsx(x_,{children:i.jsx(W_,{children:i.jsx(V_,{children:i.jsx(G_,{children:i.jsxs(D5,{children:[i.jsx(nve,{}),i.jsx("button",{onClick:r,className:`
                      fixed bottom-6 right-6
                      bg-green-600 hover:bg-green-700
                      text-white px-4 py-2 rounded-full
                      shadow-lg z-50
                    `,children:"+ Nuevo Prospecto"}),e&&i.jsx(lP,{onClose:n,onSuccess:()=>{console.log("Prospecto creado"),n()}})]})})})})})})})}J6(document.getElementById("root")).render(i.jsx(L.StrictMode,{children:i.jsx(rI,{children:i.jsx(g_,{children:i.jsx(x_,{children:i.jsx(W_,{children:i.jsx(V_,{children:i.jsx(G_,{children:i.jsx(D5,{children:i.jsx(ave,{})})})})})})})})}));export{Us as _,cs as c,Da as g};
